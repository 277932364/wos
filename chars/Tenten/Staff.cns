;---------------------------------------------------------------------------
; Podnoszenie
[Statedef 10001]
type    = C                      ;State-type: S-stand, C-crouch, A-air, L-liedown
movetype= I                      ;Move-type: A-attack, I-idle, H-gethit
physics = C                      ;Physics: S-stand, C-crouch, A-air
juggle  = 1                      ;Number of air juggle points move takes                                ;Commonly-used controllers:
velset = 0, 0                     ;Set velocity (x,y) (Def: no change)
ctrl = 0                         ;Set ctrl (Def: no change)
anim = 10001                       ;Change animation (Def: no change)
poweradd = 0                     ;Power to add (Def: 0)
sprpriority = 0                  ;Set p1's sprite layering priority to 2 (in front)

[State 200, 2]
type = ChangeState
trigger1 = AnimTime = 0
trigger2 = var(0) = 1
value = 11
ctrl = 1

;---------------------------------------------------------------------------
; Combo 1.1
[Statedef 10200]
type    = S                      ;State-type: S-stand, C-crouch, A-air, L-liedown
movetype= A                      ;Move-type: A-attack, I-idle, H-gethit
physics = S                      ;Physics: S-stand, C-crouch, A-air
juggle  = 1                      ;Number of air juggle points move takes                                ;Commonly-used controllers:
velset = 2, 0                     ;Set velocity (x,y) (Def: no change)
ctrl = 0                         ;Set ctrl (Def: no change)
anim = 10230                       ;Change animation (Def: no change)
poweradd = 20                     ;Power to add (Def: 0)
sprpriority = 2                  ;Set p1's sprite layering priority to 2 (in front)

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F8,0+random%4

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = S24,0+random%17

[State 200, 1]
type = HitDef
fall.yvelocity = -6
trigger1 = AnimElem = 2
attr = S, NA                     ;Attribute: Standing, Normal Attack
getpower = 0,0
givepower = 0,0
damage = 50,10                ;Damage that move inflicts, guard damage
animtype = Light                 ;Animation type: Light, Medium, Heavy, Back (def: Light)
guardflag = MA                   ;Flags on how move is to be guarded against
hitflag = MAF                    ;Flags of conditions that move can hit
priority = 3, Hit                ;Attack priority: 0 (least) to 7 (most), 4 default                                 ;Hit/Miss/Dodge type (Def: Hit)
pausetime = 0,2                 ;Time attacker pauses, time opponent shakes
sparkno = 0+random%4              
sparkxy = -15,-21                                    
hitsound = 35, 0+random%15;5, 21+random%5                 
guardsound = 6, 0                ;Sound to play on guard
ground.type = High               ;Type: High, Low, Trip (def: Normal)
ground.slidetime = 5             ;Time that the opponent slides back
ground.hittime  = 15             ;Time opponent is in hit state
ground.velocity = -4             ;Velocity at which opponent is pushed
airguard.velocity = -4,-.8     ;Guard velocity in air (def: (air.xvel*1.5, air.yvel/2))
air.type = High                  ;Type: High, Low, Trip (def: same as ground.type)
air.velocity = -1.4,-1           ;X-velocity at which opponent is pushed,
                                 ;Y-velocity at which opponent is pushed
air.hittime = 0  
envshake.time = 10
envshake.freq = 20
envshake.ampl = -5
envshake.phase = 10               ;Time before opponent regains control in air

[State 200, 2]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
; Combo 1.2
[Statedef 10210]
type    = S                      ;State-type: S-stand, C-crouch, A-air, L-liedown
movetype= A                      ;Move-type: A-attack, I-idle, H-gethit
physics = S                      ;Physics: S-stand, C-crouch, A-air
juggle  = 1                      ;Number of air juggle points move takes
ctrl = 0                         ;Set ctrl (Def: no change)
anim = 10240                       ;Change animation (Def: no change)
poweradd = 20                     ;Power to add (Def: 0)
sprpriority = 2

[State 0, Turn]
type = Turn
trigger1 = prevstateno = 10240 && time = 0

[State 0, VelSet]
type = VelSet
trigger1 = time = 0
x = 6

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F8,0+random%4

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = S24,0+random%17

[State 205, 1]
type = HitDef
fall.yvelocity = -6
trigger1 = AnimElem = 2
attr = S, NA                     ;Attribute: Standing, Normal Attack
damage = 50,10                   ;Damage that move inflicts, guard damage
animtype = Light                 ;Animation type: Light, Medium, Heavy, Back (def: Light)
guardflag = MA                   ;Flags on how move is to be guarded against
hitflag = MAF                    ;Flags of conditions that move can hit
priority = 3, Hit                ;Attack priority: 0 (least) to 7 (most), 4 default
                                 ;Hit/Miss/Dodge type (Def: Hit)
pausetime = 0,2                 ;Time attacker pauses, time opponent shakes
sparkno = 0+random%4              
sparkxy = -15,-29                                      
hitsound = 35, 0+random%15;5, 21+random%5                 
guardsound = 6, 0                ;Sound to play on guard
ground.type = High               ;Type: High, Low, Trip (def: Normal)
ground.slidetime = 5             ;Time that the opponent slides back
ground.hittime  = 30             ;Time opponent is in hit state
ground.velocity = -5             ;Velocity at which opponent is pushed
airguard.velocity = 2,-0.5     ;Guard velocity in air (def: (air.xvel*1.5, air.yvel/2))
air.type = High                  ;Type: High, Low, Trip (def: same as ground.type)
air.velocity = -5,-0.5          ;X-velocity at which opponent is pushed,
                                 ;Y-velocity at which opponent is pushed
air.hittime = 30  
envshake.time = 10
envshake.freq = 20
envshake.ampl = -5
envshake.phase = 10               ;Time before opponent regains control in air

[State 205, 2]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
; Combo 1.3
[Statedef 10220]
type    = S                      ;State-type: S-stand, C-crouch, A-air, L-liedown
movetype= A                      ;Move-type: A-attack, I-idle, H-gethit
physics = S                      ;Physics: S-stand, C-crouch, A-air
juggle  = 1                      ;Number of air juggle points move takes
velset = 5,0                     ;Set velocity (x,y) (Def: no change)
ctrl = 0                         ;Set ctrl (Def: no change)
anim = 10250                       ;Change animation (Def: no change)
poweradd = 20                     ;Power to add (Def: 0)
sprpriority = 2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F8,0+random%4

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = S24,0+random%17

[State 205, 1]
type = HitDef
fall.yvelocity = -6
trigger1 = AnimElem = 4
trigger2 = AnimElem = 3
attr = S, NA                     ;Attribute: Standing, Normal Attack
damage = 75,15                     ;Damage that move inflicts, guard damage
animtype = Light                 ;Animation type: Light, Medium, Heavy, Back (def: Light)
guardflag = MA                   ;Flags on how move is to be guarded against
hitflag = MAF                    ;Flags of conditions that move can hit
priority = 3, Hit                ;Attack priority: 0 (least) to 7 (most), 4 default
                                 ;Hit/Miss/Dodge type (Def: Hit)
pausetime = 0,2                 ;Time attacker pauses, time opponent shakes
sparkno = 0+random%4              
sparkxy = -15,-40                                      
hitsound = 35, 0+random%15;5, 21+random%5                 
guardsound = 6, 0                 ;Sound to play on guard
ground.type = High               ;Type: High, Low, Trip (def: Normal)
ground.slidetime = 5             ;Time that the opponent slides back
ground.hittime  = 30             ;Time opponent is in hit state
ground.velocity = cond(prevstateno = 10230,-2,-6),cond(prevstateno = 10230,0,-1)         ;Velocity at which opponent is pushed
air.type = High                  ;Type: High, Low, Trip (def: same as ground.type)
air.velocity = cond(prevstateno = 10230,-2,-6),cond(prevstateno = 10230,0,-1)       ;X-velocity at which opponent is pushed,
fall = cond(prevstateno = 10230,0,1)
fall.recover = 0                                 ;Y-velocity at which opponent is pushed
air.hittime = 30
envshake.time = 10
envshake.freq = 20
envshake.ampl = -5
envshake.phase = 10                 ;Time before opponent regains control in air

[State 205, 2]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
; Combo 2.1
[Statedef 10230]
type    = S                      ;State-type: S-stand, C-crouch, A-air, L-liedown
movetype= A                      ;Move-type: A-attack, I-idle, H-gethit
physics = S                      ;Physics: S-stand, C-crouch, A-air
juggle  = 1                      ;Number of air juggle points move takes                                ;Commonly-used controllers:
velset = 0, 0                     ;Set velocity (x,y) (Def: no change)
ctrl = 0                         ;Set ctrl (Def: no change)
anim = 10200                       ;Change animation (Def: no change)
poweradd = 20                     ;Power to add (Def: 0)
sprpriority = 2                  ;Set p1's sprite layering priority to 2 (in front)

[State 0, VelSet]
type = VelSet
trigger1 = animelem = 2
x = 4

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F8,0+random%4

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = S24,0+random%17

[State 200, 1]
type = HitDef
fall.yvelocity = -6
trigger1 = AnimElem = 2
trigger2 = AnimElem = 3
trigger3 = AnimElem = 4
attr = S, NA                     ;Attribute: Standing, Normal Attack
damage = 20,4                 ;Damage that move inflicts, guard damage
animtype = Light                 ;Animation type: Light, Medium, Heavy, Back (def: Light)
guardflag = MA                   ;Flags on how move is to be guarded against
hitflag = MAF                    ;Flags of conditions that move can hit
priority = 3, Hit                ;Attack priority: 0 (least) to 7 (most), 4 default                                 ;Hit/Miss/Dodge type (Def: Hit)
pausetime = 0,2                 ;Time attacker pauses, time opponent shakes
sparkno = 0+random%4              
sparkxy = -15,-30                                      
hitsound = 35, 0+random%15;5, 21+random%5                 
guardsound = 6, 0                 ;Sound to play on guard
ground.type = High               ;Type: High, Low, Trip (def: Normal)
ground.slidetime = 5             ;Time that the opponent slides back
ground.hittime  = 15             ;Time opponent is in hit state
ground.velocity = -2             ;Velocity at which opponent is pushed
airguard.velocity = -2,-.8     ;Guard velocity in air (def: (air.xvel*1.5, air.yvel/2))
air.type = High                  ;Type: High, Low, Trip (def: same as ground.type)
air.velocity = -1.4,-1           ;X-velocity at which opponent is pushed,
                                 ;Y-velocity at which opponent is pushed
air.hittime = 0 
envshake.time = 10
envshake.freq = 20
envshake.ampl = -5
envshake.phase = 10                ;Time before opponent regains control in air

[State 200, 2]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;---------------------------------------------------------------------------
; Combo 2.2
[Statedef 10240]
type    = S                      ;State-type: S-stand, C-crouch, A-air, L-liedown
movetype= A                      ;Move-type: A-attack, I-idle, H-gethit
physics = S                      ;Physics: S-stand, C-crouch, A-air
juggle  = 1                      ;Number of air juggle points move takes
velset = 0,0                     ;Set velocity (x,y) (Def: no change)
ctrl = 0                         ;Set ctrl (Def: no change)
anim = 10210                       ;Change animation (Def: no change)
poweradd = 20                     ;Power to add (Def: 0)
sprpriority = 2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F8,0+random%4

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = S24,0+random%17

[State 205, 1]
type = HitDef
fall.yvelocity = -6
trigger1 = AnimElem = 2
trigger2 = AnimElem = 3
attr = S, NA                     ;Attribute: Standing, Normal Attack
damage = 30,6                 ;Damage that move inflicts, guard damage
animtype = Light                 ;Animation type: Light, Medium, Heavy, Back (def: Light)
guardflag = MA                   ;Flags on how move is to be guarded against
hitflag = MAF                    ;Flags of conditions that move can hit
priority = 3, Hit                ;Attack priority: 0 (least) to 7 (most), 4 default
                                 ;Hit/Miss/Dodge type (Def: Hit)
pausetime = 0,2                 ;Time attacker pauses, time opponent shakes

sparkno = 0+random%4              
sparkxy = -15,-29                                      
hitsound = 35, 0+random%15;5, 21+random%5                 
guardsound = 6, 0                 ;Sound to play on guard
ground.type = High               ;Type: High, Low, Trip (def: Normal)
ground.slidetime = 5             ;Time that the opponent slides back
ground.hittime  = 30             ;Time opponent is in hit state
ground.velocity = -5             ;Velocity at which opponent is pushed
airguard.velocity = -2,-0.5     ;Guard velocity in air (def: (air.xvel*1.5, air.yvel/2))
air.type = High                  ;Type: High, Low, Trip (def: same as ground.type)
air.velocity = -5,-0.5          ;X-velocity at which opponent is pushed,
                                 ;Y-velocity at which opponent is pushed
air.hittime = 30   
envshake.time = 10
envshake.freq = 20
envshake.ampl = -5
envshake.phase = 10              ;Time before opponent regains control in air

[State 205, 2]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
; Combo 3.1
[Statedef 10250]
type    = S                      ;State-type: S-stand, C-crouch, A-air, L-liedown
movetype= A                      ;Move-type: A-attack, I-idle, H-gethit
physics = S                      ;Physics: S-stand, C-crouch, A-air
juggle  = 1                      ;Number of air juggle points move takes                                ;Commonly-used controllers:
velset = 0, 0                     ;Set velocity (x,y) (Def: no change)
ctrl = 0                         ;Set ctrl (Def: no change)
anim = 10200                       ;Change animation (Def: no change)
poweradd = 20                     ;Power to add (Def: 0)
sprpriority = 2                  ;Set p1's sprite layering priority to 2 (in front)

[State 0, VelSet]
type = VelSet
trigger1 = animelem = 2
x = 3

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F8,0+random%4

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = S24,0+random%17

[State 200, 1]
type = HitDef
fall.yvelocity = -6
trigger1 = AnimElem = 2
trigger2 = AnimElem = 3
trigger3 = AnimElem = 4
attr = S, NA                     ;Attribute: Standing, Normal Attack
damage = 20,4                    ;Damage that move inflicts, guard damage
animtype = Light                 ;Animation type: Light, Medium, Heavy, Back (def: Light)
guardflag = MA                   ;Flags on how move is to be guarded against
hitflag = MAF                    ;Flags of conditions that move can hit
priority = 3, Hit                ;Attack priority: 0 (least) to 7 (most), 4 default                                 ;Hit/Miss/Dodge type (Def: Hit)
pausetime = 0,2                 ;Time attacker pauses, time opponent shakes
sparkno = 0+random%4              
sparkxy = -15,-30                                    
hitsound = 35, 0+random%15;5, 21+random%5                 
guardsound = 6, 0                 ;Sound to play on guard
ground.type = High               ;Type: High, Low, Trip (def: Normal)
ground.slidetime = 5             ;Time that the opponent slides back
ground.hittime  = 15             ;Time opponent is in hit state
ground.velocity = -2             ;Velocity at which opponent is pushed
airguard.velocity = -2,-.8     ;Guard velocity in air (def: (air.xvel*1.5, air.yvel/2))
air.type = High                  ;Type: High, Low, Trip (def: same as ground.type)
air.velocity = -1.4,-1           ;X-velocity at which opponent is pushed,
                                 ;Y-velocity at which opponent is pushed
air.hittime = 0 
envshake.time = 10
envshake.freq = 20
envshake.ampl = -5
envshake.phase = 10                ;Time before opponent regains control in air

[State 200, 2]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
; Combo 3.2
[Statedef 10260]
type    = S                      ;State-type: S-stand, C-crouch, A-air, L-liedown
movetype= A                      ;Move-type: A-attack, I-idle, H-gethit
physics = S                      ;Physics: S-stand, C-crouch, A-air
juggle  = 1                      ;Number of air juggle points move takes
velset = 0,0                     ;Set velocity (x,y) (Def: no change)
ctrl = 0                         ;Set ctrl (Def: no change)
anim = 10210                       ;Change animation (Def: no change)
poweradd = 20                     ;Power to add (Def: 0)
sprpriority = 2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F8,0+random%4

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = S24,0+random%17

[State 205, 1]
type = HitDef
fall.yvelocity = -6
trigger1 = AnimElem = 2
trigger2 = AnimElem = 3
attr = S, NA                     ;Attribute: Standing, Normal Attack
damage = 30,6                  ;Damage that move inflicts, guard damage
animtype = Light                 ;Animation type: Light, Medium, Heavy, Back (def: Light)
guardflag = MA                   ;Flags on how move is to be guarded against
hitflag = MAF                    ;Flags of conditions that move can hit
priority = 3, Hit                ;Attack priority: 0 (least) to 7 (most), 4 default
                                 ;Hit/Miss/Dodge type (Def: Hit)
pausetime = 0,2                 ;Time attacker pauses, time opponent shakes

sparkno = 0+random%4              
sparkxy = -15,-29                                      
hitsound = 35, 0+random%15;5, 21+random%5                 
guardsound = 6, 0                 ;Sound to play on guard
ground.type = High               ;Type: High, Low, Trip (def: Normal)
ground.slidetime = 5             ;Time that the opponent slides back
ground.hittime  = 30             ;Time opponent is in hit state
ground.velocity = -5             ;Velocity at which opponent is pushed
airguard.velocity = -2,-0.5     ;Guard velocity in air (def: (air.xvel*1.5, air.yvel/2))
air.type = High                  ;Type: High, Low, Trip (def: same as ground.type)
air.velocity = -5,-0.5          ;X-velocity at which opponent is pushed,
                                 ;Y-velocity at which opponent is pushed
air.hittime = 30 
envshake.time = 10
envshake.freq = 20
envshake.ampl = -5
envshake.phase = 10                ;Time before opponent regains control in air

[State 205, 2]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
; Combo 3.3
[Statedef 10270]
type    = S                      ;State-type: S-stand, C-crouch, A-air, L-liedown
movetype= A                      ;Move-type: A-attack, I-idle, H-gethit
physics = S                      ;Physics: S-stand, C-crouch, A-air
juggle  = 1                      ;Number of air juggle points move takes
velset = 8,0                     ;Set velocity (x,y) (Def: no change)
ctrl = 0                         ;Set ctrl (Def: no change)
anim = 10220                       ;Change animation (Def: no change)
poweradd = 20                     ;Power to add (Def: 0)
sprpriority = 2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F8,0+random%4

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = S24,0+random%17

[State 0, VelSet]
type = VelSet
trigger1 = animelem = 6
y = -7

[State 0, StateTypeSet]
type = StateTypeSet
trigger1 = animelem = 6
statetype = A       ;S,A,C,L
movetype = A       ;I,A,H
physics = A         ;A,C,S,N

[State 205, 1]
type = HitDef
fall.yvelocity = -6
trigger1 = AnimElem = 4
trigger2 = AnimElem = 5
trigger3 = AnimElem = 6
attr = S, NA                     ;Attribute: Standing, Normal Attack
damage = 20,4                   ;Damage that move inflicts, guard damage
animtype = Light                 ;Animation type: Light, Medium, Heavy, Back (def: Light)
guardflag = MA                   ;Flags on how move is to be guarded against
hitflag = MAF                    ;Flags of conditions that move can hit
priority = 3, Hit                ;Attack priority: 0 (least) to 7 (most), 4 default
                                 ;Hit/Miss/Dodge type (Def: Hit)
pausetime = 0,2                 ;Time attacker pauses, time opponent shakes
sparkno = 0+random%4              
sparkxy = -15,-45                                     
hitsound = 35, 0+random%15;5, 21+random%5                 
guardsound = 6, 0                ;Sound to play on guard
ground.type = High               ;Type: High, Low, Trip (def: Normal)
ground.slidetime = 5             ;Time that the opponent slides back
ground.hittime  = 30             ;Time opponent is in hit state
ground.velocity = -vel x-1,vel y - 2         ;Velocity at which opponent is pushed
air.type = High                  ;Type: High, Low, Trip (def: same as ground.type)
air.velocity = -vel x-1,vel y - 2        ;X-velocity at which opponent is pushed,
fall = 1
fall.recover = 0                                 ;Y-velocity at which opponent is pushed
air.hittime = 30  
envshake.time = 10
envshake.freq = 20
envshake.ampl = -5
envshake.phase = 10               ;Time before opponent regains control in air

[State 205, 2]
type = ChangeState
trigger1 = AnimTime = 0
value = 50
ctrl = 1

;---------------------------------------------------------------------------
; Combo 4.1
[Statedef 10280]
type    = S                      ;State-type: S-stand, C-crouch, A-air, L-liedown
movetype= A                      ;Move-type: A-attack, I-idle, H-gethit
physics = S                      ;Physics: S-stand, C-crouch, A-air
juggle  = 1                      ;Number of air juggle points move takes                                ;Commonly-used controllers:
velset = 5, 0                     ;Set velocity (x,y) (Def: no change)
ctrl = 0                         ;Set ctrl (Def: no change)
anim = 10230                       ;Change animation (Def: no change)
poweradd = 20                     ;Power to add (Def: 0)
sprpriority = 2                  ;Set p1's sprite layering priority to 2 (in front)


[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F8,0+random%4

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = S24,0+random%17

[State 200, 1]
type = HitDef
fall.yvelocity = -6
trigger1 = AnimElem = 2
attr = S, NA                     ;Attribute: Standing, Normal Attack
damage = 50,10                 ;Damage that move inflicts, guard damage
animtype = Light                 ;Animation type: Light, Medium, Heavy, Back (def: Light)
guardflag = MA                   ;Flags on how move is to be guarded against
hitflag = MAF                    ;Flags of conditions that move can hit
priority = 3, Hit                ;Attack priority: 0 (least) to 7 (most), 4 default                                 ;Hit/Miss/Dodge type (Def: Hit)
pausetime = 0,2                 ;Time attacker pauses, time opponent shakes
sparkno = 0+random%4              
sparkxy = -15,-20                                      
hitsound = 35, 0+random%15;5, 21+random%5                 
guardsound = 6, 0                ;Sound to play on guard
ground.type = High               ;Type: High, Low, Trip (def: Normal)
ground.slidetime = 5             ;Time that the opponent slides back
ground.hittime  = 15             ;Time opponent is in hit state
ground.velocity = -3             ;Velocity at which opponent is pushed
airguard.velocity = -3,-.8     ;Guard velocity in air (def: (air.xvel*1.5, air.yvel/2))
air.type = High                  ;Type: High, Low, Trip (def: same as ground.type)
air.velocity = -3,-1           ;X-velocity at which opponent is pushed,
                                 ;Y-velocity at which opponent is pushed
air.hittime = 0    
envshake.time = 10
envshake.freq = 20
envshake.ampl = -5
envshake.phase = 10             ;Time before opponent regains control in air

[State 200, 2]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
; Combo 4.2
[Statedef 10290]
type    = S
movetype= A
physics = S
juggle  = 3
velset = 4,0
ctrl = 0
anim = 10290
poweradd = 20
sprpriority = 2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F8,0+random%4

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = S24,0+random%17

[State 230, 2]
type = HitDef
fall.yvelocity = -6
trigger1 = AnimElem = 2 
attr = S, NA
damage = 50,10   
animtype = Up
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 4,4
sparkno = 0+random%4              
sparkxy = -15,-52                                      
hitsound = 35, 0+random%15;5, 21+random%5                 
guardsound = 6, 0 
ground.type = High
ground.slidetime = 4
ground.hittime  = 12
ground.velocity = 0, -10
airguard.velocity = 0,-4
air.type = High
air.velocity = 0,-10
air.hittime = 16
envshake.time = 10
envshake.freq = 20
envshake.ampl = -5
envshake.phase = 10
fall = 1
fall.recover = 0
fall.damage = 10

[State 230, 4]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;---------------------------------------------------------------------------
; Combo 4.3
[StateDef 10300]
type = S
movetype = A
physics = S
anim = 10310
ctrl = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F8,0+random%4

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 4
value = F8,0+random%4

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = S24,0+random%17

[State 0, Helper]
type = Helper
trigger1 = animelem = 2
helpertype = normal ;player
name = "staff"
ID = 10000
stateno = 10301
pos = 0,-42
postype = p1    ;p2,front,back,left,right
facing = 1
ownpal = 1

[State 0, DestroySelf]
type = changestate
trigger1 = animtime = 0
value = 11
ctrl = 1

;---------------------------------------------------------------------------
;Staff
[StateDef 10301]
movetype = A
anim = 10311
velset = 0, -10

[State 200, 1]
type = HitDef
fall.yvelocity = -6
trigger1 = timemod = 3,0 && vel y < 0
attr = S, NA                     ;Attribute: Standing, Normal Attack
damage = 20,4
getpower = 0,0
givepower = 0,0                ;Damage that move inflicts, guard damage
animtype = Light                 ;Animation type: Light, Medium, Heavy, Back (def: Light)
guardflag = MA                   ;Flags on how move is to be guarded against
hitflag = MAF                    ;Flags of conditions that move can hit
priority = 3, Hit                ;Attack priority: 0 (least) to 7 (most), 4 default                                 ;Hit/Miss/Dodge type (Def: Hit)
pausetime = 0,3                 ;Time attacker pauses, time opponent shakes
sparkno = 0+random%4              
sparkxy = -25+random%50,-15+random%30                                      
hitsound = 35, 0+random%15;5, 21+random%5                 
guardsound = 6, 0                 ;Sound to play on guard
ground.type = High               ;Type: High, Low, Trip (def: Normal)
ground.slidetime = 1            ;Time that the opponent slides back
ground.hittime  = 5             ;Time opponent is in hit state
ground.velocity = 0,vel y             ;Velocity at which opponent is pushed
airguard.velocity = -3,-3    ;Guard velocity in air (def: (air.xvel*1.5, air.yvel/2))
air.type = High                  ;Type: High, Low, Trip (def: same as ground.type)
air.velocity = 0,vel y          ;X-velocity at which opponent is pushed,
                                ;Y-velocity at which opponent is pushed
air.hittime = 5
envshake.time = 10
envshake.freq = 20
envshake.ampl = -5
envshake.phase = 10

[State 200, 1]
type = HitDef
fall.yvelocity = -6
trigger1 = timemod = 3,0 && vel y > 0
attr = S, NA                     ;Attribute: Standing, Normal Attack
damage = 20,4   
getpower = 0,0
givepower = 0,0              ;Damage that move inflicts, guard damage
animtype = Light                 ;Animation type: Light, Medium, Heavy, Back (def: Light)
guardflag = MA                   ;Flags on how move is to be guarded against
hitflag = MAF                    ;Flags of conditions that move can hit
priority = 3, Hit                ;Attack priority: 0 (least) to 7 (most), 4 default                                 ;Hit/Miss/Dodge type (Def: Hit)
pausetime = 2,1                 ;Time attacker pauses, time opponent shakes
sparkno = 0+random%4              
sparkxy = -15+random%50,-15+random%30                                      
hitsound = 35, 0+random%15;5, 21+random%5                 
guardsound = 6, 0                      ;Sound to play on guard
ground.type = High               ;Type: High, Low, Trip (def: Normal)
ground.slidetime = 1            ;Time that the opponent slides back
ground.hittime  = 5             ;Time opponent is in hit state
ground.velocity = -6,-2           ;Velocity at which opponent is pushed
airguard.velocity = -3,-1    ;Guard velocity in air (def: (air.xvel*1.5, air.yvel/2))
air.type = High                  ;Type: High, Low, Trip (def: same as ground.type)
air.velocity = -6,-2          ;X-velocity at which opponent is pushed,
                                ;Y-velocity at which opponent is pushed
air.hittime = 5
envshake.time = 10
envshake.freq = 20
envshake.ampl = -5
envshake.phase = 10

[State 0, Gravity]
type = Gravity
trigger1 = time > 5

[State 0, ChangeState]
type = destroyself
trigger1 = (parent, pos y - pos y) = [-40,40]
trigger1 = (parent, pos x - pos x) = [-10,10]
trigger1 = parent, stateno = 10310

[State 0, VelSet]
type = VelSet
trigger1 = pos y > -9
y = 0

[State 270, ChangeState]
type = ChangeState
trigger1 = pos y > -9
value = 10502
ctrl = 0

;---------------------------------------------------------------------------
; Combo 5.1
[Statedef 10310]
type    = S
movetype= A
physics = S
juggle  = 3
velset = 4,0
ctrl = 0
anim = 10290
poweradd = 20
sprpriority = 2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F8,0+random%4

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = S24,0+random%17

[State 230, 2]
type = HitDef
fall.yvelocity = -6
trigger1 = AnimElem = 2
attr = S, NA
getpower = 0,0
givepower = 0,0
damage = 50,10  
animtype = Up
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 0,4
sparkno = 0+random%4              
sparkxy = -15,-45                                      
hitsound = 35, 0+random%15;5, 21+random%5                 
guardsound = 6, 0 
ground.type = High
ground.slidetime = 4
ground.hittime  = 12
ground.velocity = -1, -8.5
airguard.velocity = -2,-4
air.type = High
air.velocity = -1.5,-8.5
air.hittime = 16
fall = 1
fall.recover = 0
fall.damage = 10
envshake.time = 10
envshake.freq = 20
envshake.ampl = -5
envshake.phase = 10

[State 230, 4]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
; Combo 6.1
[Statedef 10320]
type    = A
movetype= A
physics = S
juggle  = 2
ctrl = 0
anim = 10330
poweradd = 20
velset = 4,0
sprpriority = 1

[State 0, Lee]
type = Explod
ownpal = 1
trigger1 = time = 6
anim = 186
ID = 186
pos = 28,15
postype = p1  ;p2,front,back,left,right
facing = 1
sprpriority = 3
scale = 0.7,0.7
removetime = 30

[State 0, VelSet]
type = Veladd
trigger1 = time = 0
y = -2.2
x = 2

[State 0, VelSet]
type = VelSet
trigger1 = time > 5
x = 0
y = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = F8,0+random%4

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 4
value = S24,0+random%17

[State 220, 1]
type = HitDef
fall.yvelocity = -6
trigger1 = AnimElem = 4
attr = C,HP
damage = 50,10
animtype = Heavy
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 1, 4
sparkno = 0+random%4              
sparkxy = -15,-33                                      
hitsound = 35, 0+random%15;5, 21+random%5                 
guardsound = 6, 0 
ground.type = High
ground.slidetime = 5
ground.hittime  = 20
ground.velocity = -10,-6
airguard.velocity = -1.9,-.8
air.type = High
air.velocity = -10,-6
air.hittime = 15
envshake.time = 10
envshake.freq = 20
envshake.ampl = -5
envshake.phase = 10
fall = 1
p2stateno = 109990
fall.recover = 0
getpower = 0

[State 0, VelSet]
type = VelSet
trigger1 = AnimTime = 0
x = -4
y = 0

[State 220, 4]
type = ChangeState
trigger1 = AnimTime = 0
value = 50
ctrl = 1

;---------------------------------------------------------------------------
;Combo 6.2
[StateDef 10330]
type    = A
movetype= A
physics = A
juggle  = 2
poweradd= 20
ctrl = 0
anim = 10280

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F8,0+random%4

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = S24,0+random%17

[State 0, VelSet]
type = VelSet
trigger1 = time = 0
x = 2
y = -2

[State 0, VelSet]
type = VelSet
trigger1 = prevstateno = 10320
trigger1 = time = 0
x = 6
y = -4

[State 270,***]
type = AssertSpecial
trigger1 =1
flag = noautoturn

[State 270, 1]
type = HitDef
fall.yvelocity = -6
trigger1 = AnimElem = 4
trigger2 = AnimElem = 3
attr = S, NA
damage = cond(prevstateno = 10320,50,40), 10
animtype = Light
getpower = 0,0
givepower = 0,0
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 5, 2
sparkno = 0+random%4              
sparkxy = -15,-20                                      
hitsound = 35, 0+random%15;5, 21+random%5                 
guardsound = 6, 0 
ground.type = High
ground.slidetime = 5
ground.hittime  = 30
ground.velocity = -3,8
airguard.velocity = -3,8
air.type = High
air.velocity = -3,8
air.hittime = 30
envshake.time = 10
envshake.freq = 20
envshake.ampl = -5
envshake.phase = 10
fall = 1
fall.damage = 5
fall.recover = 0
fall.envshake.ampl = 5
fall.envshake.freq = 50
fall.envshake.time = 20

[State 270, ChangeState]
type = ChangeState
trigger1 = animtime = 0
value = 50
ctrl = 1

;---------------------------------------------------------------------------
; Air Combo 1.1
[StateDef 10340]
type    = A
movetype= A
physics = A
juggle  = 2
poweradd= 20
ctrl = 0
anim = 10260

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F8,0+random%4

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = S24,0+random%17

[State 270,***]
type = AssertSpecial
trigger1 =1
flag = noautoturn

[State 270, 1]
type = HitDef
fall.yvelocity = -6
trigger1 = AnimElem = 2
trigger2 = AnimElem = 3
trigger3 = AnimElem = 4
attr = S, NA
damage = 20,4  
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 0, 2
sparkno = 0+random%4              
sparkxy = -15,-32                                      
hitsound = 35, 0+random%15;5, 21+random%5                 
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 30
ground.velocity = -3,2
airguard.velocity = -3,2
air.type = High
air.velocity = -3,2
air.hittime = 30
envshake.time = 10
envshake.freq = 20
envshake.ampl = -5
envshake.phase = 10

[State 270, ChangeState]
type = ChangeState
trigger1 = animtime = 0
value = 50
ctrl = 1
;---------------------------------------------------------------------------
; Air Combo 1.2
[StateDef 10350]
type    = A
movetype= A
physics = A
juggle  = 2
poweradd= 20
ctrl = 0
anim = 10270

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F8,0+random%4

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = S24,0+random%17

[State 0, VelSet]
type = VelSet
trigger1 = time = 0
x = 3
y = -2

[State 0, VelSet]
type = VelSet
trigger1 = movehit
x = -4
y = -1

[State 270,***]
type = AssertSpecial
trigger1 =1
flag = noautoturn

[State 270, 1]
type = HitDef
fall.yvelocity = -6
trigger1 = AnimElem = 2
trigger2 = AnimElem = 3
trigger3 = AnimElem = 4
attr = S, NA
damage = 20,4   
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 5, 2
sparkno = 0+random%4              
sparkxy = -15,-10                                      
hitsound = 35, 0+random%15;5, 21+random%5                 
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 30
ground.velocity = -7,4
airguard.velocity = -1,1
air.type = High
air.velocity = -7,4
air.hittime = 30
envshake.time = 10
envshake.freq = 20
envshake.ampl = -5
envshake.phase = 10
fall = 1
fall.recover = 0

[State 270, ChangeState]
type = ChangeState
trigger1 = animtime = 0
value = 50
ctrl = 1

;---------------------------------------------------------------------------
; Combo 7.1
[Statedef 10360]
type    = S                      ;State-type: S-stand, C-crouch, A-air, L-liedown
movetype= A                      ;Move-type: A-attack, I-idle, H-gethit
physics = S                      ;Physics: S-stand, C-crouch, A-air
juggle  = 1                      ;Number of air juggle points move takes                                ;Commonly-used controllers:
velset = 4, 0                     ;Set velocity (x,y) (Def: no change)
ctrl = 0                         ;Set ctrl (Def: no change)
anim = 10340                       ;Change animation (Def: no change)
poweradd = 20                     ;Power to add (Def: 0)
sprpriority = 2                  ;Set p1's sprite layering priority to 2 (in front)

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = F8,0+random%4

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 5
value = S24,0+random%17

[State 200, 1]
type = HitDef
fall.yvelocity = -6
trigger1 = AnimElem = 3
trigger2 = AnimElem = 4
trigger3 = AnimElem = 5
attr = S, NA                     ;Attribute: Standing, Normal Attack
damage = 20,4                  ;Damage that move inflicts, guard damage
animtype = Light                 ;Animation type: Light, Medium, Heavy, Back (def: Light)
guardflag = MA                   ;Flags on how move is to be guarded against
hitflag = MAF                    ;Flags of conditions that move can hit
priority = 3, Hit                ;Attack priority: 0 (least) to 7 (most), 4 default                                 ;Hit/Miss/Dodge type (Def: Hit)
pausetime = 0,2                 ;Time attacker pauses, time opponent shakes
sparkno = 0+random%4              
sparkxy = -15,-20                                      
hitsound = 35, 0+random%15;5, 21+random%5                 
guardsound = 6, 0                 ;Sound to play on guard
ground.type = High               ;Type: High, Low, Trip (def: Normal)
ground.slidetime = 5             ;Time that the opponent slides back
ground.hittime  = 25             ;Time opponent is in hit state
ground.velocity = -2             ;Velocity at which opponent is pushed
airguard.velocity = -2,-.8     ;Guard velocity in air (def: (air.xvel*1.5, air.yvel/2))
air.type = High                  ;Type: High, Low, Trip (def: same as ground.type)
air.velocity = -1.4,-1           ;X-velocity at which opponent is pushed,
                                 ;Y-velocity at which opponent is pushed
air.hittime = 0  
envshake.time = 10
envshake.freq = 20
envshake.ampl = -5
envshake.phase = 10               ;Time before opponent regains control in air

[State 200, 2]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;---------------------------------------------------------------------------
; Combo 7.2
[Statedef 10370]
type    = S                      ;State-type: S-stand, C-crouch, A-air, L-liedown
movetype= A                      ;Move-type: A-attack, I-idle, H-gethit
physics = S                      ;Physics: S-stand, C-crouch, A-air
juggle  = 1                      ;Number of air juggle points move takes                                ;Commonly-used controllers:
velset = 6, 0                     ;Set velocity (x,y) (Def: no change)
ctrl = 0                         ;Set ctrl (Def: no change)
anim = 10350                       ;Change animation (Def: no change)
poweradd = 20                     ;Power to add (Def: 0)
sprpriority = 2                  ;Set p1's sprite layering priority to 2 (in front)

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F8,0+random%4

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = S24,0+random%17

[State 200, 1]
type = HitDef
fall.yvelocity = -6
trigger1 = AnimElem = 3
trigger2 = AnimElem = 4
attr = S, NA                     ;Attribute: Standing, Normal Attack
damage = 30,6                 ;Damage that move inflicts, guard damage
animtype = Light                 ;Animation type: Light, Medium, Heavy, Back (def: Light)
guardflag = MA                   ;Flags on how move is to be guarded against
hitflag = MAF                    ;Flags of conditions that move can hit
priority = 3, Hit                ;Attack priority: 0 (least) to 7 (most), 4 default                                 ;Hit/Miss/Dodge type (Def: Hit)
pausetime = 0,2                 ;Time attacker pauses, time opponent shakes
sparkno = 0+random%4              
sparkxy = -15,-45                                      
hitsound = 35, 0+random%15;5, 21+random%5                 
guardsound = 6, 0                 ;Sound to play on guard
ground.type = High               ;Type: High, Low, Trip (def: Normal)
ground.slidetime = 5             ;Time that the opponent slides back
ground.hittime  = 25             ;Time opponent is in hit state
ground.velocity = -2             ;Velocity at which opponent is pushed
airguard.velocity = -2,-.8     ;Guard velocity in air (def: (air.xvel*1.5, air.yvel/2))
air.type = High                  ;Type: High, Low, Trip (def: same as ground.type)
air.velocity = -1.4,-1           ;X-velocity at which opponent is pushed,
                                 ;Y-velocity at which opponent is pushed
air.hittime = 0 
envshake.time = 10
envshake.freq = 20
envshake.ampl = -5
envshake.phase = 10                ;Time before opponent regains control in air

[State 200, 2]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;---------------------------------------------------------------------------
; Combo 7.3
[Statedef 10380]
type    = S                      ;State-type: S-stand, C-crouch, A-air, L-liedown
movetype= A                      ;Move-type: A-attack, I-idle, H-gethit
physics = S                      ;Physics: S-stand, C-crouch, A-air
juggle  = 1                      ;Number of air juggle points move takes                                ;Commonly-used controllers:
velset = 7, 0                     ;Set velocity (x,y) (Def: no change)
ctrl = 0                         ;Set ctrl (Def: no change)
anim = 10360                       ;Change animation (Def: no change)
poweradd = 20                     ;Power to add (Def: 0)
sprpriority = 2                  ;Set p1's sprite layering priority to 2 (in front)

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F8,0+random%4

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = S24,0+random%17

[State 0, PlaySnd]
type = PlaySnd
trigger1 = timemod = 6,0
trigger1 = time < 24
value = S4,5

[State 200, 1]
type = HitDef
fall.yvelocity = -6
trigger1 = timemod = 3,2 && time <= 21
attr = S, NA                     ;Attribute: Standing, Normal Attack
damage = 30,6               ;Damage that move inflicts, guard damage
animtype = Light                 ;Animation type: Light, Medium, Heavy, Back (def: Light)
guardflag = MA                   ;Flags on how move is to be guarded against
hitflag = MAF                    ;Flags of conditions that move can hit
priority = 3, Hit                ;Attack priority: 0 (least) to 7 (most), 4 default                                 ;Hit/Miss/Dodge type (Def: Hit)
pausetime = 0,2                 ;Time attacker pauses, time opponent shakes
sparkno = 0+random%4              
sparkxy = -15,-15-random%50                                      
hitsound = 35, 0+random%15;5, 21+random%5                 
guardsound = 6, 0                ;Sound to play on guard
ground.type = High               ;Type: High, Low, Trip (def: Normal)
ground.slidetime = 5             ;Time that the opponent slides back
ground.hittime  = 25             ;Time opponent is in hit state
ground.velocity = -0.5             ;Velocity at which opponent is pushed
airguard.velocity = -0.5 ,0     ;Guard velocity in air (def: (air.xvel*1.5, air.yvel/2))
air.type = High                  ;Type: High, Low, Trip (def: same as ground.type)
air.velocity = -0.5 ,0           ;X-velocity at which opponent is pushed,
                                 ;Y-velocity at which opponent is pushed
air.hittime = 0    
envshake.time = 10
envshake.freq = 20
envshake.ampl = -5
envshake.phase = 10             ;Time before opponent regains control in air

[State 200, 1]
type = HitDef
fall.yvelocity = -6
trigger1 = time = 23
attr = S, NA                     ;Attribute: Standing, Normal Attack
getpower = 0,0
givepower = 0,0
damage = 10,3                ;Damage that move inflicts, guard damage
animtype = Light                 ;Animation type: Light, Medium, Heavy, Back (def: Light)
guardflag = MA                   ;Flags on how move is to be guarded against
hitflag = MAF                    ;Flags of conditions that move can hit
priority = 3, Hit                ;Attack priority: 0 (least) to 7 (most), 4 default                                 ;Hit/Miss/Dodge type (Def: Hit)
pausetime = 0,2                 ;Time attacker pauses, time opponent shakes
sparkno = 0+random%4              
sparkxy = -15,-15-random%50                                      
hitsound = 35, 0+random%15;5, 21+random%5                 
guardsound = 6, 0                ;Sound to play on guard
ground.type = High               ;Type: High, Low, Trip (def: Normal)
ground.slidetime = 5             ;Time that the opponent slides back
ground.hittime  = 25             ;Time opponent is in hit state
ground.velocity = -3,1             ;Velocity at which opponent is pushed
airguard.velocity = -3,1     ;Guard velocity in air (def: (air.xvel*1.5, air.yvel/2))
air.type = High                  ;Type: High, Low, Trip (def: same as ground.type)
air.velocity = -3,1           ;X-velocity at which opponent is pushed,
fall = 1
fall.recover = 0                                 ;Y-velocity at which opponent is pushed
air.hittime = 0                 ;Time before opponent regains control in air
down.velocity = -1,-6
envshake.time = 10
envshake.freq = 20
envshake.ampl = -5
envshake.phase = 10

[State 200, 2]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
; Combo 8.1
[Statedef 10390]
type    = S                      ;State-type: S-stand, C-crouch, A-air, L-liedown
movetype= A                      ;Move-type: A-attack, I-idle, H-gethit
physics = S                      ;Physics: S-stand, C-crouch, A-air
juggle  = 1                      ;Number of air juggle points move takes                                ;Commonly-used controllers:
velset = 3, 0                     ;Set velocity (x,y) (Def: no change)
ctrl = 0                         ;Set ctrl (Def: no change)
anim = 10390                       ;Change animation (Def: no change)
poweradd = 20                     ;Power to add (Def: 0)
sprpriority = 2                  ;Set p1's sprite layering priority to 2 (in front)

[State 0, PlaySnd]
type = PlaySnd
trigger1 = timemod = 6,0
trigger1 = time < 42
value = S4,5

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
value = F8,0+random%4

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = S24,0+random%17

[State 200, 1]
type = HitDef
fall.yvelocity = -6
trigger1 = timemod = 3,2 
attr = S, NA                     ;Attribute: Standing, Normal Attack
getpower = 0,0
givepower = 0,0
damage = 10,2               ;Damage that move inflicts, guard damage
animtype = Light                 ;Animation type: Light, Medium, Heavy, Back (def: Light)
guardflag = MA                   ;Flags on how move is to be guarded against
hitflag = MAF                    ;Flags of conditions that move can hit
priority = 3, Hit                ;Attack priority: 0 (least) to 7 (most), 4 default                                 ;Hit/Miss/Dodge type (Def: Hit)
pausetime = 0,2                 ;Time attacker pauses, time opponent shakes
sparkno = 0+random%4              
sparkxy = -10-random%30,-20-random%40                                      
hitsound = 35, 0+random%15;5, 21+random%5                 
guardsound = 6, 0               ;Sound to play on guard
ground.type = High               ;Type: High, Low, Trip (def: Normal)
ground.slidetime = 5             ;Time that the opponent slides back
ground.hittime  = 25             ;Time opponent is in hit state
ground.velocity = -0.5             ;Velocity at which opponent is pushed
airguard.velocity = -0.5 ,0     ;Guard velocity in air (def: (air.xvel*1.5, air.yvel/2))
air.type = High                  ;Type: High, Low, Trip (def: same as ground.type)
air.velocity = -0.5 ,0           ;X-velocity at which opponent is pushed,
                                 ;Y-velocity at which opponent is pushed
air.hittime = 0  
envshake.time = 10
envshake.freq = 20
envshake.ampl = -5
envshake.phase = 10               ;Time before opponent regains control in air


[State 200, 2]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
; Combo 8.2
[Statedef 10391]
type    = S
movetype= A
physics = S
juggle  = 3
velset = 4,0
ctrl = 0
anim = 10290
poweradd = 20
sprpriority = 2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F8,0+random%4

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = S24,0+random%17

[State 230, 2]
type = HitDef
fall.yvelocity = -6
trigger1 = AnimElem = 2
attr = S, NA
damage = 40,8   
animtype = Up
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 0,4
sparkno = 0+random%4              
sparkxy = -15,-50                                      
hitsound = 35, 0+random%15;5, 21+random%5                 
guardsound = 6, 0
ground.type = High
ground.slidetime = 4
ground.hittime  = 12
ground.velocity = 0, -10
airguard.velocity = 0,-5
air.type = High
air.velocity = 0,-8
air.hittime = 16
envshake.time = 10
envshake.freq = 20
envshake.ampl = -5
envshake.phase = 10
fall = 1
fall.recover = 0
fall.damage = 10

[State 230, 4]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
; Combo 8.3
[Statedef 10392]
type    = S                      ;State-type: S-stand, C-crouch, A-air, L-liedown
movetype= A                      ;Move-type: A-attack, I-idle, H-gethit
physics = S                      ;Physics: S-stand, C-crouch, A-air
juggle  = 1                      ;Number of air juggle points move takes                                ;Commonly-used controllers:
velset = 3, 0                     ;Set velocity (x,y) (Def: no change)
ctrl = 0                         ;Set ctrl (Def: no change)
anim = 10370                       ;Change animation (Def: no change)
poweradd = 20                     ;Power to add (Def: 0)
sprpriority = 2                  ;Set p1's sprite layering priority to 2 (in front)

[State 0, VelSet]
type = VelSet
trigger1 = animelem = 2
y = -7

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F8,0+random%4

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = S24,0+random%17

[State 0, StateTypeSet]
type = StateTypeSet
trigger1 = animelem = 2
statetype = A       ;S,A,C,L
movetype = A        ;I,A,H
physics = A         ;A,C,S,N

[State 200, 1]
type = HitDef
fall.yvelocity = -6
trigger1 = animelem = 2
trigger2 = animelem = 3
attr = S, NA                     ;Attribute: Standing, Normal Attack
getpower = 0,0
givepower = 0,0
damage = 30,6                   ;Damage that move inflicts, guard damage
animtype = Light                 ;Animation type: Light, Medium, Heavy, Back (def: Light)
guardflag = MA                   ;Flags on how move is to be guarded against
hitflag = MAF                    ;Flags of conditions that move can hit
priority = 3, Hit                ;Attack priority: 0 (least) to 7 (most), 4 default                                 ;Hit/Miss/Dodge type (Def: Hit)
pausetime = 0,2                 ;Time attacker pauses, time opponent shakes
sparkno = 0+random%4              
sparkxy = -15,-70                                      
hitsound = 35, 0+random%15;5, 21+random%5                 
guardsound = 6, 0                 ;Sound to play on guard
ground.type = High               ;Type: High, Low, Trip (def: Normal)
ground.slidetime = 5             ;Time that the opponent slides back
ground.hittime  = 25             ;Time opponent is in hit state
ground.velocity = 0,-8             ;Velocity at which opponent is pushed
airguard.velocity = 0 ,-4     ;Guard velocity in air (def: (air.xvel*1.5, air.yvel/2))
air.type = High                  ;Type: High, Low, Trip (def: same as ground.type)
air.velocity = 0,-8           ;X-velocity at which opponent is pushed,
fall = 1
fall.recover = 0                                 ;Y-velocity at which opponent is pushed
air.hittime = 0  
envshake.time = 10
envshake.freq = 20
envshake.ampl = -5
envshake.phase = 10               ;Time before opponent regains control in air

[State 200, 2]
type = ChangeState
trigger1 = AnimTime = 0
value = 50
ctrl = 1

;---------------------------------------------------------------------------
; Combo 8.4
[Statedef 10393]
type    = A                      ;State-type: S-stand, C-crouch, A-air, L-liedown
movetype= A                      ;Move-type: A-attack, I-idle, H-gethit
physics = A                      ;Physics: S-stand, C-crouch, A-air
juggle  = 1                      ;Number of air juggle points move takes                                ;Commonly-used controllers:
ctrl = 0                         ;Set ctrl (Def: no change)
anim = 10380                       ;Change animation (Def: no change)
poweradd = 20                     ;Power to add (Def: 0)
sprpriority = 2                  ;Set p1's sprite layering priority to 2 (in front)

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F8,0+random%4

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = S24,0+random%17

[State 0, PlaySnd]
type = PlaySnd
trigger1 = timemod = 6,4
trigger1 = time = [9,36]
value = S4,5

[State 0, VelSet]
type = VelSet
trigger1 = animelem = 3
y = -10
x = 0

[State 0, VelSet]
type = VelAdd
trigger1 = !movehit && time <= 36
y = -0.2
x = 0

[State 0, VelSet]
type = VelSet
trigger1 = movehit && time <= 36
y = 0

[State 200, 1]
type = HitDef
fall.yvelocity = -6
trigger1 = timemod = 3,0
attr = S, NA                     ;Attribute: Standing, Normal Attack
getpower = 0,0
givepower = 0,0
damage = 10,2               ;Damage that move inflicts, guard damage
animtype = Light                 ;Animation type: Light, Medium, Heavy, Back (def: Light)
guardflag = MA                   ;Flags on how move is to be guarded against
hitflag = MAF                    ;Flags of conditions that move can hit
priority = 3, Hit                ;Attack priority: 0 (least) to 7 (most), 4 default                                 ;Hit/Miss/Dodge type (Def: Hit)
pausetime = 0,2                 ;Time attacker pauses, time opponent shakes
sparkno = 0+random%4              
sparkxy = -20+random%40,-50-random%20                                     
hitsound = 35, 0+random%15;5, 21+random%5                 
guardsound = 6, 0                 ;Sound to play on guard
ground.type = High               ;Type: High, Low, Trip (def: Normal)
ground.slidetime = 5             ;Time that the opponent slides back
ground.hittime  = 25             ;Time opponent is in hit state
ground.velocity = 0,-0.5             ;Velocity at which opponent is pushed
airguard.velocity = 0 ,-0.5     ;Guard velocity in air (def: (air.xvel*1.5, air.yvel/2))
air.type = High                  ;Type: High, Low, Trip (def: same as ground.type)
air.velocity = 0,-0.5           ;X-velocity at which opponent is pushed,
fall = 1
fall.recover = 0                                 ;Y-velocity at which opponent is pushed
air.hittime = 0  
envshake.time = 10
envshake.freq = 20
envshake.ampl = -5
envshake.phase = 10               ;Time before opponent regains control in air

[State 200, 2]
type = ChangeState
trigger1 = AnimTime = 0
value = 50
ctrl = 1
;---------------------------------------------------------------------------
; Konoha kick
[Statedef 10400]
type    = S
movetype= A
physics = S
juggle  = 4
poweradd= 0
velset = 0,0
anim = 10320
ctrl = 0
sprpriority = 2


[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = F8,0+random%4

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 4
value = S24,0+random%17


[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 6
value = F8,0+random%4

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 7
value = S24,0+random%17

[State 310, 2]
type = Explod
trigger1 = time = 0
anim = F290
ID = 290
pos = 0,0
postype = p1
facing = 1
bindtime = 1
removetime = -2
sprpriority = 4
scale = 1.5,1.5

[State 1000,***]
type = AssertSpecial
trigger1 =1
flag = noautoturn

[State 1000, 4]
type = AfterImage
trigger1 =AnimElem = 1
time = 30
trans = add1
timegap = 1
framegap = 2
length = 8
palbright = 12,12,12
palcontrast = 225,225,225
palpostbright = 0,0,0
paladd = 0,0,0
palmul = 1,1,1

[State 1000, 5]
type = VelSet
trigger1 = AnimElem = 1
trigger2 = AnimElem = 5 && movecontact
x = 15
y = -1

[State 1000, 5]
type = HitDef
fall.yvelocity = -6
trigger1 = AnimElem = 4
attr = S, SA
getpower = 0,0
givepower = 0,0
animtype  = Hard
damage    = 30, 4
priority  = 6
guardflag = MA
pausetime = 15,18
sparkno = 0+random%4              
sparkxy = -15,-55                                     
hitsound = 35, 0+random%15;5, 21+random%5                 
guardsound = 6, 0 
ground.type = Low
ground.slidetime = 12
ground.hittime  = 15
ground.velocity = -4,-5
air.velocity = -4,-4


[State 1000, 6]
type = HitDef
fall.yvelocity = -6
trigger1 = AnimElem = 7
attr = S, SA
getpower = 0,0
givepower = 0,0
animtype  = Hard
damage    = 75, 5
priority  = 5
guardflag = MA
pausetime = 15,15
sparkno = 0+random%4              
sparkxy = -15,-35                                     
hitsound = 35, 0+random%15;5, 21+random%5                 
guardsound = 6, 0 
ground.type = Low
ground.slidetime = 12
ground.hittime  = 20
ground.velocity = -20
air.velocity = -15,-2.5
fall = 1

[State 1000, 4]
type = ChangeState
trigger1 = AnimTime = 0
trigger2 = !movecontact && animelem = 5
value = 50
ctrl = 1

;---------------------------------------------------------------------------
;Staff throw
[StateDef 10500]
type    = S
movetype= A
physics = S
juggle  = 2
poweradd= 0
ctrl = 0
anim = 10500

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F8,0+random%4

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = S24,0+random%17

[State 0, Helper]
type = Helper
trigger1 = animelem = 2
helpertype = normal ;player
name = "staff"
ID = 10000
stateno = 10501
pos = 22,-24
postype = p1    ;p2,front,back,left,right
facing = 1
ownpal = 1
supermovetime = 999999

[State 270, 5]
type = Varset
trigger1 = animelem = 2
v = 0
value = 0

[State 270, ChangeState]
type = ChangeState
trigger1 = animtime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
;Staff throw Air
[StateDef 10510]
type    = A
movetype= A
physics = A
juggle  = 2
poweradd= 0
ctrl = 0
velset = -1,-2
anim = 10505

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F8,0+random%4

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = S24,0+random%17

[State 0, Helper]
type = Helper
trigger1 = animelem = 2
helpertype = normal ;player
name = "staff"
ID = 10000
stateno = 10501
pos = 22,-24
postype = p1    ;p2,front,back,left,right
facing = 1
ownpal = 1
supermovetime = 999999

[State 270, 5]
type = Varset
trigger1 = animelem = 2
v = 0
value = 0

[State 270, ChangeState]
type = ChangeState
trigger1 = animtime = 0
value = 50
ctrl = 1

;---------------------------------------------------------------------------
;Staff
[StateDef 10501]
movetype = A
anim = 10501

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = [0,50]
trigger1 = timemod = 5,0
value = S4,5

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = [50,70]
trigger1 = timemod = 10,0
value = S4,5


[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = [70,90]
trigger1 = timemod = 15,0
value = S4,5


[State 0, PlaySnd]
type = PlaySnd
trigger1 = time > 90
trigger1 = timemod = 20,0
value = S4,5

[State 0, VelSet]
type = VelSet
trigger1 = pos y < 0
x = 7

[State 0, VelSet]
type = VelAdd
trigger1 = time > 30
triggerall = pos y < 0
y = 0.07

[State 0, PosSet]
type = PosSet
trigger1 = pos y >= 0
y = 0

[State 200, 1]
type = HitDef
fall.yvelocity = -6
trigger1 = timemod = 3,0
attr = S, NA    
getpower = 0,0
givepower = 0,0                 ;Attribute: Standing, Normal Attack
damage = 20,0                 ;Damage that move inflicts, guard damage
animtype = Light                 ;Animation type: Light, Medium, Heavy, Back (def: Light)
guardflag = MA                   ;Flags on how move is to be guarded against
hitflag = MAF                    ;Flags of conditions that move can hit
priority = 3, Hit                ;Attack priority: 0 (least) to 7 (most), 4 default                                 ;Hit/Miss/Dodge type (Def: Hit)
pausetime = 2,1                 ;Time attacker pauses, time opponent shakes
sparkno = 0+random%4              
sparkxy = -15,-10+random%20                                     
hitsound = 35, 0+random%15;5, 21+random%5                 
guardsound = 6, 0                ;Sound to play on guard
ground.type = High               ;Type: High, Low, Trip (def: Normal)
ground.slidetime = 1            ;Time that the opponent slides back
ground.hittime  = 5             ;Time opponent is in hit state
ground.velocity = -2             ;Velocity at which opponent is pushed
airguard.velocity = 0,0    ;Guard velocity in air (def: (air.xvel*1.5, air.yvel/2))
air.type = High                  ;Type: High, Low, Trip (def: same as ground.type)
air.velocity = -2,0           ;X-velocity at which opponent is pushed,
                                ;Y-velocity at which opponent is pushed
air.hittime = 5
envshake.time = 10
envshake.freq = 20
envshake.ampl = -5
envshake.phase = 10

[State 0, VarSet]
type = VarSet
trigger1 = time = 0
v = 1
value = facing

[State 0, ChangeState]
type = ChangeState
trigger1 = moveguarded
trigger2 = pos y = 0
trigger3 = vel x = 0
value = 10502

[State 0, ChangeState]
type = ChangeState
trigger1 = (parent, pos y - pos y) = [-40,40]
trigger1 = (parent, pos x - pos x) = [-15,15]
trigger1 = parent, anim != [5000,5999]
trigger1 = parent, var(0) = 0
trigger1 = parent, ctrl = 1
value = 10504

[State 0, DestroySelf]
type = DestroySelf
trigger1 = frontedgedist < -50

;---------------------------------------------------------------------------
;Staff (on ground)
[StateDef 10502]
movetype = I
type    = S
physics = S
anim = 10502

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 1
value = F21,8

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = target, ishelper = 0
flag = unguardable

[State 0, StateTypeSet]
type = StateTypeSet
trigger1 = pos y < 0
trigger2 = p2name != "Tenten"
trigger3 = enemynear, authorname != "N-G MUGEN Team"
trigger4 = enemynear, statetype != C
trigger5 = enemynear, var(0) != 0
movetype = I

[State 0, StateTypeSet]
type = StateTypeSet
trigger1 = pos y > 0
trigger1 = p2name = "Tenten"
trigger1 = enemynear, authorname = "N-G MUGEN Team"
trigger1 = enemynear, statetype = C
trigger1 = enemynear, var(0) = 0
movetype = A

[State 200, 1]
type = HitDef
fall.yvelocity = -6
trigger1 = pos y > 0
trigger1 = p2name = "Tenten"
trigger1 = enemynear, authorname = "N-G MUGEN Team"
trigger1 = enemynear, statetype = C
trigger1 = enemynear, var(0) = 0
attr = C,HP                     ;Attribute: Standing, Normal Attack
getpower = 0,0
givepower = 0,0
damage = 0                ;Damage that move inflicts, guard damage
animtype = Light                 ;Animation type: Light, Medium, Heavy, Back (def: Light)
guardflag = MA                   ;Flags on how move is to be guarded against
hitflag = MAF                    ;Flags of conditions that move can hit
priority = 1, Hit                ;Attack priority: 0 (least) to 7 (most), 4 default                                 ;Hit/Miss/Dodge type (Def: Hit)
pausetime = 0,0                 ;Time attacker pauses, time opponent shakes
sparkno = 4              
sparkxy = -15,-10+random%20                                     
hitsound = 2155, 21+random%5                 
guardsound = 3516, 0                 ;Sound to play on guard
ground.type = High               ;Type: High, Low, Trip (def: Normal)
ground.slidetime = 1            ;Time that the opponent slides back
ground.hittime  = 1            ;Time opponent is in hit state
ground.velocity = 0             ;Velocity at which opponent is pushed
airguard.velocity = 0,0    ;Guard velocity in air (def: (air.xvel*1.5, air.yvel/2))
air.type = High                  ;Type: High, Low, Trip (def: same as ground.type)
air.velocity = 0,0           ;X-velocity at which opponent is pushed,
air.hittime = 1
p2stateno = 106040
envshake.time = 10
envshake.freq = 20
envshake.ampl = -5
envshake.phase = 10

[State 0, DestroySelf]
type = ChangeState
trigger1 = movehit
value = 10503

[State 0, VelSet]
type = ParentVarSet
trigger1 = time = 0
v = 0
value = 0

[State 0, VelSet]
type = VelSet
trigger1 = time = 0
y = -5
x = cond(prevstateno = 10503,0,-3)

[State 0, VelSet]
type = Veladd
trigger1 = vel y != 0
y = 0.7

[State 0, VelSet]
type = VelSet
trigger1 = vel y < 0.3 && pos y > 0 && time > 30
y = 0

[State 0, VelSet]
type = VelSet
trigger1 = pos y > 0
y = -(vel y)*0.7

[State 0, ChangeState]
type = Changeanim
trigger1 = pos y > 0 && anim != 10503 && vel y != 0
value = 10503

[State 0, ChangeState]
type = Changeanim
trigger1 = vel y = 0
value = 10502

[State 0, DestroySelf]
type = ChangeState
trigger1 = parent,stateno = 2000
trigger2 = parent,stateno = 2010
value = 10505

[State 0, ChangeState]
type = ChangeState
trigger1 = parent, statetype = C  && parent, pos y > -10
trigger1 = (parent, pos x - pos x) = [-20,20]
trigger1 = parent, var(0) = 0
value = 10504

;---------------------------------------------------------------------------
;Staff (get by second Tenten)
[StateDef 10503]
movetype = I
type    = S
physics = S

[State 0, Explod]
type = removeExplod
trigger1 = time = 0
ID = 186

[State 0, DestroySelf]
type = destroyself
trigger1 = 1

;---------------------------------------------------------------------------
;Staff (get by Tenten)
[StateDef 10504]
movetype = I
type    = S
physics = S

[State 0, Explod]
type = removeExplod
trigger1 = time = 0
ID = 186

[State 0, VelSet]
type = ParentVarSet
trigger1 = 1
v = 0
value = 1

[State 0, DestroySelf]
type = destroyself
trigger1 = parent,var(0) = 1
;---------------------------------------------------------------------------
;Staff (new summon - ground)
[StateDef 10505]
movetype = I
type    = S
physics = S

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 0
anim = 700
ID = 700
pos = -30,0
postype = p1  ;p2,front,back,left,right
facing = 1
removetime = -2
sprpriority = 4
scale =0.8,0.8
supermovetime = 999999

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 1
anim = 700
ID = 700
pos = -15,0
postype = p1  ;p2,front,back,left,right
facing = 1
removetime = -2
sprpriority = 4
scale =0.8,0.8
supermovetime = 999999

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 2
anim = 700
ID = 700
pos = 0,0
postype = p1  ;p2,front,back,left,right
facing = 1
removetime = -2
sprpriority = 4
scale =0.8,0.8
supermovetime = 999999

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 3
anim = 700
ID = 700
pos = 15,0
postype = p1  ;p2,front,back,left,right
facing = 1
removetime = -2
sprpriority = 4
scale =0.8,0.8
supermovetime = 999999

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 4
anim = 700
ID = 700
pos = 30,0
postype = p1  ;p2,front,back,left,right
facing = 1
removetime = -2
sprpriority = 4
scale =0.8,0.8
supermovetime = 999999

[State 0, DestroySelf]
type = destroyself
trigger1 = time = 5

;---------------------------------------------------------------------------
;Staff (stand)
[StateDef 10512]
movetype = I
type    = S
physics = S
velset = 0,0
anim = 10512
sprpriority = -2

[State 0, AngleDraw]
type = AngleDraw
trigger1 = 1
value = 90

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 0
anim = 186
ID = 186
pos = 12,34
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
removetime = -1
scale = 1,1
sprpriority = -1

[State 0, PosSet]
type = PosSet
trigger1 = time = 0
y = -27

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = target, ishelper = 0
flag = unguardable

[State 0, StateTypeSet]
type = StateTypeSet
trigger1 = p2name != "Tenten"
trigger2 = enemynear, authorname != "N-G MUGEN Team"
trigger3 = enemynear, statetype != S
trigger4 = enemynear, var(0) != 0
trigger5 = p2dist x != [-20,20]
movetype = I

[State 0, StateTypeSet]
type = StateTypeSet
trigger1 = p2name = "Tenten"
trigger1 = enemynear, authorname = "N-G MUGEN Team"
trigger1 = enemynear, statetype = S
trigger1 = enemynear, var(0) = 0
trigger1 = p2dist x = [-10,10]
movetype = A

[State 200, 1]
type = HitDef
fall.yvelocity = -6
trigger1 = p2name = "Tenten"
trigger1 = enemynear, authorname = "N-G MUGEN Team"
trigger1 = enemynear, statetype = S
trigger1 = enemynear, var(0) = 0
attr = C,HP                     ;Attribute: Standing, Normal Attack
getpower = 0,0
givepower = 0,0
damage = 0                ;Damage that move inflicts, guard damage
animtype = Light                 ;Animation type: Light, Medium, Heavy, Back (def: Light)
guardflag = MA                   ;Flags on how move is to be guarded against
hitflag = MAF                    ;Flags of conditions that move can hit
priority = 1, Hit                ;Attack priority: 0 (least) to 7 (most), 4 default                                 ;Hit/Miss/Dodge type (Def: Hit)
pausetime = 0,0                 ;Time attacker pauses, time opponent shakes
sparkno = -1                 ;Spark anim no (Def: set above)
sparkxy = -15,-34                 ;Spark x y
                                ;Y-offset for the spark rel. to p1
hitsound = -1, 0                  ;Sound to play on hit
guardsound = -1, 0                ;Sound to play on guard
ground.type = High               ;Type: High, Low, Trip (def: Normal)
ground.slidetime = 1            ;Time that the opponent slides back
ground.hittime  = 1            ;Time opponent is in hit state
ground.velocity = 0             ;Velocity at which opponent is pushed
airguard.velocity = 0,0    ;Guard velocity in air (def: (air.xvel*1.5, air.yvel/2))
air.type = High                  ;Type: High, Low, Trip (def: same as ground.type)
air.velocity = 0,0           ;X-velocity at which opponent is pushed,
air.hittime = 1
p2stateno = 106047
envshake.time = 10
envshake.freq = 20
envshake.ampl = -5
envshake.phase = 10

[State 0, DestroySelf]
type = ChangeState
trigger1 = movehit
value = 10503

[State 0, VelSet]
type = ParentVarSet
trigger1 = time = 0
v = 0
value = 0

[State 0, DestroySelf]
type = ChangeState
trigger1 = parent,stateno = 2000
trigger2 = parent,stateno = 2010
value = 10515

[State 0, ChangeState]
type = ChangeState
trigger1 = parent, statetype = S
trigger1 = (parent, pos x - pos x) = [-20,20]
trigger1 = parent, var(0) = 0
trigger1 = parent, ctrl = 1
value = 10504

;---------------------------------------------------------------------------
;Staff (new summon - stand)
[StateDef 10515]
movetype = I
type    = S
physics = S

[State 0, AngleDraw]
type = AngleDraw
trigger1 = 1
value = 90

[State 0, Explod]
type = removeExplod
trigger1 = time = 0
ID = 186

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 0
anim = 700
ID = 700
pos = 12,34
postype = p1  ;p2,front,back,left,right
facing = 1
removetime = -2
sprpriority = 4
scale =0.8,0.8
supermovetime = 999999

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 1
anim = 700
ID = 700
pos = 6,17
postype = p1  ;p2,front,back,left,right
facing = 1
removetime = -2
sprpriority = 4
scale =0.8,0.8
supermovetime = 999999

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 2
anim = 700
ID = 700
pos = 0,0
postype = p1  ;p2,front,back,left,right
facing = 1
removetime = -2
sprpriority = 4
scale =0.8,0.8
supermovetime = 999999

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 3
anim = 700
ID = 700
pos = -6,-17
postype = p1  ;p2,front,back,left,right
facing = 1
removetime = -2
sprpriority = 4
scale =0.8,0.8
supermovetime = 999999

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 4
anim = 700
ID = 700
pos = -12,-34
postype = p1  ;p2,front,back,left,right
facing = 1
removetime = -2
sprpriority = 4
scale =0.8,0.8
supermovetime = 999999

[State 0, DestroySelf]
type = destroyself
trigger1 = time = 5

;---------------------------------------------------------------------------
;Quick attack
[Statedef 10600]
type    = S
movetype= A
physics = S
juggle  = 3
velset = 4,0
ctrl = 0
anim = 10290
poweradd = 0
sprpriority = 2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F8,0+random%4

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = S24,0+random%17

[State 230, 2]
type = HitDef
fall.yvelocity = -6
trigger1 = AnimElem = 2
attr = S, NA
getpower = 0,0
givepower = 0,0
damage = 30,15
animtype = Up
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 0,4
sparkno = 0+random%4              
sparkxy = -15,-45                                   
hitsound = 35, 0+random%15;5, 21+random%5                 
guardsound = 6, 0 
ground.type = High
ground.slidetime = 4
ground.hittime  = 12
ground.velocity = 0, -8.5
airguard.velocity = 0,-4
air.type = High
air.velocity = 0,-8.5
air.hittime = 16
envshake.time = 10
envshake.freq = 20
envshake.ampl = -5
envshake.phase = 10
fall = 1
fall.recover = 0
fall.damage = 10

[State 230, 4]
type = ChangeState
trigger1 = AnimTime = 0
trigger1 = !movehit
value = 0
ctrl = 1

[State 200, end]
type = ChangeState
triggerall = movehit
trigger1 = time = 16 
value = 10610
ctrl = 0

;---------------------------------------------------------------------------
;Quick attack
[StateDef 10610]
type = S
movetype = A
physics = S
anim = 10300
ctrl = 0

[State 200, 1]
type = HitDef
fall.yvelocity = -6
trigger1 = !movecontact
attr = C,HP                    ;Attribute: Standing, Normal Attack
damage = 0   
getpower = 0,0
givepower = 0,0             ;Damage that move inflicts, guard damage
animtype = Light                 ;Animation type: Light, Medium, Heavy, Back (def: Light)
guardflag = MA                   ;Flags on how move is to be guarded against
hitflag = MAF                    ;Flags of conditions that move can hit
priority = 3, Hit                ;Attack priority: 0 (least) to 7 (most), 4 default                                 ;Hit/Miss/Dodge type (Def: Hit)
pausetime = 1,3                 ;Time attacker pauses, time opponent shakes
sparkno = -1;S700+random%3                  ;Spark anim no (Def: set above)
sparkxy = -15,-34                 ;Spark x y
                                ;Y-offset for the spark rel. to p1
hitsound = 5315, 0                  ;Sound to play on hit
guardsound = 3156, 0                ;Sound to play on guard
ground.type = High               ;Type: High, Low, Trip (def: Normal)
ground.slidetime = 5             ;Time that the opponent slides back
ground.hittime  = 10             ;Time opponent is in hit state
ground.velocity = -0.5             ;Velocity at which opponent is pushed
airguard.velocity = -2,-.8     ;Guard velocity in air (def: (air.xvel*1.5, air.yvel/2))
air.type = High                  ;Type: High, Low, Trip (def: same as ground.type)
air.velocity = -1.4,-1           ;X-velocity at which opponent is pushed,
p2stateno = 106035                               ;Y-velocity at which opponent is pushed
air.hittime = 12
envshake.time = 10
envshake.freq = 20
envshake.ampl = -5
envshake.phase = 10

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S4,20

[State 0, SuperPause]
type = Pause
trigger1 = time < 80 && time%3 = 0
time = 2
movetime = 2
;anim = -1
;sound = S4,-20
;darken = 0

[State 230, 4]
type = ChangeState
trigger1 = time = 120
value = 0
ctrl = 1

[State 0, DestroySelf]
type = changestate
trigger1 = movecontact
value = 10620
ctrl = 0

;---------------------------------------------------------------------------
;Quick attack
[StateDef 10620]
type = S
movetype = A
physics = S
anim = 10301
ctrl = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = timemod = 10,0
value = F8,0+random%4

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S1,5

[State 200, 1]
type = HitDef
fall.yvelocity = -6
trigger1 = animelem = 2
trigger2 = animelem = 3
trigger3 = animelem = 4
trigger4 = animelem = 5
attr = S, NA                     ;Attribute: Standing, Normal Attack
damage = 6,2  
getpower = 0,0
givepower = 0,0          ;Damage that move inflicts, guard damage
animtype = Light                 ;Animation type: Light, Medium, Heavy, Back (def: Light)
guardflag = MA                   ;Flags on how move is to be guarded against
hitflag = MAF                    ;Flags of conditions that move can hit
priority = 3, Hit                ;Attack priority: 0 (least) to 7 (most), 4 default                                 ;Hit/Miss/Dodge type (Def: Hit)
pausetime = 0,0                 ;Time attacker pauses, time opponent shakes
sparkno = 0+random%4              
sparkxy = -15-random%20,-20-random%40                                      
hitsound = 35, 0+random%15;5, 21+random%5                 
guardsound = 6, 0                 ;Sound to play on guard
ground.type = High               ;Type: High, Low, Trip (def: Normal)
ground.slidetime = 5             ;Time that the opponent slides back
ground.hittime  = 10             ;Time opponent is in hit state
ground.velocity = 0,-0.9           ;Velocity at which opponent is pushed
airguard.velocity = -3,0    ;Guard velocity in air (def: (air.xvel*1.5, air.yvel/2))
air.type = High                  ;Type: High, Low, Trip (def: same as ground.type)
air.velocity = 0,-0.9         ;X-velocity at which opponent is pushed,
air.hittime = 12
envshake.time = 10
envshake.freq = 20
envshake.ampl = -5
envshake.phase = 10

[State 0, BGPalFX]
type = BGPalFX
trigger1 = time > 4 && time%5 = 1
time = 1
add = 150,150,150
mul = 256,256,256

[State 0, DestroySelf]
type = changestate
trigger1 = time = 120
value = 10630
ctrl = 0

;---------------------------------------------------------------------------
;Quick attack
[StateDef 10630]
type = S
movetype = A
physics = S
anim = 10302
ctrl = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
value = F8,0+random%4

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
value = S24,0+random%17

[State 200, 1]
type = HitDef
fall.yvelocity = -6
trigger1 = time = 0
attr = S, NA                     ;Attribute: Standing, Normal Attack
damage = 30,15  
getpower = 0,0
givepower = 0,0              ;Damage that move inflicts, guard damage
animtype = Light                 ;Animation type: Light, Medium, Heavy, Back (def: Light)
guardflag = MA                   ;Flags on how move is to be guarded against
hitflag = MAF                    ;Flags of conditions that move can hit
priority = 3, Hit                ;Attack priority: 0 (least) to 7 (most), 4 default                                 ;Hit/Miss/Dodge type (Def: Hit)
pausetime = 0,0                 ;Time attacker pauses, time opponent shakes
sparkno = 0+random%4              
sparkxy = -15,-26                                    
hitsound = 35, 0+random%15;5, 21+random%5                 
guardsound = 6, 0                ;Sound to play on guard
ground.type = High               ;Type: High, Low, Trip (def: Normal)
ground.slidetime = 5             ;Time that the opponent slides back
ground.hittime  = 10             ;Time opponent is in hit state
ground.velocity = -8,-3          ;Velocity at which opponent is pushed
airguard.velocity = -3,0    ;Guard velocity in air (def: (air.xvel*1.5, air.yvel/2))
air.type = High                  ;Type: High, Low, Trip (def: same as ground.type)
air.velocity = -8,-3       ;X-velocity at which opponent is pushed,
air.hittime = 12
fall = 1
fall.recover = 0
envshake.time = 10
envshake.freq = 20
envshake.ampl = -5
envshake.phase = 10

[State 0, DestroySelf]
type = changestate
trigger1 = animtime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
;Staff Guard
[StateDef 11100]
type = S
movetype = A
physics = S
anim = 11100
ctrl = 0
velset = 0,0

[State 0, Turn]
type = Turn
trigger1 = facing = -1 && enemy, pos x > pos x
trigger2 = facing = 1 && enemy, pos x < pos x

[State 0, PosSet]
type = PosSet
trigger1 = time = 0
trigger1 = prevstateno = [11120,11121]
y = var(5)

[State 0, Helper]
type = Helper
trigger1 = numhelper(11101) = 0
helpertype = normal ;player
name = "staff"
ID = 11101
stateno = 11101
pos = 0,0
postype = p1    ;p2,front,back,left,right
facing = 1

[State 0, ChangeState]
type = ChangeState
trigger1 = command != "hold_z"
;trigger2 = p2movetype != A && var(50) = 1 && time > 30
value = 0
ctrl = 1

[State 0, ChangeState]
type = ChangeState
trigger1 = command = "fwd"
trigger2 = command = "back"
triggerall = var(50) = 0
value = 11110
ctrl = 0

[State 0, ChangeState]
type = ChangeState
trigger1 = p2bodydist x != [-100,100]
triggerall = var(50) = 1
value = 11110
ctrl = 0

[State 0, ChangeState]
type = ChangeState
trigger1 = command = "up"
trigger1 = time > 3
value = 11120
ctrl = 0
;---------------------------------------------------------------------------
;Staff
[StateDef 11101]
movetype = A
anim = 11101
sprpriority = 3

[State 0, PlaySnd]
type = PlaySnd
trigger1 = timemod = 9,0
value = S4,5

[State 0, SprPriority]
type = SprPriority
trigger1 = 1
value = 3

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, anim = 11100
time = 1
facing = 1
pos = -3,-28

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, anim = [11110,11115]
time = 1
facing = 1
pos = 3,-31

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, anim = 11120
time = 1
facing = 1
pos = 7,-33

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, anim = 11121
time = 1
facing = 1
pos = 7,-31

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, anim = 11122
time = 1
facing = 1
pos = -3,-27

[State 200, 1]
type = HitDef
fall.yvelocity = -6
trigger1 = parent, prevstateno != [120,155]
trigger1 = time%4 = 0
attr = S, NA                     ;Attribute: Standing, Normal Attack
getpower = 0,0
givepower = 0,0
damage = 3,0                 ;Damage that move inflicts, guard damage
animtype = Light                 ;Animation type: Light, Medium, Heavy, Back (def: Light)
guardflag = MA                   ;Flags on how move is to be guarded against
hitflag = MAF                    ;Flags of conditions that move can hit
priority = 3, Hit                ;Attack priority: 0 (least) to 7 (most), 4 default                                 ;Hit/Miss/Dodge type (Def: Hit)
pausetime = 0,0                 ;Time attacker pauses, time opponent shakes
sparkno = 0+random%4              
sparkxy = -15,-20+random%40                                     
hitsound = 21,8                 
guardsound = 6, 0                ;Sound to play on guard
ground.type = High               ;Type: High, Low, Trip (def: Normal)
ground.slidetime = 5             ;Time that the opponent slides back
ground.hittime  = 15             ;Time opponent is in hit state
ground.velocity = cond( enemy,pos x > pos x,-3,3)*facing             ;Velocity at which opponent is pushed
airguard.velocity = cond( enemy,pos x > pos x,-3,3)*facing,0     ;Guard velocity in air (def: (air.xvel*1.5, air.yvel/2))
air.type = High                  ;Type: High, Low, Trip (def: same as ground.type)
air.velocity = cond( enemy,pos x > pos x,-3,3)*facing,0          ;X-velocity at which opponent is pushed,
                                 ;Y-velocity at which opponent is pushed
air.hittime = 15

[State 200, 1]
type = HitDef
fall.yvelocity = -6
trigger1 = parent, prevstateno = [120,155]
trigger1 = time%4 = 0
attr = C,HP                   ;Attribute: Standing, Normal Attack
getpower = 0,0
givepower = 0,0
damage = 3,0                 ;Damage that move inflicts, guard damage
animtype = Light                 ;Animation type: Light, Medium, Heavy, Back (def: Light)
guardflag = MA                   ;Flags on how move is to be guarded against
hitflag = MAF                    ;Flags of conditions that move can hit
priority = 3, Hit                ;Attack priority: 0 (least) to 7 (most), 4 default                                 ;Hit/Miss/Dodge type (Def: Hit)
pausetime = 0,0                 ;Time attacker pauses, time opponent shakes
sparkno = 0+random%4              
sparkxy = -15,-20+random%40                 ;Spark x y
                                ;Y-offset for the spark rel. to p1
hitsound = 21,8                 ;Sound to play on hit
guardsound = 6, 0                ;Sound to play on guard
ground.type = High               ;Type: High, Low, Trip (def: Normal)
ground.slidetime = 5             ;Time that the opponent slides back
ground.hittime  = 15             ;Time opponent is in hit state
ground.velocity = 0;cond( enemy,pos x > pos x,-5,5)*facing             ;Velocity at which opponent is pushed
airguard.velocity = 0;cond( enemy,pos x > pos x,-5,5)*facing,0     ;Guard velocity in air (def: (air.xvel*1.5, air.yvel/2))
air.type = High                  ;Type: High, Low, Trip (def: same as ground.type)
air.velocity = 0;cond( enemy,pos x > pos x,-5,5)*facing,0          ;X-velocity at which opponent is pushed,
p2stateno = 106041                               ;Y-velocity at which opponent is pushed
air.hittime = 15

[State 0, DestroySelf]
type = DestroySelf
;trigger1 = parent, command != "hold_y"
trigger1 = parent, stateno != 11100
trigger1 = parent, stateno != 11110
trigger1 = parent, stateno != 11120
trigger1 = parent, stateno != 11121
trigger1 = parent, stateno != 11125

;---------------------------------------------------------------------------
; Staff Guard (Walk)
[Statedef 11110]
type    = S
physics = S
sprpriority = 0
velset = 0,0

[State 0, PosSet]
type = Posset
trigger1 = time = 0
trigger1 = prevstateno = [11120,11125]
y = var(5)

[State 0, Helper]
type = Helper
trigger1 = numhelper(11101) = 0
helpertype = normal ;player
name = "staff"
ID = 11101
stateno = 11101
pos = 0,0
postype = p1    ;p2,front,back,left,right
facing = 1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time%24 = 8 && command = "holdfwd"
value = S4,3

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time%32 = 0 && command = "holdback"
value = S4,3


[State 20, 1]
type = VelSet
trigger1 = command = "holdfwd"
x = const(velocity.walk.fwd.x)*0.7

[State 20, 2]
type = VelSet
trigger1 = command = "holdback"
x = const(velocity.walk.back.x)*0.7

[State 20, 3]
type = ChangeAnim
trigger1 = vel x > 0 && anim != 11110
value = 11110

[State 20, 4]
type = ChangeAnim
trigger1 = vel x < 0 && anim != 11115
value = 11115

[State 0, ChangeState]
type = ChangeState
trigger1 = command = "up"
trigger1 = time > 3
value = 11120
ctrl = 0

[State 0, ChangeState]
type = ChangeState
trigger1 = command != "hold_z"
trigger2 = p2movetype != A && var(50) = 1 && time > 30
value = 20
ctrl = 1

[State 0, ChangeState]
type = ChangeState
trigger1 = command != "holdfwd"
trigger1 = command != "holdback"
trigger1 = var(50) = 0
value = 11100
ctrl = 0

[State 0, ChangeState]
type = ChangeState
trigger1 = command != "holdfwd"
trigger1 = command != "holdback"
trigger1 = var(50) = 1 && p2bodydist x = [-100,100]
value = 11100
ctrl = 0

;---------------------------------------------------------------------------
; Staff Guard (Jump)-from ground
[Statedef 11120]
type    = A
physics = N
ctrl = 0
velset = 0,0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S24,0+random%17

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 1
value = F3

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 0 && vel x = 0
anim = F360
pos = 0,10
scale = 1,1
postype = p1
facing = 1
bindtime = 1
removetime = -2
sprpriority = 3

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 0 && vel x > 0
anim = F370
pos = 0,10
scale = 1,1
postype = p1
facing = 1
bindtime = 1
removetime = -2
sprpriority = 3

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 0 && vel x < 0
anim = F370
pos = 0,10
scale = 1,1
postype = p1
facing = -1
bindtime = 1
removetime = -2
sprpriority = 3

[State 0, Helper]
type = Helper
trigger1 = numhelper(11101) = 0
helpertype = normal ;player
name = "staff"
ID = 11101
stateno = 11101
pos = 0,0
postype = p1    ;p2,front,back,left,right
facing = 1

[State 0, StateTypeSet]
type = StateTypeSet
trigger1 = time = 2
physics = A

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time =0
value = S4,1

[State 45, 1]
type = ChangeAnim
trigger1 = vel x > 0 && vel y < 0
value = 11120

[State 45, 1]
type = ChangeAnim
trigger1 = vel x = 0 && vel y < 0
trigger2 = vel x = 0 && vel y > 0
trigger3 = vel x > 0 && vel y > 0
value = 11121

[State 45, 1]
type = ChangeAnim
trigger1 = vel x < 0
value = 11122

[State 40, 4]
type = VelSet
trigger1 = time = 0 && command != "holdfwd"  && command != "holdback"
x = const(velocity.jump.neu.x)
y = const(velocity.jump.y)

[State 40, 4]
type = VelSet
trigger1 = time = 0 && command = "holdfwd"
x = const(velocity.jump.fwd.x)
y = const(velocity.jump.y)

[State 40, 4]
type = VelSet
trigger1 = time = 0 && command = "holdback"
x = const(velocity.jump.back.x)
y = const(velocity.jump.y)

[State 0, ChangeState]
type = ChangeState
trigger1 = command != "hold_z"
trigger2 = p2movetype != A && var(50) = 1 && time > 30
value = 50
ctrl = 1

[State 0, stand]
type = ChangeState
trigger1 = vel y > 0
value = 11125
ctrl = 0

;---------------------------------------------------------------------------
; Staff Guard (Jump)-from air
[Statedef 11121]
type    = A
physics = N
ctrl = 0


[State 0, PlaySnd]
type = PlaySnd
trigger1 = pos y = 0
persistent = 0
value = F4

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = pos y = 0
persistent = 0
anim = F290
ID = 23
pos = -1,3
postype = p1  ;p2,front,back,left,right
scale = 1.8,1.5
sprpriority = 2
ontop = 0
ownpal = 1

[State 0, Helper]
type = Helper
trigger1 = numhelper(11101) = 0
helpertype = normal ;player
name = "staff"
ID = 11101
stateno = 11101
pos = 0,0
postype = p1    ;p2,front,back,left,right
facing = 1

[State 0, StateTypeSet]
type = StateTypeSet
trigger1 = time = 2
physics = A

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time =0
value = S4,1

[State 45, 1]
type = ChangeAnim
trigger1 = vel x > 0 && vel y < 0
value = 11120

[State 45, 1]
type = ChangeAnim
trigger1 = vel x = 0 && vel y < 0
trigger2 = vel x = 0 && vel y > 0
trigger3 = vel x > 0 && vel y > 0
value = 11121

[State 45, 1]
type = ChangeAnim
trigger1 = vel x < 0
value = 11122

[State 0, ChangeState]
type = ChangeState
trigger1 = command != "hold_z"
trigger2 = p2movetype != A && var(50) = 1 && time > 30
value = 50
ctrl = 1

[State 0, stand]
type = ChangeState
trigger1 = vel y > 0
value = 11125
ctrl = 0

;---------------------------------------------------------------------------
; Staff Guard (Jump)- landing
[Statedef 11125]
type    = A
physics = A
ctrl = 0

[State 0, Helper]
type = Helper
trigger1 = numhelper(11101) = 0
helpertype = normal ;player
name = "staff"
ID = 11101
stateno = 11101
pos = 0,0
postype = p1    ;p2,front,back,left,right
facing = 1

[State 45, 1]
type = ChangeAnim
trigger1 = vel x = 0 
trigger2 = vel x > 0 
value = 11121

[State 45, 1]
type = ChangeAnim
trigger1 = vel x < 0
value = 11122

[State 0, ChangeState]
type = ChangeState
trigger1 = command != "hold_z"
trigger2 = p2movetype != A && var(50) = 1 && time > 30
value = 50
ctrl = 1

[State 0, stand]
type = ChangeState
trigger1 = pos y > (var(3)-10)  && vel y > 0
trigger1 = vel x = 0
value = 11100
ctrl = 0

[State 0, walk]
type = ChangeState
trigger1 = pos y > (var(3)-10)  && vel y > 0
trigger1 = vel x != 0
value = 11110
ctrl = 0

;------------------------------------------------------------------------------------
;halabarda
[Statedef 11169]
type    = A				;State-type: S-stand, C-crouch, A-air, L-liedown
movetype= I				;Move-type: A-attack, I-idle, H-gethit
physics = S				;Physics: S-stand, C-crouch, A-air
juggle  = 1			
velset = 0,0		;Set velocity (x,y) (Def: no change)
ctrl = 0				;Set ctrl (Def: no change)
anim = 11169				;Change animation (Def: no change)
poweradd = 0			;Power to add (Def: 0)
sprpriority = 2

[State 0, VelSet]
type = VelSet
trigger1 = time > 7
y = -14

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 8
value = S0,4

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 8
value = S4,13

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 9
anim = 703
ID = 703
pos = -10,-30
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
removetime = 20
supermovetime = 9999
scale = 0.85,1
sprpriority = 4
ownpal = 1

[State 0, ChangeState]
type = ChangeState
trigger1 = time = 15
trigger2 = pos y < -65
value = 11170
ctrl = 1

[Statedef 11170]
type    = A				;State-type: S-stand, C-crouch, A-air, L-liedown
movetype= I				;Move-type: A-attack, I-idle, H-gethit
physics = S				;Physics: S-stand, C-crouch, A-air
juggle  = 1				;Number of air juggle points move takes
;Commonly-used controllers:
velset = 0,0		;Set velocity (x,y) (Def: no change)
ctrl = 0				;Set ctrl (Def: no change)
anim = 11170				;Change animation (Def: no change)
poweradd = 0			;Power to add (Def: 0)
sprpriority = 2

[State 0, Turn]
type = Turn
trigger1 = command = "holdback"
triggerall = command != "holdfwd"

[State 0, PosSet]
type = PosSet
trigger1 = time = 0
y = 0
x = pos x +25

[State 0, PosSet]
type = Posadd
trigger1 = time = 0
y = pos y -65

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = time = 0
id = 11172 

[State 0, VarAdd]
type = VarSet
trigger1 = time = 0
trigger1 = var(4) = 4
v = 4
value = 0

[State 0, VarAdd]
type = VarAdd
trigger1 = var(50) = 0 && (command = "z" || command = "x")
trigger2 = var(50) = 1 && random = (0,20+var(49)*var(49)/50)
v = 4
value = 1

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 1
anim = 11173
ID = 11173
pos = -5,68
postype = p1  ;p2,front,back,left,right
facing = 1
bindtime = 1
removetime = 40
sprpriority = 3
scale = 0.15,0.15
pausemovetime = 99999
removeongethit = 1
ownpal = 1

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 1
anim = 11173
ID = 11173
pos = -3,68
postype = p1  ;p2,front,back,left,right
facing = 1
bindtime = 1
removetime = 40
sprpriority = 3
scale = 0.3,0.3
pausemovetime = 99999
removeongethit = 1
ownpal = 1

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 1
anim = 11173
ID = 11173
pos = 3,68
postype = p1  ;p2,front,back,left,right
facing = -1
bindtime = 1
removetime = 40
sprpriority = 3
scale = 0.3,0.3
pausemovetime = 99999
removeongethit = 1
ownpal = 1

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 1
anim = F580
ID = 580
pos = 0,68
postype = p1  ;p2,front,back,left,right
facing = 1
bindtime = 1
removetime = -2
sprpriority = 4
scale = 0.4,0.2
pausemovetime = 99999
removeongethit = 1
ownpal = 1

[State 200, 5]
type = ChangeState
trigger1 = var(4) >= 4
trigger1 = time = 10
trigger2 = time = 35
value = 11172
ctrl = 1

[State 0, ChangeState]
type = ChangeState
triggerall = var(4) <= 3
trigger1 = var(50) = 0 && (command = "z" || command = "x")
trigger2 = var(50) = 1 && random = (0,20+var(49)*var(49)/50)
trigger2 = p2bodydist x = [0,100]
value = 11171
ctrl = 1

[Statedef 11171]
type = A
movetype= A
physics = A
juggle  = 1
velset = 0,0
ctrl = 0
anim = 11171
poweradd = -100
sprpriority = 2

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = time = 0
id = 11173 

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 0
anim = 11174
ID = 11173
pos = -5,68
postype = p1  ;p2,front,back,left,right
facing = 1
bindtime = 1
removetime = -2
sprpriority = 3
scale = 0.15,0.15
pausemovetime = 99999
removeongethit = 1
ownpal = 1

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 0
anim = 11174
ID = 11173
pos = -3,68
postype = p1  ;p2,front,back,left,right
facing = 1
bindtime = 1
removetime = -2
sprpriority = 3
scale = 0.3,0.3
pausemovetime = 99999
removeongethit = 1
ownpal = 1

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 0
anim = 11174
ID = 11173
pos = 3,68
postype = p1  ;p2,front,back,left,right
facing = -1
bindtime = 1
removetime = -2
sprpriority = 3
scale = 0.3,0.3
pausemovetime = 99999
removeongethit = 1
ownpal = 1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 8
value = S0,8

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 2
value = F8,9

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 0
anim = 11172
ID = 11172
pos = 0,50
postype = p1  ;p2,front,back,left,right
facing = 1
bindtime = -1
removetime = -1
sprpriority = 3
scale = 1,1
pausemovetime = 99999
removeongethit = 1
ownpal = 1

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = time > 10
trigger1 = pos y > -15
id = 11172 

[State 200, 1]
type = HitDef
fall.yvelocity = -6
trigger1 = AnimElem = 1
trigger2 = AnimElem = 2
trigger3 = AnimElem = 3
trigger4 = AnimElem = 4
attr = S, NA
getpower = 0,0
givepower = 0,0
damage = 60,50
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 0, 5
sparkno = 12
sparkxy = -15, 10
hitsound = 5, 11
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -2
airguard.velocity = -2,-.8
air.type = High
air.velocity = -2,-2
air.hittime = 12

[State 200, PlaySnd]
type = Velset
trigger1 = time > 0 && time < 15
y = -1.2
x = 4

[State 80]
type = AfterImage
trigger1 = time = 1
time = 30
length = 20
framegap = 6
palbright = 0,0,0
palcontrast = 100,100,100
palpostbright = 0,0,0
paladd = 0,0,0
palmul = 1,1,1
trans = add1

[State 200, 5]
type = ChangeState
trigger1 = time > 10
trigger1 = pos y > -15
value = 11170
ctrl = 1


[Statedef 11172]
type    = A				;State-type: S-stand, C-crouch, A-air, L-liedown
movetype= I				;Move-type: A-attack, I-idle, H-gethit
physics = S				;Physics: S-stand, C-crouch, A-air
juggle  = 1				;Number of air juggle points move takes
;Commonly-used controllers:
velset = 0,0		;Set velocity (x,y) (Def: no change)
ctrl = 0				;Set ctrl (Def: no change)
anim = 11170				;Change animation (Def: no change)
poweradd = 0			;Power to add (Def: 0)
sprpriority = 2

[State 0, PosSet]
type = PosSet
trigger1 = time = 5
x = pos x -25

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 1
value = S4,13

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 1
anim = 703
ID = 703
pos = -15,25
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
removetime = 20
supermovetime = 9999
scale = 0.85,1
sprpriority = 4
ownpal = 1

[State 0, ChangeState]
type = ChangeState
trigger1 = time = 5
value = 50
ctrl = 1












;-------------- Generated by Fighter Factory -------------

;--------------------- Variable List ----------------------

; Var(0) - StateDef 10500, 10506, 2000
; Var(1) - StateDef 10501
; Var(2) - StateDef 1303, 1304, 1305, 1306, 1842, 1846
; Var(3) - StateDef 11120
; Var(12) - StateDef 1301, 1302, 1310
; Var(13) - StateDef 1401, 1404, 6601
; Var(14) - StateDef 77000, 78000, 1401, 1404, 6601
; Var(20) - StateDef 500, 505, 570, 575, 580, 585, 1200, 6500, 6510, 6520
; Var(21) - StateDef 550, 555, 1200
; Var(22) - StateDef 530, 531, 535, 1200, 1600
; Var(23) - StateDef 510, 515, 520, 525, 540, 545, 1200, 6530, 6540, 6550
; Var(24) - StateDef 560, 565, 1200
; Var(25) - StateDef 70201, 70230, 70240, 70250, 70260
; Var(26) - StateDef 70230, 70240, 70250, 70260

;--------------------- Float Variable List ----------------------

; fVar(13) - StateDef 510, 515, 520, 525, 540, 545, 1000, 1301, 1302, 1310, 1400, 1401, 1701, 6530, 6540, 6550, 6600, 6601
; fVar(14) - StateDef 510, 515, 520, 525, 540, 545, 1000, 1301, 1302, 1310, 1400, 1401, 1701, 6530, 6540, 6550, 6600, 6601
; fVar(15) - StateDef 510, 515, 520, 525, 540, 545, 1000, 1301, 1302, 1310, 1400, 1701, 6530, 6540, 6550, 6600
; fVar(30) - StateDef 1400, 6600
; fVar(31) - StateDef 1400, 6600
