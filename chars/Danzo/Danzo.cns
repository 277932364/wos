
[Data]
life = 3000
power = 4000
attack = 100
defence = 100
fall.defence_up = 50
liedown.time = 60
airjuggle = 15
sparkno = 0
guard.sparkno = 40
KO.echo = 0
volume = 0
IntPersistIndex = 0
FloatPersistIndex = 0

[Size]
xscale = 1
yscale = 1
ground.back = 15
ground.front = 15
air.back = 10
air.front = 10
height = 62
attack.dist = 160
proj.attack.dist = 90
proj.doscale = 0
head.pos = 0, -50
mid.pos = 0, -30
shadowoffset = 0
draw.offset = 0,0

[Velocity]
walk.fwd  = 1.5		;Walk forward
walk.back = -1.5		;Walk backward
run.fwd  = 8.3, 0		;Run forward (x, y)
run.back = -5.7,-4	;Hop backward (x, y)
jump.neu = 0,-8.8		;Neutral jumping velocity (x, y)
jump.back = -3.4		;Jump back Speed (x, y)
jump.fwd = 3.4		;Jump forward Speed (x, y)
runjump.back = -2.75,-9.4;Running jump speeds (opt)
runjump.fwd = 4.3,-9.4	;.
airjump.neu = 0,-9.4	;.
airjump.back = -2.75	;Air jump speeds (opt)
airjump.fwd = 2.7	;.

[Movement]
airjump.num = 1		;Number of air jumps allowed (opt)
airjump.height = 35	;Minimum distance from ground before you can air jump (opt)
yaccel = .44		;Vertical acceleration
stand.friction = .85	;Friction coefficient when standing
crouch.friction = .82	;Friction coefficient when crouching

;-----------------------------
[StateDef 61]
type = A
movetype= I
physics = A
juggle  = 1
ctrl = 0
anim = 60
poweradd = -80
sprpriority = 2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
value = F17,0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
value = S3,1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F3,1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F14,0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F14,1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F14,6

[State 0, Explod]
type = Explod
trigger1 = animelem = 2
anim = 61
id = 61
pos = -4,-48
scale = 0.4,0.4
postype = p1
facing = 1
bindtime = 6
removetime = -2
sprpriority = 3
ownpal = 1
supermovetime=9999
pausemovetime=9999

[State 0, Explod]
type = Explod
trigger1 = time = 8
trigger2 = time = 11
trigger3 = time = 14
anim = F1391
ID = 380
pos = -10,-40
postype = p1  ;p2,front,back,left,right
facing = -1
vfacing = 1
bindtime = 5
removetime = -2
scale = 0.6,0.6
sprpriority = 3
ontop = 0
;angle = atan(vel y/vel x)*180/PI -15

[State 0, VelSet]
type = VelSet
trigger1 = time = 8
x = -8
y = -5

[State 0, End]
type = ChangeState
trigger1 = time = 15
value = 50
ctrl = 1
;-----------------------------
[StateDef 62]
type = A
movetype= I
physics = A
juggle  = 1
ctrl = 0
anim = 62
poweradd = -80
sprpriority = 2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
value = F17,0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
value = S3,1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F3,1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F14,0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F14,1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F14,6

[State 0, Explod]
type = Explod
trigger1 = animelem = 2
anim = 61
id = 61
pos = 10,-48
scale = 0.4,0.4
postype = p1
facing = 1
bindtime = 6
removetime = -2
sprpriority = 3
ownpal = 1
supermovetime=9999
pausemovetime=9999
angle = -60

[State 0, Explod]
type = Explod
trigger1 = time = 8
trigger2 = time = 11
trigger3 = time = 14
anim = F1391
ID = 380
pos = 2,-55
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 5
removetime = -2
scale = 0.6,0.6
sprpriority = 3
ontop = 0
angle = 70

[State 40, 2]
type = VarSet
trigger1 = command = "holdfwd"
trigger2 = var(50) = 1
trigger2 = p2bodydist x > 50
sysvar(1) = 1

[State 40, 3]
type = VarSet
trigger1 = command = "holdback"
trigger2 = var(50) = 1
trigger2 = p2movetype = A && p2bodydist x < 80
sysvar(1) = -1

[State 0, VelSet]
type = VelSet
trigger1 = time = 8
x = cond(sysvar(1)=0, const(velocity.jump.neu.x), cond(sysvar(1)=1, const(velocity.jump.fwd.x), const(velocity.jump.back.x)))
y = -10

[State 0, End]
type = ChangeState
trigger1 = time = 15
value = 50
ctrl = 1
;----------------------------------------
[Statedef 104]
type = S
movetype = I
physics = N
anim = 100
velset = 0,0
ctrl = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 1
trigger2 = animelem = 1
trigger3 = animelem = 3
value = F2

[State 0, Explod]
type = Explod
trigger1 = time = 1
trigger2 = animelem = 2
trigger3 = animelem = 3
anim = F300
ID = 24
pos = -10,2
postype = p1  ;p2,front,back,left,right
scale = 1.2,1.2
sprpriority = 2
vel = -1.3,-1
bindtime = 1
ownpal = 0
ontop = 0
supermovetime = 9999
pausemovetime = 9999

[State 1510, 5]
type = Screenbound
trigger1 = 1
movecamera = 0,0

[State 0, 1]
type = NotHitBy
trigger1 = 1
value = SCA, AA, AP, AT

[State 1000, 4]
type = VelSet
trigger1 = backedgebodydist < 70
x = const(velocity.run.fwd.x)-2

[State 0, 6]
type = VelSet
trigger1 = backedgebodydist >= 70
x = 0

[State 0, 7]
type = PlayerPush
trigger1 = backedgebodydist < 70
value = 0

[State 0, 9]
type = ChangeState
trigger1 = backedgebodydist >= 70
value = 0
ctrl = 1
;---------------------------------------------------------------------------
; Lose by Time Over
; CNS difficulty: basic
[Statedef 170]
type = S
ctrl = 0
anim = 170
velset = 0,0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
value = S2,12

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 4
value = S2,3

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 16
value = S6,6

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
trigger2 = animelem = 4
trigger3 = animelem = 11
value = F9,3

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time > 85 && timemod = 15,0
value = S6,4

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time > 90 && timemod = 15,0
value = S6,5

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 80
value = S7,1


[State 0, Explod]
type = Explod
trigger1 = time > 80
triggerall = timemod = 2,0
anim = 1030
id = 1030
pos = 3,-35
scale = 1,1
angle = random%360
postype = p1
facing = 1
bindtime = -1
removetime = -2
sprpriority = 3
supermovetime = 9999
pausemovetime = 9999

[State 0, Explod]
type = Explod
trigger1 = time > 90
triggerall = timemod = 2,0
anim = 1031
id = 1031
pos = 3,-35
scale = 1,1
angle = random%360
postype = p1
facing = 1
bindtime = -1
removetime = -2
sprpriority = 3
supermovetime = 9999
pausemovetime = 9999

[State 0, Explod]
type = Explod
trigger1 = time > 100
triggerall = timemod = 2,0
anim = 1032
id = 1032
pos = 3,-35
scale = 1,1
angle = random%360
postype = p1
facing = 1
bindtime = -1
removetime = -2
sprpriority = 3
supermovetime = 9999
pausemovetime = 9999

[State 0]
type = Explod
trigger1 = time = 80
anim = 171
ID = 171
pos = 0,0
postype = p1
scale = 1,1
ownpal = 1
ontop = 0
facing = 1
ignorehitpause = 1
sprpriority = 1
bindtime = -1
removetime = -1
removeongethit = 1
pausemovetime = 9999
supermovetime = 9999

[State 0, EnvShake]
type = EnvShake
trigger1 = time%5 = 0 && time > 65
time = 10
freq = 20
ampl = -5
phase = 90

[State 0, EnvShake]
type = EnvShake
trigger1 = animelem = 11
time = 8
freq = 20
ampl = -6
phase = 90

[State 0, EnvShake]
type = EnvShake
trigger1 = animelem = 16
time = 10
freq = 30
ampl = -10
phase = 90

[State 0]
type = Explod
trigger1 = timemod = 15,1 && numexplod(171) = 1
anim = F290
ID = 403
pos = 0,2
postype = p1
name = "dym przód"
scale = 1.3,1.3
ownpal = 1
ontop = 0
facing = -1
ignorehitpause = 1
sprpriority = 2
bindtime = -1
removetime = -2
removeongethit = 1
pausemovetime = 9999
supermovetime = 9999
trans = addalpha
alpha = 256,256

[State 0]
type = Explod
trigger1 = timemod = 15,1 && numexplod(171) = 1
anim = F401
ID = 401
pos = -7,2
postype = p1
name = "dym lewa"
scale = 0.7,0.7
ownpal = 1
ontop = 0
ignorehitpause = 1
sprpriority = 3
bindtime= -1
removetime= -2
removeongethit= 1
pausemovetime = 9999
supermovetime = 9999

[State 0]
type = Explod
trigger1 = timemod = 15,1 && numexplod(171) = 1
anim = F401
ID = 4011
pos = 7,2
postype = p1
facing = -1
name = "dym prawa"
scale = 0.7,0.7
ownpal = 1
ontop = 0
ignorehitpause = 1
sprpriority = 3
bindtime= -1
removetime= -2
removeongethit= 1
pausemovetime = 9999
supermovetime = 9999

[State 170, 1]
type = NotHitBy
trigger1 = 1
value = SCA
time = 1

;---------------------------------------------------------------------------
; Win state decider
; CNS difficulty: basic
[Statedef 180]
type = S

[State 180, 1]
type = ChangeState
trigger1 = Time = 0
value = 181

;---------------------------------------------------------------------------
; Win pose 1
; CNS difficulty: basic
[Statedef 181]
type = S
ctrl = 0
anim = 180
velset = 0,0


[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
value = F9,3

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S2,11
volume = 256
channel = 2

[State 181, 1]
type = NotHitBy
trigger1 = 1
value = SCA
time = 1

;---------------------------------------------------------------------------
; Introduction
; CNS difficulty: basic
[Statedef 190]
type = S
ctrl = 0
anim = 190
velset = 0,0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 6
value = F15,6

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 6
value = F21,8

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 10
trigger2 = animelem = 13
value = F21,4

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 19
value = F21,9

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 21
value = F21,10

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 17
trigger2 = animelem = 23
value = F9,3

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = S2,21

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 31
value = S1,1

[State 0, Explod]
type = Explod
trigger1 = animelem = 10
anim = 191
ID = 191
pos = -6,-30
vel = 6,-3
accel = -0.15,0.15
scale = 1,1
postype = p1
facing = 1
bindtime = 1
removetime = 60
sprpriority = 1

[State 0, ModifyExplod]
type = ModifyExplod
trigger1 = 1
ID = 191
trans = addalpha
alpha = 256-(time-55)*4.5,0+(time-55)*4.5

[State 0, Explod]
type = Explod
trigger1 = animelem = 13
anim = 192
ID = 192
pos = 25,-48
vel = 6,-3
accel = -0.15,0.15
scale = 1,1
postype = p1
facing = 1
bindtime = 1
removetime = 60
sprpriority = 1

[State 0, ModifyExplod]
type = ModifyExplod
trigger1 = 1
ID = 192
trans = addalpha
alpha = 256-(time-80)*4.5,0+(time-80)*4.5

[State 0, Explod]
type = Explod
trigger1 = animelem = 14
anim = 193
ID = 193
pos = 0,0
scale = 1,1
postype = p1
facing = 1
bindtime = 1
removetime = 60
sprpriority = 1

[State 0, ModifyExplod]
type = ModifyExplod
trigger1 = 1
ID = 193
trans = addalpha
alpha = 256-(time-85)*4.5,0+(time-85)*4.5

[State 0, PowerSet]
type = PowerSet
trigger1 = Time = 0
value = 2000

[State 190, 1] ;Freeze animation until PreIntro is over
type = ChangeAnim
trigger1 = RoundState = 0
value = 190

[State 190, 2] ;Assert this until you want "round 1, fight" to begin
type = AssertSpecial
trigger1 = 1
flag = Intro

[State 190, 4] ;Change to stand state
type = ChangeState
trigger1 = AnimTime = 0
value = 0

;---------------------------------------------------------------------------
; Taunt
; CNS difficulty: easy
[Statedef 195]
type = S
ctrl = 1
anim = 195
velset = 0,0
movetype = I
physics = S
sprpriority = 2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
trigger2 = animelem = 4
value = F9,3

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S2,13
volume = 256
channel = 2

[State 195, 2]
type = ChangeState
trigger1 = animtime = 0
value = 0
ctrl = 1
;------------------



;------------------
;Combo 1
[StateDef 200]
type = S
movetype= A
physics = S
juggle  = 1
velset = 1,0
ctrl = 0
anim = 200
poweradd = 20
sprpriority = 2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F8,0+random%4

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = S4,0+random%14
volume = 255
channel = 4

[State 0, HitDef]
type = HitDef
trigger1 = AnimElem = 2
attr = S, NA
damage = 25,5
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 0, 5
sparkno = 0+random%4
sparkxy = -15, -40
hitsound = 35, 0+random%15;5, 21+random%5
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -1,0
airguard.velocity = -1,-.8
air.type = High
air.velocity = -1,0
air.hittime = 12
envshake.time = 10
envshake.freq = 20
envshake.ampl = -5
envshake.phase = 10
fall.yvelocity = -6

[State 0, TargetState]
type = TargetState
trigger1 = enemy(cond((enemy(0),alive),0,1)), var(40) = 0
trigger1 = !(enemynear, ishelper)
trigger1 = target, ishelper = 0
trigger1 = movehit
trigger1 = var(3) = 0
value = 105251+ID%4

[State 0, VarSet]
type = VarSet
trigger1 = movehit
trigger1 = !(enemynear, ishelper)
trigger1 = target, ishelper = 0
v = 3
value = 2

[State 0, End]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;------------------
;Combo 1
[StateDef 201]
type = S
movetype= A
physics = S
juggle  = 1
velset = 2,0
ctrl = 0
anim = 201
poweradd = 20
sprpriority = 2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F8,0+random%4

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = S4,0+random%14
volume = 255
channel = 4

[State 0, HitDef]
type = HitDef
trigger1 = AnimElem = 2
attr = S, NA
damage = 25,5
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 0, 5
sparkno = 0+random%4
sparkxy = -15, -41
hitsound = 35, 0+random%15;5, 21+random%5
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -2,0
airguard.velocity = -2,-.8
air.type = High
air.velocity = -2,0
air.hittime = 12
envshake.time = 10
envshake.freq = 20
envshake.ampl = -5
envshake.phase = 10
fall.yvelocity = -6

[State 0, TargetState]
type = TargetState
trigger1 = enemy(cond((enemy(0),alive),0,1)), var(40) = 0
trigger1 = !(enemynear, ishelper)
trigger1 = target, ishelper = 0
trigger1 = movehit
trigger1 = var(3) = 0
value = 105251+ID%4

[State 0, VarSet]
type = VarSet
trigger1 = movehit
trigger1 = !(enemynear, ishelper)
trigger1 = target, ishelper = 0
v = 3
value = 2

[State 0, End]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;------------------
;Combo 1
[StateDef 202]
type = S
movetype= A
physics = S
juggle  = 1
velset = 4,0
ctrl = 0
anim = 202
poweradd = 20
sprpriority = 2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F8,0+random%4

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = S4,0+random%14
volume = 255
channel = 4

[State 0, HitDef]
type = HitDef
trigger1 = AnimElem = 2
attr = S, NA
damage = 25,5
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 0, 5
sparkno = 0+random%4
sparkxy = -15, -33
hitsound = 35, 0+random%15;5, 21+random%5
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -3,0
airguard.velocity = -3,-.8
air.type = High
air.velocity = -3,0
air.hittime = 12
envshake.time = 10
envshake.freq = 20
envshake.ampl = -5
envshake.phase = 10
fall.yvelocity = -6

[State 0, TargetState]
type = TargetState
trigger1 = enemy(cond((enemy(0),alive),0,1)), var(40) = 0
trigger1 = !(enemynear, ishelper)
trigger1 = target, ishelper = 0
trigger1 = movehit
trigger1 = var(3) = 0
value = 105251+ID%4

[State 0, VarSet]
type = VarSet
trigger1 = movehit
trigger1 = !(enemynear, ishelper)
trigger1 = target, ishelper = 0
v = 3
value = 2

[State 0, End]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;------------------
;Combo 1
[StateDef 203]
type = S
movetype= A
physics = S
juggle  = 1
velset = 3,0
ctrl = 0
anim = 203
poweradd = 20
sprpriority = 2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F8,0+random%4

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = S4,0+random%14
volume = 255
channel = 4

[State 0, HitDef]
type = HitDef
trigger1 = AnimElem = 2
trigger1 = target, ishelper = 1
attr = S, NA
damage = 30,6
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 0, 5
sparkno = 0+random%4
sparkxy = -15, -38
hitsound = 35, 0+random%15;5, 21+random%5
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -10,-6
airguard.velocity = -10,-6
air.type = High
air.velocity = -10,-6
air.hittime = 12
envshake.time = 20
envshake.freq = 25
envshake.ampl = -6
envshake.phase = 10
fall.yvelocity = -6

[State 0, HitDef]
type = HitDef
trigger1 = AnimElem = 2
trigger1 = target, ishelper = 0
attr = C, HP
damage = 30,6
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 0, 5
sparkno = 0+random%4
sparkxy = -15, -38
hitsound = 35, 0+random%15;5, 21+random%5
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -10,-6
airguard.velocity = -10,-6
air.type = High
air.velocity = -10,-6
air.hittime = 12
envshake.time = 20
envshake.freq = 25
envshake.ampl = -6
envshake.phase = 10
fall.yvelocity = -6
p2stateno = 109990

[State 0, End]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;------------------
;Combo 1
[StateDef 204]
type = S
movetype= A
physics = S
juggle  = 1
velset = 1,0
ctrl = 0
anim = 204
poweradd = 20
sprpriority = 2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
value = S3,1

[State 0, Explod]
type = Explod
trigger1 = animelem = 2
anim = F300
scale = 2,2
pos = 10,0
postype = p1  ;p2,front,back,left,right
facing = 1
bindtime = 1
vel = -1,-1
removetime = -2
sprpriority = 3
ontop = 0
supermovetime = 9999
pausemovetime = 9999

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F8,0+random%4

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = S1,0+random%12
volume = 255
channel = 4

[State 0, Helper]
type = Helper
trigger1 = animelem = 2
helpertype = normal;player
name = "fuuton"
ID = 200
stateno = 205
pos = 5,-32
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1
size.xscale = 0.5
size.yscale = 0.5

[State 0, End]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;------------------
;Combo 1
[StateDef 205]
type = A
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 214
poweradd = 0
sprpriority = 3

[State 0, NotHitBy]
type = NotHitBy
trigger1 = time >= 0
value = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
time = -1

[State 0, PlayerPush]
type = PlayerPush
trigger1 = 1
value = 1

[State 0, AngleDraw]
type = AngleDraw
trigger1 = 1
value = -atan(vel y/vel x)*180/PI 

[State 0, VelSet]
type = VelSet
trigger1 = 1
x = 6
y = -1.5

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[State 0, Explod]
type = Explod
trigger1 = movehit = 1 && p2movetype = H
anim = F10+random%2
angle = -25+random%50
pos = -15,-30
postype = p2  ;p2,front,back,left,right
facing = 1
bindtime = 1
removetime = -2
sprpriority = 3
scale = 1,1
ontop = 0
supermovetime = 9999
pausemovetime = 9999

[State 0, Explod]
type = Explod
trigger1 = movehit = 1 && p2movetype = H
anim = F643
pos = -5+random%20,-15-random%30
postype = p2  ;p2,front,back,left,right
facing = 1
bindtime = 1
removetime = -2
sprpriority = 3
scale = 0.7,0.7
ontop = 0
supermovetime = 9999
pausemovetime = 9999

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
value = F14,6

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F14,0

[State 0, HitDef]
type = HitDef
trigger1 = timemod = 5,0
attr = S, NA
damage = 40,8
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 0, 3
sparkno = 4
sparkxy = -15,0
hitsound = 14, 5
guardsound = 14, 5
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -3,-1
airguard.velocity = -3,-1
air.type = High
air.velocity = -3,-1
air.hittime = 12
envshake.time = 30
envshake.freq = 30
envshake.ampl = -7
envshake.phase = 10
fall.yvelocity = -6
fall = 1

[State 0, End]
type = destroyself
trigger1 = Time = 15
;------------------
;Combo 2
[StateDef 210]
type = C
movetype= A
physics = S
juggle  = 1
velset = 2,0
ctrl = 0
anim = 210
poweradd = 20
sprpriority = 2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F8,0+random%4

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = S4,0+random%14
volume = 255
channel = 4

[State 0, HitDef]
type = HitDef
trigger1 = AnimElem = 2
attr = S, NA
damage = 30,6
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 0, 5
sparkno = 0+random%4
sparkxy = -15, -47
hitsound = 35, 0+random%15;5, 21+random%5
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -1,0
airguard.velocity = -1,-.8
air.type = High
air.velocity = -1,0
air.hittime = 12
envshake.time = 10
envshake.freq = 20
envshake.ampl = -5
envshake.phase = 10
fall.yvelocity = -6

[State 0, End]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;------------------
;Combo 2
[StateDef 211]
type = C
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 211
poweradd = 20
sprpriority = 2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F8,0+random%4

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = S4,0+random%14
volume = 255
channel = 4

[State 0, Helper]
type = Helper
trigger1 = animelem = 3
helpertype = normal;player
name = "Mokuton"
ID = 200
stateno = 2111
pos = -20,0
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1
size.xscale = 1
size.yscale = 1
supermovetime = 9999
pausemovetime = 9999

[State 0, End]
type = ChangeState
trigger1 = AnimTime = 0
value = 11
ctrl = 1
;-----------------
;Mokuton
[StateDef 2111]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 2111
poweradd = 0
sprpriority = 3

[State 0, NotHitBy]
type = NotHitBy
trigger1 = time >= 0
value = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
time = -1

[State 0, PlayerPush]
type = PlayerPush
trigger1 = 1
value = 1

[State 0, Explod]
type = Explod
trigger1 = timemod = 2,0 && time < 25
anim = 901+random%2
ID = 901
pos = 70+random%70,-10-random%30-time*2
vel = (-5+random%10)/10,-1
accel = 0,0.03
postype = p1
bindtime = 1
removetime = -2
supermovetime = 9999
pausemovetime = 9999
scale = 0.6,0.6
sprpriority = 4
ownpal = 0
ontop = 0

[State 0, Explod]
type = Explod
ownpal = 0
trigger1 = animelem = 1
anim = F550
pos = 0,0
scale = 1,1
postype = p1
facing = 1
bindtime = 1
removetime = -2
sprpriority = 4

[State 0, Explod]
type = Explod
ownpal = 0
trigger1 = animelem = 1
anim = F1190
pos = 0,0
scale = 1,0.5
postype = p1
facing = 1
bindtime = 1
removetime = -2
sprpriority = 5

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 =  1
flag = noshadow

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
value = F13,0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
value = F16,0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
value = F16,2

[State 0, hitdef]
type = HitDef
fall.yvelocity = -6
trigger1 = !time
trigger1 = time < 15
attr = S, NA
damage = 50,10
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 0, 7
sparkno = 4
sparkxy = -15,0-random%60
hitsound = 13, 2
guardsound = 13, 2
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -2,-7
airguard.velocity = -2,-7
air.type = High
air.velocity = -2,-7
air.hittime = 12
envshake.time = 10
envshake.freq = 20
envshake.ampl = -5
envshake.phase = 10
fall = 1

[State 0, Trans]
type = Trans
trigger1 = time > 30
trans = addalpha
alpha = 256-(time-30)*10,(time-30)*10

[State 0, end]
type = destroyself
trigger1 = time = 55
;------------------
;Combo 2
[StateDef 212]
type = A
movetype= A
physics = A
juggle  = 1
velset = 4,-6
ctrl = 0
anim = 212
poweradd = 20
sprpriority = 2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F8,0+random%4

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = S4,0+random%14
volume = 255
channel = 4

[State 0, HitDef]
type = HitDef
trigger1 = !time
attr = S, NA
damage = 30,6
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 5, 10
sparkno = 0+random%4
sparkxy = -15, -25
hitsound = 35, 0+random%15;5, 21+random%5
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -1,7
airguard.velocity = -1,7
air.type = High
air.velocity = -1,7
air.hittime = 12
envshake.time = 20
envshake.freq = 25
envshake.ampl = -6
envshake.phase = 10
fall.yvelocity = -6
fall = 1

[State 0, TargetState]
type = TargetState
trigger1 = enemy(cond((enemy(0),alive),0,1)), var(40) = 0
trigger1 = !(enemynear, ishelper)
trigger1 = target, ishelper = 0
trigger1 = movehit
trigger1 = var(3) = 0
value = 105251+ID%4

[State 0, VarSet]
type = VarSet
trigger1 = movehit
trigger1 = !(enemynear, ishelper)
trigger1 = target, ishelper = 0
v = 3
value = 2

[State 0, End]
type = ChangeState
trigger1 = AnimTime = 0
value = 50
ctrl = 1
;------------------
;Combo 2
[StateDef 213]
type = A
movetype= A
physics = A
juggle  = 1
velset = 1,-3
ctrl = 0
anim = 213
poweradd = 20
sprpriority = 2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
value = S3,1

[State 0, VelSet]
type = VelSet
trigger1 = animelem = 3
x = -2
y = -2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F8,0+random%4

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = S1,0+random%12
volume = 255
channel = 4

[State 0, Helper]
type = Helper
trigger1 = animelem = 2
helpertype = normal;player
name = "fuuton"
ID = 200
stateno = 214
pos = 5,-35
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1
size.xscale = 0.5
size.yscale = 0.5

[State 0, End]
type = ChangeState
trigger1 = AnimTime = 0
value = 50
ctrl = 1
;------------------
;Combo 2
[StateDef 214]
type = A
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 214
poweradd = 0
sprpriority = 3

[State 0, NotHitBy]
type = NotHitBy
trigger1 = time >= 0
value = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
time = -1

[State 0, PlayerPush]
type = PlayerPush
trigger1 = 1
value = 1

[State 0, AngleDraw]
type = AngleDraw
trigger1 = 1
value = -atan(vel y/vel x)*180/PI 

[State 0, VelSet]
type = VelSet
trigger1 = pos y < 0
x = 5
y = 3

[State 0, VelSet]
type = VelSet
trigger1 = pos y >= 0
x = 0
y = 0

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[State 0, Explod]
type = Explod
trigger1 = movehit = 1 && p2movetype = H
anim = F10+random%2
angle = -25+random%50
pos = -15,-30
postype = p2  ;p2,front,back,left,right
facing = 1
bindtime = 1
removetime = -2
sprpriority = 3
scale = 1,1
ontop = 0
supermovetime = 9999
pausemovetime = 9999

[State 0, Explod]
type = Explod
trigger1 = movehit = 1 && p2movetype = H
anim = F643
pos = -5+random%20,-15-random%30
postype = p2  ;p2,front,back,left,right
facing = 1
bindtime = 1
removetime = -2
sprpriority = 3
scale = 0.7,0.7
ontop = 0
supermovetime = 9999
pausemovetime = 9999

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
value = F14,6

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F14,0

[State 0, HitDef]
type = HitDef
trigger1 = timemod = 5,0
attr = S, NA
damage = 40,8
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 0, 3
sparkno = 4
sparkxy = -15,0
hitsound = 14, 5
guardsound = 14, 5
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -2,2
airguard.velocity = -2,2
air.type = High
air.velocity = -2,2
air.hittime = 12
envshake.time = 30
envshake.freq = 30
envshake.ampl = -7
envshake.phase = 10
fall.yvelocity = -6
fall = 1

[State 0, End]
type = destroyself
trigger1 = Time = 15
;------------------
;Combo 3
[StateDef 220]
type = S
movetype= A
physics = S
juggle  = 1
velset = 3,0
ctrl = 0
anim = 220
poweradd = 20
sprpriority = 2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F8,0+random%4

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = S4,0+random%14
volume = 255
channel = 4

[State 0, HitDef]
type = HitDef
trigger1 = AnimElem = 2
attr = S, NA
damage = 25,5
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 0, 5
sparkno = 0+random%4
sparkxy = -15, -38
hitsound = 35, 0+random%15;5, 21+random%5
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -2,0
airguard.velocity = -2,-.8
air.type = High
air.velocity = -2,0
air.hittime = 12
envshake.time = 10
envshake.freq = 20
envshake.ampl = -5
envshake.phase = 10
fall.yvelocity = -6

[State 0, TargetState]
type = TargetState
trigger1 = enemy(cond((enemy(0),alive),0,1)), var(40) = 0
trigger1 = !(enemynear, ishelper)
trigger1 = target, ishelper = 0
trigger1 = movehit
trigger1 = var(3) = 0
value = 105251+ID%4

[State 0, VarSet]
type = VarSet
trigger1 = movehit
trigger1 = !(enemynear, ishelper)
trigger1 = target, ishelper = 0
v = 3
value = 2

[State 0, End]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;------------------
;Combo 3
[StateDef 221]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 221
poweradd = 20
sprpriority = 2

[State 0, VelSet]
type = VelSet
trigger1 = animelem = 2
x = 3

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
value = F8,0+random%4

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
value = F17,0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = S4,0+random%14
volume = 255
channel = 4

[State 0, Helper]
type = Helper
trigger1 = animelem = 2
helpertype = normal;player
name = "fuuton"
ID = 200
stateno = 2211
pos = 15,-40
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1
size.xscale = 0.3
size.yscale = 0.3

[State 0, End]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;------------------
;Combo 3
[StateDef 2211]
type = A
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 2211
poweradd = 0
sprpriority = 3

[State 0, BindToParent]
type = BindToParent
trigger1 = time < 7 && parent, stateno = 221
time = 1
pos = 15,-40
;ignorehitpause = 
;persistent = 

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[State 0, Explod]
type = Explod
trigger1 = movehit = 1 && p2movetype = H
anim = F10+random%2
angle = -25+random%50
pos = -15,-30
postype = p2  ;p2,front,back,left,right
facing = 1
bindtime = 1
removetime = -2
sprpriority = 3
scale = 1,1
ontop = 0
supermovetime = 9999
pausemovetime = 9999

[State 0, Explod]
type = Explod
trigger1 = movehit = 1 && p2movetype = H
anim = F643
pos = -5+random%20,-15-random%30
postype = p2  ;p2,front,back,left,right
facing = 1
bindtime = 1
removetime = -2
sprpriority = 3
scale = 0.5,0.5
ontop = 0
supermovetime = 9999
pausemovetime = 9999

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
value = F14,0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F14,1

[State 0, HitDef]
type = HitDef
trigger1 = timemod = 3,0
attr = S, NA
damage = 25,5
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 0, 1
sparkno = 4
sparkxy = -15,0
hitsound = 14,6 
guardsound = 14, 6
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -4,-3
airguard.velocity = -4,-3
air.type = High
air.velocity = -4,-3
air.hittime = 12
envshake.time = 20
envshake.freq = 25
envshake.ampl = -6
envshake.phase = 10
fall.yvelocity = -7
fall = 1

[State 0, End]
type = destroyself
trigger1 = animtime = 0
;------------------
;Combo 3
[StateDef 222]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 222
poweradd = 20
sprpriority = 2

[State 0, VelSet]
type = VelSet
trigger1 = animelem = 2
x = 3

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
value = S3,1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
value = F8,0+random%4

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
value = F17,0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = S1,0+random%12
volume = 255
channel = 4

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 5
value = S3,7
channel = 8

[State 0, Helper]
type = Helper
trigger1 = time = 5
trigger2 = time > 5 && timemod = 8,0
helpertype = normal ;player
name = "Futon"
ID = 201
stateno = 2221
pos = 22,-37
postype = p1    ;p2,front,back,left,right
facing = 1
ownpal = 0
size.xscale = 0.1
size.yscale = 0.05

[State 1520, destroyself]
type = ChangeState
trigger1 = animtime = 0
value = 0
ctrl = 1
;-----------------
;Combo 3
[StateDef 2221]
type = A
movetype= A
physics = S
juggle  = 1
ctrl = 0
anim = 575
poweradd = 0
sprpriority = 3

[State 0, Explod]
type = Explod
trigger1 = movehit = 1 && p2movetype = H
anim = F10+random%2
angle = -25+random%50
pos = 0,0
postype = p1  ;p2,front,back,left,right
facing = 1
bindtime = 1
removetime = -2
sprpriority = 3
scale = 0.5,0.5
ontop = 0
supermovetime = 9999
pausemovetime = 9999

[State 0, Explod]
type = Explod
trigger1 = movehit = 1 && p2movetype = H
anim = F643
pos = -3+random%8,5-random%10
postype = p1  ;p2,front,back,left,right
facing = 1
bindtime = 1
removetime = -2
sprpriority = 3
scale = 0.5,0.5
ontop = 0
supermovetime = 9999
pausemovetime = 9999

[State 0, AngleDraw]
type = AngleDraw
trigger1 = 1
value = -atan(vel y/vel x)*180/PI 

[State 0, Explod]
type = Explod
trigger1 = time = 0
trigger2 = timemod = 22,0
anim = 577
id = 577
pos = 0,0
scale = 0.3,0.15
postype = p1
facing = 1
bindtime = -1
removetime = -2
sprpriority = 4
supermovetime = 99999
pausemovetime = 99999
ownpal = 0

[State 0, ModifyExplod]
type = ModifyExplod
trigger1 = 1
ID = 577
angle = -atan(vel y/vel x)*180/PI 

[State 0, EnvShake]
type = EnvShake
trigger1 = time%5 = 0
time = 6
freq = 20
ampl = 2
phase = 90

[State 0, VarRandom]
type = VarRandom
trigger1 = time = 0
v = 10
range = -100,75

[State 0, VarRandom]
type = VarRandom
trigger1 = time = 0
v = 8
range = 3,6

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow
ignorehitpause = 1

[State 0, VelSet]
type = VelSet
trigger1 = 1
x = (4+var(8))
y = var(10)/50.0

[State 0, HitOverride]
type = HitOverride
trigger1 = 1
attr = SCA, NA, SA, HA, NP, SP, HP
stateno = 2222
time = -1
forceair = 1

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
value = F14,6

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F14,0

[State 0, HitDef]
type = HitDef
trigger1 = timemod = 5,0
attr = S, NA
damage = 20,4
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 0, 5
sparkno = 4
sparkxy = -15,0
hitsound = 14, 5
guardsound = 14, 5
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -3,-2
airguard.velocity = -3,-2
air.type = High
air.velocity = -3,-2
air.hittime = 12
envshake.time = 20
envshake.freq = 25
envshake.ampl = -6
envshake.phase = 10
fall.yvelocity = -6
fall = 1

[State 0, End]
type = changestate
trigger1 = movecontact
trigger2 = animtime = 0
trigger3 = pos y > -1
value = 2222
;-----------------
;Combo 3
[StateDef 2222]
type = A
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 576
poweradd = 0
sprpriority = 3

[State 0, AngleDraw]
type = AngleDraw
trigger1 = 1
value = -atan(vel y/vel x)*180/PI 

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = 1
id = 577

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
value = F14,6

[State 0, Explod]
type = Explod
trigger1 = time = 0 && pos y > -1
anim = F1090
id = 1090
pos = 20,0
scale = 0.2,0.2
postype = p1
facing = 1
bindtime = 1
removetime = -2
sprpriority = 4
supermovetime = 99999
pausemovetime = 99999

[State 0, Explod]
type = Explod
trigger1 = time = 0 && pos y > -1
anim = F1200
id = 1200
pos = 20,0
scale = 0.2,0.2
postype = p1
facing = 1
bindtime = 1
removetime = -2
sprpriority = 5
supermovetime = 99999
pausemovetime = 99999
ownpal = 0

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 =  1
flag = noshadow

[State 0, VelSet]
type=VelSet
trigger1= 1
x=2-time/10

[State 0, End]
type = destroyself
trigger1 = animtime = 0
;------------------
;Combo 3
[StateDef 223]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 223
poweradd = 20
sprpriority = 2

[State 0, VelSet]
type = VelSet
trigger1 = animelem = 3
x = 3

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
value = F8,0+random%4

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
trigger2 = animelem = 2
value = F17,0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = S3,1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = S3,14

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = S3,14

[State 0, Helper]
type = Helper
trigger1 = animelem = 3
helpertype = normal;player
name = "fuuton"
ID = 202
stateno = 2231
pos = 40,-35
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1
size.xscale = 0.4
size.yscale = 0.2

[State 0, End]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;------------------
;Combo 3
[StateDef 2231]
type = A
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 2231
poweradd = 0
sprpriority = 3

[State 0, NotHitBy]
type = NotHitBy
trigger1 = time >= 0
value = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
time = -1

[State 0, PlayerPush]
type = PlayerPush
trigger1 = 1
value = 1


[State 0, Explod]
type = Explod
trigger1 = time = 5
anim = F1391
ID = 1391
scale = 0.25,0.25
pos = 20,0
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = -1
bindtime = -1
removetime = -2
sprpriority = 4
ontop = 0
supermovetime = 9999
pausemovetime = 9999

[State 0, Explod]
type = Explod
trigger1 = time = 5
anim = F1391
ID = 1391
scale = 0.37,0.37
pos = 5,0
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = -1
bindtime = -1
removetime = -2
sprpriority = 4
ontop = 0
supermovetime = 9999
pausemovetime = 9999

[State 0, ModifyExplod]
type = ModifyExplod
trigger1 = 1
ID = 1391
angle = -30-atan(vel y/vel x)*180/PI 

[State 0, Explod]
type = Explod
trigger1 = time = 0
anim = F460
ID = 460
scale = 0.8,0.5
pos = 0,0
postype = p1  ;p2,front,back,left,right
facing = 1
bindtime = -1
removetime = 25
sprpriority = 4
ontop = 0
supermovetime = 9999
pausemovetime = 9999

[State 0, ModifyExplod]
type = ModifyExplod
trigger1 = 1
ID = 460
angle = -atan(vel y/vel x)*180/PI 

[State 0, Explod]
type = Explod
trigger1 = time = 0
anim = 577
id = 577
pos = 0,0
scale = 1,0.5
postype = p1
facing = 1
bindtime = -1
removetime = -2
sprpriority = 4
supermovetime = 99999
pausemovetime = 99999
ownpal = 0

[State 0, ModifyExplod]
type = ModifyExplod
trigger1 = 1
ID = 577
angle = -atan(vel y/vel x)*180/PI 

[State 0, VelSet]
type = VelSet
trigger1 = 1
x = 6
y = -0.5

[State 0, AngleDraw]
type = AngleDraw
trigger1 = 1
value = -atan(vel y/vel x)*180/PI 

[State 0, Trans]
type = Trans
trigger1 = 1
trans = add

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[State 0, Explod]
type = Explod
trigger1 = movehit = 1 && p2movetype = H
anim = F10+random%2
angle = -25+random%50
pos = 0,0
postype = p1  ;p2,front,back,left,right
facing = 1
bindtime = 1
removetime = -2
sprpriority = 3
scale = 1,1
ontop = 0
supermovetime = 9999
pausemovetime = 9999

[State 0, Explod]
type = Explod
trigger1 = movehit = 1 && p2movetype = H
anim = F643
pos = -5+random%20,-15-random%30
postype = p2  ;p2,front,back,left,right
facing = 1
bindtime = 1
removetime = -2
sprpriority = 3
scale = 0.7,0.7
ontop = 0
supermovetime = 9999
pausemovetime = 9999

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
value = F14,6

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F14,0

[State 0, HitDef]
type = HitDef
trigger1 = timemod = 5,0
attr = S, NA
damage = 25,5
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 0,0
sparkno = 4
sparkxy = -15,0
hitsound = 14, 5
guardsound = 14, 5
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -7,-3
airguard.velocity = -7,-3
air.type = High
air.velocity = -7,-3
air.hittime = 12
envshake.time = 30
envshake.freq = 30
envshake.ampl = -7
envshake.phase = 10
fall.yvelocity = -6
fall = 1

[State 0, End]
type = destroyself
trigger1 = AnimTime = 0
;------------------
;Combo 4
[StateDef 230]
type = A
movetype= A
physics = A
juggle  = 1
ctrl = 0
anim = 230
poweradd = 20
sprpriority = 2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F8,0+random%4

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = S4,0+random%14
volume = 255
channel = 4

[State 0, HitDef]
type = HitDef
trigger1 = AnimElem = 2
attr = S, NA
damage = 25,5
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 0, 5
sparkno = 0+random%4
sparkxy = -15, -42
hitsound = 35, 0+random%15;5, 21+random%5
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -1,-3
airguard.velocity = -1,-3
air.type = High
air.velocity = -1,-3
air.hittime = 12
envshake.time = 10
envshake.freq = 20
envshake.ampl = -5
envshake.phase = 10
fall.yvelocity = -6

[State 0, End]
type = ChangeState
trigger1 = AnimTime = 0
value = 50
ctrl = 1
;------------------
;Combo 4
[StateDef 231]
type = A
movetype= A
physics = A
juggle  = 1
velset = 2,-2
ctrl = 0
anim = 231
poweradd = 20
sprpriority = 2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F8,0+random%4

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = S4,0+random%14
volume = 255
channel = 4

[State 0, HitDef]
type = HitDef
trigger1 = !time
attr = S, NA
damage = 30,6
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 5, 10
sparkno = 0+random%4
sparkxy = -15, -25
hitsound = 35, 0+random%15;5, 21+random%5
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -1,7
airguard.velocity = -1,7
air.type = High
air.velocity = -1,7
air.hittime = 12
envshake.time = 20
envshake.freq = 25
envshake.ampl = -6
envshake.phase = 10
fall.yvelocity = -6
fall = 1

[State 0, TargetState]
type = TargetState
trigger1 = enemy(cond((enemy(0),alive),0,1)), var(40) = 0
trigger1 = !(enemynear, ishelper)
trigger1 = target, ishelper = 0
trigger1 = movehit
trigger1 = var(3) = 0
value = 105251+ID%4

[State 0, VarSet]
type = VarSet
trigger1 = movehit
trigger1 = !(enemynear, ishelper)
trigger1 = target, ishelper = 0
v = 3
value = 2

[State 0, End]
type = ChangeState
trigger1 = AnimTime = 0
value = 50
ctrl = 1
;------------------
;Combo 4
[StateDef 232]
type = A
movetype= A
physics = A
juggle  = 1
velset = 1,-3
ctrl = 0
anim = 232
poweradd = 20
sprpriority = 2

[State 0, VelSet]
type = VelSet
trigger1 = animelem = 3
x = -2
y = -2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F8,0+random%4

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = S1,0+random%12
volume = 255
channel = 4

[State 0, Helper]
type = Helper
trigger1 = animelem = 2
helpertype = normal;player
name = "fuuton"
ID = 200
stateno = 233
pos = 5,-35
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1
size.xscale = 0.5
size.yscale = 0.5

[State 0, End]
type = ChangeState
trigger1 = AnimTime = 0
value = 50
ctrl = 1
;------------------
;Combo 4
[StateDef 233]
type = A
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 214
poweradd = 0
sprpriority = 3

[State 0, AngleDraw]
type = AngleDraw
trigger1 = 1
value = -atan(vel y/vel x)*180/PI 

[State 0, VelSet]
type = VelSet
trigger1 = pos y < 0
x = 6
y = 2

[State 0, VelSet]
type = VelSet
trigger1 = pos y >= 0
x = 0
y = 0

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[State 0, Explod]
type = Explod
trigger1 = movehit = 1 && p2movetype = H
anim = F10+random%2
angle = -25+random%50
pos = -15,-30
postype = p2  ;p2,front,back,left,right
facing = 1
bindtime = 1
removetime = -2
sprpriority = 3
scale = 1,1
ontop = 0
supermovetime = 9999
pausemovetime = 9999

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
value = F14,6

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F14,0

[State 0, HitDef]
type = HitDef
trigger1 = timemod = 3,0
attr = S, NA
damage = 35,7
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 0, 3
sparkno = 4
sparkxy = -15, 0
hitsound = 14, 5
guardsound = 14, 5
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -5,2
airguard.velocity = -5,2
air.type = High
air.velocity = -5,2
air.hittime = 12
envshake.time = 30
envshake.freq = 30
envshake.ampl = -7
envshake.phase = 10
fall.yvelocity = -6
fall = 1

[State 0, End]
type = destroyself
trigger1 = Time = 15
;------------------
;Combo 4
[StateDef 234]
type = A
movetype= A
physics = A
juggle  = 1
velset = 0,0
ctrl = 0
anim = 234
poweradd = 20
sprpriority = 2

[State 0, VelSet]
type = VelSet
trigger1 = animelem = 2
x = -3
y = -3

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
value = S3,1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
value = F8,0+random%4

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
value = F17,0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = S3,2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = S3,2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 5
value = S3,7
channel = 8

[State 0, Helper]
type = Helper
trigger1 = time = 5
trigger2 = time > 5 && timemod = 8,0
helpertype = normal ;player
name = "Futon"
ID = 201
stateno = 2341
pos = 11,-46
postype = p1    ;p2,front,back,left,right
facing = 1
ownpal = 0
size.xscale = 0.1
size.yscale = 0.05

[State 1520, destroyself]
type = ChangeState
trigger1 = animtime = 0
value = 50
ctrl = 1
;-----------------
;Combo 4
[StateDef 2341]
type = A
movetype= A
physics = S
juggle  = 1
ctrl = 0
anim = 575
poweradd = 0
sprpriority = 3

[State 0, Explod]
type = Explod
trigger1 = movehit = 1 && p2movetype = H
anim = F10+random%2
angle = -25+random%50
pos = 0,0
postype = p1  ;p2,front,back,left,right
facing = 1
bindtime = 1
removetime = -2
sprpriority = 3
scale = 0.7,0.7
ontop = 0
supermovetime = 9999
pausemovetime = 9999

[State 0, Explod]
type = Explod
trigger1 = movehit = 1 && p2movetype = H
anim = F643
pos = -3+random%8,5-random%10
postype = p1  ;p2,front,back,left,right
facing = 1
bindtime = 1
removetime = -2
sprpriority = 3
scale = 0.5,0.5
ontop = 0
supermovetime = 9999
pausemovetime = 9999

[State 0, AngleDraw]
type = AngleDraw
trigger1 = 1
value = -atan(vel y/vel x)*180/PI 

[State 0, Explod]
type = Explod
trigger1 = time = 0
trigger2 = timemod = 22,0
anim = 577
id = 577
pos = 0,0
scale = 0.3,0.15
postype = p1
facing = 1
bindtime = -1
removetime = -2
sprpriority = 4
supermovetime = 99999
pausemovetime = 99999
ownpal = 0

[State 0, ModifyExplod]
type = ModifyExplod
trigger1 = 1
ID = 577
angle = -atan(vel y/vel x)*180/PI 

[State 0, EnvShake]
type = EnvShake
trigger1 = time%5 = 0
time = 6
freq = 20
ampl = 2
phase = 90

[State 0, VarRandom]
type = VarRandom
trigger1 = time = 0
v = 10
range = -100,75

[State 0, VarRandom]
type = VarRandom
trigger1 = time = 0
v = 8
range = 3,6

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow
ignorehitpause = 1

[State 0, VelSet]
type = VelSet
trigger1 = 1
x = (4+var(8))
y = (4+var(8))

[State 0, HitOverride]
type = HitOverride
trigger1 = 1
attr = SCA, NA, SA, HA, NP, SP, HP
stateno = 2342
time = -1
forceair = 1

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
value = F14,6

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F14,0

[State 0, HitDef]
type = HitDef
trigger1 = timemod = 5,0
attr = S, NA
damage = 20,4
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 0, 5
sparkno = 4
sparkxy = -15,0
hitsound = 14, 5
guardsound = 14, 5
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -3,3
airguard.velocity = -3,3
air.type = High
air.velocity = -3,3
air.hittime = 12
envshake.time = 20
envshake.freq = 25
envshake.ampl = -6
envshake.phase = 10
fall.yvelocity = -6
fall = 1

[State 0, End]
type = changestate
trigger1 = movecontact
trigger2 = animtime = 0
trigger3 = pos y > -1
value = 2342
;-----------------
;Combo 4
[StateDef 2342]
type = A
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 576
poweradd = 0
sprpriority = 3

[State 0, AngleDraw]
type = AngleDraw
trigger1 = 1
value = -atan(vel y/vel x)*180/PI 

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = 1
id = 577

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
value = F14,6

[State 0, Explod]
type = Explod
trigger1 = time = 0 && pos y > -1
anim = F1090
id = 1090
pos = 20,0
scale = 0.2,0.2
postype = p1
facing = 1
bindtime = 1
removetime = -2
sprpriority = 4
supermovetime = 99999
pausemovetime = 99999

[State 0, Explod]
type = Explod
trigger1 = time = 0 && pos y > -1
anim = F1200
id = 1200
pos = 20,0
scale = 0.2,0.2
postype = p1
facing = 1
bindtime = 1
removetime = -2
sprpriority = 5
supermovetime = 99999
pausemovetime = 99999
ownpal = 0

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 =  1
flag = noshadow

[State 0, VelSet]
type=VelSet
trigger1= 1
x = 2-time/10
y = 2-time/10

[State 0, VelSet]
type=VelSet
trigger1= pos y < 0
y = 2-time/10

[State 0, VelSet]
type=VelSet
trigger1= pos y >= 0
y = 0

[State 0, End]
type = destroyself
trigger1 = animtime = 0
;------------------
;Combo 5
[StateDef 240]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 240
poweradd = 20
sprpriority = 2

[State 0, Explod]
type = Explod
trigger1 = movehit = 1 && p2movetype = H
anim = F10+random%2
angle = -25+random%50
pos = -15,-36
postype = p2  ;p2,front,back,left,right
facing = 1
bindtime = 1
removetime = -2
sprpriority = 3
scale = 1,1
ontop = 0
supermovetime = 9999
pausemovetime = 9999

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F24,0+random%5

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F8,0+random%4

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = S4,0+random%14
volume = 255
channel = 4

[State 0, HitDef]
type = HitDef
trigger1 = AnimElem = 2
attr = S, NA
damage = 25,5
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 5, 5
sparkno = 0+random%4
sparkxy = -15, -36
hitsound = 24, 10+random%4
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -1,0
airguard.velocity = -1,-.8
air.type = High
air.velocity = -1,0
air.hittime = 12
envshake.time = 10
envshake.freq = 20
envshake.ampl = -5
envshake.phase = 10
fall.yvelocity = -6
p1stateno = 241

[State 0, End]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;------------------
;Combo 5
[StateDef 241]
type = S
movetype= A
physics = S
juggle  = 1
velset = 6,0
ctrl = 0
anim = 241
poweradd = 20
sprpriority = 2

[State 0, Explod]
type = Explod
trigger1 = movehit = 1 && p2movetype = H
anim = F10+random%2
angle = -25+random%50
pos = -15,-34
postype = p2  ;p2,front,back,left,right
facing = 1
bindtime = 1
removetime = -2
sprpriority = 3
scale = 1,1
ontop = 0
supermovetime = 9999
pausemovetime = 9999

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F24,0+random%5

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
value = F8,0+random%4

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = S4,0+random%14
volume = 255
channel = 4

[State 0, HitDef]
type = HitDef
trigger1 = AnimElem = 1
attr = S, NA
damage = 30,6
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 5, 10
sparkno = 0+random%4
sparkxy = -15, -34
hitsound = 24, 10+random%4
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -3,0
airguard.velocity = -3,-.8
air.type = High
air.velocity = -3,0
air.hittime = 12
envshake.time = 10
envshake.freq = 20
envshake.ampl = -5
envshake.phase = 10
fall.yvelocity = -6

[State 0, End]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;------------------
;Combo 5
[StateDef 242]
type = S
movetype= A
physics = S
juggle  = 1
velset = 15,0
ctrl = 0
anim = 242
poweradd = 20
sprpriority = 2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = F31

[State 0, Explod]
type = Explod
trigger1 = time = 0
anim = F300
ID = 24
pos = -15,2
postype = p1  ;P2,front,back,left,right
scale = 1.3,1.3
vel = -1,0
sprpriority = 2
bindtime = 1
ontop = 0
supermovetime = 9999
pausemovetime = 9999

[State 0, Helper]
type = Helper
trigger1 = movehit = 1
helpertype = normal ;player
name = "White Flash"
ID = 9999
stateno = 9999
pos = 0,0
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
size.xscale = 10
size.yscale = 10
persistent = 0

[State 0, PlayerPush]
type = PlayerPush
trigger1 = 1
value = 0

[State 0, Explod]
type = Explod
trigger1 = movehit = 1 && p2movetype = H
anim = F11+random%2
angle = -25+random%50
pos = -15,-38
postype = p2  ;p2,front,back,left,right
facing = 1
bindtime = 1
removetime = -2
sprpriority = 3
scale = 1.3,1.3
ontop = 0
supermovetime = 9999
pausemovetime = 9999

[State 0, Explod]
type = Explod
trigger1 = movehit = 1 && p2movetype = H
anim = F2010
pos = -15,-38
postype = p2  ;p2,front,back,left,right
facing = 1
bindtime = 1
removetime = -2
sprpriority = 4
scale = 2,2
ontop = 0
supermovetime = 9999
pausemovetime = 9999

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
value = F24,0+random%5

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F8,0+random%4

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = S4,0+random%14
volume = 255
channel = 4

[State 0, HitDef]
type = HitDef
trigger1 = AnimElem = 1
attr = S, NA
damage = 40,8
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 0, 20
sparkno = 0+random%4
sparkxy = -15, -38
hitsound = 24, 10+random%4
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 25
ground.velocity = -3,0
airguard.velocity = -3,-.8
air.type = High
air.velocity = -3,0
air.hittime = 12
envshake.time = 20
envshake.freq = 25
envshake.ampl = -6
envshake.phase = 10
fall.yvelocity = -6
fall = 1

[State 0, End]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;------------------
;Combo 5
[StateDef 243]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 243
poweradd = 20
sprpriority = 2

[State 0, PlayerPush]
type = PlayerPush
trigger1 = 1
value = 0

[State 0, Explod]
type = Explod
trigger1 = movehit = 1 && p2movetype = H
anim = F10+random%2
angle = -25+random%50
pos = -15,-10-random%50
postype = p2  ;p2,front,back,left,right
facing = 1
bindtime = 1
removetime = -2
sprpriority = 3
scale = 1.3,1.3
ontop = 0
supermovetime = 9999
pausemovetime = 9999

[State 0, Explod]
type = Explod
trigger1 = movehit = 1 && p2movetype = H
anim = F643
pos = -15,-10-random%50
postype = p1  ;p2,front,back,left,right
facing = 1
bindtime = 1
removetime = -2
sprpriority = 3
scale = 0.5,0.5
ontop = 0
supermovetime = 9999
pausemovetime = 9999

[State 0, Explod]
type = Explod
trigger1 = animelem = 2
anim = 2431
ID = 2431
pos = 3,-42
postype = p1  ;p2,front,back,left,right
facing = 1
bindtime = -1
removetime = -2
sprpriority = 4
scale = .5,.5
ownpal = 1
ontop = 0
supermovetime = 9999
pausemovetime = 9999
removeongethit = 1

[State 0, Explod]
type = Explod
trigger1 = animelem = 3
anim = F643
ID = 643
pos = 3,-42
postype = p1  ;p2,front,back,left,right
facing = 1
bindtime = -1
removetime = -2
sprpriority = 4
scale = 1.2,1.1
ontop = 0
supermovetime = 9999
pausemovetime = 9999
removeongethit = 1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F21,6

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F8,0+random%4

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = S2,2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = S3,1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = F14,1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = F14,6

[State 0, HitDef]
type = HitDef
trigger1 = timemod = 5,0
attr = S, NA
damage = 15,3
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 0, 2
sparkno = 4
sparkxy = -15,-10-random%50
hitsound = 14, 5
guardsound = 14, 5
ground.type = High
ground.slidetime = 5
ground.hittime  = 25
ground.velocity = -4,-3
airguard.velocity = -4,-3
air.type = High
air.velocity = -4,-3
air.hittime = 12
envshake.time = 20
envshake.freq = 25
envshake.ampl = -6
envshake.phase = 10
fall.yvelocity = -6
fall = 1

[State 0, End]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;-----------------
;Combo 5
[StateDef 244]
type = S
movetype= A
physics = S
juggle  = 1
velset = -3,0
ctrl = 0
anim = 244
poweradd = 20
sprpriority = 2

[State 0, PlayerPush]
type = PlayerPush
trigger1 = 1
value = 0

[State 0, EnvShake]
type = EnvShake
trigger1 = animelem = 4
trigger2 = animelem = 9
time = 15
freq = 15
ampl = -2
phase = 15

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F8,0+random%4

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 5
value = S1,0+random%12
volume = 255
channel = 4

[State 0, Explod]
type = Explod
trigger1 = animelem = 5
anim = F1200
pos = 25,-42
scale = 1.4,1.2
postype = p1
facing = -1
bindtime = 1
removetime = -2
sprpriority = 3

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 4
trigger2 = animelem = 9
value = F13,0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 4
trigger2 = animelem = 9
value = F13,0

[State 0, hitdef]
type = HitDef
trigger1 = timemod = 5,0
trigger1 = target, ishelper = 1
attr = S, NA
damage = 15,3
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 0, 5
sparkno = 4
sparkxy = -15,-20-random%40
hitsound = 13, 2
guardsound = 13, 2
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
air.type = High
air.hittime = 12
envshake.time = 30
envshake.freq = 30
envshake.ampl = -7
envshake.phase = 10
ground.velocity = -12,-5
air.velocity = -12,-5
airguard.velocity = -12,-5
envshake.time = 30
envshake.freq = 30
envshake.ampl = -7
envshake.phase = 10
fall.yvelocity = -6
fall = 1

[State 0, hitdef]
type = HitDef
trigger1 = timemod = 5,0
trigger1 = target, ishelper = 0
attr = C, HP
damage = 15,3
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 0, 5
sparkno = 4
sparkxy = -15,-20-random%40
hitsound = 13, 2
guardsound = 13, 2
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
air.type = High
air.hittime = 12
envshake.time = 30
envshake.freq = 30
envshake.ampl = -7
envshake.phase = 10
ground.velocity = -12,-5
air.velocity = -12,-5
airguard.velocity = -12,-5
envshake.time = 30
envshake.freq = 30
envshake.ampl = -7
envshake.phase = 10
fall.yvelocity = -6
p2stateno = 109990

[State 0, End]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;------------------
;Combo 6
[StateDef 250]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 250
poweradd = -100
sprpriority = 2

[State 0, Explod]
type = Explod
trigger1 = time = 4
anim = 2501
id = 2501
scale = 1,1
pos = 0,0
postype = p1  ;p2,front,back,left,right
facing = 1
bindtime = -1
removetime = -2
sprpriority = 4
removeongethit = 1
ownpal = 1
ontop = 0

[State 0, Explod]
type = Explod
trigger1 = movehit = 1 && p2movetype = H
anim = F10+random%2
angle = -25+random%50
pos = -15,-30-random%30
postype = p2  ;p2,front,back,left,right
facing = 1
bindtime = 1
removetime = -2
sprpriority = 3
scale = 1,1
ontop = 0
supermovetime = 9999
pausemovetime = 9999

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F21,6

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = S3,1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = F8,0+random%4

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = F14,5

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = F14,6

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 4
value = S4,0+random%14
volume = 255
channel = 4

[State 0, HitDef]
type = HitDef
trigger1 = animelem = 3
attr = S, NA
damage = 50,10
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 0, 5
sparkno = 0+random%4
sparkxy = -15, -30-random%30
hitsound = 24, 10+random%4
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -1,0
airguard.velocity = -1,-.8
air.type = High
air.velocity = -1,0
air.hittime = 12
envshake.time = 10
envshake.freq = 20
envshake.ampl = -5
envshake.phase = 10
fall.yvelocity = -6

[State 0, End]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;------------------
;Combo 6
[StateDef 251]
type = S
movetype= A
physics = S
juggle  = 1
velset = 4,0
ctrl = 0
anim = 251
poweradd = 20
sprpriority = 2

[State 0, Explod]
type = Explod
trigger1 = time = 0
anim = 2511
id = 2511
scale = 1,1
pos = 0,0
postype = p1  ;p2,front,back,left,right
facing = 1
bindtime = -1
removetime = -2
sprpriority = 4
removeongethit = 1
ownpal = 1
ontop = 0

[State 0, Explod]
type = Explod
trigger1 = movehit = 1 && p2movetype = H
anim = F10+random%2
angle = -25+random%50
pos = -15,-30-random%10
postype = p2  ;p2,front,back,left,right
facing = 1
bindtime = 1
removetime = -2
sprpriority = 3
scale = 1,1
ontop = 0
supermovetime = 9999
pausemovetime = 9999

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F8,0+random%4

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F14,5

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F14,6

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = S4,0+random%14
volume = 255
channel = 4

[State 0, HitDef]
type = HitDef
trigger1 = animelem = 2
attr = S, NA
damage = 60,12
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 0, 5
sparkno = 0+random%4
sparkxy = -15, -30-random%10
hitsound = 24, 10+random%4
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -2,0
airguard.velocity = -2,-.8
air.type = High
air.velocity = -2,0
air.hittime = 12
envshake.time = 10
envshake.freq = 20
envshake.ampl = -5
envshake.phase = 10
fall.yvelocity = -6

[State 0, End]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;------------------
;Combo 6
[StateDef 252]
type = S
movetype= A
physics = S
juggle  = 1
velset = 4,0
ctrl = 0
anim = 252
poweradd = 20
sprpriority = 2

[State 0, Explod]
type = Explod
trigger1 = time = 0
anim = 2521
id = 2521
scale = 1,1
pos = 0,0
postype = p1  ;p2,front,back,left,right
facing = 1
bindtime = -1
removetime = -2
sprpriority = 4
removeongethit = 1
ownpal = 1
ontop = 0

[State 0, Explod]
type = Explod
trigger1 = movehit = 1 && p2movetype = H
anim = F10+random%2
angle = -25+random%50
pos = -15,-15-random%40
postype = p2  ;p2,front,back,left,right
facing = 1
bindtime = 1
removetime = -2
sprpriority = 3
scale = 1,1
ontop = 0
supermovetime = 9999
pausemovetime = 9999

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F8,0+random%4

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F14,5

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F14,6

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = S4,0+random%14
volume = 255
channel = 4

[State 0, HitDef]
type = HitDef
trigger1 = !time
attr = S, NA
damage = 60,12
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 0, 5
sparkno = 0+random%4
sparkxy = -15, -15-random%40
hitsound = 24, 10+random%4
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -2,-3
airguard.velocity = -2,-3
air.type = High
air.velocity = -2,-3
air.hittime = 12
envshake.time = 20
envshake.freq = 25
envshake.ampl = -6
envshake.phase = 10
fall.yvelocity = -6
fall = 1

[State 0, End]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;------------------
;Combo 6
[StateDef 253]
type = S
movetype= A
physics = S
juggle  = 1
velset = 7,0
ctrl = 0
anim = 253
poweradd = 20
sprpriority = 2

[State 0, PlayerPush]
type = PlayerPush
trigger1 = 1
value = 0

[State 0, Helper]
type = Helper
trigger1 = movehit = 1
helpertype = normal ;player
name = "White Flash"
ID = 9999
stateno = 9999
pos = 0,0
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1
size.xscale = 10
size.yscale = 10
persistent = 0

[State 0, Explod]
type = Explod
trigger1 = movehit = 1 && p2movetype = H
anim = F2011
pos = 30,-48
postype = p1  ;p2,front,back,left,right
facing = 1
bindtime = 1
removetime = -2
sprpriority = 4
scale = 1.5,1.5
ontop = 0
supermovetime = 9999
pausemovetime = 9999

[State 0, Explod]
type = Explod
trigger1 = time = 0
anim = 2531
id = 2531
scale = 1,1
pos = 0,0
postype = p1  ;p2,front,back,left,right
facing = 1
bindtime = -1
removetime = -2
sprpriority = 4
removeongethit = 1
ownpal = 1
ontop = 0

[State 0, Explod]
type = Explod
trigger1 = movehit = 1 && p2movetype = H
anim = F10+random%3
angle = -25+random%50
pos = -15,-48
postype = p2  ;p2,front,back,left,right
facing = 1
bindtime = 1
removetime = -2
sprpriority = 3
scale = 1.1,1.1
ontop = 0
supermovetime = 9999
pausemovetime = 9999

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F8,0+random%4

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F14,5

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F14,6

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = S1,0+random%12
volume = 255
channel = 4

[State 0, HitDef]
type = HitDef
trigger1 = animelem = 2
attr = S, NA
damage = 120,24
getpower = 0
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 0, 5
sparkno = 0+random%4
sparkxy = -15, -48
hitsound = 24, 10+random%4
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -6,-5
airguard.velocity = -6,-5
air.type = High
air.velocity = -6,-5
air.hittime = 12
envshake.time = 30
envshake.freq = 30
envshake.ampl = -7
envshake.phase = 10
fall.yvelocity = -6
fall = 1

[State 0, End]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;------------------
;Combo 7
[StateDef 260]
type = S
movetype= A
physics = S
juggle  = 1
velset = 3,0
ctrl = 0
anim = 260
poweradd = -200
sprpriority = 2

[State 0, Explod]
type = Explod
trigger1 = time = 4
anim = 2601
id = 2601
scale = 1,1
pos = 0,0
postype = p1  ;p2,front,back,left,right
facing = 1
bindtime = -1
removetime = -2
sprpriority = 4
scale = 1,1
ownpal = 1
ontop = 0

[State 0, Explod]
type = Explod
trigger1 = movehit = 1 && p2movetype = H
anim = F10+random%2
angle = -25+random%50
pos = -15,-30-random%30
postype = p2  ;p2,front,back,left,right
facing = 1
bindtime = 1
removetime = -2
sprpriority = 3
scale = 1.2,1.2
ontop = 0
supermovetime = 9999
pausemovetime = 9999

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F21,6

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = S3,1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = F8,0+random%4

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = F14,5

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = F14,6

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 4
value = S4,0+random%14
volume = 255
channel = 4

[State 0, HitDef]
type = HitDef
trigger1 = animelem = 3
attr = S, NA
damage = 70,14
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 0, 5
sparkno = 0+random%4
sparkxy = -15, -30-random%30
hitsound = 24, 10+random%4
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -2,0
airguard.velocity = -2,-.8
air.type = High
air.velocity = -2,0
air.hittime = 12
envshake.time = 20
envshake.freq = 25
envshake.ampl = -6
envshake.phase = 10
fall.yvelocity = -6

[State 0, End]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;------------------
;Combo 7
[StateDef 261]
type = S
movetype= A
physics = S
juggle  = 1
velset = 15,0
ctrl = 0
anim = 261
poweradd = 20
sprpriority = 2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = F31

[State 0, Explod]
type = Explod
trigger1 = time = 0
anim = F300
ID = 24
pos = -5,2
postype = p1  ;P2,front,back,left,right
scale = 1.4,1.3
vel = -1,-1
sprpriority = 2
bindtime = 1
ontop = 0
supermovetime = 9999
pausemovetime = 9999

[State 0, Helper]
type = Helper
trigger1 = movehit = 1
helpertype = normal ;player
name = "White Flash"
ID = 9999
stateno = 9999
pos = 0,0
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1
size.xscale = 10
size.yscale = 10
supermove = 9999
pausemove = 9999
persistent = 0

[State 0, PlayerPush]
type = PlayerPush
trigger1 = 1
value = 0

[State 0, Explod]
type = Explod
trigger1 = time = 0
anim = 2611
id = 2611
scale = 1,1
pos = 0,0
postype = p1  ;p2,front,back,left,right
facing = 1
bindtime = -1
removetime = -2
sprpriority = 4
scale = 1,1
ownpal = 1
ontop = 0

[State 0, Explod]
type = Explod
trigger1 = movehit = 1 && p2movetype = H
anim = F10+random%2
angle = -25+random%50
pos = -15,-40-random%40
postype = p2  ;p2,front,back,left,right
facing = 1
bindtime = 1
removetime = -2
sprpriority = 3
scale = 1.2,1.2
ontop = 0
supermovetime = 9999
pausemovetime = 9999

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
value = F8,0+random%4

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
value = F14,5

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
value = F14,6

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = S4,0+random%14
volume = 255
channel = 4

[State 0, HitDef]
type = HitDef
trigger1 = animelem = 1
attr = S, NA
damage = 90,18
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 0, 10
sparkno = 0+random%4
sparkxy = -15, -40-random%40
hitsound = 24, 10+random%4
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -5,-2
airguard.velocity = -5,--2
air.type = High
air.velocity = -5,-2
air.hittime = 12
envshake.time = 20
envshake.freq = 25
envshake.ampl = -6
envshake.phase = 10
fall.yvelocity = -6
fall = 1

[State 0, End]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;------------------
;Combo 7
[StateDef 262]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 262
poweradd = 20
sprpriority = 2

[State 0, Turn]
type = Turn
trigger1 = time = 0 && p2bodydist x < -10

[State 0, VelSet]
type = VelSet
trigger1 = time = 1
x = 9

[State 0, PlayerPush]
type = PlayerPush
trigger1 = 1
value = 1

[State 0, Helper]
type = Helper
trigger1 = movehit = 1
helpertype = normal ;player
name = "White Flash"
ID = 9999
stateno = 9999
pos = 0,0
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1
size.xscale = 10
size.yscale = 10
supermove = 9999
pausemove = 9999
persistent = 0

[State 0, Explod]
type = Explod
trigger1 = movehit = 1 && p2movetype = H
anim = F2011
pos = 60,-35
postype = p1  ;p2,front,back,left,right
facing = 1
bindtime = 1
removetime = -2
sprpriority = 4
scale = 1.3,1.3
ontop = 0
supermovetime = 9999
pausemovetime = 9999

[State 0, Explod]
type = Explod
trigger1 = 0;time = 0
anim = F460
scale = 1,1
pos = 60,-40
postype = p1  ;p2,front,back,left,right
facing = 1
bindtime = 1
vel = -1,0
removetime = -2
sprpriority = 5
ontop = 0
supermovetime = 9999
pausemovetime = 9999

[State 0, Explod]
type = Explod
trigger1 = time = 0
anim = 2621
id = 2621
scale = 1,1
pos = 0,0
postype = p1  ;p2,front,back,left,right
facing = 1
bindtime = -1
removetime = -2
sprpriority = 4
scale = 1,1
ownpal = 1
ontop = 0

[State 0, Explod]
type = Explod
trigger1 = movehit = 1 && p2movetype = H
anim = F10+random%3
angle = -25+random%50
pos = -15,-30-random%15
postype = p2  ;p2,front,back,left,right
facing = 1
bindtime = 1
removetime = -2
sprpriority = 3
scale = 1.4,1.4
ontop = 0
supermovetime = 9999
pausemovetime = 9999

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
value = F8,0+random%4

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
value = F14,5

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
value = F14,6

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = S1,0+random%12
volume = 255
channel = 4

[State 0, HitDef]
type = HitDef
trigger1 = animelem = 1
attr = S, NA
damage = 150,30
getpower = 0
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 0, 40
sparkno = 0+random%4
sparkxy = -15, -35
hitsound = 24, 10+random%4
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = 0,0
airguard.velocity = 0,0
air.type = High
air.velocity = 0,0
air.hittime = 12
envshake.time = 30
envshake.freq = 30
envshake.ampl = -7
envshake.phase = 10
fall.yvelocity = -6
fall = 1

[State 0, End]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;------------------
;Combo 8
[StateDef 270]
type = A
movetype= A
physics = A
juggle  = 1
ctrl = 0
anim = 270
poweradd = 20
sprpriority = 2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F8,0+random%4

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = S4,0+random%14
volume = 255
channel = 4

[State 0, HitDef]
type = HitDef
trigger1 = AnimElem = 2
attr = S, NA
damage = 30,6
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 0, 5
sparkno = 0+random%4
sparkxy = -15, -42
hitsound = 35, 0+random%15;5, 21+random%5
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -2,-2
airguard.velocity = -2,-2
air.type = High
air.velocity = -2,-2
air.hittime = 12
envshake.time = 10
envshake.freq = 20
envshake.ampl = -5
envshake.phase = 10
fall.yvelocity = -6

[State 0, TargetState]
type = TargetState
trigger1 = enemy(cond((enemy(0),alive),0,1)), var(40) = 0
trigger1 = !(enemynear, ishelper)
trigger1 = target, ishelper = 0
trigger1 = movehit
trigger1 = var(3) = 0
value = 105251+ID%4

[State 0, VarSet]
type = VarSet
trigger1 = movehit
trigger1 = !(enemynear, ishelper)
trigger1 = target, ishelper = 0
v = 3
value = 2

[State 0, End]
type = ChangeState
trigger1 = AnimTime = 0
value = 50
ctrl = 1
;------------------
;Combo 8
[StateDef 271]
type = A
movetype= A
physics = A
juggle  = 1
velset = 4,-2
ctrl = 0
anim = 271
poweradd = 20
sprpriority = 2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F8,0+random%4

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = S4,0+random%14
volume = 255
channel = 4

[State 0, HitDef]
type = HitDef
trigger1 = AnimElem = 2
attr = S, NA
damage = 40,8
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 0, 5
sparkno = 0+random%4
sparkxy = -15, -42
hitsound = 35, 0+random%15;5, 21+random%5
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -6,-3
airguard.velocity = -6,-3
air.type = High
air.velocity = -6,-3
air.hittime = 12
envshake.time = 10
envshake.freq = 20
envshake.ampl = -5
envshake.phase = 10
fall.yvelocity = -6
fall = 1

[State 0, End]
type = ChangeState
trigger1 = AnimTime = 0
value = 50
ctrl = 1
;------------------
;Combo 8
[StateDef 272]
type = A
movetype= A
physics = A
juggle  = 1
velset = 0,0
ctrl = 0
anim = 272
poweradd = 20
sprpriority = 2

[State 0, VelSet]
type = VelSet
trigger1 = time < 6
y = 0

[State 0, VelSet]
type = VelSet
trigger1 = animelem = 3
x = -4
y = 1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
value = F8,0+random%4

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
trigger2 = animelem = 2
value = F17,0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = S3,1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = S3,14

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = S3,6

[State 0, Helper]
type = Helper
trigger1 = animelem = 3
helpertype = normal;player
name = "fuuton"
ID = 202
stateno = 2231
pos = 40,-35
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1
size.xscale = 0.4
size.yscale = 0.2

[State 0, End]
type = ChangeState
trigger1 = AnimTime = 0
value = 50
ctrl = 1
;------------------
;Combo 9
[StateDef 280]
type = S
movetype= A
physics = S
juggle  = 1
velset = 4,0
ctrl = 0
anim = 280
poweradd = 20
sprpriority = 2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F8,0+random%4

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = S4,0+random%14
volume = 255
channel = 4

[State 0, HitDef]
type = HitDef
trigger1 = AnimElem = 2
attr = S, NA
damage = 50,10
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 0, 30
sparkno = 0+random%4
sparkxy = -15, -37
hitsound = 35, 0+random%15;5, 21+random%5
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = 0,0
airguard.velocity = 0,-.8
air.type = High
air.velocity = 0,0
air.hittime = 12
envshake.time = 10
envshake.freq = 20
envshake.ampl = -5
envshake.phase = 10
fall.yvelocity = -6
p1stateno = 282

[State 0, TargetState]
type = TargetState
trigger1 = enemy(cond((enemy(0),alive),0,1)), var(40) = 0
trigger1 = !(enemynear, ishelper)
trigger1 = target, ishelper = 0
trigger1 = movehit
trigger1 = var(3) = 0
value = 105251+ID%4

[State 0, VarSet]
type = VarSet
trigger1 = movehit
trigger1 = !(enemynear, ishelper)
trigger1 = target, ishelper = 0
v = 3
value = 2

[State 0, End]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;------------------
;Combo 9
[StateDef 281]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 281
poweradd = 0
sprpriority = 2

[State 0, Trans]
type = Trans
trigger1 = time > 50
trans = addalpha
alpha = 256-(time-50)*5,0+(time-50)*5

[State 0, End]
type = Destroyself
trigger1 = Time = 100
;------------------
;Combo 9
[StateDef 282]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 282
poweradd = 0
sprpriority = 0

[State 0, Helper]
type = Helper
trigger1 = time = 0
helpertype = normal ;player
name = "Klon"
ID = 281
stateno = 281
pos = 0,0
postype = p1    ;p2,front,back,left,right
facing = 1
ownpal = 0
size.xscale = 1
size.yscale = 1

[State 0, PosAdd]
type = PosAdd
trigger1 = time = 18
x = 100

[State 0, Turn]
type = Turn
trigger1 = time = 19 && p2bodydist x < -10

[State 0, End]
type = Changestate
trigger1 = Time = 20
value = 283
;------------------
;Combo 9
[StateDef 283]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 283
poweradd = 20
sprpriority = 2

[State 0, VelSet]
type = VelSet
trigger1 = time = [5,8]
x = 5

[State 0, Trans]
type = Trans
trigger1 = time < 10
trans = addalpha
alpha = 0+time*25,256-time*25

[State 0, Trans]
type = Trans
trigger1 = time > 10
trans = addalpha
alpha = 256,0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F8,0+random%4

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = S1,0+random%12
volume = 255
channel = 4

[State 0, HitDef]
type = HitDef
trigger1 = !time
trigger1 = target, ishelper = 1
attr = S, NA
damage = 150,30
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 0, 5
sparkno = 0+random%4
sparkxy = -15, -38
hitsound = 35, 0+random%15;5, 21+random%5
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -12,-6
airguard.velocity = -12,-6
air.type = High
air.velocity = -12,-6
air.hittime = 12
envshake.time = 30
envshake.freq = 30
envshake.ampl = -7
envshake.phase = 10
fall.yvelocity = -6
fall = 1

[State 0, HitDef]
type = HitDef
trigger1 = !time
trigger1 = target, ishelper = 0
attr = C, HP
damage = 150,30
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 0, 5
sparkno = 0+random%4
sparkxy = -15, -38
hitsound = 35, 0+random%15;5, 21+random%5
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -12,-6
airguard.velocity = -12,-6
air.type = High
air.velocity = -12,-6
air.hittime = 12
envshake.time = 30
envshake.freq = 30
envshake.ampl = -7
envshake.phase = 10
fall.yvelocity = -6
fall = 1
p2stateno = 109990

[State 0, End]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;------------------
;Combo 10
[StateDef 285]
type = S
movetype= A
physics = S
juggle  = 1
velset = 4,0
ctrl = 0
anim = 280
poweradd = 20
sprpriority = 2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F8,0+random%4

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = S4,0+random%14
volume = 255
channel = 4

[State 0, HitDef]
type = HitDef
trigger1 = AnimElem = 2
attr = S, NA
damage = 50,10
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 0, 30
sparkno = 0+random%4
sparkxy = -15, -37
hitsound = 35, 0+random%15;5, 21+random%5
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = 0,0
airguard.velocity = 0,-.8
air.type = High
air.velocity = 0,0
air.hittime = 12
envshake.time = 10
envshake.freq = 20
envshake.ampl = -5
envshake.phase = 10
fall.yvelocity = -6
p1stateno = 287

[State 0, TargetState]
type = TargetState
trigger1 = enemy(cond((enemy(0),alive),0,1)), var(40) = 0
trigger1 = !(enemynear, ishelper)
trigger1 = target, ishelper = 0
trigger1 = movehit
trigger1 = var(3) = 0
value = 105251+ID%4

[State 0, VarSet]
type = VarSet
trigger1 = movehit
trigger1 = !(enemynear, ishelper)
trigger1 = target, ishelper = 0
v = 3
value = 2

[State 0, End]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;------------------
;Combo 10
[StateDef 286]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 281
poweradd = 0
sprpriority = 2

[State 0, Trans]
type = Trans
trigger1 = time > 50
trans = addalpha
alpha = 256-(time-50)*5,0+(time-50)*5

[State 0, End]
type = Destroyself
trigger1 = Time = 100
;------------------
;Combo 10
[StateDef 287]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 282
poweradd = 0
sprpriority = 0

[State 0, Helper]
type = Helper
trigger1 = time = 0
helpertype = normal ;player
name = "Klon"
ID = 286
stateno = 286
pos = 0,0
postype = p1    ;p2,front,back,left,right
facing = 1
ownpal = 0
size.xscale = 1
size.yscale = 1

[State 0, PosAdd]
type = PosAdd
trigger1 = time = 18
x = 100
y = -40

[State 0, Turn]
type = Turn
trigger1 = time = 19 && p2bodydist x < -10

[State 0, End]
type = Changestate
trigger1 = Time = 20
value = 288
;------------------
;Combo 10
[StateDef 288]
type = A
movetype= A
physics = A
juggle  = 1
ctrl = 0
anim = 288
poweradd = 20
sprpriority = 2

[State 0, VelSet]
type = VelSet
trigger1 = time < 5
x = 0
y = 0

[State 0, VelSet]
type = VelSet
trigger1 = time = 5
x = 5
y = 1

[State 0, Trans]
type = Trans
trigger1 = time < 10
trans = addalpha
alpha = 0+time*25,256-time*25

[State 0, Trans]
type = Trans
trigger1 = time > 10
trans = addalpha
alpha = 256,0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F8,0+random%4

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = S1,0+random%12
volume = 255
channel = 4

[State 0, HitDef]
type = HitDef
givepower = 0
getpower = 0
trigger1 = !time
attr = S, NA
damage = 150,30
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 0, 5
sparkno = 0+random%4
sparkxy = -15, -25
hitsound = 35, 0+random%15;5, 21+random%5
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -1,10
airguard.velocity = -1,10
air.type = High
air.velocity = -1,10
air.hittime = 12
envshake.time = 30
envshake.freq = 30
envshake.ampl = -7
envshake.phase = 10
fall.yvelocity = -6
fall = 1

[State 0, TargetState]
type = TargetState
trigger1 = enemy(cond((enemy(0),alive),0,1)), var(40) = 0
trigger1 = !(enemynear, ishelper)
trigger1 = target, ishelper = 0
trigger1 = movehit
trigger1 = var(3) = 0
value = 105251+ID%4

[State 0, VarSet]
type = VarSet
trigger1 = movehit
trigger1 = !(enemynear, ishelper)
trigger1 = target, ishelper = 0
v = 3
value = 2

[State 0, End]
type = ChangeState
trigger1 = AnimTime = 0
value = 50
ctrl = 1
;-----------------
;Genjutsu
[StateDef 310]
type = S
movetype = A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 310
poweradd = -100
sprpriority = 2

[State 0, VarSet]
type = VarSet
trigger1 = time = 11
v = 16
value = 209

[State 0, VarSet]
type = VarSet
trigger1 = movehit = 1 && p2movetype = H
v = 16
value = 359

[State 0, PalFXWiz]
type = BGPalFX
trigger1 = movehit = 1 && p2movetype = H
time = 30
add = -70,-70,-70

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = movehit = 1 && p2movetype = H
anim = 311
pos = 0,-35
scale = 0.25,0.25
postype = p2
facing = 1
bindtime = 1
removetime = 30
sprpriority = -2

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = movehit = 1 && p2movetype = H
anim = 312
pos = 5,-50
scale = 0.20,0.20
postype = p1
facing = 1
bindtime = 1
removetime = 30
sprpriority = 4

[State 0, EnvShake]
type = EnvShake
trigger1 = animelem = 3 
time = 5
freq = 5
ampl = -1
phase = 5

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
trigger2 = animelem = 4
value = F9,3

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F8,0+random%4

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = S1,0+random%12
volume = 255
channel = 4

[State 0, PlaySnd]
type = PlaySnd
trigger1 = movehit = 1 && p2movetype = H
value = S6,8
volume = 255
channel = 4

[State 0, HitDef]
type = HitDef
givepower = 0
getpower = 0
trigger1 = AnimElem = 3
attr = S, NA
damage = 100,20
getpower = -400
givepower = 0
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 0, 120
sparkno = 4
sparkxy = -15, -37
hitsound = S6, 9
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = 0,0
airguard.velocity = 0,0
air.type = High
air.velocity = 0,0
air.hittime = 12
envshake.time = 10
envshake.freq = 20
envshake.ampl = -5
envshake.phase = 10

[State 0, End]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;-----------------
;Mokuton
[StateDef 320]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 320
poweradd = 0
sprpriority = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
trigger2 = animelem = 2
trigger3 = animelem = 3
trigger4 = animelem = 4
value = F17,0

[State 0, EnvShake]
type = EnvShake
trigger1 = animelem = 11
time = 35
freq = 35
ampl = -4
phase = 35

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 6
value = F8,0+random%4

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 10
value = F13,0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 5
trigger2 = animelem = 15
value = F9,3

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 5
value = S2,3
channel = 2
volume = 255

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 45
value = S6,7
channel = 6

[State 0, Helper]
type = Helper
trigger1 = time = 45
helpertype = normal;player
name = "mokuton"
ID = 325
stateno =  325
pos = 60,0
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1
size.xscale = 1
size.yscale = 1
supermovetime = 9999
pausemovetime = 9999
size.ground.front = 60
size.ground.back = -60
size.air.front = 60
size.air.back = -60
size.height = 160
size.head.pos = 0,-125 
size.mid.pos = 0,0

[State 0, End]
type = ChangeState
trigger1 = animtime = 0
value = 0
ctrl = 1
;-----------------
;Mokuton
[StateDef 325]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 325
poweradd = -2000
sprpriority = 3

[State 0, SprPriority]
type = SprPriority
trigger1 = 1
value = 3

[State 0, Helper]
type = Helper
trigger1 = time = 20
helpertype = normal;player
name = "Mokuton"
ID = 326
stateno = 326
pos = 0,0
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1
size.xscale = 1
size.yscale = 1
supermovetime = 9999
pausemovetime = 9999
size.ground.front = 60
size.ground.back = -60
size.air.front = 60
size.air.back = -60
size.height = 160
size.head.pos = 0,-125 
size.mid.pos = 0,0

[State 0, VelSet]
type = VelSet
trigger1 = 1
x = 0

[State 0, NotHitBy]
type = NotHitBy
trigger1 = time >= 0
value = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
time = -1

[State 0, PlayerPush]
type = PlayerPush
trigger1 = time < 20
value = 1

[State 0, Explod]
type = Explod
trigger1 = time = 0
anim = F65
pos = 0,4
scale = 2,0.9
postype = p1
facing = 1
bindtime = -1
removetime = -2
sprpriority = -1
supermovetime=9999
pausemovetime=9999
ownpal = 0

[State 0, Explod]
type = Explod
trigger1 = timemod = 2,0 && time < 20
anim = F591
ID = 591
pos = -60+random%120,-20-random%50-time*5
vel = -2+random%4,-3
accel = 0,0.1
angle = random
postype = p1
bindtime = 1
removetime = -2
supermovetime = 9999
pausemovetime = 9999
scale = 1,1
sprpriority = 4
ownpal = 0
ontop = 0

[State 0, Explod]
type = Explod
trigger1 = timemod = 2,0 && time < 20
anim = 901+random%2
ID = 901
pos = -60+random%120,-20-random%50-time*5
vel = (-5+random%10)/10,-1
accel = 0,0.03
postype = p1
bindtime = 1
removetime = -2
supermovetime = 9999
pausemovetime = 9999
scale = 0.6,0.6
sprpriority = 4
ownpal = 0
ontop = 0

[State 0, Explod]
type = Explod
ownpal = 0
trigger1 = animelem = 1
anim = F550
pos = 0,0
scale = 2.5,2.5
postype = p1
facing = 1
bindtime = 1
removetime = -2
sprpriority = 4

[State 0, Explod]
type = Explod
ownpal = 0
trigger1 = animelem = 1
anim = F587
pos = 0,0
scale = 0.8,0.8
postype = p1
facing = 1
bindtime = 1
removetime = -2
sprpriority = 5

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
value = F13,0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
value = F13,0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = F13,3

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = F13,3

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 4
value = F16,0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
value = F16,2

[State 0, hitdef]
type = HitDef
givepower = 0
getpower = 0
fall.yvelocity = -6
trigger1 = timemod = 5,0
triggerall = time < 20
persistent = 0
attr = S, NA
damage = 800,200
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3
sprpriority = 3
pausetime = 0, 3
sparkno = 4
sparkxy = -15,-30-random%60
hitsound = 13, 2
guardsound = 13, 2
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -3,-9
airguard.velocity = -3,-9
air.type = High
air.velocity = -3,-9
air.hittime = 12
envshake.time = 30
envshake.freq = 30
envshake.ampl = -7
envshake.phase = 10
fall = 1

[State 0, Trans]
type = Trans
trigger1 = time > 150
trans = addalpha
alpha = 256-(time-150)*5,(time-150)*5

[State 0, end]
type = destroyself
trigger1 = time = 200
;-----------------
;Mokuton
[StateDef 326]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 326
poweradd = 0
sprpriority = 3

[State 0, BindToParent]
type = BindToParent
trigger1 = time > 0
time = 2
facing = 0
pos = 0,0

[State 0, VelSet]
type = VelSet
trigger1 = 1
x = 0

[State 0, NotHitBy]
type = NotHitBy
trigger1 = time >= 0
value = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
time = -1

[State 0, PlayerPush]
type = PlayerPush
trigger1 = 1
value = 1

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 =  1
flag = noshadow

[State 0, end]
type = destroyself
trigger1 = time = 150
;-----------------
;Mokuton
[StateDef 330]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 330
poweradd = 0
sprpriority = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
trigger2 = animelem = 2
trigger3 = animelem = 3
trigger4 = animelem = 4
value = F17,0

[State 0, EnvShake]
type = EnvShake
trigger1 = animelem = 8
time = 35
freq = 35
ampl = -4
phase = 35

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 6
value = F8,0+random%4

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 8
value = F13,0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 5
trigger2 = animelem = 9
value = F9,3

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 5
value = S2,3
channel = 2
volume = 255

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 30
value = S6,7
channel = 6

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 30
anim = F1080
pos = 0-7,2
scale = 0.5,0.3
postype = p1
facing = 1
bindtime = 1
removetime = -2
sprpriority = -1
supermovetime=9999
pausemovetime=9999
ownpal = 1

[State 0, Helper]
type = Helper
trigger1 = time = 30
helpertype = normal;player
name = "Mokuton"
ID = 335
stateno = 335
pos = 60,0
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1
size.xscale = 1
size.yscale = 1
supermovetime = 9999
pausemovetime = 9999
size.ground.front = 50
size.ground.back = -50
size.air.front = 60
size.air.back = -60
size.height = 150
size.head.pos = 0,-125 
size.mid.pos = 0,0

[State 0, End]
type = ChangeState
trigger1 = animtime = 0
value = 0
ctrl = 1
;-----------------
;Mokuton
[StateDef 335]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 335
poweradd = -1000
sprpriority = 3

[State 0, SprPriority]
type = SprPriority
trigger1 = 1
value = 3

[State 0, Helper]
type = Helper
trigger1 = time = 20
helpertype = normal;player
name = "Mokuton"
ID = 336
stateno = 336
pos = 0,0
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1
size.xscale = 1
size.yscale = 1
supermovetime = 9999
pausemovetime = 9999
size.ground.front = 50
size.ground.back = -50
size.air.front = 60
size.air.back = -60
size.height = 150
size.head.pos = 0,-125 
size.mid.pos = 0,0

[State 0, VelSet]
type = VelSet
trigger1 = 1
x = 0

[State 0, NotHitBy]
type = NotHitBy
trigger1 = time >= 0
value = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
time = -1

[State 0, PlayerPush]
type = PlayerPush
trigger1 = time < 20
value = 1

[State 0, Explod]
type = Explod
trigger1 = time = 0
anim = F65
pos = 0,4
scale = 1.4,0.6
postype = p1
facing = 1
bindtime = -1
removetime = -2
sprpriority = -1
supermovetime=9999
pausemovetime=9999
ownpal = 0

[State 0, Explod]
type = Explod
trigger1 = timemod = 2,0 && time < 20
anim = F591
ID = 591
pos = -40+random%80,-20-random%50-time*4
vel = -2+random%4,-3
accel = 0,0.1
angle = random
postype = p1
bindtime = 1
removetime = -2
supermovetime = 9999
pausemovetime = 9999
scale = 1,1
sprpriority = 4
ownpal = 0
ontop = 0

[State 0, Explod]
type = Explod
trigger1 = timemod = 2,0 && time < 20
anim = 901+random%2
ID = 901
pos = -40+random%80,-20-random%50-time*4
vel = (-5+random%10)/10,-1
accel = 0,0.03
postype = p1
bindtime = 1
removetime = -2
supermovetime = 9999
pausemovetime = 9999
scale = 0.6,0.6
sprpriority = 4
ownpal = 0
ontop = 0

[State 0, Explod]
type = Explod
ownpal = 0
trigger1 = animelem = 1
anim = F550
pos = 0,0
scale = 1,1
postype = p1
facing = 1
bindtime = 1
removetime = -2
sprpriority = 4

[State 0, Explod]
type = Explod
ownpal = 0
trigger1 = animelem = 1
anim = F587
pos = 0,0
scale = 0.6,0.6
postype = p1
facing = 1
bindtime = 1
removetime = -2
sprpriority = 5

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
value = F13,0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
value = F13,0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = F13,3

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = F13,3

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 5
value = F16,0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
value = F16,2

[State 0, hitdef]
type = HitDef
givepower = 0
getpower = 0
fall.yvelocity = -6
trigger1 = timemod = 5,0
triggerall = time < 20
persistent = 0
attr = S, NA
damage = 400,100
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3
sprpriority = 3
pausetime = 0, 3
sparkno = 4
sparkxy = -15,-30-random%60
hitsound = 13, 2
guardsound = 13, 2
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -2,-7
airguard.velocity = -2,-7
air.type = High
air.velocity = -2,-7
air.hittime = 12
envshake.time = 30
envshake.freq = 30
envshake.ampl = -7
envshake.phase = 10
fall = 1

[State 0, Trans]
type = Trans
trigger1 = time > 150
trans = addalpha
alpha = 256-(time-150)*5,(time-150)*5

[State 0, end]
type = destroyself
trigger1 = time = 200
;-----------------
;Mokuton
[StateDef 336]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 336
poweradd = 0
sprpriority = 3

[State 0, BindToParent]
type = BindToParent
trigger1 = time > 0
time = 2
facing = 0
pos = 0,0

[State 0, VelSet]
type = VelSet
trigger1 = 1
x = 0

[State 0, NotHitBy]
type = NotHitBy
trigger1 = time >= 0
value = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
time = -1

[State 0, PlayerPush]
type = PlayerPush
trigger1 = 1
value = 1

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 =  1
flag = noshadow

[State 0, end]
type = destroyself
trigger1 = time = 150
;------------------
;Futon: Shinkudama
[StateDef 510]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 510
poweradd = 0
sprpriority = 2

[State 0, Explod]
type = Explod
trigger1 = animelem = 3
anim = 546
scale = 0.4,0.4
pos = 35,0
postype = p1  ;p2,front,back,left,right
facing = 1
bindtime = 1
removetime = -2
sprpriority = 3
ownpal = 1
ontop = 0
supermovetime = 9999
pausemovetime = 9999

[State 0, Explod]
type = Explod
trigger1 = animelem = 3
anim = 546
scale = 0.25,0.25
pos = 20,0
postype = p1  ;p2,front,back,left,right
facing = -1
bindtime = 1
removetime = -2
sprpriority = 3
ownpal = 1
ontop = 0
supermovetime = 9999
pausemovetime = 9999

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
value = F17,0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = F8,0+random%4

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = S3,1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = S3,6

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = S3,6

[State 0, Helper]
type = Helper
trigger1 = animelem = 3
helpertype = normal;player
name = "Futon: Shinkudama"
ID = 515
stateno = 515
pos = 25,-37
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1
size.xscale = 0.4
size.yscale = 0.2

[State 0, Helper]
type = Helper
trigger1 = animelem = 3
helpertype = normal;player
name = "Futon: Shinkudama"
ID = 516
stateno = 515
pos = 25,-37
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1
size.xscale = 0.4
size.yscale = 0.2

[State 0, Helper]
type = Helper
trigger1 = animelem = 3
helpertype = normal;player
name = "Futon: Shinkudama"
ID = 517
stateno = 515
pos = 25,-37
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1
size.xscale = 0.4
size.yscale = 0.2

[State 0, End]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;------------------
;Futon: Shinkudama
[StateDef 515]
type = A
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 515
poweradd = -500
sprpriority = 3

[State 0, TargetState]
type = TargetState
trigger1 = enemy(cond((enemy(0),alive),0,1)), var(54) = 0
trigger1 = !(enemynear, ishelper)
trigger1 = target, ishelper = 0
trigger1 = movehit
value = 109942

[State 0, ScreenBound]
type = ScreenBound
trigger1 = 1
value = 0

[State 0, NotHitBy]
type = NotHitBy
trigger1 = time >= 0
value = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
time = -1

[State 0, PlayerPush]
type = PlayerPush
trigger1 = 1
value = 1

[State 0, Explod]
type = Explod
trigger1 = time = 5
trigger1 = ishelper(515)
anim = F1391
ID = 1391
scale = 0.35,0.5
pos = 20,0
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = -1
removetime = -2
sprpriority = 4
ontop = 0
supermovetime = 9999
pausemovetime = 9999

[State 0, Explod]
type = Explod
trigger1 = time = 5
trigger1 = ishelper(515)
anim = F1391
ID = 1391
scale = 0.5,0.5
pos = 5,0
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = -1
removetime = -2
sprpriority = 4
ontop = 0
supermovetime = 9999
pausemovetime = 9999

[State 0, Explod]
type = Explod
trigger1 = time = 5
trigger1 = ishelper(516)
anim = F1391
ID = 1391
scale = 0.35,0.5
pos = 18,-8
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = -1
removetime = -2
sprpriority = 4
ontop = 0
supermovetime = 9999
pausemovetime = 9999

[State 0, Explod]
type = Explod
trigger1 = time = 5
trigger1 = ishelper(516)
anim = F1391
ID = 1391
scale = 0.5,0.5
pos = 4,-4
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = -1
removetime = -2
sprpriority = 4
ontop = 0
supermovetime = 9999
pausemovetime = 9999

[State 0, Explod]
type = Explod
trigger1 = time = 5
trigger1 = ishelper(517)
anim = F1391
ID = 1391
scale = 0.35,0.35
pos = 15,-10
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = -1
removetime = -2
sprpriority = 4
ontop = 0
supermovetime = 9999
pausemovetime = 9999

[State 0, Explod]
type = Explod
trigger1 = time = 5
trigger1 = ishelper(517)
anim = F1391
ID = 1391
scale = 0.5,0.5
pos = 3,-5
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = -1
removetime = -2
sprpriority = 4
ontop = 0
supermovetime = 9999
pausemovetime = 9999

[State 0, ModifyExplod]
type = ModifyExplod
trigger1 = 1
ID = 1391
angle = 20-atan(vel y/vel x)*180/PI 

[State 0, Explod]
type = Explod
trigger1 = time = 0
anim = F460
ID = 460
scale = 0.9,0.6
pos = 0,0
postype = p1  ;p2,front,back,left,right
facing = 1
bindtime = -1
removetime = 25
sprpriority = 4
ontop = 0
supermovetime = 9999
pausemovetime = 9999

[State 0, ModifyExplod]
type = ModifyExplod
trigger1 = 1
ID = 460
angle = -atan(vel y/vel x)*180/PI 

[State 0, Explod]
type = Explod
trigger1 = time = 0
anim = 577
id = 577
pos = 0,0
scale = 1,0.5
postype = p1
facing = 1
bindtime = -1
removetime = -2
sprpriority = 4
supermovetime = 99999
pausemovetime = 99999
ownpal = 0

[State 0, ModifyExplod]
type = ModifyExplod
trigger1 = 1
ID = 577
angle = -atan(vel y/vel x)*180/PI 

[State 0, VelSet]
type = VelSet
trigger1 = ishelper(515)
x = 8
y = -0

[State 0, VelSet]
type = VelSet
trigger1 = ishelper(516)
x = 7
y = -1.5

[State 0, VelSet]
type = VelSet
trigger1 = ishelper(517)
x = 6
y = -3

[State 0, AngleDraw]
type = AngleDraw
trigger1 = 1
value = -atan(vel y/vel x)*180/PI 

[State 0, Trans]
type = Trans
trigger1 = 1
trans = add

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[State 0, Explod]
type = Explod
trigger1 = movehit = 1 && p2movetype = H
anim = F10+random%3
angle = -25+random%50
pos = 0,0
postype = p1  ;p2,front,back,left,right
facing = 1
bindtime = 1
removetime = -2
sprpriority = 3
scale = 1,1
ontop = 0
supermovetime = 9999
pausemovetime = 9999

[State 0, Explod]
type = Explod
trigger1 = movehit = 1 && p2movetype = H
anim = F643
pos = -5-random%20,-15-random%30
postype = p2  ;p2,front,back,left,right
facing = 1
bindtime = 1
removetime = -2
sprpriority = 3
scale = 0.7,0.7
ontop = 0
supermovetime = 9999
pausemovetime = 9999

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
value = F14,6

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F14,0

[State 0, HitDef]
type = HitDef
givepower = 0
getpower = 0
trigger1 = timemod = 5,0
trigger1 = ishelper(515)
attr = S, NA
damage = 30,6
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 0,0
sparkno = 4
sparkxy = -15, 0
hitsound = 14, 5
guardsound = 14, 5
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -6,-2
airguard.velocity = -6,-2
air.type = High
air.velocity = -6,-2
air.hittime = 12
envshake.time = 30
envshake.freq = 30
envshake.ampl = -7
envshake.phase = 10
fall.yvelocity = -6
fall = 1

[State 0, HitDef]
type = HitDef
givepower = 0
getpower = 0
trigger1 = timemod = 5,0
trigger1 = ishelper(516)
attr = S, NA
damage = 30,6
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 0,0
sparkno = 4
sparkxy = -15, 0
hitsound = 14, 5
guardsound = 14, 5
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -5,-3
airguard.velocity = -5,-3
air.type = High
air.velocity = -5,-3
air.hittime = 12
envshake.time = 30
envshake.freq = 30
envshake.ampl = -7
envshake.phase = 10
fall.yvelocity = -6
fall = 1

[State 0, HitDef]
type = HitDef
givepower = 0
getpower = 0
trigger1 = timemod = 5,0
trigger1 = ishelper(517)
attr = S, NA
damage = 30,6
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 0,0
sparkno = 4
sparkxy = -15, 0
hitsound = 14, 5
guardsound = 14, 5
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -4,-4
airguard.velocity = -4,-4
air.type = High
air.velocity = -4,-4
air.hittime = 12
envshake.time = 30
envshake.freq = 30
envshake.ampl = -7
envshake.phase = 10
fall.yvelocity = -6
fall = 1

[State 0, End]
type = destroyself
trigger1 = AnimTime = 0
;------------------
;Air Futon: Shinku Taigyoku
[StateDef 520]
type = A
movetype= A
physics = A
juggle  = 1
velset = 3,-3
ctrl = 0
anim = 520
poweradd = 0
sprpriority = 2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
trigger2 = animelem = 2
value = F17,0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = F8,0+random%4

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = S3,1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = S3,14

[State 0, VelSet]
type = VelSet
trigger1 = animelem = 3
x = -5
y = -3

[State 0, Helper]
type = Helper
trigger1 = animelem = 3
helpertype = normal;player
name = "Futon: Shinku Taigyoku"
ID = 525
stateno = 525
pos = 15,-48
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1
size.xscale = 0.6
size.yscale = 0.4

[State 0, End]
type = ChangeState
trigger1 = time = 30
value = 50
ctrl = 1
;------------------
;Air Futon: Shinku Taigyoku
[StateDef 525]
type = A
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 525
poweradd = -1000
sprpriority = 3

[State 0, TargetState]
type = TargetState
trigger1 = enemy(cond((enemy(0),alive),0,1)), var(54) = 0
trigger1 = !(enemynear, ishelper)
trigger1 = target, ishelper = 0
trigger1 = movehit
value = 109942

[State 0, ScreenBound]
type = ScreenBound
trigger1 = 1
value = 0

[State 0, NotHitBy]
type = NotHitBy
trigger1 = time >= 0
value = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
time = -1

[State 0, PlayerPush]
type = PlayerPush
trigger1 = 1
value = 1

[State 0, Explod]
type = Explod
trigger1 = time = 15
anim = F1391
ID = 1391
scale = 0.35,0.35
pos = 30,30
postype = p1  ;p2,front,back,left,right
facing = 1
bindtime = -1
removetime = -2
sprpriority = 4
ontop = 0
supermovetime = 9999
pausemovetime = 9999

[State 0, Explod]
type = Explod
trigger1 = time = 15
anim = F1391
ID = 1391
scale = 0.5,0.5
pos = 8,8
postype = p1  ;p2,front,back,left,right
facing = 1
bindtime = -1
removetime = -2
sprpriority = 4
ontop = 0
supermovetime = 9999
pausemovetime = 9999

[State 0, ModifyExplod]
type = ModifyExplod
trigger1 = 1
ID = 1391
angle = -20-atan(vel y/vel x)*180/PI

[State 0, Explod]
type = Explod
trigger1 = time = 10
anim = F460
ID = 460
scale = 1.4,1
pos = 0,0
postype = p1  ;p2,front,back,left,right
facing = 1
bindtime = -1
removetime = 25
sprpriority = 4
ontop = 0
supermovetime = 9999
pausemovetime = 9999

[State 0, ModifyExplod]
type = ModifyExplod
trigger1 = 1
ID = 460
angle = -atan(vel y/vel x)*180/PI 

[State 0, Explod]
type = Explod
trigger1 = time = 10
anim = 577
id = 577
pos = 0,0
scale = 1.2,0.6
postype = p1
facing = 1
bindtime = -1
removetime = -2
sprpriority = 4
supermovetime = 99999
pausemovetime = 99999
ownpal = 0

[State 0, ModifyExplod]
type = ModifyExplod
trigger1 = 1
ID = 577
angle = -atan(vel y/vel x)*180/PI 

[State 0, VelSet]
type = VelSet
trigger1 = time = [10,20] 
x = 3+time/2
y = 3+time/2

[State 0, VelSet]
type = VelSet
trigger1 = time > 20 && time < 100 && vel x > 5
x = 8-(time-20)/20+var(1)
y = 8-(time-20)/20+var(1)

[State 0, VelSet]
type = VelSet
trigger1 = time > 20 && vel x <= 5
x = 5
y = 5

[State 0, AngleDraw]
type = AngleDraw
trigger1 = 1
value = -atan(vel y/vel x)*180/PI 

[State 0, Trans]
type = Trans
trigger1 = 1
trans = add

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[State 0, Explod]
type = Explod
trigger1 = movehit = 1 && p2movetype = H
anim = F10+random%3
angle = -25+random%50
pos = 0,0
postype = p1  ;p2,front,back,left,right
facing = 1
bindtime = 1
removetime = -2
sprpriority = 3
scale = 1,1
ontop = 0
supermovetime = 9999
pausemovetime = 9999

[State 0, Explod]
type = Explod
trigger1 = movehit = 1 && p2movetype = H
anim = F643
pos = -5-random%20,-15-random%30
postype = p2  ;p2,front,back,left,right
facing = 1
bindtime = 1
removetime = -2
sprpriority = 3
scale = 1,1
ontop = 0
supermovetime = 9999
pausemovetime = 9999

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
value = F14,6

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F14,0

[State 0, HitDef]
type = HitDef
givepower = 0
getpower = 0
trigger1 = timemod = 3,0
attr = S, NA
damage = 130,30
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 0, 3
sparkno = 4
sparkxy = -15, 0
hitsound = 14, 5
guardsound = 14, 5
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -5,5
airguard.velocity = -5,5
air.type = High
air.velocity = -5,5
air.hittime = 12
envshake.time = 15
envshake.ampl = -7
envshake.freq = 25
envshake.phase = 10
fall = 1

[State 0, end]
type = changestate
trigger1 = pos y > -10
value = 526

[State 0, End]
type = destroyself
trigger1 = AnimTime = 0
;-----------------
;Futon: Shinkugyuoku
[StateDef 526]
type = A
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 576
poweradd = 0
sprpriority = 3

[State 0, TargetState]
type = TargetState
trigger1 = enemy(cond((enemy(0),alive),0,1)), var(54) = 0
trigger1 = !(enemynear, ishelper)
trigger1 = target, ishelper = 0
trigger1 = movehit
value = 109942

[State 0, AngleDraw]
type = AngleDraw
trigger1 = 1
value = -atan(vel y/vel x)*180/PI 

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = 1
id = 577

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
value = F14,6

[State 0, Explod]
type = Explod
trigger1 = time = 0 
anim = F1060
id = 1060
pos = 0,0
scale = 1,1
postype = p1
facing = 1
bindtime = 1
removetime = -2
sprpriority = 4
supermovetime = 99999
pausemovetime = 99999

[State 0, Explod]
type = Explod
trigger1 = time = 0
anim = F1200
id = 1200
pos = 0,0
scale = 0.8,0.8
postype = p1
facing = 1
bindtime = 1
removetime = -2
sprpriority = 5
supermovetime = 99999
pausemovetime = 99999
ownpal = 0

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 =  1
flag = noshadow

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = F15,8

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = F15,4

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 0
anim = F550
ID = 550
pos = 0,5
postype = p1
bindtime = 1
removetime = 40
supermovetime = 9999
pausemovetime = 9999
scale = 1.6,1.6
sprpriority = 0
ownpal = 1

[State 0, PosSet]
type = PosSet
trigger1 = 1
y = 0

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 =  1
flag = noshadow

[State 0, HitDef]
type = HitDef
givepower = 0
getpower = 0
trigger1 = !time
hitonce = 1
attr = S, NA
damage = 200,100
animtype = Light
guardflag = MA
hitflag = MAF
priority = 4
sprpriority = 4
pausetime = 0, 0
sparkno = 4
sparkxy = -15, 0
hitsound = 14, 5
guardsound = 14, 5
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -3,-6
airguard.velocity = -3,-6
air.type = High
air.velocity = -3,-6
air.hittime = 12
envshake.time = 30
envshake.freq = 30
envshake.ampl = -7
envshake.phase = 10
fall = 1

[State 0, End]
type = destroyself
trigger1 = animtime = 0
;------------------
;Futon: Shinkuha
[StateDef 530]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 530
poweradd = 0
sprpriority = 2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
trigger2 = animelem = 2
trigger3 = animelem = 3
trigger4 = animelem = 4
value = F17,0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
value = S3,1
channel = 3

[State 0, Explod]
type = Explod
trigger1 = animelem = 6
anim = F300
scale = 2,2
pos = 10,0
postype = p1  ;p2,front,back,left,right
facing = 1
bindtime = 1
vel = -1,-1
removetime = -2
sprpriority = 3
ownpal = 0
ontop = 0
supermovetime = 9999
pausemovetime = 9999

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 6
value = F8,0+random%4

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 5
value = S3,3

[State 0, Helper]
type = Helper
trigger1 = animelem = 6
helpertype = normal;player
name = "slash"
ID = 535
stateno = 535
pos = 0,-32
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1
size.xscale = 0.5
size.yscale = 0.5

[State 0, End]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;------------------
;Futon: Shinkuha
[StateDef 535]
type = A
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 565+random%4
poweradd = -500
sprpriority = 3

[State 0, TargetState]
type = TargetState
trigger1 = enemy(cond((enemy(0),alive),0,1)), var(54) = 0
trigger1 = !(enemynear, ishelper)
trigger1 = target, ishelper = 0
trigger1 = movehit
value = 109941

[State 0, NotHitBy]
type = NotHitBy
trigger1 = time >= 0
value = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
time = -1

[State 0, PlayerPush]
type = PlayerPush
trigger1 = 1
value = 1

[State 0, AngleDraw]
type = AngleDraw
trigger1 = 1
value = -atan(vel y/vel x)*180/PI 

[State 0, VelSet]
type = VelSet
trigger1 = 1
x = 10
y = -2+random%4

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[State 0, Explod]
type = Explod
trigger1 = movehit = 1 && p2movetype = H
anim = F10+random%2
angle = -25+random%50
pos = -15,-30
postype = p2  ;p2,front,back,left,right
facing = 1
bindtime = 1
removetime = -2
sprpriority = 3
scale = 1,1
ontop = 0
supermovetime = 9999
pausemovetime = 9999

[State 0, Explod]
type = Explod
trigger1 = movehit = 1 && p2movetype = H
anim = F643
pos = -5-random%20,-15-random%30
postype = p2  ;p2,front,back,left,right
facing = 1
bindtime = 1
removetime = -2
sprpriority = 3
scale = 0.7,0.7
ontop = 0
supermovetime = 9999
pausemovetime = 9999

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
value = F14,5

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
value = F14,6

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F14,0

[State 0, HitDef]
type = HitDef
givepower = 0
getpower = 0
trigger1 = timemod = 5,0
attr = S, NA
damage = 75,25
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 0, 5
sparkno = 4
sparkxy = -15,0
hitsound = 14,5
guardsound = 14, 5
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -4,-2
airguard.velocity = -4,-2
air.type = High
air.velocity = -4,-2
air.hittime = 12
envshake.time = 30
envshake.freq = 30
envshake.ampl = -7
envshake.phase = 10
fall.yvelocity = -6
;fall = 1

[State 0, End]
type = destroyself
trigger1 = AnimTime = 0
;------------------



;------------------
;Futon: Shinku Taigyoku
[StateDef 540]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 540
poweradd = 0
sprpriority = 2

[State 0, Explod]
type = Explod
trigger1 = animelem = 3
anim = 546
scale = 0.4,0.4
pos = 35,0
postype = p1  ;p2,front,back,left,right
facing = 1
bindtime = 1
removetime = -2
sprpriority = 3
ownpal = 1
ontop = 0
supermovetime = 9999
pausemovetime = 9999

[State 0, Explod]
type = Explod
trigger1 = animelem = 3
anim = 546
scale = 0.25,0.25
pos = 20,0
postype = p1  ;p2,front,back,left,right
facing = -1
bindtime = 1
removetime = -2
sprpriority = 3
ownpal = 1
ontop = 0
supermovetime = 9999
pausemovetime = 9999

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
trigger2 = animelem = 2
value = F17,0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = F8,0+random%4

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = S3,1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = S3,14

[State 0, Helper]
type = Helper
trigger1 = animelem = 3
helpertype = normal;player
name = "Futon: Shinku Taigyoku"
ID = 545
stateno = 545
pos = 20,-35
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1
size.xscale = 0.7
size.yscale = 0.4

[State 0, End]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;------------------
;Futon: Shinku Taigyoku
[StateDef 545]
type = A
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 545
poweradd = -2000
sprpriority = 3

[State 0, TargetState]
type = TargetState
trigger1 = enemy(cond((enemy(0),alive),0,1)), var(54) = 0
trigger1 = !(enemynear, ishelper)
trigger1 = target, ishelper = 0
trigger1 = movehit
value = 109943

[State 0, ScreenBound]
type = ScreenBound
trigger1 = 1
value = 0

[State 0, TargetBind]
type = TargetBind
trigger1 = time = [5,45]
time = 1
pos = 45,20

[State 0, NotHitBy]
type = NotHitBy
trigger1 = time >= 0
value = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
time = -1

[State 0, PlayerPush]
type = PlayerPush
trigger1 = 1
value = 1

[State 0, Explod]
type = Explod
trigger1 = time = 5
anim = F1391
ID = 1391
scale = 0.4,0.4
pos = 40,0
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = -1
removetime = -2
sprpriority = 4
ontop = 0
supermovetime = 9999
pausemovetime = 9999

[State 0, Explod]
type = Explod
trigger1 = time = 5
anim = F1391
ID = 1391
scale = 0.6,0.6
pos = 10,0
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = -1
removetime = -2
sprpriority = 4
ontop = 0
supermovetime = 9999
pausemovetime = 9999

[State 0, ModifyExplod]
type = ModifyExplod
trigger1 = 1
ID = 1391
angle = -20-atan(vel y/vel x)*180/PI 

[State 0, Explod]
type = Explod
trigger1 = time = 0
anim = F460
ID = 460
scale = 2,1.5
pos = 0,0
postype = p1  ;p2,front,back,left,right
facing = 1
bindtime = -1
removetime = 25
sprpriority = 4
ontop = 0
supermovetime = 9999
pausemovetime = 9999

[State 0, ModifyExplod]
type = ModifyExplod
trigger1 = 1
ID = 460
angle = -atan(vel y/vel x)*180/PI 

[State 0, Explod]
type = Explod
trigger1 = time = 0
anim = 577
id = 577
pos = 0,0
scale = 1.2,0.6
postype = p1
facing = 1
bindtime = -1
removetime = -2
sprpriority = 4
supermovetime = 99999
pausemovetime = 99999
ownpal = 0

[State 0, ModifyExplod]
type = ModifyExplod
trigger1 = 1
ID = 577
angle = -atan(vel y/vel x)*180/PI 

[State 0, VelSet]
type = VelSet
trigger1 = 1
x = 8
y = -0.4

[State 0, AngleDraw]
type = AngleDraw
trigger1 = 1
value = -atan(vel y/vel x)*180/PI 

[State 0, Trans]
type = Trans
trigger1 = 1
trans = add

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[State 0, Explod]
type = Explod
trigger1 = movehit = 1 && p2movetype = H
anim = F10+random%3
angle = -25+random%50
pos = 0,0
postype = p1  ;p2,front,back,left,right
facing = 1
bindtime = 1
removetime = -2
sprpriority = 3
scale = 1,1
ontop = 0
supermovetime = 9999
pausemovetime = 9999

[State 0, Explod]
type = Explod
trigger1 = movehit = 1 && p2movetype = H
anim = F643
pos = -5-random%20,-15-random%30
postype = p2  ;p2,front,back,left,right
facing = 1
bindtime = 1
removetime = -2
sprpriority = 3
scale = 1,1
ontop = 0
supermovetime = 9999
pausemovetime = 9999

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
value = F14,6

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F14,0

[State 0, HitDef]
type = HitDef
givepower = 0
getpower = 0
trigger1 = timemod = 5,0
attr = S, NA
damage = 90,25
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 0,0
sparkno = 4
sparkxy = -15, 0
hitsound = 14, 5
guardsound = 14, 5
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -7,-3
airguard.velocity = -7,-3
air.type = High
air.velocity = -7,-3
air.hittime = 12
envshake.time = 30
envshake.freq = 30
envshake.ampl = -7
envshake.phase = 10
fall.yvelocity = -6
fall = 1

[State 0, End]
type = destroyself
trigger1 = AnimTime = 0
;------------------
;Futon: Shinkuha Air
[StateDef 550]
type = A
movetype= A
physics = A
juggle  = 1
velset = 3,-3
ctrl = 0
anim = 550
poweradd = 0
sprpriority = 2

[State 0, VelSet]
type = VelSet
trigger1 = animelem = 7
x = -2
y = -2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
trigger2 = animelem = 2
trigger3 = animelem = 3
trigger4 = animelem = 4
value = F17,0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
value = S3,1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 6
value = F8,0+random%4

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 5
value = S3,3

[State 0, Helper]
type = Helper
trigger1 = animelem = 6
helpertype = normal;player
name = "slash"
ID = 555
stateno = 555
pos = 5,-32
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1
size.xscale = 0.5
size.yscale = 0.5

[State 0, End]
type = ChangeState
trigger1 = AnimTime = 0
value = 50
ctrl = 1
;------------------
;Futon: Shinkuha Air
[StateDef 555]
type = A
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 565+random%4
poweradd = -500
sprpriority = 3

[State 0, TargetState]
type = TargetState
trigger1 = enemy(cond((enemy(0),alive),0,1)), var(54) = 0
trigger1 = !(enemynear, ishelper)
trigger1 = target, ishelper = 0
trigger1 = movehit
value = 109941

[State 0, NotHitBy]
type = NotHitBy
trigger1 = time >= 0
value = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
time = -1

[State 0, PlayerPush]
type = PlayerPush
trigger1 = 1
value = 1

[State 0, AngleDraw]
type = AngleDraw
trigger1 = 1
value = -atan(vel y/vel x)*180/PI 

[State 0, VelSet]
type = VelSet
trigger1 = 1
x = 9
y = 4+random%4

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[State 0, Explod]
type = Explod
trigger1 = movehit = 1 && p2movetype = H
anim = F10+random%2
angle = -25+random%50
pos = -15,-30
postype = p2  ;p2,front,back,left,right
facing = 1
bindtime = 1
removetime = -2
sprpriority = 3
scale = 1,1
ontop = 0
supermovetime = 9999
pausemovetime = 9999

[State 0, Explod]
type = Explod
trigger1 = movehit = 1 && p2movetype = H
anim = F643
pos = -5-random%20,-15-random%30
postype = p2  ;p2,front,back,left,right
facing = 1
bindtime = 1
removetime = -2
sprpriority = 3
scale = 0.7,0.7
ontop = 0
supermovetime = 9999
pausemovetime = 9999

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
value = F14,5

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
value = F14,6

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F14,0

[State 0, HitDef]
type = HitDef
givepower = 0
getpower = 0
trigger1 = timemod = 5,0
attr = S, NA
damage = 75,25
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 0, 5
sparkno = 4
sparkxy = -15,0
hitsound = 14,5
guardsound = 14, 5
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -3,2
airguard.velocity = -3,2
air.type = High
air.velocity = -3,2
air.hittime = 12
envshake.time = 30
envshake.freq = 30
envshake.ampl = -7
envshake.phase = 10
fall.yvelocity = -6
;fall = 1

[State 0, End]
type = destroyself
trigger1 = AnimTime = 0
;------------------



;------------------
;Futon: Shinku Renpa
[StateDef 560]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 560
poweradd = 0
sprpriority = 2

[State 0, Explod]
type = Explod
trigger1 = animelem = 7
trigger2 = animelem = 9
trigger3 = animelem = 11
anim = 546
scale = 0.4,0.4
pos = 35,0
postype = p1  ;p2,front,back,left,right
facing = 1
bindtime = 1
removetime = -2
sprpriority = 3
ownpal = 1
ontop = 0
supermovetime = 9999
pausemovetime = 9999

[State 0, Explod]
type = Explod
trigger1 = animelem = 7
trigger2 = animelem = 9
trigger3 = animelem = 11
anim = 546
scale = 0.25,0.25
pos = 20,0
postype = p1  ;p2,front,back,left,right
facing = -1
bindtime = 1
removetime = -2
sprpriority = 3
ownpal = 1
ontop = 0
supermovetime = 9999
pausemovetime = 9999

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
trigger2 = animelem = 2
trigger3 = animelem = 3
trigger4 = animelem = 4
trigger5 = animelem = 5
value = F17,0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 6
value = S3,1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 7
value = F8,0+random%4

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 5
value = S3,0

[State 0, Helper]
type = Helper
trigger1 = animelem = 7
helpertype = normal;player
name = "Futon: Shinku Renpa"
ID = 565
stateno = 565
pos = 20,-41
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1
size.xscale = 0.9
size.yscale = 0.9

[State 0, Helper]
type = Helper
trigger1 = animelem = 8
helpertype = normal;player
name = "Futon: Shinku Renpa"
ID = 566
stateno = 565
pos = 20,-41
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1
size.xscale = 0.9
size.yscale = 0.9

[State 0, Helper]
type = Helper
trigger1 = animelem = 9
helpertype = normal;player
name = "Futon: Shinku Renpa"
ID = 567
stateno = 565
pos = 20,-41
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1
size.xscale = 0.9
size.yscale = 0.9

[State 0, Helper]
type = Helper
trigger1 = animelem = 10
helpertype = normal;player
name = "Futon: Shinku Renpa"
ID = 568
stateno = 565
pos = 20,-41
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1
size.xscale = 0.9
size.yscale = 0.9

[State 0, Helper]
type = Helper
trigger1 = animelem = 11
helpertype = normal;player
name = "Futon: Shinku Renpa"
ID = 569
stateno = 565
pos = 20,-41
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1
size.xscale = 0.9
size.yscale = 0.9

[State 0, End]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;------------------
;Futon: Shinku Renpa
[StateDef 561]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 560
poweradd = 0
sprpriority = 2

[State 0, Explod]
type = Explod
trigger1 = animelem = 7
trigger2 = animelem = 9
trigger3 = animelem = 11
anim = 546
scale = 0.4,0.4
pos = 35,0
postype = p1  ;p2,front,back,left,right
facing = 1
bindtime = 1
removetime = -2
sprpriority = 3
ownpal = 1
ontop = 0
supermovetime = 9999
pausemovetime = 9999

[State 0, Explod]
type = Explod
trigger1 = animelem = 7
trigger2 = animelem = 9
trigger3 = animelem = 11
anim = 546
scale = 0.25,0.25
pos = 20,0
postype = p1  ;p2,front,back,left,right
facing = -1
bindtime = 1
removetime = -2
sprpriority = 3
ownpal = 1
ontop = 0
supermovetime = 9999
pausemovetime = 9999

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
trigger2 = animelem = 2
trigger3 = animelem = 3
trigger4 = animelem = 4
trigger5 = animelem = 5
value = F17,0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 6
value = S3,1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 7
value = F8,0+random%4

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 5
value = S3,0

[State 0, Helper]
type = Helper
trigger1 = animelem = 7
helpertype = normal;player
name = "Futon: Shinku Renpa"
ID = 565
stateno = 566
pos = 20,-41
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1
size.xscale = 0.9
size.yscale = 0.9

[State 0, Helper]
type = Helper
trigger1 = animelem = 8
helpertype = normal;player
name = "Futon: Shinku Renpa"
ID = 566
stateno = 566
pos = 20,-41
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1
size.xscale = 0.9
size.yscale = 0.9

[State 0, Helper]
type = Helper
trigger1 = animelem = 9
helpertype = normal;player
name = "Futon: Shinku Renpa"
ID = 567
stateno = 566
pos = 20,-41
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1
size.xscale = 0.9
size.yscale = 0.9

[State 0, Helper]
type = Helper
trigger1 = animelem = 10
helpertype = normal;player
name = "Futon: Shinku Renpa"
ID = 568
stateno = 566
pos = 20,-41
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1
size.xscale = 0.9
size.yscale = 0.9

[State 0, Helper]
type = Helper
trigger1 = animelem = 11
helpertype = normal;player
name = "Futon: Shinku Renpa"
ID = 569
stateno = 566
pos = 20,-41
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1
size.xscale = 0.9
size.yscale = 0.9

[State 0, End]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;------------------
;Futon: Shinku Renpa
[StateDef 565]
type = A
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 565+random%4
poweradd = -500
sprpriority = 3

[State 0, TargetState]
type = TargetState
trigger1 = enemy(cond((enemy(0),alive),0,1)), var(54) = 0
trigger1 = !(enemynear, ishelper)
trigger1 = target, ishelper = 0
trigger1 = movehit
value = 109943

[State 0, NotHitBy]
type = NotHitBy
trigger1 = time >= 0
value = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
time = -1

[State 0, PlayerPush]
type = PlayerPush
trigger1 = 1
value = 1

[State 0, AngleDraw]
type = AngleDraw
trigger1 = 1
value = -atan(vel y/vel x)*180/PI 

[State 0, VelSet]
type = VelSet
trigger1 = ishelper(565)
x = 12-time/5
y = -1-time/5

[State 0, VelSet]
type = VelSet
trigger1 = ishelper(566)
x = 12-time/6
y = -2-time/6

[State 0, VelSet]
type = VelSet
trigger1 = ishelper(567)
x = 12-time/7
y = -3-time/7

[State 0, VelSet]
type = VelSet
trigger1 = ishelper(568)
x = 12-time/8
y = -4-time/8


[State 0, VelSet]
type = VelSet
trigger1 = ishelper(569)
x = 12
y = -6

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[State 0, Explod]
type = Explod
trigger1 = movehit = 1 && p2movetype = H ;&& timemod = 2,0
anim = F10+random%3
angle = -25+random%50
pos = -5-random%20,-20-random%30
postype = p2  ;p2,front,back,left,right
facing = 1
bindtime = 1
removetime = -2
sprpriority = 3
scale = 1,1
ontop = 0
supermovetime = 9999
pausemovetime = 9999

[State 0, Explod]
type = Explod
trigger1 = movehit = 1 && p2movetype = H
anim = F643
pos = -5-random%20,-15-random%30
postype = p2  ;p2,front,back,left,right
facing = 1
bindtime = 1
removetime = -2
sprpriority = 3
scale = 0.7,0.7
ontop = 0
supermovetime = 9999
pausemovetime = 9999

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
value = F14,5

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
value = F14,6

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F14,0

[State 0, TargetBind]
type = TargetBind
trigger1 = ishelper(565)
time = 1
pos = 15,20

[State 0, HitDef]
type = HitDef
givepower = 0
getpower = 0
trigger1 = timemod = 5,0
trigger1 = !ishelper(569)
attr = S, NA
damage = 50,10
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 0, 0
sparkno = 4
sparkxy = -15,0
hitsound = 14,5
guardsound = 14, 5
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -5,-5+vel y/2
airguard.velocity = -5,-5+vel y/2
air.type = High
air.velocity = -5,-5+vel y/2
air.hittime = 12
envshake.time = 30
envshake.freq = 30
envshake.ampl = -7
envshake.phase = 10
fall.yvelocity = -6
fall = 1

[State 0, HitDef]
type = HitDef
givepower = 0
getpower = 0
trigger1 = timemod = 5,0
trigger1 = ishelper(569)
attr = S, NA
damage = 50,10
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 0, 0
sparkno = 4
sparkxy = -15,0
hitsound = 14,5
guardsound = 14, 5
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -7,-7
airguard.velocity = -7,-7
air.type = High
air.velocity = -7,-7
air.hittime = 12
envshake.time = 30
envshake.freq = 30
envshake.ampl = -7
envshake.phase = 10
fall.yvelocity = -6
fall = 1

[State 0, End]
type = destroyself
trigger1 = Time = 25
;------------------
;Futon: Shinku Renpa
[StateDef 566]
type = A
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 565+random%4
poweradd = -500
sprpriority = 3

[State 0, TargetState]
type = TargetState
trigger1 = enemy(cond((enemy(0),alive),0,1)), var(54) = 0
trigger1 = !(enemynear, ishelper)
trigger1 = target, ishelper = 0
trigger1 = movehit
value = 109943

[State 0, NotHitBy]
type = NotHitBy
trigger1 = time >= 0
value = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
time = -1

[State 0, PlayerPush]
type = PlayerPush
trigger1 = 1
value = 1

[State 0, AngleDraw]
type = AngleDraw
trigger1 = 1
value = -atan(vel y/vel x)*180/PI 

[State 0, VelSet]
type = VelSet
trigger1 = ishelper(565)
x = 14-time/5
y = -3+random%5

[State 0, VelSet]
type = VelSet
trigger1 = ishelper(566)
x = 14-time/6
y = -3+random%5

[State 0, VelSet]
type = VelSet
trigger1 = ishelper(567)
x = 14-time/7
y = -3+random%5

[State 0, VelSet]
type = VelSet
trigger1 = ishelper(568)
x = 14-time/8
y = -3+random%5

[State 0, VelSet]
type = VelSet
trigger1 = ishelper(569)
x = 14
y = -3+random%5

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[State 0, Explod]
type = Explod
trigger1 = movehit = 1 && p2movetype = H ;&& timemod = 2,0
anim = F10+random%3
angle = -25+random%50
pos = -5-random%20,-20-random%30
postype = p2  ;p2,front,back,left,right
facing = 1
bindtime = 1
removetime = -2
sprpriority = 3
scale = 1,1
ontop = 0
supermovetime = 9999
pausemovetime = 9999

[State 0, Explod]
type = Explod
trigger1 = movehit = 1 && p2movetype = H
anim = F643
pos = -5-random%20,-15-random%30
postype = p2  ;p2,front,back,left,right
facing = 1
bindtime = 1
removetime = -2
sprpriority = 3
scale = 0.7,0.7
ontop = 0
supermovetime = 9999
pausemovetime = 9999

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
value = F14,5

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
value = F14,6

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F14,0

[State 0, TargetBind]
type = TargetBind
trigger1 = ishelper(565)
time = 1
pos = 15,30

[State 0, HitDef]
type = HitDef
givepower = 0
getpower = 0
trigger1 = timemod = 5,0
trigger1 = !ishelper(569)
attr = S, NA
damage = 50,10
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 0, 0
sparkno = 4
sparkxy = -15,0
hitsound = 14,5
guardsound = 14, 5
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -5,-1
airguard.velocity = -5,-1
air.type = High
air.velocity = -5,-1
air.hittime = 12
envshake.time = 30
envshake.freq = 30
envshake.ampl = -7
envshake.phase = 10
fall.yvelocity = -6
fall = 1

[State 0, HitDef]
type = HitDef
givepower = 0
getpower = 0
trigger1 = timemod = 5,0
trigger1 = ishelper(569)
attr = S, NA
damage = 50,10
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 0, 0
sparkno = 4
sparkxy = -15,0
hitsound = 14,5
guardsound = 14, 5
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -7,-3
airguard.velocity = -7,-3
air.type = High
air.velocity = -7,-3
air.hittime = 12
envshake.time = 30
envshake.freq = 30
envshake.ampl = -7
envshake.phase = 10
fall.yvelocity = -6
fall = 1

[State 0, End]
type = destroyself
trigger1 = Time = 25
;-----------------------------



;------------------
;Futon: Shinkugyuoku
[StateDef 570]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 570
poweradd = 0
sprpriority = 2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
trigger2 = animelem = 2
trigger3 = animelem = 3
value = F17,0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 4
value = S3,1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 5
value = F8,0+random%4

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 20
value = S3,7

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 5
value = S3,2

[State 0, Helper]
type = Helper
trigger1 = animelem = 6
trigger2 = animelem = 7
trigger3 = animelem = 8
triggerall = power > 100
helpertype = normal ;player
name = "Futon"
ID = 575
stateno = 575
pos = 25,-37
postype = p1    ;p2,front,back,left,right
facing = 1
ownpal = 1
size.xscale = 0.1
size.yscale = 0.05
supermovetime = 9999
pausemovetime = 9999

;Shinkugyuoku
[State -1, Shinkugyuoku]
type = ChangeState
value = 571
trigger1 = var(50) = 0 && (command = "c" || command = "x")
triggerall = time > 24
trigger2 = var(50) = 1 && random = [20,100+var(49)*(var(49))/10]
triggerall = power >= 200

[State 0, end]
type = ChangeState
trigger1 = time = 30
trigger2 = power < 200
trigger3 = win
trigger4 = lose
trigger5 = drawgame
trigger6 = life = 0
trigger7 = !ALive
trigger8 = var(50) = 1 && p2bodydist x < 0 && random = [0,100+var(49)*(var(49))/10]
trigger9 = p2statetype = L
value = 0
ctrl = 1

;------------------
;Futon: Shinkugyuoku
[StateDef 571]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 571
poweradd = 0
sprpriority = 2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 1
value = S3,7
channel = 8

[State 0, Helper]
type = Helper
trigger1 = animelem = 1
trigger2 = animelem = 2
trigger3 = animelem = 3
triggerall = power > 100
helpertype = normal;player
name = "Futon"
ID = 575
stateno = 575
pos = 25,-37
postype = p1    ;p2,front,back,left,right
facing = 1
ownpal = 1
size.xscale = 0.1
size.yscale = 0.05
supermovetime = 9999
pausemovetime = 9999

;Shinkugyuoku
[State -1, Shinkugyuoku]
type = ChangeState
value = 571
trigger1 = var(50) = 0 && (command = "c" || command = "x")
triggerall = time > 9
trigger2 = var(50) = 1 && random = [20,100+var(49)*(var(49))/10]
triggerall = power >= 200

[State 0, end]
type = ChangeState
trigger1 = time = 25
trigger2 = power < 100
trigger4 = win
trigger5 = lose
trigger6 = drawgame
trigger7 = life = 0
trigger8 = !ALive
trigger9 = var(50) = 1 && p2bodydist x < 0 && random = [0,100+var(49)*(var(49))/10]
trigger9 = p2statetype = L
value = 0
ctrl = 1
;-----------------
;Futon: Shinkugyuoku
[StateDef 575]
type = A
movetype= A
physics = S
juggle  = 1
ctrl = 0
anim = 575
poweradd = -100
sprpriority = 3

[State 0, TargetState]
type = TargetState
trigger1 = enemy(cond((enemy(0),alive),0,1)), var(54) = 0
trigger1 = !(enemynear, ishelper)
trigger1 = target, ishelper = 0
trigger1 = movehit
value = 109941

[State 0, PlayerPush]
type = PlayerPush
trigger1 = 1
value = 0;1

[State 0, Explod]
type = Explod
trigger1 = movehit = 1 && p2movetype = H
anim = F10+random%2
angle = -25+random%50
pos = 0,0
postype = p1  ;p2,front,back,left,right
facing = 1
bindtime = 1
removetime = -2
sprpriority = 3
scale = 0.5,0.5
ontop = 0
ownpal = 1
supermovetime = 9999
pausemovetime = 9999

[State 0, Explod]
type = Explod
trigger1 = movehit = 1 && p2movetype = H
anim = F643
pos = -3+random%8,5-random%10
postype = p1  ;p2,front,back,left,right
facing = 1
bindtime = 1
removetime = -2
sprpriority = 3
scale = 0.5,0.5
ontop = 0
supermovetime = 9999
pausemovetime = 9999
ownpal = 1

[State 0, AngleDraw]
type = AngleDraw
trigger1 = 1
value = -atan(vel y/vel x)*180/PI 

[State 0, Explod]
type = Explod
trigger1 = time = 0
trigger2 = timemod = 22,0
anim = 577
id = 577
pos = 0,0
scale = 0.3,0.15
postype = p1
facing = 1
bindtime = -1
removetime = -2
sprpriority = 4
supermovetime = 99999
pausemovetime = 99999
ownpal = 1

[State 0, ModifyExplod]
type = ModifyExplod
trigger1 = 1
ID = 577
angle = -atan(vel y/vel x)*180/PI 

[State 0, EnvShake]
type = EnvShake
trigger1 = time%5 = 0
time = 6
freq = 20
ampl = 2
phase = 90

[State 0, VarRandom]
type = VarRandom
trigger1 = time = 0
v = 10
range = -100,75

[State 0, VarRandom]
type = VarRandom
trigger1 = time = 0
v = 8
range = 3,6

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow
ignorehitpause = 1

[State 0, VelSet]
type = VelSet
trigger1 = 1
x = (4+var(8))*1.5
y = var(10)/50.0

[State 0, HitOverride]
type = HitOverride
trigger1 = 1
attr = SCA, NA, SA, HA, NP, SP, HP
stateno = 576
time = -1
forceair = 1

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
value = F14,6

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F14,0

[State 0, HitDef]
type = HitDef
givepower = 0
getpower = 0
trigger1 = timemod = 5,0
attr = S, NA
damage = 45,9
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 0, 5
sparkno = 4
sparkxy = -15,0
hitsound = 14, 5
guardsound = 14, 5
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -1,0
airguard.velocity = -1,0
air.type = High
air.velocity = -1,0
air.hittime = 12
envshake.time = 15
envshake.ampl = -9
envshake.freq = 25
envshake.phase = 10

[State 0, End]
type = changestate
trigger1 = movecontact
trigger2 = animtime = 0
trigger3 = pos y > -1
value = 576
;-----------------
;Futon: Shinkugyuoku
[StateDef 576]
type = A
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 576
poweradd = 0
sprpriority = 3

[State 0, AngleDraw]
type = AngleDraw
trigger1 = 1
value = -atan(vel y/vel x)*180/PI 

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = 1
id = 577

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
value = F14,6

[State 0, Explod]
type = Explod
trigger1 = time = 0 && pos y > -1
anim = F1090
id = 1090
pos = 20,0
scale = 0.3,0.3
postype = p1
facing = 1
bindtime = 1
removetime = -2
sprpriority = 4
supermovetime = 99999
pausemovetime = 99999
ownpal = 1

[State 0, Explod]
type = Explod
trigger1 = time = 0 && pos y > -1
anim = F1200
id = 1200
pos = 20,0
scale = 0.3,0.3
postype = p1
facing = 1
bindtime = 1
removetime = -2
sprpriority = 5
supermovetime = 99999
pausemovetime = 99999
ownpal = 1

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 =  1
flag = noshadow

[State 0, VelSet]
type=VelSet
trigger1= 1
x=2-time/10

[State 0, End]
type = destroyself
trigger1 = animtime = 0
;------------------
;Air Futon: Shinkugyuoku
[StateDef 580]
type = A
movetype= A
physics = A
juggle  = 1
velset = -1.3,-5
ctrl = 0
anim = 580
poweradd = 0
sprpriority = 2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
trigger2 = animelem = 2
trigger3 = animelem = 3
value = F17,0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 4
value = S3,1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 5
value = F8,0+random%4

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 20
value = S3,7
channel = 8

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 5
value = S3,2

[State 0, Helper]
type = Helper
trigger1 = animelem = 6
trigger2 = animelem = 7
trigger3 = animelem = 8
triggerall = power > 100
helpertype = normal ;player
name = "Futon"
ID = 585
stateno = 585
pos = 10,-48
postype = p1    ;p2,front,back,left,right
facing = 1
ownpal = 1
size.xscale = 0.1
size.yscale = 0.05
supermovetime = 9999
pausemovetime = 9999

;Shinkugyuoku
[State -1, Shinkugyuoku]
type = ChangeState
value = 581
trigger1 = var(50) = 0 && (command = "c" || command = "x")
triggerall = time > 24
trigger2 = var(50) = 1 && random = [20,100+var(49)*(var(49))/10]
trigger2 = abs((p2dist x/((p2dist y+1)+cond(p2statetype=C,-5,-20)))*10) = [3,16]
triggerall = power >= 200

[State 0, end]
type = ChangeState
trigger1 = time = 30
trigger2 = power < 200
trigger3 = win
trigger4 = lose
trigger5 = drawgame
trigger6 = life = 0
trigger7 = !ALive
trigger8 = var(50) = 1 && p2bodydist x < 0 && random = [0,100+var(49)*(var(49))/10]
trigger9 = p2statetype = L
value = 50
ctrl = 1

;------------------
;Air Futon: Shinkugyuoku
[StateDef 581]
type = A
movetype= A
physics = A
juggle  = 1
ctrl = 0
anim = 581
poweradd = 0
sprpriority = 2

[State 0, VelSet]
type = VelSet
trigger1 = time = 2
y = -1.3

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 1
value = S3,7
channel = 8

[State 0, Helper]
type = Helper
trigger1 = animelem = 1
trigger2 = animelem = 2
trigger3 = animelem = 3
triggerall = power > 100
helpertype = normal;player
name = "Futon"
ID = 585
stateno = 585
pos = 10,-48
postype = p1    ;p2,front,back,left,right
facing = 1
ownpal = 1
size.xscale = 0.1
size.yscale = 0.05
supermovetime = 9999
pausemovetime = 9999

;Shinkugyuoku
[State -1, Shinkugyuoku]
type = ChangeState
value = 581
trigger1 = var(50) = 0 && (command = "c" || command = "x")
triggerall = time > 9
trigger2 = var(50) = 1 && random = [20,100+var(49)*(var(49))/10]
trigger2 = abs((p2dist x/((p2dist y+1)+cond(p2statetype=C,-5,-20)))*10) = [3,16]
triggerall = power >= 200

[State 0, end]
type = ChangeState
trigger1 = time = 25
trigger2 = power < 100
trigger4 = win
trigger5 = lose
trigger6 = drawgame
trigger7 = life = 0
trigger8 = !ALive
trigger9 = var(50) = 1 && p2bodydist x < 0 && random = [0,100+var(49)*(var(49))/10]
trigger9 = p2statetype = L
value = 50
ctrl = 1
;-----------------
;Air Futon: Shinkugyuoku
[StateDef 585]
type = A
movetype= A
physics = S
juggle  = 1
ctrl = 0
anim = 575
poweradd = -100
sprpriority = 3

[State 0, TargetState]
type = TargetState
trigger1 = enemy(cond((enemy(0),alive),0,1)), var(54) = 0
trigger1 = !(enemynear, ishelper)
trigger1 = target, ishelper = 0
trigger1 = movehit
value = 109941

[State 0, PlayerPush]
type = PlayerPush
trigger1 = 1
value = 0

[State 0, Explod]
type = Explod
trigger1 = movehit = 1 && p2movetype = H
anim = F10+random%2
angle = -25+random%50
pos = 0,0
postype = p1  ;p2,front,back,left,right
facing = 1
bindtime = 1
removetime = -2
sprpriority = 3
scale = 0.5,0.5
ontop = 0
ownpal = 1
supermovetime = 9999
pausemovetime = 9999

[State 0, Explod]
type = Explod
trigger1 = movehit = 1 && p2movetype = H
anim = F643
pos = -3+random%8,5-random%10
postype = p1  ;p2,front,back,left,right
facing = 1
bindtime = 1
removetime = -2
sprpriority = 3
scale = 0.5,0.5
ontop = 0
ownpal = 1
supermovetime = 9999
pausemovetime = 9999

[State 0, AngleDraw]
type = AngleDraw
trigger1 = 1
value = -atan(vel y/vel x)*180/PI 

[State 0, Explod]
type = Explod
trigger1 = time = 0
trigger2 = timemod = 22,0
anim = 577
id = 577
pos = 0,0
scale = 0.3,0.15
postype = p1
facing = 1
bindtime = -1
removetime = -2
sprpriority = 4
supermovetime = 99999
pausemovetime = 99999
ownpal = 1

[State 0, ModifyExplod]
type = ModifyExplod
trigger1 = 1
ID = 577
angle = -atan(vel y/vel x)*180/PI 

[State 0, EnvShake]
type = EnvShake
trigger1 = time%5 = 0
time = 6
freq = 20
ampl = 2
phase = 90

[State 0, VarRandom]
type = VarRandom
trigger1 = time = 0
v = 10
range = -100,75

[State 0, VarRandom]
type = VarSet
trigger1 = time = 0
v = 7
value = 2+random%6

[State 0, VarRandom]
type = VarSet
trigger1 = time = 0
v = 8
value = 3+random%3

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow
ignorehitpause = 1

[State 0, VelSet]
type = VelSet
trigger1 = 1
x = 3+var(7)
y = (4+var(8))*1.5;var(10)/50.0

[State 0, HitOverride]
type = HitOverride
trigger1 = 1
attr = SCA, NA, SA, HA, NP, SP, HP
stateno = 586
time = -1
forceair = 1

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
value = F14,6

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F14,0

[State 0, HitDef]
type = HitDef
givepower = 0
getpower = 0
trigger1 = timemod = 5,0
attr = S, NA
damage = 45,9
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 0, 5
sparkno = 4
sparkxy = -15,0
hitsound = 14, 5
guardsound = 14, 5
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -1,0
airguard.velocity = -1,0
air.type = High
air.velocity = -1,0
air.hittime = 12
envshake.time = 15
envshake.ampl = -9
envshake.freq = 25
envshake.phase = 10

[State 0, End]
type = changestate
trigger1 = movecontact
trigger2 = animtime = 0
trigger3 = pos y > -1
value = 586
;-----------------
;Air Futon: Shinkugyuoku
[StateDef 586]
type = A
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 576
poweradd = 0
sprpriority = 3

[State 0, AngleDraw]
type = AngleDraw
trigger1 = 1
value = -atan(vel y/vel x)*180/PI 

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = 1
id = 577

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
value = F14,6

[State 0, Explod]
type = Explod
trigger1 = time = 0 && pos y > -1
anim = F1090
id = 1090
pos = 20,0
scale = 0.3,0.3
postype = p1
facing = 1
bindtime = 1
removetime = -2
sprpriority = 4
supermovetime = 99999
pausemovetime = 99999
ownpal = 1

[State 0, Explod]
type = Explod
trigger1 = time = 0 && pos y > -1
anim = F1200
id = 1200
pos = 20,0
scale = 0.3,0.3
postype = p1
facing = 1
bindtime = 1
removetime = -2
sprpriority = 5
supermovetime = 99999
pausemovetime = 99999
ownpal = 1

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 =  1
flag = noshadow

[State 0, VelSet]
type=VelSet
trigger1= 1
x=2-time/10

[State 0, End]
type = destroyself
trigger1 = animtime = 0
;------------------
;Futon: Daitoppa
[StateDef 590]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 590
poweradd = 0
sprpriority = 2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
value = F8,0+random%4

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
trigger2 = animelem = 2
trigger3 = animelem = 3
trigger4 = animelem = 4
trigger5 = animelem = 5
value = F17,0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 6
value = S3,1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 5
value = S3,14

[State 0, Helper]
type = Helper
trigger1 = animelem = 7
helpertype = normal;player
name = "fuuton"
ID = 595
stateno = 595
pos = 17,-39
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1
size.xscale = 0.5
size.yscale = 0.5

[State 0, End]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;------------------
;Futon: Daitoppa
[StateDef 595]
type = A
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 595
poweradd = -500
sprpriority = 3

[State 0, TargetState]
type = TargetState
trigger1 = enemy(cond((enemy(0),alive),0,1)), var(54) = 0
trigger1 = !(enemynear, ishelper)
trigger1 = target, ishelper = 0
trigger1 = movehit
value = 109941

[State 0, AngleDraw]
type = AngleDraw
trigger1 = 1
value = 20

[State 0, BindToParent]
type = BindToParent
trigger1 = time < 7 && parent, stateno = 590
time = 1
pos = 17,-39

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[State 0, Explod]
type = Explod
trigger1 = movehit = 1 && p2movetype = H
anim = F10+random%2
angle = -25+random%50
pos = -15,-30
postype = p2  ;p2,front,back,left,right
facing = 1
bindtime = 1
removetime = -2
sprpriority = 3
scale = 1,1
ontop = 0
supermovetime = 9999
pausemovetime = 9999

[State 0, Explod]
type = Explod
trigger1 = movehit = 1 && p2movetype = H
anim = F643
pos = -5+random%20,-15-random%30
postype = p2  ;p2,front,back,left,right
facing = 1
bindtime = 1
removetime = -2
sprpriority = 3
scale = 0.7,0.7
ontop = 0
supermovetime = 9999
pausemovetime = 9999

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
value = F14,0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F14,1

[State 0, HitDef]
type = HitDef
givepower = 0
getpower = 0
trigger1 = timemod = 3,0
attr = S, NA
damage = 45,9
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 0, 3
sparkno = 4
sparkxy = -15,0
hitsound = 14, 6
guardsound = 14, 6
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -4,-4
airguard.velocity = -4,-4
air.type = High
air.velocity = -4,-4
air.hittime = 12
envshake.time = 30
envshake.freq = 30
envshake.ampl = -7
envshake.phase = 10
fall.yvelocity = -7
fall = 1

[State 0, End]
type = destroyself
trigger1 = animtime = 0
;------------------
;Futon: Shinkujin Def
[StateDef 600]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 600
poweradd = 0
sprpriority = 2

[State 0, PowerAdd]
type = PowerAdd
trigger1 = time > 5
value = -5

[State 0, Explod]
type = Explod
trigger1 = movehit = 1 && p2movetype = H
anim = F10+random%2
angle = -25+random%50
pos = -15,-10-random%50
postype = p2  ;p2,front,back,left,right
facing = 1
bindtime = 1
removetime = -2
sprpriority = 3
scale = 1.3,1.3
ontop = 0
supermovetime = 9999
pausemovetime = 9999

[State 0, Explod]
type = Explod
trigger1 = movehit = 1 && p2movetype = H
anim = F643
pos = -15,-10-random%50
postype = p1  ;p2,front,back,left,right
facing = 1
bindtime = 1
removetime = -2
sprpriority = 3
scale = 0.5,0.5
ontop = 0
supermovetime = 9999
pausemovetime = 9999

[State 0, Explod]
type = Explod
trigger1 = animelem = 2
trigger2 = time > 10 && timemod = 15,0
trigger2 = numhelper(2431) < 2
anim = 2431
ID = 2431
pos = 3,-42
postype = p1  ;p2,front,back,left,right
facing = 1
bindtime = -1
removetime = -2
sprpriority = 4
scale = .5,.5
ownpal = 1
ontop = 0
supermovetime = 9999
pausemovetime = 9999
removeongethit = 1

[State 0, Explod]
type = Explod
trigger1 = time > 10 && numexplod(6431) = 0
anim = F643
ID = 6431
pos = 3,-42
postype = p1  ;p2,front,back,left,right
facing = 1
bindtime = -1
removetime = -2
sprpriority = 4
scale = 1.2,1.1
ontop = 0
supermovetime = 9999
pausemovetime = 9999
removeongethit = 1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F21,6

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F8,0+random%4

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = S2,2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = timemod = 15,0
value = S3,1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = F14,1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = timemod = 15,0
value = F14,6

[State 0, HitDef]
type = HitDef
givepower = 0
getpower = 0
trigger1 = timemod = 5,0
attr = S, NA
damage = 30,6
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 0, 3
sparkno = 4
sparkxy = -15,-40-random%40
hitsound = 14, 5
guardsound = 14, 5
ground.type = High
ground.slidetime = 5
ground.hittime  = 25
ground.velocity = -4,-3
airguard.velocity = -4,-3
air.type = High
air.velocity = -4,-3
air.hittime = 12
envshake.time = 20
envshake.freq = 25
envshake.ampl = -6
envshake.phase = 10
fall.yvelocity = -6
fall = 1

[State 0, End]
type = ChangeState
trigger1 = time > 45 && var(50) = 0 && command != "hold_z"
trigger2 = power = 0
trigger3 = time > 45 && var(50) = 1 && random = [0,100-var(49)*(var(49))/100]
trigger4 = win
trigger5 = lose
trigger6 = drawgame
trigger7 = life = 0
trigger8 = !ALive
trigger9 = time > 45 && var(50) = 1 && random = [0,100+var(49)*(var(49))/10]
trigger9 = p2bodydist x != [-50,150]
trigger9 = p2movetype != A
trigger10 = time > 30 && var(50) = 1 && random = [0,100+var(49)*(var(49))/10]
trigger10 = p2bodydist x != [-50,60]
value = 601
ctrl = 1
;------------------
;Futon: Shinkujin Def
[StateDef 601]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 601
poweradd = 0
sprpriority = 2

[State 0, TargetState]
type = TargetState
trigger1 = enemy(cond((enemy(0),alive),0,1)), var(54) = 0
trigger1 = !(enemynear, ishelper)
trigger1 = target, ishelper = 0
trigger1 = movehit
value = 109941

[State 0, CtrlSet]
type = CtrlSet
trigger1 = time = 10
value = 1

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = 1
id = 643 

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 7
value = F21,6

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
value = F14,1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F14,0

[State 0, End]
type = ChangeState
trigger1 = animtime = 0
value = 0
ctrl = 1
;------------------
;Futon: Shinkujin Shuriken
[StateDef 610]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 610
poweradd = 0
sprpriority = 2

[State 0, VarSet]
type = VarSet
trigger1 = time = 0
v = 5
value = 1

[State 0, VarSet]
type = VarSet
trigger1 = time >= 55
v = 5
value = 50

[State 0, VarAdd]
type = VarAdd
trigger1 = time = [5,55]
v = 5
value = 1

[State 0, PowerAdd]
type = PowerAdd
trigger1 = time > 5
value = -6

[State 0, Explod]
type = Explod
trigger1 = time = 5 
anim = 616
ID = 616
pos = 4,-42
postype = p1  ;p2,front,back,left,right
facing = 1
bindtime = -1
removetime = -1
sprpriority = 4
scale = (1*var(5))*0.1,(1*var(5))*0.1
ownpal = 1
ontop = 0
supermovetime = 9999
pausemovetime = 9999
removeongethit = 1

[State 0, ModifyExplod]
type = ModifyExplod
trigger1 = 1
ID = 616
scale = (1*var(5))*0.01,(1*var(5))*0.01

[State 0, Explod]
type = Explod
trigger1 = time = 5 
anim = F643
ID = 617
pos = 4,-42
postype = p1  ;p2,front,back,left,right
facing = 1
bindtime = -1
removetime = -1
sprpriority = 4
scale = (1*var(5))*0.1*3,(1*var(5))*0.1*3
ownpal = 1
ontop = 0
supermovetime = 9999
pausemovetime = 9999
removeongethit = 1

[State 0, ModifyExplod]
type = ModifyExplod
trigger1 = 1
ID = 617
scale = (1*var(5))*0.01*3,(1*var(5))*0.01*3


[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F21,6

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F8,0+random%4

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = S2,2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = timemod = 15,0
value = S3,1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = F14,1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = timemod = 15,0
value = F14,6

[State 7500, Explod]
type = Explod
ownpal = 1
trigger1 = time = 5
anim = 90001
ID = 9998
pos = -33,-75
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = -1
removetime = 115
scale = 0.5,0.5
sprpriority = 2
removeongethit = 1
ontop = 0
supermovetime = 999999

[State 7500, Explod]
type = Explod
ownpal = 1
trigger1 = time >= 5
anim = 90002
ID = 9999
pos = -33,-75
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = -1
removetime = 1
scale = fvar(10), 0.5
sprpriority = 1
removeongethit = 1
supermovetime = 999999

[State 7500, VarSet]
type = VarSet
trigger1 = time = 1
fv = 10    ;fv = 10
value = 0

[State 7500, VarAdd]
type = VarAdd
trigger1 = time%2
;trigger1 = time >= 5
fv = 10
value = 0.02

[State 7500, VarSet]
type = VarSet
trigger1 = fvar(10) > 1
fv = 10    ;fv = 10
value = 1

[State 0, End]
type = ChangeState
trigger1 = time > 20 && var(50) = 0 && command != "hold_z"
trigger2 = power = 0
trigger3 = time > 20 && var(50) = 1 && random = [0,100-var(49)*(var(49))/100]
trigger4 = win
trigger5 = lose
trigger6 = drawgame
trigger7 = life = 0
trigger8 = !ALive
trigger9 = time = 55
value = 611
ctrl = 1
;--------------
;Futon: Shinkujin Shuriken
[StateDef 611]
type = S
movetype = A
physics = S
juggle = 0
poweradd = 0
anim = 611
ctrl = 0

[State 0, Turn]
type = Turn
trigger1 = time = 0 && p2bodydist x < -10

[State 1640, X]
Type=VarSet
Trigger1=1
fvar(13)=(EnemyNear(0),Pos X-Pos X)*Facing

[State 1640, Y]
Type=VarSet
trigger1=1
fvar(14)=(EnemyNear(0),pos Y-Pos Y)

[State 1640, Vector Length]
Type=VarSet
trigger1=1
fvar(15)=Exp(0.5*ln((fvar(13)*fvar(13))+(fvar(14)*fvar(14))))

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = 1 
id = 616

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = 1 
id = 617

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F21,4

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = S1,0+random%12
volume = 255
channel = 4

[State 0, VarAdd]
type = VarAdd
trigger1 = time = 0
v = 23
value = 1

[State 0, VarSet]
type = VarSet
trigger1 = animelem = 3
v = 5   
value = 1

[State 0, Helper]
type = Helper
trigger1 = animelem = 1
helpertype = normal;player
name = "Shuriken"
ID = 615
stateno = 615
pos = 10,-28
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1

[State 310, end]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;------------------------------------------------------------------
;Futon Shuriken lot
[Statedef 615]
type = S
movetype= A
physics = N
juggle  = 3
velset = 0,0
ctrl = 0
anim = 615
sprpriority = 2

[State 0, TargetState]
type = TargetState
trigger1 = enemy(cond((enemy(0),alive),0,1)), var(54) = 0
trigger1 = !(enemynear, ishelper)
trigger1 = target, ishelper = 0
trigger1 = movehit
value = 109941

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F21,6

[State 0, PlaySnd]
type = PlaySnd
trigger1 = timemod = 20,0
value = F14,1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = timemod = 17,0
value = F14,5

[State 0, PlaySnd]
type = PlaySnd
trigger1 = timemod = 15,0
value = F14,6

[State 0, NotHitBy]
type = NotHitBy
trigger1 = time >= 0
value = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
time = -1

[State 0, VarSet]
type = VarSet
trigger1 = time = 0
v = 5   
value = parent,var(5)

[State 0, VarSet]
type = VarSet
trigger1 = var(5) = 0
v = 5   
value = 1

[State 0, VarSet]
type = VarSet
trigger1 = var(5) > 50
v = 5   
value = 50

[State 0, AngleDraw]
type = AngleDraw
trigger1 = time < 5
scale = 1,1

[State 0, AngleDraw]
type = AngleDraw
trigger1 = time >= 5
scale = 1,0.3

[State 0, Explod]
type = Explod
trigger1 = time = 0 
anim = 6151
ID = 6151
pos = 0,0
postype = p1  ;p2,front,back,left,right
facing = 1
bindtime = -1
removetime = -1
sprpriority = 4
scale = (1*var(5))*0.1*0.1*8,(1*var(5))*0.1*0.1*5
ownpal = 1
ontop = 0
supermovetime = 9999
pausemovetime = 9999
removeongethit = 1

[State 0, Explod]
type = ModifyExplod
trigger1 = time < 5
anim = 6151
ID = 6151
scale = (1*var(5))*0.1*0.1*8,(1*var(5))*0.1*0.1*5

[State 0, Explod]
type = ModifyExplod
trigger1 = time >= 5
anim = 6151
ID = 6151
scale = (1*var(5))*0.1*0.1*8,(1*var(5))*0.1*0.3*0.1*5
angle = -atan(vel y/vel x)*180/PI

[State 0, Explod]
type = Explod
trigger1 = time = 0 
anim = 616
ID = 6161
pos = 0,0
postype = p1  ;p2,front,back,left,right
facing = 1
bindtime = -1
removetime = -1
sprpriority = 4
scale = (1*var(5))*0.1*0.1,(1*var(5))*0.1*0.1
ownpal = 1
ontop = 0
supermovetime = 9999
pausemovetime = 9999
removeongethit = 1

[State 0, Explod]
type = ModifyExplod
trigger1 = time < 5
anim = 616
ID = 6161
scale = (1*var(5))*0.1*0.1,(1*var(5))*0.1*0.1

[State 0, Explod]
type = ModifyExplod
trigger1 = time >= 5
anim = 616
ID = 6161
scale = (1*var(5))*0.1*0.1,(1*var(5))*0.1*0.3*0.1
angle = -atan(vel y/vel x)*180/PI

[State 0, Explod]
type = Explod
trigger1 = time = 0 
anim = F643
ID = 6171
pos = 0,0
postype = p1  ;p2,front,back,left,right
facing = 1
bindtime = -1
removetime = -1
sprpriority = 4
scale = (1*var(5))*0.1*0.1*3,(1*var(5))*0.1*0.1*3
ownpal = 1
ontop = 0
supermovetime = 9999
pausemovetime = 9999
removeongethit = 1

[State 0, Explod]
type = ModifyExplod
trigger1 = time < 5
ID = 6171
scale = (1*var(5))*0.1*0.1*3,(1*var(5))*0.1*0.1*3

[State 0, Explod]
type = ModifyExplod
trigger1 = time >= 5
ID = 6171
scale = (1*var(5))*0.1*0.1*3,(1*var(5))*0.1*0.3*0.1*3
angle = -atan(vel y/vel x)*180/PI


[State 0, AngleDraw]
type = AngleDraw
trigger1 = 1
value = -atan(vel y/vel x)*180/PI

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[State 0, PlaySnd]
type = PlaySnd
trigger1 = timemod = 8,0
value = F21,6

[State 0, BindToParent]
type = BindToParent
trigger1 = time = 0
time = 4
pos = 9,-22

[State 0, BindToParent]
type = BindToParent
trigger1 = time = 4
time = 1
pos = 9,-28

[State 0, PlayerPush]
type = PlayerPush
trigger1 = hitcount < 5
trigger1 = time < 30
value = 1

[State 0, PlayerPush]
type = PlayerPush
trigger1 = hitcount >= 5
trigger2 = time >= 30
value = 0

[State 0, VelSet]
type=VelSet
trigger1= time > 5
x=(Parent,Fvar(13))/(Parent,fvar(15))*(13+var(5)/8)
y=(Parent,FVar(14))/(Parent,fvar(15))*(13+var(5)/8)

[State 0, Explod]
type = Explod
trigger1 = movehit = 1 && p2movetype = H
anim = F10+random%2
angle = -25+random%50
pos = -15,-20-random%20
postype = p2  ;p2,front,back,left,right
facing = 1
bindtime = 1
removetime = -2
sprpriority = 3
scale = 0.8,0.8
ontop = 0
supermovetime = 9999
pausemovetime = 9999

[State 0, Explod]
type = Explod
trigger1 = movehit = 1 && p2movetype = H
anim = F643
pos = -15,-20-random%20
postype = p2  ;p2,front,back,left,right
facing = 1
bindtime = 1
removetime = -2
sprpriority = 3
scale = 0.5,0.5
ontop = 0
supermovetime = 9999
pausemovetime = 9999

[State 0, HitDef]
type = HitDef
givepower = 0
getpower = 0
trigger1 = hitcount < 5
triggerall = timemod = 5,0
attr = S, NA
damage = (40+var(5)*3)*0.4,((40+var(5)*3)/5)*0.4
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 1, 5
sparkno = 4
sparkxy = -15, 10-random%20
hitsound = 14, 5
guardsound = 14, 5
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -3,0
airguard.velocity = -3,-4
air.type = High
air.velocity = -3,-4
air.hittime = 12
envshake.time = 10
envshake.freq = 20
envshake.ampl = -5
envshake.phase = 10

[State 0, DestroySelf]
type = ChangeState
trigger1 = frontedgebodydist < -50
trigger2 = time = 80
value = 617
ctrl = 0
;------------------------------------------------------------------
;Futon Shuriken destroy
[Statedef 617]
type = S
movetype= A
physics = N
juggle  = 3
velset = 0,0
ctrl = 0
anim = 617
sprpriority = 2

[State 0, PlayerPush]
type = PlayerPush
trigger1 = 1 
value = 0

[State 0, NotHitBy]
type = NotHitBy
trigger1 = time >= 0
value = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
time = -1

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = time = 10 
id = 6151

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = time = 10 
id = 6161

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = time = 10 
id = 6171

[State 0, VelSet]
type = VelSet
trigger1 = 1
x=(Parent,Fvar(13))/(Parent,fvar(15))*(13+var(5)/8)
y=(Parent,FVar(14))/(Parent,fvar(15))*(13+var(5)/8)

[State 0, DestroySelf]
type = Destroyself
trigger1 = time = 11
;------------------
;Seal
[StateDef 630]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 630
poweradd = -500
sprpriority = 0

[State 0, VarSet]
type = VarSet
trigger1 = time = 10
v = 3
value = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 1
value = S1,2+random%4
volume = 255
channel = 1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 5
value = S6,9
volume = 255
channel = 6

[State 0, End]
type = ChangeState
trigger1 = Time = 20
value = 0
ctrl = 1


;------------------
;Kuchiyose
[StateDef 640]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 640
poweradd = 0
sprpriority = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
trigger2 = animelem = 2
trigger3 = animelem = 3
trigger4 = animelem = 4
trigger5 = animelem = 5
value = F17,0

[State 0, Explod]
type = Explod
trigger1 = animelem = 6
anim = F13
pos = -3,-45
postype = p1  ;p2,front,back,left,right
facing = -1
vel = -0.5,-0.3
bindtime = 1
removetime = -2
sprpriority = 3
scale = 1.4,1.4
ontop = 0
supermovetime = 9999
pausemovetime = 9999

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 8
value = F8,0+random%4

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 8
value = S3,11

[State 0, Helper] 
type = Helper 
trigger1 = time = 50
helpertype = normal
name = "pieczec kuchiyose" 
ID = 649
stateno = 649
pos = 9,2
postype = p1 
ownpal = 1 
pausemovetime = 9999
supermovetime = 9999

[State 0, Helper]
type = Helper
trigger1 = time = 70
helpertype = normal;player
name = "Baku"
ID = 650
stateno = 650
pos = 20,0
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1
size.xscale = 0.8
size.yscale = 0.8

[State 0, End]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;---------------------
;Pieczêæ
[StateDef 649]
type = S
anim = 649
sprpriority = -3

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[State 0, AngleDraw]
type = AngleDraw
trigger1 = time < 17
scale = 0.0015*(time*22),0.00020*(time*19)

[State 0, AngleDraw]
type = AngleDraw
trigger1 = time > 16
scale = 0.5625,0.065

[State 0, Trans]
type = Trans
trigger1 = 1
trans = Sub

[State 0, ChangeState]
type = destroyself
trigger1 = time = 70
;------------------
;Baku
[StateDef 650]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 650
poweradd = -1000
sprpriority = -2

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = time < 5
flag = invisible

[State 0, Explod]
type = Explod
trigger1 = time = 5
anim = 6501
ID = 650
pos = 0,0
postype = p1
bindtime = -1
removetime = -1
supermovetime = 9999
pausemovetime = 9999
scale = 0.8,0.8
sprpriority = 6
ownpal = 1
ontop = 0

[State 0, NotHitBy]
type = NotHitBy
trigger1 = time >= 0
value = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
time = -1

[State 0, PlayerPush]
type = PlayerPush
trigger1 = 1
value = 1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = F9,0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = F9,2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 3
value = S6,10

[State 0, Explod]
type = Explod
trigger1 = time = 0
anim = 337
ID = 337
pos = 40,15
postype = p1
bindtime = 1
removetime = 18
supermovetime = 9999
pausemovetime = 9999
scale = 1.2,1
sprpriority = 7
ownpal = 1
ontop = 0

[State 0, Explod]
type = Explod
trigger1 = time = 0
anim = 337
ID = 337
pos = -40,15
postype = p1
bindtime = 1
removetime = 18
supermovetime = 9999
pausemovetime = 9999
scale = 1.2,1
sprpriority = 7
ownpal = 1
ontop = 0

[State 0, Explod]
type = Explod
trigger1 = time = 0
anim = F1370
ID = 1370
pos = -30,25
postype = p1
bindtime = 1
vel = -1,-0.5
removetime = 49
supermovetime = 9999
pausemovetime = 9999
scale = 1.2,1.2
sprpriority = 4
ontop = 0

[State 0, Explod]
type = Explod
trigger1 = time = 0
anim = F1370
ID = 1370
pos = 30,25
postype = p1
facing = -1
vel = 1,-0.5
bindtime = 1
removetime = 49
supermovetime = 9999
pausemovetime = 9999
scale = 1.2,1.2
sprpriority = 4
ontop = 0

[State 0, Explod]
type = Explod
trigger1 = time = 0
anim = F1370
ID = 1370
pos = -15,35
postype = p1
bindtime = 1
vel = -1,-0.5
removetime = 49
supermovetime = 9999
pausemovetime = 9999
scale = 1,1
sprpriority = 7
ontop = 0

[State 0, Explod]
type = Explod
trigger1 = time = 0
anim = F1370
ID = 1370
pos = 15,35
postype = p1
facing = -1
vel = 1,-0.5
bindtime = 1
removetime = 49
supermovetime = 9999
pausemovetime = 9999
scale = 1,1
sprpriority = 7
ontop = 0


[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 20
value = S3,10

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 20
value = S6,3

[State 0, Explod]
type = Explod
trigger1 = time = [20,180]
anim = F695
ID = 695
pos = 235+random%4,-25-random%4
postype = p1
facing = -1
vel = 4+random%3,-4-random%3
accel = -0.2,0.2
bindtime = 1
removetime = -2
supermovetime = 9999
pausemovetime = 9999
scale = 0.7,0.7
sprpriority = 5
ontop = 0

[State 0, EnvShake]
type = EnvShake
trigger1 = time%8 = 0
trigger1 = time = [20,180]
time = 15
freq = 15
ampl = -5
phase = 90

[State 0, Helper]
type = Helper
trigger1 = time = 5
helpertype = normal;player
name = "No Push"
ID = 654
stateno = 654
pos = 0,0
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1
size.xscale = 1
size.yscale = 1
size.ground.front = 70
size.ground.back = -150
size.air.front = 70
size.air.back = -120
size.height = 200
size.head.pos = 80,-120 
size.mid.pos = -40,-80 

[State 0, End]
type = ChangeState
trigger1 = Time = 200
value = 651
ctrl = 1
;------------------
;Baku
[StateDef 651]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 651
poweradd = 0
sprpriority = -2

[State 0, PowerAdd]
type = PowerAdd
trigger1 = 1
value = -5

[State 0, EnvShake]
type = EnvShake
trigger1 = time%5 = 0
time = 25
freq = 25
ampl = -6
phase = 90

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = 1
id = 650

[State 0, Explod]
type = Explod
trigger1 = time = 0
anim = 6511
ID = 651
pos = 0,0
postype = p1
bindtime = -1
removetime = -1
supermovetime = 9999
pausemovetime = 9999
scale = 0.8,0.8
sprpriority = 6
ownpal = 1
ontop = 0

[State 0, NotHitBy]
type = NotHitBy
trigger1 = time >= 0
value = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
time = -1

[State 0, PlayerPush]
type = PlayerPush
trigger1 = 1
value = 1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 10
value = S6,1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time > 10 && timemod = 15,0
value = S6,4

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time > 10 && timemod = 18,0
value = S6,5

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time > 10 && timemod = 20,0
value = F14,3

[State 0, Explod]
type = Explod
trigger1 = time = 10
anim = 653
ID = 653
pos = 85,-80
postype = p1
facing = 1
bindtime = -1
removetime = -1
supermovetime = 9999
pausemovetime = 9999
scale = 0.8,0.55
sprpriority = 5
ontop = 0
angle = -5

[State 0, Explod]
type = Explod
trigger1 = time = 20
anim = 653
ID = 653
pos = 85,-80
postype = p1
facing = 1
bindtime = -1
removetime = -1
supermovetime = 9999
pausemovetime = 9999
scale = 0.8,0.55
sprpriority = 0
ontop = 0
angle = -5

[State 0, Helper]
type = Helper
trigger1 = time > 25 && timemod = 10,0
helpertype = normal;player
name = "<"
ID = 655
stateno = 655
pos = 570+random%30,0
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1
size.xscale = 1
size.yscale = 1

[State 0, Helper]
type = Helper
trigger1 = time > 25 && timemod = 20,0
helpertype = normal;player
name = ">"
ID = 655
stateno = 6553
pos = -300-random%30,0
postype = p1    ;p2,front,back,left,right
facing = -1
keyctrl = 0
ownpal = 1
size.xscale = 1
size.yscale = 1

[State 0, Helper]
type = Helper
trigger1 = time = 10
helpertype = normal;player
name = "^"
ID = 655
stateno = 6551
pos = 100,0
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1
size.xscale = 1
size.yscale = 1

[State 0, Helper]
type = Helper
trigger1 = time = 10
helpertype = normal;player
name = "v"
ID = 655
stateno = 6552
pos = 100,-160
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1
size.xscale = 1
size.yscale = 1

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = target, ishelper = 0
flag = unguardable

[State 0, TargetBind]
type = TargetBind
trigger1 = 1
time = 1
pos = 50,-60

[State 0, HitDef]
type = HitDef
givepower = 0
getpower = 0
trigger1 = timemod = 5,0
attr = C, HP
damage = 20,20
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 0, 0
sparkno = 4
sparkxy = -15, 0
hitsound = 655535, 5634
guardsound = 346, 346
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = 0,0
airguard.velocity = 0,0
air.type = High
air.velocity = 0,0
air.hittime = 12
p2stateno = 105257

[State 0, End]
type = ChangeState
trigger1 = time = 500
trigger2 = power < 50
trigger3 = win
trigger4 = lose
trigger5 = drawgame
trigger6 = life = 0
trigger7 = !ALive
trigger8 = p2statetype = L
value = 652
ctrl = 1
;------------------
;Baku
[StateDef 652]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 652
poweradd = 0
sprpriority = -2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 205
value = F9,0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 205
value = F9,2

[State 0, Explod]
type = Explod
trigger1 = time = 205
anim = 337
ID = 337
pos = 40,15
postype = p1
bindtime = 1
removetime = 18
supermovetime = 9999
pausemovetime = 9999
scale = 1.2,1
sprpriority = 7
ownpal = 1
ontop = 0

[State 0, Explod]
type = Explod
trigger1 = time = 205
anim = 337
ID = 337
pos = -40,15
postype = p1
bindtime = 1
removetime = 18
supermovetime = 9999
pausemovetime = 9999
scale = 1.2,1
sprpriority = 7
ownpal = 1
ontop = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 20
value = S3,10

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 20
value = S6,3

[State 0, Explod]
type = Explod
trigger1 = time = [20,180]
anim = F695
ID = 695
pos = 235+random%4,-25-random%4
postype = p1
facing = -1
vel = 4+random%3,-4-random%3
accel = -0.2,0.2
bindtime = 1
removetime = -2
supermovetime = 9999
pausemovetime = 9999
scale = 0.7,0.7
sprpriority = 5
ontop = 0

[State 0, EnvShake]
type = EnvShake
trigger1 = time%8 = 0
trigger1 = time = [20,180]
time = 15
freq = 15
ampl = -5
phase = 90

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = 1
id = 651

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = 1
id = 653

[State 0, Explod]
type = Explod
trigger1 = time = 0
anim = 6521
ID = 652
pos = 0,0
postype = p1
bindtime = -1
removetime = 210
supermovetime = 9999
pausemovetime = 9999
scale = 0.8,0.8
sprpriority = 6
ownpal = 1
ontop = 0

[State 0, NotHitBy]
type = NotHitBy
trigger1 = time >= 0
value = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
time = -1

[State 0, PlayerPush]
type = PlayerPush
trigger1 = 1
value = 1

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = target, ishelper = 0
flag = unguardable

[State 0, HitDef]
type = HitDef
givepower = 0
getpower = 0
trigger1 = timemod = 2,0
attr = C, HP
damage = 20,20
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 0, 0
sparkno = 4
sparkxy = -15, 0
hitsound = 655535, 5634
guardsound = 346, 346
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -8,3
airguard.velocity = -8,3
air.type = High
air.velocity = -8,3
air.hittime = 12
fall = 1

[State 0, End]
type = Destroyself
trigger1 = animtime = 0
;-----------------
;No Push
[StateDef 654]
type = A
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 654
poweradd = 0
sprpriority = 0

[State 0, VelSet]
type = VelSet
trigger1 = 1
x = 0
y = 0

[State 0, NotHitBy]
type = NotHitBy
trigger1 = time >= 0
value = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
time = -1

[State 0, PlayerPush]
type = PlayerPush
trigger1 = 1
value = 0;1

[State 0, SprPriority]
type = SprPriority
trigger1 = 1
value = 0

[State 0, BindToParent]
type = BindToParent
trigger1 = 1
time = 10
pos = 0,0

[State 0, End]
type = Destroyself
trigger1 = numhelper(650) = 0
;-----------------
;< < < <
[StateDef 655]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 655
poweradd = 0
sprpriority = 2

[State 0, PosSet]
type = PosSet
trigger1 = 1
y = 0

[State 0, NotHitBy]
type = NotHitBy
trigger1 = time >= 0
value = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
time = -1

[State 0, PlayerPush]
type = PlayerPush
trigger1 = parent, stateno = 651
value = 1

[State 0, PlayerPush]
type = PlayerPush
trigger1 = parent, stateno != 651
value = 0

[State 0, VelSet]
type = VelSet
trigger1 = 1
x = -20
y = 0

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 =  1
flag = noshadow

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
value = F14,5

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
value = F14,6

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = target, ishelper = 0
flag = unguardable

[State 0, Explod]
type = Explod
trigger1 = time = 0+random%10
triggerall = numexplod(1200) < 6
anim = F1200
ID = 1200
pos = 0-random%150,0
postype = p1
facing = 1
vfacing = -1
bindtime = 1
removetime = -2
supermovetime = 9999
pausemovetime = 9999
scale = 1.5,1.5
sprpriority = 4
ontop = 0

[State 0, Explod]
type = Explod
trigger1 = time = 0
anim = 6531
ID = 6531
pos = 0,-65
postype = p1
facing = -1
vfacing = -1
angle = -15
bindtime = -1
removetime = -2
supermovetime = 9999
pausemovetime = 9999
scale = .4,.4
sprpriority = 4
ownpal = 1
ontop = 0

[State 0, Explod]
type = Explod
trigger1 = time = 0+random%8
anim = F570
ID = 575
pos = 0,0
postype = p1
bindtime = 1
removetime = -2
vel = -20,-1
accel = 0,-0.2
supermovetime = 9999
pausemovetime = 9999
scale = 1,1
sprpriority = 4
ownpal = 1
ontop = 0

[State 0, Explod]
type = Explod
trigger1 = time = 5+random%8
anim = F575
ID = 570
pos = 0,0
postype = p1
bindtime = 1
removetime = -2
vel = -20,-1
accel = 0,-0.2
supermovetime = 9999
pausemovetime = 9999
scale = 1,1
sprpriority = 4
ownpal = 1
ontop = 0

[State 0, end]
type = destroyself
trigger1 = time = 200
trigger2 = parent, pos x - pos x = [-100,100]
;------------------
;^^^
[StateDef 6551]
type = S
movetype= A
physics = S
juggle  = 1
velset = 1,0
ctrl = 0
anim = 6551
poweradd = 0
sprpriority = 2

[State 0, BindToParent]
type = BindToParent
trigger1 = 1
time = 1
pos = 100,0

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = target, ishelper = 0
flag = unguardable

[State 0, HitDef]
type = HitDef
givepower = 0
getpower = 0
trigger1 = timemod = 2,0
attr = S, NA
damage = 0,0
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 0, 0
sparkno = 4
sparkxy = -15, 0
hitsound = 655535, 5634
guardsound = 346, 346
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = 0,-4
airguard.velocity = 0,-4
air.type = High
air.velocity = 0,-4
air.hittime = 12

[State 0, End]
type = Destroyself
trigger1 = helper(650), stateno != 651
;------------------
;vvv
[StateDef 6552]
type = S
movetype= A
physics = S
juggle  = 1
velset = 1,0
ctrl = 0
anim = 6551
poweradd = 0
sprpriority = 2

[State 0, BindToParent]
type = BindToParent
trigger1 = 1
time = 1
pos = 100,-160

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = target, ishelper = 0
flag = unguardable

[State 0, HitDef]
type = HitDef
givepower = 0
getpower = 0
trigger1 = timemod = 2,0
attr = S, NA
damage = 0,0
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 0, 0
sparkno = 4
sparkxy = -15, 0
hitsound = 655535, 5634
guardsound = 346, 346
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = 0,4
airguard.velocity = 0,4
air.type = High
air.velocity = 0,4
air.hittime = 12

[State 0, End]
type = Destroyself
trigger1 = helper(650), stateno != 651
;-----------------
;> > > >
[StateDef 6553]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 655
poweradd = 0
sprpriority = 2

[State 0, PosSet]
type = PosSet
trigger1 = 1
y = 0

[State 0, NotHitBy]
type = NotHitBy
trigger1 = time >= 0
value = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
time = -1

[State 0, PlayerPush]
type = PlayerPush
trigger1 = parent, stateno = 651
value = 1

[State 0, PlayerPush]
type = PlayerPush
trigger1 = parent, stateno != 651
value = 0

[State 0, VelSet]
type = VelSet
trigger1 = 1
x = -20
y = 0

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 =  1
flag = noshadow

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = target, ishelper = 0
flag = unguardable

[State 0, end]
type = destroyself
trigger1 = time = 200
trigger2 = parent, pos x - pos x = [-50,0]
;------------------
;Baku
[StateDef 105257]
type = S
movetype= H
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 5000
poweradd = 0
sprpriority = 0

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow
flag2 = invisible

[State 0, NotHitBy]
type = NotHitBy
trigger1 = 0;1
value = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
time = 1

[State 0, VelSet]
type = VelSet
trigger1 = 1
x = 0
y = 0

[State 0, PlayerPush]
type = PlayerPush
trigger1 = 1
value = 0

[State 0, End]
type = Selfstate
trigger1 = time = 20
value = 5000
ctrl = 1
;------------------
;Izanagi
[StateDef 700]
type = S
movetype= A
physics = S
juggle  = 1
anim = cond(pos y = 0,700,701)
poweradd = -100-var(6)*100
sprpriority = 0
ctrl = 0

[State 0, StateTypeSet]
type = StateTypeSet
trigger1 = pos y = 0
statetype = S    
movetype = I       
physics = S

[State 0, StateTypeSet]
type = StateTypeSet
trigger1 = pos y != 0
statetype = A   
movetype = I       
physics = A

[State 0, Podstawa]
type = ChangeAnim
trigger1 = anim != cond(pos y = 0,700,701)
value = cond(pos y = 0,700,701)

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
trigger2 = animelem = 2
trigger3 = animelem = 3
value = F17,0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 5
value = S1,0+random%12
volume = 255
channel = 3

[State 0, VarSet]
type = VarSet
trigger1 = time = 0
v = 7
value = 0

[State 0, VarSet]
type = VarSet
trigger1 = time = 0
v = 8
value = 0

[State 0, VarSet]
type = VarSet
trigger1 = time = 5
v = 7
value = 300

[State 0, VarSet]
type = VarSet
trigger1 = time = 5
v = 8
value = 1

[State 0, VarSet]
type = VarSet
trigger1 = time = 5
v = 9
value = life

[State 0, End]
type = ChangeState
trigger1 = Time = 20
value = 0
ctrl = 1
;------------------
;S Izanagi
[StateDef 710]
type = S
movetype= A
physics = S
juggle  = 1
anim = cond(pos y = 0,700,701)
poweradd = -200
sprpriority = 0
ctrl = 0

[State 0, StateTypeSet]
type = StateTypeSet
trigger1 = pos y = 0
statetype = S    
movetype = I       
physics = S

[State 0, StateTypeSet]
type = StateTypeSet
trigger1 = pos y != 0
statetype = A   
movetype = I       
physics = A

[State 0, Podstawa]
type = ChangeAnim
trigger1 = anim != cond(pos y = 0,700,701)
value = cond(pos y = 0,700,701)

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
trigger2 = animelem = 2
trigger3 = animelem = 3
value = F17,0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 5
value = S1,0+random%12
volume = 255
channel = 3

[State 0, VarSet]
type = VarSet
trigger1 = time = 0
v = 7
value = 0

[State 0, VarSet]
type = VarSet
trigger1 = time = 0
v = 8
value = 0

[State 0, VarAdd]
type = VarAdd
trigger1 = time = 5
v = 16
value = 1

[State 0, VarSet]
type = VarSet
trigger1 = time = 5 && power >= 1800 && power < 2700
v = 7
value = 600

[State 0, VarSet]
type = VarSet
trigger1 = time = 5 && power >= 2700 && power < 3600
v = 7
value = 900

[State 0, VarSet]
type = VarSet
trigger1 = time = 5 && power >= 3600
v = 7
value = 1200

[State 0, VarSet]
type = VarSet
trigger1 = time = 5
v = 8
value = 2

[State 0, VarSet]
type = VarSet
trigger1 = time = 5
v = 9
value = life

[State 0, End]
type = ChangeState
trigger1 = Time = 20
value = 0
ctrl = 1
;------------------
;Izanagi
[StateDef 750]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
poweradd = 0
sprpriority = 0
ctrl = 0

[State 0, PalFXWiz]
type = BGPalFX
trigger1 = time = 0
time = 51
add = -50,-50,-50

[State 0, Explod]
type = Explod
trigger1 = time = 0
anim = 751
id = 751
pos = 63,-43
scale = 0.40,0.40
postype = p1
facing = 1
bindtime = 1
removetime = 50
sprpriority = 4
ownpal = 1

[State 0, ModifyExplod]
type = ModifyExplod
trigger1 = time > 30
id = 751
trans = addalpha
alpha = 256-(time-30)*12.5,256

[State 0, ChangeAnim]
type = ChangeAnim
trigger1 = time = 0
trigger1 = anim != [0,19]
trigger1 = anim != [25,50]
trigger1 = anim != [105,190]
trigger1 = anim != [5000,5199]
value = cond(pos y = 0,700,701)

[State 0, ScreenBound]
type = ScreenBound
trigger1 = time > 30
value = 0

[State 0, VarSet]
type = VarSet
trigger1 = time = 30
v = 7
value = 0

[State 0, VarSet]
type = VarSet
trigger1 = time = 30
v = 8
value = 0

[State 0, VarAdd]
type = VarAdd
trigger1 = time = 5
v = 6
value = 1

[State 0, NotHitBy]
type = NotHitBy
trigger1 = time >= 0
value = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
time = 1

[State 0, PlayerPush]
type = PlayerPush
trigger1 = 1
value = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 1
value = S3,12

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 1
value = S3,12

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 10
value = S3,13

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S6,9

[State 0, Trans]
type = Trans
trigger1 = time <= 50
trans = addalpha
alpha = 256-time*5,0+time*5

[State 0, End]
type = ChangeState
trigger1 = Time = 50
value = 760
ctrl = 0
;------------------
;S Izanagi
[StateDef 751]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
poweradd = 0
sprpriority = 0
ctrl = 0

[State 0, PalFXWiz]
type = BGPalFX
trigger1 = time = 0
time = 51
add = -100,-100,-100

[State 0, Explod]
type = Explod
trigger1 = time = 0
anim = 752
id = 751
pos = 63,-43
scale = 0.40,0.40
postype = p1
facing = 1
bindtime = 1
removetime = 50
sprpriority = 4
ownpal = 1

[State 0, ModifyExplod]
type = ModifyExplod
trigger1 = time > 30
id = 751
trans = addalpha
alpha = 256-(time-30)*12.5,256

[State 0, ChangeAnim]
type = ChangeAnim
trigger1 = time = 0
trigger1 = anim != [0,19]
trigger1 = anim != [25,50]
trigger1 = anim != [105,190]
trigger1 = anim != [5000,5199]
value = cond(pos y = 0,700,701)

[State 0, ScreenBound]
type = ScreenBound
trigger1 = time > 30
value = 0

[State 0, VarSet]
type = VarSet
trigger1 = time = 30
v = 7
value = 0

[State 0, VarSet]
type = VarSet
trigger1 = time = 30
v = 8
value = 0

[State 0, VarAdd]
type = VarAdd
trigger1 = time = 5
v = 15
value = 1

[State 0, VarSet]
type = VarSet
trigger1 = time = 0
v = 51
value = 0

[State 0, VarSet]
type = VarSet
trigger1 = time = 0
v = 52
value = 0

[State 0, VarSet]
type = VarSet
trigger1 = time = 0
v = 53
value = 0

[State 0, VarSet]
type = VarSet
trigger1 = time = 0
v = 54
value = 0

[State 0, VarSet]
type = VarSet
trigger1 = time = 0
v = 55
value = 0

[State 0, VarSet]
type = VarSet
trigger1 = time = 0
v = 56
value = 0

[State 0, VarSet]
type = VarSet
trigger1 = time = 0
v = 57
value = 0

[State 0, NotHitBy]
type = NotHitBy
trigger1 = time >= 0
value = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
time = 1

[State 0, PlayerPush]
type = PlayerPush
trigger1 = 1
value = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 1
value = S3,12

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 1
value = S3,12

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 10
value = S3,13

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S6,9

[State 0, Trans]
type = Trans
trigger1 = time <= 50
trans = addalpha
alpha = 256-time*5,0+time*5

[State 0, End]
type = ChangeState
trigger1 = Time = 50
value = 760
ctrl = 0
;------------------
;Izanagi
[StateDef 760]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
anim = 760
poweradd = 0
sprpriority = 0

[State 0, PalFXWiz]
type = BGPalFX
trigger1 = prevstateno = 750
time = 2
add = -50+time*1,-50+time*1,-50+time*1

[State 0, PalFXWiz]
type = BGPalFX
trigger1 = prevstateno = 751
time = 2
add = -100+time*2,-100+time*2,-100+time*2


[State 310, 2]
type = Explod
trigger1 = time = 3
anim = F350
ID = 350
pos = 0,0
postype = p1
facing = 1
bindtime = 1
removetime = -2
sprpriority = 4
scale = 2,2

[State 310, 2]
type = Explod
trigger1 = time = 3
anim = F290
ID = 290
pos = 0,0
postype = p1
facing = 1
bindtime = 1
removetime = -2
sprpriority = 4
scale = 1.5,1.5

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 3
value = F14,4

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 3
value = F3,2

[State 0, LifeSet]
type = LifeSet
trigger1 = 1
value = var(9)

[State 0, NotHitBy]
type = NotHitBy
trigger1 = time >= 0
value = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
time = 1

[State 0, PlayerPush]
type = PlayerPush
trigger1 = 1
value = 0

[State 0, PosSet]
type = PosSet
trigger1 = time = 0
x = -400+random%800
y = 0

[State 0, Turn]
type = Turn
trigger1 = time = 1 && p2bodydist x < 0

[State 0, Trans]
type = Trans
trigger1 = time < 50
trans = addalpha
alpha = 0+time*5,256-time*5

[State 0, Trans]
type = Trans
trigger1 = time > 50
trans = addalpha
alpha = 256,0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 30
value = S2,17

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 10
value = S3,13

[State 0, End]
type = ChangeState
trigger1 = time = 50
value = 0
ctrl = 1
;---------------------------------------------------------------------------
;Ura Shisho Fuinjutsu
[Statedef 1000]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
poweradd = -500
sprpriority = 0
ctrl = 0
anim = 1000

[State 0, NotHitBy]
type = NotHitBy
trigger1 = time > 35
trigger2 = life < 250
value = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
time = 2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
trigger2 = animelem = 5
value = F9,3

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S2,12
volume = 256
channel = 2

[State 0, SuperPause]
type = SuperPause
trigger1 = time = 40
time = 60
movetime = 0
anim = -1
darken = 0
unhittable = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 40
value = F34,0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 40
value = F34,1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 40
value = F34,2

[State 0, Swiatlo do superpausy]
type = Explod
trigger1 = time = 40
anim = 1002
ID = 4000
pos = 190,100
postype = back
bindtime = -1
removetime = 60
supermovetime = 9999
pausemovetime = 9999
scale = 1,1
sprpriority = -100
ownpal = 1
ontop = 0

[State 0, BGPalFX]
type = BGPalFX
triggerall = StageVar(info.name) != "Y" && StageVar(info.name) != "H"
trigger1 = time = 40
time = 60
add = -120,-120,-120

[State 0, BGPalFX]
type = BGPalFX
trigger1 = StageVar(info.name) = "Y" 
trigger2 = StageVar(info.name) = "H"
triggerall = time = 40
time = 60
add = -80,-80,-80

[State 0, Explod]
type = Explod
trigger1 = animelem = 11
anim = 1001
ID = 1001
pos = 0,0
scale = 1,1
postype = p1
facing = 1
bindtime = 1
removetime = 30
sprpriority = 1
supermovetime = 9999
pausemovetime = 9999

[State 0, ModifyExplod]
type = ModifyExplod
trigger1 = 1
ID = 1001
trans = addalpha
alpha = 256-(time-55)*10,0+(time-55)*10

[State 195, 2]
type = ChangeState
trigger1 = animtime = 0
value = 1010
ctrl = 0
;---------------------------------------------------------------------------
;Ura Shisho Fuinjutsu
[Statedef 1010]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
poweradd = -500
sprpriority = 0
ctrl = 0
anim = 1010

[State 0, SuperPause]
type = SuperPause
trigger1 = time = 0
time = 130
movetime = 130
anim = -1
darken = 0
unhittable = 0

[State 0, NotHitBy]
type = NotHitBy
trigger1 = time >= 0
value = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
time = 2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
value = F9,3

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S1,11

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 30
anim = 1011
id = 1011
pos = 0,0
scale = 1,1
postype = p1
facing = 1
bindtime = -1
removetime = 120
sprpriority = 1
supermovetime = 9999
pausemovetime = 9999
removeongethit = 1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 60
value = S7,0

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 60
anim = 1012
id = 1012
pos = 0,0
scale = 1,1
postype = p1
facing = 1
bindtime = -1
removetime = -2
sprpriority = 2
supermovetime = 9999
pausemovetime = 9999
removeongethit = 1

[State 0, Helper]
type = Helper
trigger1 = time = 75
helpertype = normal ;player
name = "White Flash"
ID = 9999
stateno = 9999
pos = 0,0
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1
size.xscale = 10
size.yscale = 10
supermovetime = 9999
pausemovetime = 9999
persistent = 0

[State 195, 2]
type = ChangeState
trigger1 = animtime = 0
value = 1020
ctrl = 0
;---------------------------------------------------------------------------
;Ura Shisho Fuinjutsu
[Statedef 1020]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
poweradd = -1000
sprpriority = 0
ctrl = 0
anim = 1020

[State 1533,excplod]
type = Explod
trigger1 = time = 0
anim = F70405
postype = back
pos = 0,0
bindtime = 1
sprpriority = 20
ownpal = 1
ontop = 1
trans = sub
removetime = 320
scale = 1,1
supermovetime = 9999
pausemovetime = 9999

[State 0, SuperPause]
type = SuperPause
trigger1 = time = 0
time = 300
movetime = 300
anim = -1
darken = 0
unhittable = 0

[State 0, NotHitBy]
type = NotHitBy
trigger1 = time >= 0
value = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
time = 2

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 0
anim = 1021
id = 1021
pos = 0,0
scale = 1,1
postype = p1
facing = 1
bindtime = -1
removetime = -1
sprpriority = 1
supermovetime = 9999
pausemovetime = 9999
removeongethit = 1

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 0
anim = 1022
id = 1022
pos = 0,0
scale = 1,1
postype = p1
facing = 1
bindtime = -1
removetime = -1
sprpriority = 2
supermovetime = 9999
pausemovetime = 9999
removeongethit = 1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 10
value = S6,6

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 30
value = S7,1

[State 0, Explod]
type = Explod
trigger1 = time = 30
trigger1 = numexplod(1050) <= 5
anim = F70401+random%4
ID = 1050
pos = 0,0
postype = p1  ;p2,front,back,left,right
facing = 1
bindtime = 1
removetime = -1
sprpriority = -4
scale = 0.5,0.12
ontop = 0
supermovetime = 9999
pausemovetime = 9999

[State 0, Explod]
type = Explod
trigger1 = time = 40
trigger1 = numexplod(1050) <= 5
anim = F70401+random%4
ID = 1050
pos = 20,4
postype = p1  ;p2,front,back,left,right
facing = 1
bindtime = 1
removetime = -1
sprpriority = -4
scale = 0.5,0.12
ontop = 0
supermovetime = 9999
pausemovetime = 9999

[State 0, Explod]
type = Explod
trigger1 = time = 40
trigger1 = numexplod(1050) <= 5
anim = F70401+random%4
ID = 1050
pos = -20,4
postype = p1  ;p2,front,back,left,right
facing = 1
bindtime = 1
removetime = -1
sprpriority = -4
scale = 0.5,0.12
ontop = 0
supermovetime = 9999
pausemovetime = 9999

[State 0, Explod]
type = Explod
trigger1 = time = 50
trigger1 = numexplod(1050) <= 5
anim = F70401+random%4
ID = 1050
pos = 35,6
postype = p1  ;p2,front,back,left,right
facing = 1
bindtime = 1
removetime = -1
sprpriority = -4
scale = 0.8,0.2
ontop = 0
supermovetime = 9999
pausemovetime = 9999

[State 0, Explod]
type = Explod
trigger1 = time = 50
trigger1 = numexplod(1050) <= 5
anim = F70401+random%4
ID = 1050
pos = -35,6
postype = p1  ;p2,front,back,left,right
facing = 1
bindtime = 1
removetime = -1
sprpriority = -4
scale = 0.8,0.2
ontop = 0
supermovetime = 9999
pausemovetime = 9999

[State 0, Explod]
type = Explod
trigger1 = time = [30,40]
triggerall = timemod = 3,0
anim = 1030
id = 1030
pos = 3,-35
scale = 1,1
angle = random%360
postype = p1
facing = 1
bindtime = -1
removetime = -2
sprpriority = 3
supermovetime = 9999
pausemovetime = 9999

[State 0, Explod]
type = Explod
trigger1 = time = [40,50]
triggerall = timemod = 2,0
anim = 1030
id = 1030
pos = 3,-35
scale = 1,1
angle = random%360
postype = p1
facing = 1
bindtime = -1
removetime = -2
sprpriority = 3
supermovetime = 9999
pausemovetime = 9999

[State 0, Explod]
type = Explod
trigger1 = time > 50
anim = 1030
id = 1030
pos = 3,-35
scale = 1,1
angle = random%360
postype = p1
facing = 1
bindtime = -1
removetime = -2
sprpriority = 3
supermovetime = 9999
pausemovetime = 9999

[State 0, Explod]
type = Explod
trigger1 = time = [50,60]
triggerall = timemod = 3,0
anim = 1031
id = 1031
pos = 3,-35
scale = 1,1
angle = random%360
postype = p1
facing = 1
bindtime = -1
removetime = -2
sprpriority = 3
supermovetime = 9999
pausemovetime = 9999

[State 0, Explod]
type = Explod
trigger1 = time = [60,70]
triggerall = timemod = 2,0
anim = 1031
id = 1031
pos = 3,-35
scale = 1,1
angle = random%360
postype = p1
facing = 1
bindtime = -1
removetime = -2
sprpriority = 3
supermovetime = 9999
pausemovetime = 9999

[State 0, Explod]
type = Explod
trigger1 = time > 70
anim = 1031
id = 1031
pos = 3,-35
scale = 1,1
angle = random%360
postype = p1
facing = 1
bindtime = -1
removetime = -2
sprpriority = 3
supermovetime = 9999
pausemovetime = 9999

[State 0, Explod]
type = Explod
trigger1 = time = [70,80]
triggerall = timemod = 2,0
anim = 1032
id = 1032
pos = 3,-35
scale = 1,1
angle = random%360
postype = p1
facing = 1
bindtime = -1
removetime = -2
sprpriority = 3
supermovetime = 9999
pausemovetime = 9999

[State 0, Explod]
type = Explod
trigger1 = time = [80,90]
triggerall = timemod = 1,0
anim = 1032
id = 1032
pos = 3,-35
scale = 1,1
angle = random%360
postype = p1
facing = 1
bindtime = -1
removetime = -2
sprpriority = 3
supermovetime = 9999
pausemovetime = 9999

[State 0, Explod]
type = Explod
trigger1 = time > 90
anim = 1032
id = 1032
pos = 3,-35
scale = 1,1
angle = random%360
postype = p1
facing = 1
bindtime = -1
removetime = -2
sprpriority = 3
supermovetime = 9999
pausemovetime = 9999

[State 0, Explod]
type = Explod
trigger1 = time > 100
anim = 1032
id = 1032
pos = 3,-35
scale = 1,1
angle = random%360
postype = p1
facing = 1
bindtime = -1
removetime = -2
sprpriority = 3
supermovetime = 9999
pausemovetime = 9999

[State 0, Explod]
type = Explod
trigger1 = time > 120
anim = 1032
id = 1032
pos = 3,-35
scale = 1,1
angle = random%360
postype = p1
facing = 1
bindtime = -1
removetime = -2
sprpriority = 3
supermovetime = 9999
pausemovetime = 9999

[State 0, Explod]
type = Explod
trigger1 = time > 150
anim = 1032
id = 1032
pos = 3,-35
scale = 1,1
angle = random%360
postype = p1
facing = 1
bindtime = -1
removetime = -2
sprpriority = 3
supermovetime = 9999
pausemovetime = 9999

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 50
anim = 1025
id = 1025
pos = 3,-40
scale = 0.04,0.04
postype = p1
facing = 1
bindtime = -1
removetime = -1
sprpriority = 15
supermovetime = 9999
pausemovetime = 9999

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 50
anim = 1026
id = 1026
pos = 3,-35
scale = 0.04,0.04
postype = p1
facing = 1
bindtime = -1
removetime = -1
sprpriority = -5
supermovetime = 9999
pausemovetime = 9999

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 50
anim = 1027
id = 1027
pos = 3,-35
scale = 0.04,0.04
postype = p1
facing = 1
bindtime = -1
removetime = -1
sprpriority = 14
supermovetime = 9999
pausemovetime = 9999

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 50
anim = 1028
id = 1028
pos = 3,-35
scale = 0.04,0.04
postype = p1
facing = 1
bindtime = -1
removetime = -1
sprpriority = 14
supermovetime = 9999
pausemovetime = 9999

[State 0, Explod]
type = ModifyExplod
ownpal = 1
trigger1 = time = [80,100]
anim = 1025
id = 1025
pos = 3,-35+(time-80)*1.25
scale = (4+(time-80)*1.3)/100,(4+(time-80)*1.3)/100
postype = p1
facing = 1
bindtime = -1
removetime = -1
sprpriority = 15
supermovetime = 9999
pausemovetime = 9999

[State 0, Explod]
type = ModifyExplod
ownpal = 1
trigger1 = time = [80,100]
anim = 1026
id = 1026
pos = 3,-35-((time-80)/2.0)
scale = (4+(time-80)*1.3)/100,(4+(time-80)*1.3)/100
postype = p1
facing = 1
bindtime = -1
removetime = -1
sprpriority = -5
supermovetime = 9999
pausemovetime = 9999

[State 0, Explod]
type = ModifyExplod
ownpal = 1
trigger1 = time = [80,100]
anim = 1027
id = 1027
pos = -3-(time-80)*3.0,-35;+((time-50)/4)
scale = (4+(time-80)*1.3)/100,(4+(time-80)*1.3)/100
postype = p1
facing = 1
bindtime = -1
removetime = -1
sprpriority = 14
supermovetime = 9999
pausemovetime = 9999

[State 0, Explod]
type = ModifyExplod
ownpal = 1
trigger1 = time = [80,100]
anim = 1028
id = 1028
pos = 3+(time-80)*3.0,-35;+((time-50)/4)
scale = (4+(time-80)*1.3)/100,(4+(time-80)*1.3)/100
postype = p1
facing = 1
bindtime = -1
removetime = -1
sprpriority = 14
supermovetime = 9999
pausemovetime = 9999

[State 0, Explod]
type = ModifyExplod
ownpal = 1
trigger1 = time >= 100
anim = 1025
id = 1025
pos = 3,-15
scale = 0.3,0.3
postype = p1
facing = 1
bindtime = -1
removetime = -1
sprpriority = 15
supermovetime = 9999
pausemovetime = 9999

[State 0, Explod]
type = ModifyExplod
ownpal = 1
trigger1 = time >= 100
anim = 1026
id = 1026
pos = 3,-45
scale = 0.3,0.3
postype = p1
facing = 1
bindtime = -1
removetime = -1
sprpriority = -5
supermovetime = 9999
pausemovetime = 9999

[State 0, Explod]
type = ModifyExplod
ownpal = 1
trigger1 = time >= 100
anim = 1027
id = 1027
pos = -57,-35;-40
scale = 0.3,0.3
postype = p1
facing = 1
bindtime = -1
removetime = -1
sprpriority = 14
supermovetime = 9999
pausemovetime = 9999

[State 0, Explod]
type = ModifyExplod
ownpal = 1
trigger1 = time >= 100
anim = 1028
id = 1028
pos = 63,-35;-40
scale = 0.3,0.3
postype = p1
facing = 1
bindtime = -1
removetime = -1
sprpriority = 14
supermovetime = 9999
pausemovetime = 9999

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 60
trigger2 = time > 60 && timemod = 50,0
value = S7,2
channel = 7

[State 0, Explod]
type = Explod
trigger1 = time = 150
anim = 1040
id = 1040
pos = 3,-35
scale = 0.1,0.1
postype = p1
facing = 1
bindtime = -1
removetime = -1
sprpriority = 12
supermovetime = 9999
pausemovetime = 9999

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 150
value = S7,3

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 150
value = S7,3

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 150
value = S7,3

[State 0, Explod]
type = ModifyExplod
trigger1 = time = [150,200]
id = 1040
pos = 3,-35
scale = (10+(time-150)*1.0)/100,(10+(time-150)*1.0)/100
postype = p1
facing = 1
bindtime = -1
removetime = -1
sprpriority = 12
supermovetime = 9999
pausemovetime = 9999

[State 0, Explod]
type = ModifyExplod
trigger1 = time = [200,220]
id = 1040
pos = 3,-35
scale = 0.6,0.6
postype = p1
facing = 1
bindtime = -1
removetime = -1
sprpriority = 12
supermovetime = 9999
pausemovetime = 9999

[State 0, Explod]
type = ModifyExplod
trigger1 = time = [220,230]
id = 1040
pos = 3,-35
scale = (60-(time-220)*1.0)/100,(60-(time-220)*1.0)/100
postype = p1
facing = 1
bindtime = -1
removetime = -1
sprpriority = 12
supermovetime = 9999
pausemovetime = 9999

[State 0, Explod]
type = ModifyExplod
trigger1 = time = [230,250]
id = 1040
pos = 3,-35
scale = 0.5,0.5
postype = p1
facing = 1
bindtime = -1
removetime = -1
sprpriority = 12
supermovetime = 9999
pausemovetime = 9999

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 250
value = S7,4

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 250
value = S7,4

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 250
value = S7,4

[State 0, Explod]
type = ModifyExplod
trigger1 = time = [250,300]
id = 1040
pos = 3,-35
scale = (50+(time-250)*1.0)/100,(50+(time-250)*1.0)/100
postype = p1
facing = 1
bindtime = -1
removetime = -1
sprpriority = 12
supermovetime = 9999
pausemovetime = 9999

[State 0, Explod]
type = ModifyExplod
trigger1 = time > 300
id = 1040
pos = 3,-35
scale = 1,1
postype = p1
facing = 1
bindtime = -1
removetime = -1
sprpriority = 12
supermovetime = 9999
pausemovetime = 9999

[State 0, EnvShake]
type = EnvShake
trigger1 = time%8 = 0
trigger1 = time = [15,100]
time = 10
freq = 10
ampl = -3
phase = 90

[State 0, EnvShake]
type = EnvShake
trigger1 = time%8 = 0
trigger1 = time = [100,150]
time = 15
freq = 12
ampl = -4
phase = 90

[State 0, EnvShake]
type = EnvShake
trigger1 = time%8 = 0
trigger1 = time > 150
time = 20
freq = 15
ampl = -5
phase = 90

[State 0, EnvShake]
type = EnvShake
trigger1 = time = 150
trigger2 = time = 250
time = 40
freq = 40
ampl = -8
phase = 90

[State 0]
type = Explod
trigger1 = timemod = 15,1 && time > 10
anim = F290
ID = 403
pos = 0,2
postype = p1
name = "dym przód"
scale = 1.3,1.3
ownpal = 1
ontop = 0
facing = -1
ignorehitpause = 1
sprpriority = 2
bindtime = -1
removetime = -2
removeongethit = 1
pausemovetime = 9999
supermovetime = 9999
trans = addalpha
alpha = 256,256

[State 0]
type = Explod
trigger1 = timemod = 15,1 && time > 10
anim = F401
ID = 401
pos = -7,2
postype = p1
name = "dym lewa"
scale = 0.7,0.7
ownpal = 1
ontop = 0
ignorehitpause = 1
sprpriority = 3
bindtime= -1
removetime= -2
removeongethit= 1
pausemovetime = 9999
supermovetime = 9999

[State 0]
type = Explod
trigger1 = timemod = 15,1 && time > 10
anim = F401
ID = 4011
pos = 7,2
postype = p1
facing = -1
name = "dym prawa"
scale = 0.7,0.7
ownpal = 1
ontop = 0
ignorehitpause = 1
sprpriority = 3
bindtime= -1
removetime= -2
removeongethit= 1
pausemovetime = 9999
supermovetime = 9999

[State 195, 2]
type = ChangeState
trigger1 = animtime = 0
value = 1050
ctrl = 0
;---------------------------------------------------------------------------
;Ura Shisho Fuinjutsu
[Statedef 1050]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
poweradd = -2000
sprpriority = 0
ctrl = 0
anim = 1050

[State 0, NotHitBy]
type = NotHitBy
trigger1 = time >= 0
value = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
time = 2

[State 0, Explod]
type = Explod
trigger1 = time = 0
anim = 1040
id = 1040
pos = 3,-35
scale = 1,1
postype = p1
facing = 1
bindtime = -1
removetime = -1
sprpriority = 12
supermovetime = 9999
pausemovetime = 9999

[State 0, Explod]
type = Explod
trigger1 = time = 5
anim = 1040
id = 1040
pos = 3,-35
scale = 1,1
postype = p1
facing = 1
bindtime = -1
removetime = -1
sprpriority = 12
supermovetime = 9999
pausemovetime = 9999

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = time = 20
id = 1011

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = time = 20
id = 1012

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = time = 20
id = 1021

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = time = 20
id = 1022

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = time = 20
id = 1025

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = time = 20
id = 1026

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = time = 20
id = 1027

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = time = 20
id = 1028

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = time = 20
id = 1030

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = time = 20
id = 1031

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = time = 20
id = 1032

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = time = 20
id = 1050

[State 0, Explod]
type = ModifyExplod
ownpal = 1
trigger1 = time = [20,70]
id = 1040
pos = 3,-35
scale = (100-(time-20)*2.0)/100,(100-(time-20)*2.0)/100
postype = p1
facing = 1
bindtime = -1
removetime = -1
sprpriority = 12
supermovetime = 9999
pausemovetime = 9999

[State 0, Explod]
type = ModifyExplod
trigger1 = time > 70
id = 1040
pos = 3,-35
scale = 0.00,0.00
postype = p1
facing = 1
bindtime = -1
removetime = -1
trans = addalpha
alpha = 256,0+(time-70)*5.0
sprpriority = 12
supermovetime = 9999
pausemovetime = 9999

[State 0, Trans]
type = Trans
trigger1 = time = [30,56]
trans = addalpha
alpha = 256,0+(time-30)*10.0

[State 0, Trans]
type = Trans
trigger1 = time > 56
trans = addalpha
alpha = 256,255

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = time = 70
id = 1040

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 20
value = S7,3

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 20
value = S7,4

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 20
value = S7,5

[State 0, EnvShake]
type = EnvShake
trigger1 = time%8 = 0
trigger1 = time < 70
time = 20
freq = 15
ampl = -5
phase = 90

[State 0, EnvShake]
type = EnvShake
trigger1 = time = 20
time = 40
freq = 40
ampl = -8
phase = 90

[State 0, Helper]
type = Helper
trigger1 = time = 120
helpertype = normal ;player
name = "White Flash"
ID = 9999
stateno = 9999
pos = 0,0
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1
size.xscale = 10
size.yscale = 10
supermovetime = 9999
pausemovetime = 9999
persistent = 0

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = target, ishelper = 0
flag = unguardable

[State 0, HitDef]
type = HitDef
givepower = 0
getpower = 0
trigger1 = time = [20,50]
attr = C, HP
damage = 0,0
getpower = 0
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 0, 0
sparkno = 4
sparkxy = 6245645, 2456246
hitsound = 246254, 24646
guardsound = 246562, 246246
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = 0,0
airguard.velocity = 0,0
air.type = High
air.velocity = 0,0
air.hittime = 12
p2stateno = 105255

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 20
value = S2,3

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 20
value = S2,3

[State 0, TargetBind]
type = TargetBind
trigger1 = time = [20,50]
time = 1
pos = 0,0

[State 0, HitDef]
type = HitDef
givepower = 0
getpower = 0
trigger1 = time > 70
attr = C, HP
damage = 0,0
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 0, 0
sparkno = 4
sparkxy = 6245645, 2456246
hitsound = 246254, 24646
guardsound = 246562, 246246
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = 0,0
airguard.velocity = 0,0
air.type = High
air.velocity = 0,0
air.hittime = 12
p1stateno = cond(var(8) = 2,751,105256)
p2stateno = 105256

[State 195, 2]
type = ChangeState
trigger1 = animtime = 0
value = cond(var(8) = 2,751,105256)
ctrl = 0
;---------------------------------------------------------------------------
;Autodestrukcja
[Statedef 105255]
type    = S
movetype= I
physics = S
sprpriority = -3
ctrl = 0

[State 0, ScreenBound]
type = ScreenBound
trigger1 = 1
value = 0

[State 0, PlayerPush]
type = PlayerPush
trigger1 = 1
value = 0

[State 0, Trans]
type = Trans
trigger1 = 1
trans = addalpha
alpha = 0,0

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = invisible

[State 0, SelfState]
type = ChangeState
trigger1 = time = 100
value = 105256
;---------------------------------------------------------------------------
;Autodestrukcja
[Statedef 105256]
type    = L
movetype= H
physics = N
sprpriority = -3
ctrl = 0

[State 0, ScreenBound]
type = ScreenBound
trigger1 = 1
value = 0

[State 0, Trans]
type = Trans
trigger1 = 1
trans = addalpha
alpha = 0,0

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = invisible

[State 5150, 7]
type = VelSet
trigger1 = time = 0
X = 0
Y = 0

[State 175, 3]
type = NotHitBy
trigger1 = time >= 60
value = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
time = 1

[State 0, PosSet]
type = PosSet
trigger1 = time >= 60
y = 1100000

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = time >= 60
flag = invisible

[State 0, LifeAdd]
type = LifeAdd
trigger1 = time = 60
value = -10000

[State 0, LifeAdd]
type = LifeSet
trigger1 = time = 60
value = 0

[State 0, SelfState]
type = SelfState
trigger1 = time = 280
value = 5150
;-----------------
;Koto Amatsukami
[StateDef 1400]
type = S
movetype = A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 1400
poweradd = -500
sprpriority = 2

[State 0, VarSet]
type = VarSet
trigger1 = time = 11
v = 16
value = 359

[State -3]
type = AfterImage
trigger1 = time = 0
time = 1

[State 0, EnvShake]
type = EnvShake
trigger1 = animelem = 3 
time = 5
freq = 5
ampl = -1
phase = 5

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
trigger2 = animelem = 4
value = F9,3

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F8,0+random%4

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = S1,0+random%12
volume = 255
channel = 4

[State 0, PlaySnd]
type = PlaySnd
trigger1 = movehit = 1 && p2movetype = H
value = S6,8
volume = 255
channel = 4

[State 0, HitDef]
type = HitDef
givepower = 0
getpower = 0
trigger1 = !time
attr = C, HP
p1stateno = 1410
p2stateno = 104999
damage = 0,0
animtype = Light
guardflag = MA
hitflag = MAF
priority = 4
pausetime = 0, 10
sparkno = 52786904
sparkxy = -15, -35
hitsound = -1, 2
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 10
ground.velocity = -1,1
airguard.velocity = -1,-1
air.type = High
air.velocity = -1,2
air.hittime = 10

[State 0, End]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;-----------------
[StateDef 1410]
type = A
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 1410
poweradd = -2500
sprpriority = 4

[State 0, VarSet]
type = VarSet
trigger1 = time = 0
v = 17
value = 1

[State 0, VarSet]
type = VarSet
trigger1 = 1
v = 16
value = 1259

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 0
anim = 311
pos = 0,-35
scale = 0.4,0.4
postype = p1
facing = 1
bindtime = 1
removetime = 100
sprpriority = -2
supermovetime = 9999
pausemovetime = 9999

[State 0, SuperPause]
type = SuperPause
trigger1 = time = 1
time = 100
anim = 7476345
sound = S6,9
pos = 0,0
movetime = 100
darken = 1
p2defmul = 1
poweradd = 0
unhittable = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 10
value = S3,9

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 10
value = S3,9

[State 0, VarSet]
type = VarSet
trigger1 = 1
v = 45
value = 1

[State 0, Helper]
type = Helper
trigger1 = time = 0
helpertype = normal;player
name = "oko"
ID = 1411
stateno = 1411
pos = 0,-51
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1
size.xscale = 1
size.yscale = 1
supermovetime = 9999

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S6,11

[State 0, Helper]
type = Helper
trigger1 = time = 100
helpertype = normal ;player
name = "White Flash"
ID = 9999
stateno = 9999
pos = 0,0
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1
size.xscale = 10
size.yscale = 10
supermovetime = 9999
pausemovetime = 9999
persistent = 0

[State 0, End]
type = changestate
trigger1 = animtime = 0
value = 0
ctrl = 1
;-----------------
[StateDef 1411]
type = A
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 1411
poweradd = 0
sprpriority = 20

[State 0, AngleDraw]
type = AngleDraw
trigger1 = 1
value = gametime*15

[State 0, AngleDraw]
type = AngleDraw
trigger1 = 1
scale = 0.12*time*000.3,0.12*time*000.3

[State 0, Trans]
type = Trans
trigger1 = time > 25
trans = addalpha
alpha = 256-(time-25)*10,125+(time-25)*5

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 =  1
flag = noshadow

[State 0, End]
type = destroyself
trigger1 = time = 100
;-----------------
[StateDef 1412]
type = A
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 1412
poweradd = 0
sprpriority = 4

[State 0, Helper]
type = Helper
trigger1 = time = 10
helpertype = normal ;player
name = "White Flash"
ID = 9999
stateno = 9999
pos = 0,0
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1
size.xscale = 10
size.yscale = 10
supermovetime = 9999
pausemovetime = 9999
persistent = 0

[State 0, End]
type = destroyself
trigger1 = time = 20
;-----------------------------
;kotoamatsukami
[StateDef 104999]
type = S
movetype= I
physics = S
juggle  = 1
ctrl = 0
anim = 5000+var(0)*10000
velset = 0,0
poweradd = 0
sprpriority = 0

[State 0, CtrlSet]
type = CtrlSet
trigger1 = 1
value = 0

[State 0, NotHitBy]
type = NotHitBy
trigger1 = time >= 0
value = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
time = 1

[State 0, VarSet]
type = VarSet
trigger1 = 1 
v = 50  
value = 0

[State 0, ChangeState]
type = ChangeState
trigger1 = time = 50
value = 0



;----------------
[Statedef 9998]
type = S
movetype = I
physics = S
velset = 0,0
sprpriority = 40
anim = 9999
ctrl = 0

[State 0, SprPriority]
type = SprPriority
trigger1 = 1
value = 40

[State 0, Trans]
type = Trans
trigger1 = time < 8
trans = addalpha
alpha = time*32,256-time*32

[State 0, Trans]
type = Trans
trigger1 = time >= 20
trans = addalpha
alpha = 256-(time-20)*32,(time-20)*32

[State 0, DestroySelf]
type = DestroySelf
trigger1 = time = 28
;----------------
[Statedef 9999]
type = S
movetype = I
physics = S
velset = 0,0
sprpriority = 40
anim = 9999
ctrl = 0

[State 0, SprPriority]
type = SprPriority
trigger1 = 1
value = 40

[State 0, Trans]
type = Trans
trigger1 = time < 8
trans = addalpha
alpha = time*32,256-time*32

[State 0, Trans]
type = Trans
trigger1 = time >= 8
trans = addalpha
alpha = 256-(time-8)*32,(time-8)*32

[State 0, DestroySelf]
type = DestroySelf
trigger1 = time = 16


;--------------
;Stan postaci
[StateDef 70650]
type = S
movetype = A
physics = S
juggle = 0
poweradd = 0
anim = 70650
ctrl = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F21,4

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = S4,0+random%14
volume = 255
channel = 4

[State 0, VarAdd]
type = VarAdd
trigger1 = time = 0
v = 20
value = 1

[State 0, Helper]
type = Helper
trigger1 = animelem = 2
helpertype = normal;player
name = "kunai"
ID = 70700
stateno = 70700
pos = 5,-38
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1

[State 310, end]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;--------------
;Stan postaci
[StateDef 70655]
type = A
movetype = A
physics = A
juggle = 0
poweradd = 0
anim = 70655
ctrl = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F21,4

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = S4,0+random%14
volume = 255
channel = 4

[State 0, VarAdd]
type = VarAdd
trigger1 = time = 0
v = 20
value = 1

[State 0, Helper]
type = Helper
trigger1 = animelem = 2
helpertype = normal;player
name = "kunai"
ID = 70701
stateno = 70701
pos = 10,-38
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1

[State 310, end]
type = ChangeState
trigger1 = AnimTime = 0
value = 50
ctrl = 1
;---------------------------------------------------------------------------
;Kagemane: Nadanie Vara
[Statedef 104099]
type = S
physics = S
sprpriority = 0

[State 0, VarSet]
type = VarSet
trigger1 = 1
v = 46  
value = 1

[State 0, 1]
type = ChangeAnim
trigger1 = Anim != 5000+var(0)*10000
value = 5000+var(0)*10000

;ANTI CLONE - CLONE DESTROY -----
[State 0, VarSet]
type = VarSet
trigger1 = !ishelper
v = 39
value = 1

[State 0, DestroySelf]
type = DestroySelf
trigger1 = var(39) = 0
;triggerall = !ishelper(20000)

[State 0, ChangeState]
type = ChangeState
triggerall = time = 5
trigger1 = !ishelper
;trigger2 = ishelper(20000)
value = 104000
;---------------
[Statedef 109990]
type = A
movetype= H
physics = N
velset = 0,0
anim = 5030

[State 0, ScreenBound]
type = ScreenBound
trigger1 = 1 
value = 0

[State 0, 1]
type = ChangeAnim
trigger1 = var(0) != 0
trigger1 = Anim = 5030
value = 5030+var(0)*10000

[State 210, 2]
type = AfterImage
trigger1 = (!time)
time = 14
length = 15
palcontrast = 160,150,150
paladd = 5,0,0
palmul = 1,1,1
trans = add1

[State 1025, State]
type = ChangeState
trigger1 = HitShakeOver = 1
value = 109991


;---------------------------------------------------------------------------
[Statedef 109991]
type = A
movetype= H
physics = N
anim = 5000

[State 0, ScreenBound]
type = ScreenBound
trigger1 = 1 
value = 0


[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 0
trigger2 = timemod = 6,0
anim = F1391
ID = 380
pos = -20,-25
postype = p1  ;p2,front,back,left,right
facing = -1
vfacing = 1
bindtime = 1
removetime = -2
scale = 0.7,0.7
sprpriority = 3
ontop = 0
angle = atan(vel y/vel x)*180/PI -30

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = F8,9

[State 1027, Sound]
type = PlaySnd
trigger1 = Time = 0
value = F14,6

[State 0, 1]
type = ChangeAnim
trigger1 = var(0) != 0
trigger1 = Anim = 5000
value = 5000+var(0)*10000

[State 210, 2]
type = AfterImage
trigger1 = (!time)
time = 14
length = 15
palcontrast = 160,150,150
paladd = 5,0,0
palmul = 1,1,1
trans = add1

[State 1026, Velocity]
type = HitVelSet
trigger1 = Time = 0
x = 1
y = 1

[State 1026, Gravity]
type = VelAdd
trigger1 = 1
y = .45

[State 1026, Hit wall]
type = ChangeState
triggerall = Pos y < -15
trigger1 = BackEdgeBodyDist <= 10
trigger2 = FrontEdgeBodyDist <= 10
value = 109992

[State 1026, Hit ground]
type = SelfState
trigger1 = (Vel y > 0) && (Pos y >= 0)
value = 5100
;---------------------------------------------------------------------------
[Statedef 109992]
type = A
movetype= H
physics = N
anim = 5030

[State 0, ScreenBound]
type = ScreenBound
trigger1 = 1 
value = 0

[State 0, 1]
type = ChangeAnim
trigger1 = var(0) != 0
trigger1 = Anim = 5030
value = 5030+var(0)*10000

[State 210, 2]
type = AfterImage
trigger1 = (!time)
time = 14
length = 15
palcontrast = 160,150,150
paladd = 5,0,0
palmul = 1,1,1
trans = add1

[State 1027, Stop moving]
type = PosFreeze
trigger1 = 1
x = 1
y = 1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time= 1
value = F7,1

[State 1027, Sound]
type = PlaySnd
trigger1 = Time = 1
value = F7,0

[State 1027, Sound]
type = PlaySnd
trigger1 = Time = 1
value = F7,2

[State 1027, Sound]
type = PlaySnd
trigger1 = Time = 1
value = F15,2

[State 1027, Sound]
type = PlaySnd
trigger1 = Time = 1
value = F15,4

[State 0, Turn]
type = Turn
trigger1 = frontedgedist<backedgedist
trigger1 = time = 0

[State 1027, Spark]
type = Explod
ownpal = 1
trigger1 = Time = 1
anim = F1190
pos = -15,-25
postype = p1
facing = 1
scale = 1,1
sprpriority = 4
angle = 90

[State 1027, Spark]
type = Explod
ownpal = 1
trigger1 = Time = 1
anim = F1080
pos = -15,-25
postype = p1
facing = 1
sprpriority = -1
angle = 270
scale = 0.7,0.7

[State 1027, Spark]
type = Explod
ownpal = 1
trigger1 = Time = 1
anim = F1200
pos = -15,-25
postype = p1
facing = -1
sprpriority = -1
scale = 1.1,1.1

[State 1027, State]
type = ChangeState
trigger1 = AnimTime = 0
value = 109993

;---------------------------------------------------------------------------
[Statedef 109993]
type = A
movetype= H
physics = N
anim = 5060


[State 0, AngleDraw]
Type = AngleDraw
Trigger1 = 1
Value = -((ATan(vel y/vel x))*(180.0/PI))

[State 0, ScreenBound]
type = ScreenBound
trigger1 = 1 
value = 0

[State 0, 1]
type = ChangeAnim
trigger1 = var(0) != 0
trigger1 = Anim = 5060
value = 5060+var(0)*10000


[State 210, 2]
type = AfterImage
trigger1 = (!time)
time = 14
length = 15
palcontrast = 160,150,150
paladd = 5,0,0
palmul = 1,1,1
trans = add1

[State 1028, Vel Y]
type = VelSet
trigger1 = Time = 0
y = -6

[State 1028, Vel X]
type = VelSet
trigger1 = Time = 0
x = 1.6

[State 1028, Turn]
type = Turn
trigger1 = (Time = 0) && (BackEdgeDist < 30)

[State 1028, Gravity]
type = VelAdd
trigger1 = 1
y = .35

[State 1028, Anim 5050]
type = ChangeAnim
trigger1 = Time = 0
trigger1 = !SelfAnimExist(5052)
value = 5050

[State 1028, Anim 5050]
type = ChangeAnim
trigger1 = Time = 0
trigger1 = !SelfAnimExist(5052)
trigger1 = var(0) != 0
value = 5050+var(0)*10000

[State 1028, Anim 5052]
type = ChangeAnim
trigger1 = Time = 0
trigger1 = SelfAnimExist(5052)
value = 5052

[State 1028, Anim 5052]
type = ChangeAnim
trigger1 = Time = 0
trigger1 = SelfAnimExist(5052)
trigger1 = var(0) != 0
value = 5052+var(0)*10000

[State 1028, Anim 5060]
type = ChangeAnim
trigger1 = Vel Y > -2
trigger1 = Anim = 5050
trigger1 = SelfAnimExist(5060)
persistent = 0
value = 5060

[State 1028, Anim 5060]
type = ChangeAnim
trigger1 = Vel Y > -2
trigger1 = Anim = 5050
trigger1 = SelfAnimExist(5060)
persistent = 0
trigger1 = var(0) != 0
value = 5060+var(0)*10000

[State 1028, Anim 5062]
type = ChangeAnim
trigger1 = Vel Y > -2
trigger1 = Anim = 5052
trigger1 = SelfAnimExist(5062)
persistent = 0
value = 5062

[State 1028, Anim 5062]
type = ChangeAnim
trigger1 = Vel Y > -2
trigger1 = Anim = 5052
trigger1 = SelfAnimExist(5062)
persistent = 0
trigger1 = var(0) != 0
value = 5062+var(0)*10000

[State 1028, Hit ground]
type = SelfState
trigger1 = (Vel y > 0) && (Pos y >= 0)
value = 5100
;---------------------------------------------------------------------------
[Statedef 109994 ]
type    = A
movetype= H
physics = N
anim = 100022

[State 0, ScreenBound]
type = ScreenBound
trigger1 = 1 
value = 0

[State 0, ChangeAnim]
type = ChangeAnim
trigger1 = time = 0
trigger1 = var(0) != 0
value = 100022 + var(0)*10000

[State 0, AngleDraw]
Type = AngleDraw
Trigger1 = 1
value = time*20

[State 212, Velocity]
type = HitVelSet
trigger1 = Time = 1
x = 1
y = -1

[State 212, Gravity]
type = VelAdd
trigger1 = time > 1 && 1
y = .3

[State 0, PosAdd]
type = PosAdd
trigger1 = time = 0
y = -20

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 0
trigger2 = timemod = 6,0
anim = F1391
ID = 380
pos = -20,-25
postype = p1  ;p2,front,back,left,right
facing = -1
vfacing = 1
bindtime = 1
removetime = -2
scale = 0.7,0.7
sprpriority = 3
ontop = 0
angle = atan(vel y/vel x)*180/PI -30

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = F8,9

[State 1027, Sound]
type = PlaySnd
trigger1 = Time = 0
value = F14,6

[State 1026, Hit wall]
type = ChangeState
triggerall = Pos y < -15
trigger1 = BackEdgeBodyDist <= 10
trigger2 = FrontEdgeBodyDist <= 10
value = 109992

[State 212, Hit ground]
type = SelfState
trigger1 = (Vel y > 0) && (Pos y >= 0)
value = 5050



;---------------------- Integer variable list ----------------------

; var(3):= 200, 201, 202, 212, 220, 231, 270, 280, 285, 288, 630
; var(5):= 610, 611, 615
; var(6):= 750, 5900
; var(7):= 585, 700, 710, 750, 751, -2
; var(8):= 2221, 2341, 575, 585, 700, 710, 750, 751
; var(9):= 700, 710
;var(10):= 2221, 2341, 575, 585, -2, 77000, 78000, 77003
;var(14):= 77000, 78000, 77001, 78001, 77003
;var(15):= 751
;var(16):= 310, 710, 1400, 1410, -2
;var(17):= 1410, -2
;var(18):= 70500
;var(19):= 60
;var(20):= 70650, 70655, 5900, 104097, 104098
;var(21):= 5900
;var(22):= 5900
;var(23):= 611, 5900
;var(30):= -2, 5900, 106000
;var(35):= -2, 5900, 106025, 106026, 106027, 106028
;var(36):= -2
;var(39):= 104099, -2, 0, 5000, 5001, 5010, 5011, 5020, 5030, 5035, 5040, 5050, 5070, 5071, 5080, 5081, 5100, 5101, 5110
;var(40):= -2, 105251, 105252, 105253, 105254
;var(45):= 1410
;var(46):= 104099, -2, 104000, 104001
;var(48):= -1
;var(49):= -1
;var(50):= 104999, -1
;var(51):= 751, -2, 5900, 70300, 109910, 109911, 109912, 109913, 109914, 109915
;var(52):= 751, -2, 70300, 109920, 109921, 109922, 109923, 109924, 109925
;var(53):= 751, -2, 70300, 109930, 109931, 109932, 109933, 109934, 109935
;var(54):= 751, -2, 70300, 109940, 109941, 109942, 109943, 109944, 109945
;var(55):= 751, -2, 70300, 109950, 109951, 109952, 109953, 109954, 109955
;var(56):= 751, -2, 70300, 109960, 109961, 109962, 109963, 109964, 109965
;var(57):= 751, -2, 70300, 109970, 109971, 109972, 109973, 109974, 109975

;---------------------- Float variable list ----------------------

; fvar(0):= 5900
; fvar(7):= 5900
;fvar(10):= 610, 77000, 78000
;fvar(11):= 77000, 78000
;fvar(12):= 77003
;fvar(13):= 611, 60
;fvar(14):= 611, 60
;fvar(15):= 611, 60



;3 - cursed seal
;5 - futon shuriken
;6 - limit izanagi
;7 - czas izanagi
;8 - aktywne izanagi
;9 - lifeset izanagi
;10 - hp podczas izanagi
;15 - oko shisuiego izanagi
;16 - oko shisuiego czas
;17 - kotoamatsukami

;---------------------------------------------------------------------------
; States that are executed when in self's state file (use statedef -3)
;---------------------------------------------------------------------------

[Statedef -2]

[State 0, PlaySnd]
type = PlaySnd
trigger1 = random = 999
triggerall = Alive
triggerall = life > 0
triggerall = !matchover
triggerall = !win
triggerall = !lose
triggerall = !drawgame
triggerall = stateno != [170,199]
triggerall = stateno != [5000,5300]
triggerall = stateno != [100000,109999]
value = S2,5+random%21
volume = 256
channel = 2

[State 0, TEST PALETA IZANAGI]
type = PalFX
trigger1 = 0;var(8) = 2
time = 1
add = 0,0,0
mul = 256,0,0
sinadd = 0,0,0,1
invertall = 0
color = 256



;SMIERC OSTATECZNA
[State 0, SMIERC OSTATECZNA]
type = ChangeState
triggerall = prevstateno = 5150
triggerall = stateno != 5150
trigger1 = alive = 0
trigger2 = life = 0
value = 5150
ctrl = 0

[State 0, STANIE W POWIETRZU]
type = SelfState
trigger1 = stateno = [0,39]
trigger2 = stateno = 100
triggerall = pos y < 0
value = 50

[State 0, STANIE POD ZIEMIA]
type = PosSet
trigger1 = stateno = [0,39]
trigger2 = stateno = 100
triggerall = pos y > 0
y = 0

[State 0, OGRANICZENIE WYSOKOSCI]
type = PosSet
trigger1 = pos y < -500
y = -500

;----Arena Uchiha-----------

[State 0, PosSet]
type = PosSet
trigger1 = pos y < -300
triggerall = helper(70003), var(10) = 0
triggerall = StageVar(info.name) = "U"
y = -300

;ANTI CLONE - CLONE DESTROY -----
[State 0, VarSet]
type = VarSet
trigger1 = !ishelper
v = 39
value = 1

[State 0, DestroySelf]
type = DestroySelf
triggerall = var(39) = 0
trigger1 = stateno = [0,99]
trigger2 = stateno = [5000,5100]
trigger3 = stateno = [100000,199999]

;Pasek

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = stateno != 610
id = 9998

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = stateno != 610
id = 9999

;Shuriken

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = stateno != [610,611]
id = 616

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = stateno != [610,611]
id = 617

;Regeneracja Oka Shisuiego

[State 0, VarAdd]
type = VarAdd
trigger1 = var(16) > 0
v = 16
value = -1

[State 0, VarSet]
type = VarSet
trigger1 = var(16) <= 0
v = 16
value = 0

[State 0, VarSet]
type = VarSet
trigger1 = var(16) = 0
v = 17
value = 0

;Izanagi

[State 0, PowerAdd]
type = PowerAdd
trigger1 = var(8) != 0 && var(7) > 0
triggerall = stateno != [1000,1099]
triggerall = timemod = 2,0
value = -5

[State 0, VarAdd]
type = VarAdd
trigger1 = var(8) != 0 && var(7) > 0
triggerall = stateno != [1000,1099]
v = 7
value = -1

[State 0, VarSet]
type = VarSet
trigger1 = var(7) < 0
triggerall = stateno != [1000,1099]
v = 7
value = 0

[State 0, ChangeState]
type = ChangeState
triggerall = var(8) = 1
triggerall = stateno != [700,799]
triggerall = stateno != [1000,1099]
triggerall = stateno != [100000,199999]
triggerall = stateno != 5150
triggerall = stateno != [170,189]
trigger1 = var(7) <= 0
trigger2 = power = 0 
value = 750

[State 0, ChangeState]
type = ChangeState
triggerall = var(8) = 2
triggerall = stateno != [700,799]
triggerall = stateno != [1000,1099]
triggerall = stateno != [100000,199999]
triggerall = stateno != 5150
triggerall = stateno != [170,189]
trigger1 = var(7) <= 0
trigger2 = power = 0 
value = 751

[State 0, NotHitBy]
type = NotHitBy
trigger1 = var(8) != 0 && var(7) = 0
triggerall = stateno != [1000,1099]
value = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
time = 1

[State 0, PlayerPush]
type = PlayerPush
trigger1 = var(8) != 0 && var(7) = 0
triggerall = stateno != [1000,1099]
value = 0

[State 0, LifeSet]
type = LifeSet
trigger1 = 0;var(8) != 0
triggerall = stateno != [1000,1099]
value = var(9)

[State 0, VarSet]
type = VarSet
trigger1 = var(8) != 0
v = 10    
value = Life

[State 0, LifeSet]
type = LifeSet
trigger1 = var(8) != 0
trigger1 = var(10) < 200
value = var(10)

[State 0, NotHitBy]
type = NotHitBy
trigger1 = var(8) != 0 && life < 100
triggerall = stateno != [1000,1099]
value = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
time = 1

[State 0, PlayerPush]
type = PlayerPush
trigger1 = var(8) != 0 && life < 100
triggerall = stateno != [1000,1099]
value = 0

[State 0, LifeAdd]
type = LifeAdd
trigger1 = var(8) != 0 && life < 100
triggerall = stateno != [1000,1099]
value = 100

[State 0, LifeSet]
type = LifeSet
trigger1 = var(8) != 0 && life < 100
triggerall = stateno != [1000,1099]
value = 100

;BAKU

[State 0, PlayerPush]
type = PlayerPush
trigger1 = numhelper(645) = 1
value = 0

;Miecz Fuuton

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = stateno != 250
id = 2501

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = stateno != 251
id = 2511

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = stateno != 252
id = 2521

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = stateno != 253
id = 2531

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = stateno != 260
id = 2601

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = stateno != 261
id = 2611

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = stateno != 262
id = 2621


[State -2, Button C]
type = Explod
triggerall = var(50) = 0
triggerall = stateno = [570,571]
trigger1 = command = "c"
trigger2 = stateno = 570 && time = 5 
triggerall = numexplod(1608) = 0
anim = F1608
ID = 1608
pos = cond(pos y = 0,-16,12),cond(pos y = 0,-60,-70)
postype = p1
facing = facing
vfacing = 1
;vel = 0,2 
;accel = 0,-0.1
bindtime = -1
removetime = -1
scale = 0.7,0.7
sprpriority = 4
ontop = 0
ownpal = 1
removeongethit = 0
supermovetime = 9999
pausemovetime = 9999

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = stateno != [570,571]
id = 1608

[State -2, Button C]
type = Explod
triggerall = var(50) = 0
triggerall = stateno = [580,581]
trigger1 = command = "c"
trigger2 = stateno = 580 && time = 5 
triggerall = numexplod(16082) = 0
anim = F1608
ID = 16082
pos = cond(pos y = 0,-16,12),cond(pos y = 0,-60,-70)
postype = p1
facing = facing
vfacing = 1
;vel = 0,2 
;accel = 0,-0.1
bindtime = -1
removetime = -1
scale = 0.7,0.7
sprpriority = 4
ontop = 0
ownpal = 1
removeongethit = 0
supermovetime = 9999
pausemovetime = 9999

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = stateno != [580,581]
id = 16082

;-------------------------------------------------------------------------
;===================[ Liczniki, Okr¹g i Fatality ]========================
;-------------------------------------------------------------------------
[State -2, Arrow Down]
type = Explod
trigger1 = stateno = 70850
trigger2 = prevstateno = 70850 && time < 2
triggerall = command = "holddown"
triggerall = numexplod(1600) = 0
anim = F1600
ID = 1600
pos = cond(pos y = 0,4,4),cond(pos y = 0,-27,-30)
postype = p1
facing = 1
vfacing = 1
vel = 0,2 
accel = 0,-0.1
bindtime = 1
removetime = -2
scale = 0.5,0.5
sprpriority = 4
ontop = 0
ownpal = 1
removeongethit = 0
supermovetime = 9999
pausemovetime = 9999

[State -2, Arrow Up]
type = Explod
trigger1 = stateno = 70850
trigger2 = prevstateno = 70850 && time < 2
triggerall = command = "holdup"
triggerall = numexplod(1601) = 0
anim = F1601
ID = 1601
pos = cond(pos y = 0,4,4),cond(pos y = 0,-47,-50)
postype = p1
facing = 1
vfacing = 1
vel = 0,-2 
accel = 0,0.1
bindtime = 1
removetime = -2
scale = 0.5,0.5
sprpriority = 4
ontop = 0
ownpal = 1
removeongethit = 0
supermovetime = 9999
pausemovetime = 9999

[State -2, Arrow Forward]
type = Explod
trigger1 = stateno = 70850
trigger2 = prevstateno = 70850 && time < 2
triggerall = command = "holdfwd"
triggerall = numexplod(1602) = 0
anim = F1602
ID = 1602
pos = cond(pos y = 0,14,14),cond(pos y = 0,-37,-40)
postype = p1
facing = 1
vfacing = 1
vel = 2,0
accel = -0.1,0
bindtime = 1
removetime = -2
scale = 0.5,0.5
sprpriority = 4
ontop = 0
ownpal = 1
removeongethit = 0
supermovetime = 9999
pausemovetime = 9999

[State -2, Arrow Back]
type = Explod
trigger1 = stateno = 70850
trigger2 = prevstateno = 70850 && time < 2
triggerall = command = "holdback"
triggerall = numexplod(1603) = 0
anim = F1603
ID = 1603
pos = cond(pos y = 0,-6,-6),cond(pos y = 0,-37,-40)
postype = p1
facing = 1
vfacing = 1
vel = -2,0
accel = 0.1,0
bindtime = 1
removetime = -2
scale = 0.5,0.5
sprpriority = 4
ontop = 0
ownpal = 1
removeongethit = 0
supermovetime = 9999
pausemovetime = 9999

[State -2, Okr¹g]
type = Helper
trigger1 = numhelper(70300) = 0
trigger1 = alive
helpertype = normal
name = "Okr¹g"
ID = 70300
stateno = 70300
pos = 0,0
postype = p1
facing = 1
ownpal = 1
size.yscale = 0.4

[State -2, Fatality Hit]
type = Helper
trigger1 = !alive && numhelper(70400) = 0
helpertype = normal
name = "Fatality Hit"
ID = 70400
stateno = 70400
pos = 0, 0
postype = p1 ;P2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1
sprpriority = -20
size.xscale = 1
size.yscale = 1
supermovetime = 9999
pausemovetime = 9999

[State -2, Efekty do aren]
type = Helper
triggerall = teamside = 1 || teamside = 2 && numenemy = 0
triggerall = numhelper(70003) = 0
trigger1 = numpartner = 0
trigger2 = partner, ID > ID
trigger3 = teammode = turns && numpartner = 0
helpertype = normal
name = "Efekty do aren"
ID = 70003
stateno = 77003
pos = 0,30
postype = p1
facing = 1
ownpal = 1

[State -2, Licznik Lewa strona]
type = Helper
triggerall = stateno!=5500
triggerall = numenemy != 0
triggerall = teamside = 1
triggerall = numhelper(70000) = 0
trigger1 = numpartner = 0
trigger2 = partner, ID > ID
trigger3 = teammode = turns && numpartner = 0
helpertype = normal
name = "P1 Licznik Lewa strona"
ID = 70000
stateno = 77000
pos = 0,30
postype = p1
facing = 1
ownpal = 1

[State -2, Licznik Lewa strona 2]
type = Helper
triggerall = numenemy != 0
triggerall = teamside = 1
triggerall = numhelper(70001) = 0
trigger1 = numpartner = 1
trigger1 = partner, ID < ID
helpertype = normal
name = "P3 Licznik Lewa strona"
ID = 70001
stateno = 77001
pos = 0,30
postype = p1
facing = 1
ownpal = 1

[State -2, Licznik Prawa strona]
type = Helper
triggerall = stateno!=5500
triggerall = numenemy != 0
triggerall = teamside = 2
triggerall = numhelper(70000) = 0
trigger1 = numpartner = 0
trigger2 = partner, ID > ID
trigger3 = teammode = turns && numpartner = 0
helpertype = normal
name = "P2 Licznik Prawa strona"
ID = 70000
stateno = 78000
pos = 0,30
postype = p1
facing = 1
ownpal = 1

[State -2, Licznik Prawa strona]
type = Helper
triggerall = numenemy != 0
triggerall = teamside = 2
triggerall = numhelper(70001) = 0
trigger1 = numpartner = 1
trigger1 = partner, ID < ID
helpertype = normal
name = "P4 Licznik Prawa strona"
ID = 70001
stateno = 78001
pos = 0,30
postype = p1
facing = 1
ownpal = 1
;-------------------------------------------------------------------------
;==========================[ Vary Wspólne ]===============================
;-------------------------------------------------------------------------

;>>>>>>>>>>>> Byakugan <<<<<<<<<<<<<<<<<
[State 0, PowerSet]
type = PowerSet
trigger1 = power > (PowerMax - enemy, var(34))
value = PowerMax - enemy, var(34)

;>>>>>>>>>>>>>>> Kakashi - Mangekyou Sharingan <<<<<<<<<<<<<<<
[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = alive = 0 && var(36) != 0
flag = invisible

[State 0, VarSet]
type = VarSet
trigger1 = stateno != 100051 && alive = 1
v = 36
value = 0

[State -3]
type = AfterImage
trigger1 = alive = 0 && var(36) != 0
time = 1
length = 1
trans = add


;>>>>>>>>>>>>>>> Kl¹twa Hidana <<<<<<<<<<<<<<<
[State -2, Varset]
type = VarSet
trigger1 = stateno = 5150
var(35) = 0

[State -2, LifeAdd]
type = LifeAdd
trigger1 = var(35) != 0
trigger1 = PlayerID(var(35)),var(0)=1
triggerall = !ishelper
value = -PlayerID(var(35)),var(1)
kill = cond(PlayerID(var(35)),stateno=421 || PlayerID(var(35)),stateno=422 || PlayerID(var(35)),stateno=423 || PlayerID(var(35)),stateno=424 || PlayerID(var(35)),stateno=431 || PlayerID(var(35)),stateno=432 || PlayerID(var(35)),stateno=433 ,1,0)

[State 0, ChangeState]
type = ChangeState
triggerall = var(35) != 0
triggerall = PlayerID(var(35)),var(0)=1
triggerall = !ishelper
trigger1 = PlayerID(var(35)),stateno = [422,429]
trigger1 = PlayerID(var(35)),time < 12
trigger2 = PlayerID(var(35)),stateno = 424
triggerall = PlayerID(var(35)),var(1) != 0
triggerall = stateno != 5050
value = 5050

[State 0, explode]
type = Explod
triggerall = var(35) != 0
triggerall = PlayerID(var(35)),stateno = 421
trigger1 = PlayerID(var(35)),time = 5
trigger2 = PlayerID(var(35)),time = 7
anim = F10+random%1
angle = -25+random%50
ID = 4004
pos = cond(statetype != L,10,8),cond(statetype != L,-28,5)
postype = p1
bindtime = 1
removetime = -2
supermovetime = 9999
pausemovetime = 9999
scale = 0.5,0.5
sprpriority = 3
ownpal = 1
ontop = 0

[State 0, explode]
type = Explod
triggerall = var(35) != 0
triggerall = PlayerID(var(35)),stateno = 422
trigger1 = PlayerID(var(35)),time = 5
trigger2 = PlayerID(var(35)),time = 7
anim = F10+random%2
angle = -25+random%50
ID = 4004
pos = cond(statetype != L,7,15),cond(statetype != L,-15,-10)
postype = p1
bindtime = 1
removetime = -2
supermovetime = 9999
pausemovetime = 9999
scale = 0.7,0.7
sprpriority = 3
ownpal = 1
ontop = 0

[State 0, explode]
type = Explod
triggerall = var(35) != 0
triggerall = PlayerID(var(35)),stateno = 423
trigger1 = PlayerID(var(35)),time = 5
trigger2 = PlayerID(var(35)),time = 7
anim = F11+random%1
angle = -25+random%50
ID = 4004
pos = cond(statetype != L,5,0),cond(statetype != L,-32,-10)
postype = p1
bindtime = 1
removetime = -2
supermovetime = 9999
pausemovetime = 9999
scale = 1,1
sprpriority = 3
ownpal = 1
ontop = 0

[State 0, explode]
type = Explod
triggerall = var(35) != 0
triggerall = PlayerID(var(35)),stateno = 431
trigger1 = PlayerID(var(35)),time = 6
anim = F10+random%1
angle = -25+random%50
ID = 4004
pos = cond(statetype != L,10,8),cond(statetype != L,-28,5)
postype = p1
bindtime = 1
removetime = -2
supermovetime = 9999
pausemovetime = 9999
scale = 0.4,0.4
sprpriority = 3
ownpal = 1
ontop = 0

[State 0, explode]
type = Explod
triggerall = var(35) != 0
triggerall = PlayerID(var(35)),stateno = 432
trigger1 = PlayerID(var(35)),time = 6
anim = F10+random%2
angle = -25+random%50
ID = 4004
pos = cond(statetype != L,7,15),cond(statetype != L,-15,-10)
postype = p1
bindtime = 1
removetime = -2
supermovetime = 9999
pausemovetime = 9999
scale = 0.5,0.5
sprpriority = 3
ownpal = 1
ontop = 0

[State 0, explode]
type = Explod
triggerall = var(35) != 0
triggerall = PlayerID(var(35)),stateno = 433
trigger1 = PlayerID(var(35)),time = 6
anim = F11+random%1
angle = -25+random%50
ID = 4004
pos = cond(statetype != L,5,0),cond(statetype != L,-32,-10)
postype = p1
bindtime = 1
removetime = -2
supermovetime = 9999
pausemovetime = 9999
scale = 0.6,0.6
sprpriority = 3
ownpal = 1
ontop = 0

[State 0, explode]
type = Explod
triggerall = var(35) != 0
trigger1 = PlayerID(var(35)),stateno = 424
trigger1 = PlayerID(var(35)),time = 125
anim = F1500
ID = 4004
pos = 0,-30
postype = p1
bindtime = 1
removetime = 25
supermovetime = 9999
pausemovetime = 9999
scale = 0.5,0.5
sprpriority = 6
ownpal = 1
ontop = 0

;>>>>>>>>>>>>>>> Koto Amatsukami <<<<<<<<<<<<<<<
[State 0, CtrlSet]
type = CtrlSet
trigger1 = enemy, var(45) != 0
value = 0

;>>>>>>>>>>>>>>> Pieczec Danzo <<<<<<<<<<<<<<<
[State -2, Varset]
type = VarSet
trigger1 = stateno = 5150
var(40) = 0

[State 0, ChangeState]
type = ChangeState
triggerall = var(40) != 0
triggerall = !ishelper
trigger1 = PlayerID(var(40)),stateno = 630
triggerall = PlayerID(var(40)),var(3) = 2
triggerall = stateno != 5050
value = 105250

;>>>>>>>>>>>>>>> Kagemane Shikamaru <<<<<<<<<<<<<<<
[State 0, CtrlSet]
type = CtrlSet
trigger1 = var(46) = 1
value = 0

[State 0, VarSet]
type = VarSet
trigger1 = enemy, name = "Shikamaru"
trigger1 = enemy, var(10) = 0
trigger1 = var(46) = 1
v = 46
value = 0

[State 0, Changestate]
type = Changestate
trigger1 = var(46) = 1 && (stateno = 0|| stateno = 12 || stateno = 20 || stateno = 52 || stateno = [98,104])
value = 104000

[State 0, Changestate]
type = Changestate
trigger1 = var(46) = 1 && stateno = [10,11]
trigger2 = var(46) = 1 && stateno = 5120
value = 104002

[State 0, Changestate]
type = Changestate
trigger1 = var(46) = 1 && stateno = [40,59]
value = 104008

[State 0, Selfstate]
type = Selfstate
trigger1 = var(46) = 0 && stateno = [104000,104099]
trigger1 = enemy, name = "Shikamaru"
trigger1 = enemy, var(10) = 0
value = cond(pos y = 0,0,50)
ctrl = 1

;>>>>>>>>>>>>>>> Kankuro, Sasori Poison <<<<<<<<<<<<<<<
[State 0, VarAdd]
type = VarAdd
trigger1 = var(30) !=0 && gametime%4 = 0
v = 30
value = -1

[State 0, PalFXWiz]
type = PalFX
trigger1 = var(30) != 0
trigger1 = gametime%18 = 0
trigger1 = !ishelper
time = 18
add = 100,0,100
mul = 220,120,224
sinadd = 80,50,80,18
invertall = 0
color = 256

[State 0, LifeAdd]
type = LifeAdd
trigger1 = gametime%4 = 0
trigger1 = var(30) != 0
trigger1 = !ishelper
value = -1
kill = 0

[State 0, Trucizna]
type = Explod
trigger1 = var(30) > 0
triggerall = stateno != 5500
triggerall = numenemy != 0
triggerall = numexplod(1916) = 0
trigger1 = !ishelper
anim = F1916
ID = 1916
pos = 0*facing,cond(stateno = 5110,-25,cond(statetype = C,-50,-70))
postype = p1
facing = cond(facing = 1,1,-1)
bindtime = -1
removetime = -1
sprpriority = 4
scale = 0.6,0.6
ownpal = 1
ontop = 1
supermovetime = 9999
pausemovetime = 9999

[State 0, Trucizna]
type = ModifyExplod
trigger1 = var(30) > 0
triggerall = numexplod(1916) = 1
trigger1 = !ishelper
ID = 1916
pos = 0*facing,cond(stateno = 5110,-25,cond(statetype = C,-50,-70))
postype = p1
facing = cond(facing = 1,1,-1)
bindtime = -1
removetime = -1
sprpriority = 4
scale = 0.6,0.6
ownpal = 1
ontop = 1
supermovetime = 9999
pausemovetime = 9999

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = var(30) = 0
trigger1 = !ishelper
ID = 1916

;>>>>>>>>>>>>>>> Var Katon <<<<<<<<<<<<<<<

[State 0, - Katon - ]
type = VarAdd
triggerall = var(51) > 0
trigger1 = stateno = [0,199]
trigger2 = stateno = [5000,5299]
v = 51
value = -1

[State 0, VarSet]
type = VarSet
trigger1 = var(51) <= 0
trigger2 = var(53) != 0
trigger3 = ishelper
trigger4 = stateno = [170,194]
trigger5 = stateno = 5150
triggerall = stateno != [109910,109919]
v = 51
value = 0

;~~ Debuff ~~

[State 0, LifeAdd]
type = LifeAdd
trigger1 = timemod = 3,0
triggerall = var(51) > 0
triggerall = var(53) = 0
triggerall = var(54) = 0
value = -1
kill = 1


;~~ Efekty ~~

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time > 0 && timemod = 30,0
triggerall = var(51) > 0
triggerall = var(53) = 0
value = F10,4

[State 0, PalFX]
type = PalFX
trigger1 = time > 0 && timemod = 5,0
triggerall = var(51) > 0
triggerall = var(53) = 0
time = 10
add = 240,50,0
mul = 250,224,120
sinadd = 110,55,85,10
invertall = 0
color = 256

[State 0, Explod]
type = Explod
trigger1 = time > 0 && timemod = 5,0
triggerall = var(51) > 0
triggerall = var(53) = 0
triggerall = var(54) = 0
anim = F1402
pos = cond((statetype = L || stateno = 5110 || stateno = 5150),-20+random%40,-10+random%20),cond((statetype = L || stateno = 5110 || stateno = 5150),5-random%15,cond(statetype = C,-10-random%20,-20-random%30))
postype = p1
facing = 1
bindtime = 10
removetime = -2
sprpriority = -2+random%5
scale = 1,1
ownpal = 1
ontop = 0
supermovetime = 9999
pausemovetime = 9999

;~~ Ikonka ~~

[State 0, Ikonka]
type = Explod
trigger1 = numexplod(1901) = 0
triggerall = stateno != 5500
triggerall = numenemy != 0
triggerall = var(51) > 0
triggerall = var(53) = 0
anim = F1901
ID = 1901
pos = 0,cond(stateno = 5110,0,cond(statetype = C,-15,-30))
postype = p1
facing = 1
bindtime = 2
removetime = -2
sprpriority = 10
accel = 0*facing,-0.04
scale = 0.4,0.4
ownpal = 1
ontop = 1
supermovetime = 9999
pausemovetime = 9999

;Polaczony z Futonem
[State 0, Katon + Futon]
type = LifeAdd
trigger1 = timemod = 4,0
triggerall = var(51) > 0
triggerall = var(54) != 0
value = -3
kill = 1

[State 0, Explod]
type = Explod
trigger1 = time > 0 && timemod = 5,0
triggerall = var(51) > 0
triggerall = var(54) != 0
anim = F1402
pos = cond((statetype = L || stateno = 5110 || stateno = 5150),-20+random%40,-10+random%20),cond((statetype = L || stateno = 5110 || stateno = 5150),5-random%15,cond(statetype = C,-10-random%20,-20-random%30))
postype = p1
facing = 1
bindtime = 10
removetime = -2
sprpriority = -2+random%5
scale = 1.6,1.6
ownpal = 1
ontop = 0
supermovetime = 9999
pausemovetime = 9999

;>>>>>>>>>>>>>>> Var Raiton <<<<<<<<<<<<<<<

[State 0, - Raiton - ]
type = VarAdd
triggerall = var(52) > 0
trigger1 = stateno = [0,199]
trigger2 = stateno = [5000,5299]
v = 52
value = -1

[State 0, VarSet]
type = VarSet
trigger1 = var(52) <= 0
trigger2 = var(54) != 0
trigger3 = ishelper
trigger4 = stateno = [170,194]
trigger5 = stateno = 5150
triggerall = stateno != [109920,109929]
v = 52
value = 0

;~~ Debuff ~~

[State 0, ChangeState]
type = ChangeState
triggerall = var(52) = 100 || var(52) = 200 || var(52) = 300 || var(52) = 400 || var(52) = 500
triggerall = var(52) != 0
triggerall = !ishelper
trigger1 = stateno = [0,199]
trigger2 = stateno = 70500+var(0)*1000 
triggerall = stateno != [10000,199999]
triggerall = stateno != [170,194]
value = 109929

;~~ Efekty ~~

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time > 0 && timemod = 30,0
triggerall = var(52) > 0
triggerall = var(54) = 0
value = F11,3

[State 0, Explod]
type = Explod
trigger1 = time > 0 && timemod = 5,0
triggerall = var(52) > 0
triggerall = var(53) = 0
triggerall = var(54) = 0
anim = F1300+random%3
angle = random
pos = cond((statetype = L || stateno = 5110 || stateno = 5150),-20+random%40,-10+random%20),cond((statetype = L || stateno = 5110 || stateno = 5150),5-random%15,cond(statetype = C,-10-random%20,-20-random%30))
postype = p1
facing = 1
bindtime = 5
removetime = -2
sprpriority = -2+random%5
scale = 0.25,0.25
ownpal = 1
ontop = 0
supermovetime = 9999
pausemovetime = 9999

;~~ Ikonka ~~

[State 0, Ikonka]
type = Explod
trigger1 = numexplod(1902) = 0
triggerall = stateno != 5500
triggerall = numenemy != 0
triggerall = var(52) > 0
triggerall = var(54) = 0
anim = F1902
ID = 1902
pos = 0,cond(stateno = 5110,0,cond(statetype = C,-15,-30))
postype = p1
facing = 1
bindtime = 2
removetime = -2
sprpriority = 10
accel = 0.02*facing,0.03
scale = 0.4,0.4
ownpal = 1
ontop = 1
supermovetime = 9999
pausemovetime = 9999

;Polaczony z Suitonem
[State 0, Raiton + Suiton]
type = LifeAdd
trigger1 = timemod = 3,0
triggerall = var(52) > 0
triggerall = var(53) != 0
value = -1
kill = 1

[State 0, PalFX]
type = PalFX
trigger1 = timemod = 5,0
triggerall = var(52) > 0
triggerall = var(53) != 0
time = 10
add = 50,50,200
mul = 100,200,200
sinadd = 150,150,300,4
invertall = 0
color = 256

[State 0, Explod]
type = Explod
trigger1 = time > 0 && timemod = 3,0
triggerall = var(52) > 0
triggerall = var(53) != 0
anim = F1300+random%3
angle = random
pos = cond((statetype = L || stateno = 5110 || stateno = 5150),-20+random%40,-10+random%20),cond((statetype = L || stateno = 5110 || stateno = 5150),5-random%15,cond(statetype = C,-10-random%20,-20-random%30))
postype = p1
facing = 1
bindtime = 5
removetime = -2
sprpriority = -2+random%5
scale = 0.4,0.4
ownpal = 1
ontop = 0
supermovetime = 9999
pausemovetime = 9999

;>>>>>>>>>>>>>>> Var Suiton <<<<<<<<<<<<<<<

[State 0, - Suiton - ]
type = VarAdd
triggerall = var(53) > 0
trigger1 = stateno = [0,199]
trigger2 = stateno = [5000,5299]
v = 53
value = -1

[State 0, VarSet]
type = VarSet
trigger1 = var(53) <= 0
trigger2 = var(55) != 0
trigger3 = ishelper
trigger4 = stateno = [170,194]
trigger5 = stateno = 5150
triggerall = stateno != [109930,109939]
v = 53
value = 0

;~~ Debuff ~~

[State 0, Atk Break]
type = Explod
trigger1 = var(53) > 0
triggerall = stateno != 5500
triggerall = numenemy != 0
triggerall = numexplod(1910) = 0
anim = F1910
ID = 1910
pos = -10*facing,10
postype = p1
facing = cond(facing = 1,1,-1)
bindtime = -1
removetime = -1
sprpriority = 4
scale = 0.6,0.6
ownpal = 1
ontop = 1
supermovetime = 9999
pausemovetime = 9999

[State 0, Atk Break]
type = ModifyExplod
trigger1 = var(53) > 0
triggerall = numexplod(1910) = 1
ID = 1910
pos = -10*facing,10
postype = p1
facing = cond(facing = 1,1,-1)
bindtime = -1
removetime = -1
sprpriority = 4
scale = 0.6,0.6
ownpal = 1
ontop = 1
supermovetime = 9999
pausemovetime = 9999

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = var(53) = 0
ID = 1910

[State 0, AttackMulSet]
type = AttackMulSet
trigger1 = var(53) = 0
value = 1

[State 0, AttackMulSet]
type = AttackMulSet
trigger1 = var(53) > 0
value = 0.6


;~~ Efekty ~~

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time > 0 && timemod = 30,0
triggerall = var(53) > 0
triggerall = var(55) = 0
value = F12,0

[State 0, Explod]
type = Explod
trigger1 = time > 0 && timemod = 10,0
triggerall = var(53) > 0
triggerall = var(55) = 0
anim = F1550
angle = random
pos = cond((statetype = L || stateno = 5110 || stateno = 5150),-20+random%40,-10+random%20),cond((statetype = L || stateno = 5110 || stateno = 5150),5-random%15,cond(statetype = C,-10-random%20,-20-random%30))
postype = p1
facing = 1
bindtime = 10
removetime = -2
sprpriority = -2+random%5
scale = 0.4,0.4
ownpal = 1
ontop = 0
supermovetime = 9999
pausemovetime = 9999

;~~ Ikonka ~~

[State 0, Ikonka]
type = Explod
trigger1 = numexplod(1903) = 0
triggerall = stateno != 5500
triggerall = numenemy != 0
triggerall = var(53) > 0
triggerall = var(55) = 0
anim = F1903
ID = 1903
pos = 0,cond(stateno = 5110,0,cond(statetype = C,-15,-30))
postype = p1
facing = 1
bindtime = 2
removetime = -2
sprpriority = 10
accel = -0.03*facing,-0.02
scale = 0.4,0.4
ownpal = 1
ontop = 1
supermovetime = 9999
pausemovetime = 9999

;>>>>>>>>>>>>>>> Var Fuuton <<<<<<<<<<<<<<<

[State 0, - Fuuton - ]
type = VarAdd
triggerall = var(54) > 0
trigger1 = stateno = [0,199]
trigger2 = stateno = [5000,5299]
v = 54
value = -1

[State 0, VarSet]
type = VarSet
trigger1 = var(54) <= 0
;trigger2 = var(51) != 0
trigger2 = ishelper
trigger3 = stateno = [170,194]
trigger4 = stateno = 5150
triggerall = stateno != [109940,109949]
v = 54
value = 0

;~~ Debuff ~~

[State 0, Def Break]
type = Explod
trigger1 = var(54) > 0
triggerall = stateno != 5500
triggerall = numenemy != 0
triggerall = numexplod(1912) = 0
anim = F1912
ID = 1912
pos = 10*facing,10
postype = p1
facing = cond(facing = 1,1,-1)
bindtime = -1
removetime = -1
sprpriority = 4
scale = 0.6,0.6
ownpal = 1
ontop = 1
supermovetime = 9999
pausemovetime = 9999

[State 0, Def Break]
type = ModifyExplod
trigger1 = var(54) > 0
triggerall = numexplod(1912) = 1
ID = 1912
pos = 10*facing,10
postype = p1
facing = cond(facing = 1,1,-1)
bindtime = -1
removetime = -1
sprpriority = 4
scale = 0.6,0.6
ownpal = 1
ontop = 1
supermovetime = 9999
pausemovetime = 9999

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = var(54) = 0
ID = 1912

[State 0, DefenceMulSet]
type = DefenceMulSet
trigger1 = var(54) = 0
value = 1

[State 0, DefenceMulSet]
type = DefenceMulSet
trigger1 = var(54) > 0
value = 1.25

;~~ Efekty ~~

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time > 0 && timemod = 40,0
triggerall = var(54) > 0
;triggerall = var(51) = 0
value = F14,6

[State 0, Explod]
type = Explod
trigger1 = time > 0 &&  timemod = 10,0
triggerall = var(54) > 0
;triggerall = var(51) = 0
anim = F643
angle = random
pos = cond((statetype = L || stateno = 5110 || stateno = 5150),-20+random%40,-10+random%20),cond((statetype = L || stateno = 5110 || stateno = 5150),5-random%15,cond(statetype = C,-10-random%20,-20-random%30))
postype = p1
facing = 1
bindtime = 10
removetime = -2
sprpriority = -2+random%5
scale = 0.4,0.4
ownpal = 1
ontop = 0
supermovetime = 9999
pausemovetime = 9999

;~~ Ikonka ~~

[State 0, Ikonka]
type = Explod
trigger1 = numexplod(1904) = 0
triggerall = stateno != 5500
triggerall = numenemy != 0
triggerall = var(54) > 0
;triggerall = var(51) = 0
anim = F1904
ID = 1904
pos = 0,cond(stateno = 5110,0,cond(statetype = C,-15,-30))
postype = p1
facing = 1
bindtime = 2
removetime = -2
sprpriority = 10
accel = 0.03*facing,-0.02
scale = 0.4,0.4
ownpal = 1
ontop = 1
supermovetime = 9999
pausemovetime = 9999

;>>>>>>>>>>>>>>> Var Doton <<<<<<<<<<<<<<<
[State 0, - Doton - ]
type = VarAdd
triggerall = var(55) > 0
trigger1 = stateno = [0,199]
trigger2 = stateno = [5000,5299]
v = 55
value = -1

[State 0, VarSet]
type = VarSet
trigger1 = var(55) <= 0
trigger2 = var(52) != 0
trigger3 = ishelper
trigger4 = stateno = [170,194]
trigger5 = stateno = 5150
triggerall = stateno != [109950,109959]
v = 55
value = 0

;~~ Debuff ~~

[State 0, Slow]
type = Explod
trigger1 = var(55) > 0
triggerall = stateno != 5500
triggerall = numenemy != 0
triggerall = numexplod(1914) = 0
anim = F1914
ID = 1914
pos = -10*facing,10
postype = p1
facing = cond(facing = 1,1,-1)
bindtime = -1
removetime = -1
sprpriority = 4
scale = 0.6,0.6
ownpal = 1
ontop = 1
supermovetime = 9999
pausemovetime = 9999

[State 0, Slow]
type = ModifyExplod
trigger1 = var(55) > 0
triggerall = numexplod(1910) = 1
ID = 1910
pos = -10*facing,10
postype = p1
facing = cond(facing = 1,1,-1)
bindtime = -1
removetime = -1
sprpriority = 4
scale = 0.6,0.6
ownpal = 1
ontop = 1
supermovetime = 9999
pausemovetime = 9999

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = var(55) = 0
ID = 1914

[State 0, SelfState]
type = SelfState
trigger1 = var(55) != 0
trigger1 = stateno = 45 || stateno = 60
value = 50
ctrl = 1

[State 0, VelAdd]
type = VelAdd
trigger1 = var(55) != 0
trigger1 = stateno = 50
y = -(const(velocity.jump.y))/20

[State 0, SelfState]
type = SelfState
trigger1 = var(55) != 0
trigger1 = stateno = 100 || stateno = 101
value = 20
ctrl = 1

[State 0, SelfState]
type = SelfState
trigger1 = var(55) != 0
trigger1 = stateno = 102 || stateno = 103
value = 11
ctrl = 1

[State 0, SelfState]
type = SelfState
trigger1 = var(55) != 0
trigger1 = stateno = 105
value = 0
ctrl = 1

[State 0, SelfState]
type = SelfState
trigger1 = var(55) != 0
trigger1 = stateno = 70600
value = 0
ctrl = 1

;~~ Efekty ~~

[State 0, PalFX]
type = PalFX
trigger1 = timemod = 5,0
triggerall = var(55) > 0
triggerall = var(52) = 0
time = 10
add = 25,20,5
mul = 196,186,166
sinadd = 0,0,0,1
invertall = 0
color = 256

;~~ Ikonka ~~

[State 0, Ikonka]
type = Explod
trigger1 = numexplod(1905) = 0
triggerall = stateno != 5500
triggerall = numenemy != 0
triggerall = var(55) > 0
triggerall = var(52) = 0
anim = F1905
ID = 1905
pos = 0,cond(stateno = 5110,0,cond(statetype = C,-15,-30))
postype = p1
facing = 1
bindtime = 2
removetime = -2
sprpriority = 10
accel = -0.02*facing,0.03
scale = 0.4,0.4
ownpal = 1
ontop = 1
supermovetime = 9999
pausemovetime = 9999

;>>>>>>>>>>>>>>> Var Czarne Plomienie <<<<<<<<<<<<<<<
[State 0, - Amaterasu - ]
type = VarAdd
triggerall = var(56) > 0
trigger1 = stateno = [0,199]
trigger2 = stateno = [5000,5299]
v = 56
value = -1

[State 0, VarSet]
type = VarSet
trigger1 = var(56) <= 0
trigger2 = ishelper
trigger3 = stateno = [170,194]
trigger4 = stateno = 5150
triggerall = stateno != [109960,109969]
v = 56
value = 0

;~~ Debuff ~~

[State 0, LifeAdd]
type = LifeAdd
trigger1 = timemod = 3,0
triggerall = var(56) > 0
value = -2
kill = 1

;~~ Efekty ~~

[State 0, PlaySnd]
type = PlaySnd
trigger1 = timemod = 20,0
triggerall = var(56) > 0
value = F10,2

[State 0, PalFX]
type = PalFX
trigger1 = timemod = 5,0
triggerall = var(56) > 0
time = 10
add = -60,-80,-50
mul = 90,20,120
sinadd = 40,20,50,5
invertall = 0
color = 256

[State 0, Explod]
type = Explod
trigger1 = timemod = 3,0
triggerall = var(56) > 0
anim = F1700
pos = cond((statetype = L || stateno = 5110 || stateno = 5150),-20+random%40,-10+random%20),cond((statetype = L || stateno = 5110 || stateno = 5150),5-random%15,cond(statetype = C,-10-random%20,-10-random%40))
postype = p1
facing = 1
angle = -20+random%40
bindtime = 10
removetime = -2
sprpriority = -2+random%5
scale = 1,1;0.35,0.35
vel = 0,-1-random%2
accel = 0,0.05
ownpal = 1
ontop = 0
supermovetime = 9999
pausemovetime = 9999

;>>>>>>>>>>>>>>> Var Kuroi Kaminari <<<<<<<<<<<<<<<
[State 0, - Kuroi Kaminari - ]
type = VarAdd
triggerall = var(57) > 0
trigger1 = stateno = [0,199]
trigger2 = stateno = [5000,5299]
v = 57
value = -1

[State 0, VarSet]
type = VarSet
trigger1 = var(57) <= 0
trigger2 = ishelper
trigger3 = stateno = [170,194]
trigger4 = stateno = 5150
triggerall = stateno != [109970,109979]
v = 57
value = 0

;~~ Debuff ~~

[State 0, ChangeState]
type = ChangeState
triggerall = timemod = 100,0
triggerall = var(57) != 0
triggerall = !ishelper
trigger1 = stateno = [0,199]
trigger2 = stateno = 70500+var(0)*1000 
;trigger3 = stateno = [5000,5299]
triggerall = stateno != [10000,199999]
triggerall = stateno != [170,194]
value = 109979

;~~ Efekty ~~

[State 0, PlaySnd]
type = PlaySnd
trigger1 = timemod = 30,0
triggerall = var(57) > 0
value = F11,3

[State 0, Explod]
type = Explod
trigger1 = timemod = 5,0
triggerall = var(57) > 0
anim = F1701+random%3
angle = random
pos = cond((statetype = L || stateno = 5110 || stateno = 5150),-20+random%40,-10+random%20),cond((statetype = L || stateno = 5110 || stateno = 5150),5-random%15,cond(statetype = C,-10-random%20,-20-random%30))
postype = p1
facing = 1
bindtime = 5
removetime = -2
sprpriority = -2+random%5
scale = 0.6,0.6
ownpal = 1
ontop = 0
supermovetime = 9999
pausemovetime = 9999

;-------------------------

[Statedef -3]

[State -3, Afterimage normal]
type = AfterImage
triggerall = var(1) = 0
trigger1 = time = 0
time = 1

[State -3, PowerAdd]
type = PowerAdd
triggerall = prevstateno != 190+var(0)*10000 
triggerall = stateno = [0,199]
triggerall = stateno != 70500+var(0)*1000 
triggerall = stateno != [5000,5299]
triggerall = stateno != [10000,199999]
triggerall = timemod = 20,0
trigger1 = !ishelper
value = 5
