
[Data]
life = 3000			
power = 4000	
attack = 100	
defence = 100	
fall.defence_up = 50	
liedown.time = 60		
airjuggle = 15		
sparkno = 0			
guard.sparkno = 40	
KO.echo = 0		
volume = 0		
IntPersistIndex = 0	
FloatPersistIndex = 0 
  				

[Size]
xscale = 1			
yscale = 1		
ground.back = 15
ground.front = 15
air.back = 10
air.front = 10
height = 63
attack.dist = 160
proj.attack.dist = 90
proj.doscale = 0
head.pos = 0, -53
mid.pos = 0, -30
shadowoffset = 0
draw.offset = 0,0		

[Velocity]
walk.fwd  = 1.6	
walk.back = -1.6		
run.fwd  = 8.2, 0		
run.back = -7,-6	
jump.neu = 0,-8.9		
jump.back = -3.4		
jump.fwd = 3.4		
runjump.back = -2.75,-8.9
runjump.fwd = 6.0,-8.9	
airjump.neu = 0,-8.9	
airjump.back = -2.75	
airjump.fwd = 2.7

[Movement]
airjump.num = 1		
airjump.height = 35	
yaccel = .44	
stand.friction = .85	
crouch.friction = .82	

;[Quotes]
;victory1 = "The village does have its dark side and its inconsistencies, but I'm still Konoha's Itachi Uchiha."
;victory2 = "Those who can't acknowledge their real selves are bound to fail."
;victory3 = "Self-sacrifice… A nameless shinobi who protects peace within its shadow… That is a true shinobi."
;victory4 = "People live their lives bound by what they accept as correct and true. That's how they define reality."
;victory5 = "As death comes to embrace you, you will realise what you are. That's what death is, don't you think?"
;victory6 = "Being the best isn't all it's made out to be. When you're strong, you become arrogant and withdrawn. Even if what you sought after was your dream."




;----------------------------------------
[Statedef 104]
type = S
movetype = I
physics = N
anim = 100
velset = 0,0
ctrl = 0


[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 1
trigger2 = animelem = 1
trigger3 = animelem = 3
value = F2

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 1
trigger2 = animelem = 2
trigger3 = animelem = 3
anim = F300
ID = 24
pos = -10,2
postype = p1  ;p2,front,back,left,right
scale = 1.2,1.2
sprpriority = 2
vel = -1.3,-1
bindtime = 1
ownpal = 1
ontop = 0
supermovetime = 9999
pausemovetime = 9999

[State 1510, 5]
type = Screenbound
trigger1 = 1
movecamera = 0,0

[State 0, 1]
type = NotHitBy
trigger1 = time >= 0
value = SCA, AA, AP, AT

[State 1000, 4]
type = VelSet
trigger1 = backedgebodydist < 70
x = const(velocity.run.fwd.x)-2

[State 0, 6]
type = VelSet
trigger1 = backedgebodydist >= 70
x = 0

[State 0, 7]
type = PlayerPush
trigger1 = backedgebodydist < 70
value = 0

[State 0, 9]
type = ChangeState
trigger1 = backedgebodydist >= 70
value = 0
ctrl = 1


;---------------------------------------------------------------------------
; Lose by Time Over
; CNS difficulty: basic
[Statedef 170]
type = S
ctrl = 0
anim = 170
velset = 0,0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 30
value = S6,11

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S2,1
volume = 256
channel = 1

;piora
[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time < 46 && timemod = 4,0
anim = 80000
ID = 80000
pos = (random%27-13)*1,-25-(random%27-13)*0.8
random = 30,60
vel = -0.2,-1
accel = 0,0.03
postype = p1
bindtime = 1
removetime = 95
supermovetime = 9999
pausemovetime = 9999
scale = 0.12,0.12
sprpriority = 3
ownpal = 1
ontop = 0

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time < 46 && timemod = 4,0
anim = 80000
ID = 80000
pos = (random%27-13)*1,-25-(random%27-13)*0.8
random = 30,60
vel = 0.2,-1
accel = 0,0.03
postype = p1
bindtime = 1
removetime = 95
supermovetime = 9999
pausemovetime = 9999
scale = 0.12,0.12
sprpriority = 3
ownpal = 1
ontop = 0

;kruki
[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 40
trigger2 = time = 42
trigger3 = time = 44
anim = 80004
ID = 80004
pos = 25+(random%27-13)*2,5
random = 30,60
vel = -2.3,-1
postype = p1
bindtime = 1
removetime = 87
supermovetime = 9999
pausemovetime = 9999
scale = 0.5,0.5
sprpriority = 3
ownpal = 1
ontop = 0

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 40
trigger2 = time = 42
trigger3 = time = 44
anim = 80003
ID = 80003
pos = -5-(random%27-13)*2,5
random = 30,60
vel = 2.3,-1
postype = p1
bindtime = 1
removetime = 87
supermovetime = 9999
pausemovetime = 9999
scale = 0.7,0.7
sprpriority = 3
ownpal = 1
ontop = 0

[State 170, 1]
type = NotHitBy
trigger1 = time >= 0
value = SCA
time = 1

;---------------------------------------------------------------------------
; Win state decider
; CNS difficulty: basic
[Statedef 180]
type = S

[State 180, 1]
type = ChangeState
trigger1 = Time = 0
value = 181

;---------------------------------------------------------------------------
; Win pose 1
; CNS difficulty: basic
[Statedef 181]
type = S
ctrl = 0
anim = 180
velset = 0,0

[State 0, AfterImage]
type = AfterImage
trigger1 = 1 
time = 111

[State 0, PlaySnd]
type = PlaySnd
trigger1 = timemod = 30,0
value = S6,11

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S6,29

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 10
value = S7,29

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 10
value = S7,29

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = timemod = 6,0
anim = 80000
ID = 80000
pos = (random%27-13)*1,-25-(random%27-13)*0.8
random = 30,60
vel = -0.2,-1
accel = 0,0.03
postype = p1
bindtime = 1
removetime = 65
supermovetime = 9999
pausemovetime = 9999
scale = 0.12,0.12
sprpriority = 3
ownpal = 1
ontop = 0

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = timemod = 6,0
anim = 80000
ID = 80000
pos = (random%27-13)*1,-25-(random%27-13)*0.8
random = 30,60
vel = 0.2,-1
accel = 0,0.03
postype = p1
bindtime = 1
removetime = 65
supermovetime = 9999
pausemovetime = 9999
scale = 0.12,0.12
sprpriority = 3
ownpal = 1
ontop = 0

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = timemod = 6,0
anim = 80004
ID = 80004
pos = 25+(random%27-13)*2,0-random%40
random = 30,60
vel = -2.3,-1
postype = p1
bindtime = 1
removetime = 87
supermovetime = 9999
pausemovetime = 9999
scale = 0.5,0.5
sprpriority = 3
ownpal = 1
ontop = 0
angle = -10-random%15

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = timemod = 6,0
anim = 80003
ID = 80003
pos = -5-(random%27-13)*2,0-random%40
random = 30,60
vel = 2.3,-1
postype = p1
bindtime = 1
removetime = 87
supermovetime = 9999
pausemovetime = 9999
scale = 0.7,0.7
sprpriority = 3
ownpal = 1
ontop = 0
angle = 10+random%15

[State 181, 1]
type = NotHitBy
trigger1 = time >= 0
value = SCA
time = 1

;---------------------------------------------------------------------------
; Introduction
; CNS difficulty: basic
[Statedef 190]
type = S
ctrl = 0
anim = 190
velset = 0,0

[State 0, PowerSet]
type = PowerSet
trigger1 = Time = 0
value = 2000

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 5
value = S6,11

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S2,10
volume = 256
channel = 1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S2,10
volume = 256
channel = 1

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time > 5 && timemod = 6,0
triggerall = time < 65
anim = 80000
ID = 80000
pos = (random%27-13)*1,-25-(random%27-13)*0.8
random = 30,60
vel = -0.2,-1
accel = 0,0.03
postype = p1
bindtime = 1
removetime = 95
supermovetime = 9999
pausemovetime = 9999
scale = 0.12,0.12
sprpriority = 3
ownpal = 1
ontop = 0

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time > 5 && timemod = 6,0
triggerall = time < 65
anim = 80000
ID = 80000
pos = (random%27-13)*1,-25-(random%27-13)*0.8
random = 30,60
vel = 0.2,-1
accel = 0,0.03
postype = p1
bindtime = 1
removetime = 95
supermovetime = 9999
pausemovetime = 9999
scale = 0.12,0.12
sprpriority = 3
ownpal = 1
ontop = 0

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 31
trigger2 = time = 33
trigger3 = time = 35
anim = 80004
ID = 80004
pos = 25+(random%27-13)*2,5
random = 30,60
vel = -2.3,-1
postype = p1
bindtime = 1
removetime = 87
supermovetime = 9999
pausemovetime = 9999
scale = 0.5,0.5
sprpriority = 3
ownpal = 1
ontop = 0

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 31
trigger2 = time = 33
trigger3 = time = 35
anim = 80003
ID = 80003
pos = -5-(random%27-13)*2,5
random = 30,60
vel = 2.3,-1
postype = p1
bindtime = 1
removetime = 87
supermovetime = 9999
pausemovetime = 9999
scale = 0.7,0.7
sprpriority = 3
ownpal = 1
ontop = 0


[State 190, 1] ;Freeze animation until PreIntro is over
type = ChangeAnim
trigger1 = RoundState = 0
value = 190

[State 190, 2] ;Assert this until you want "round 1, fight" to begin
type = AssertSpecial
trigger1 = 1
flag = Intro

[State 190, 4] ;Change to stand state
type = ChangeState
trigger1 = AnimTime = 0
value = 0

;---------------------------------------------------------------------------
; Taunt
; CNS difficulty: easy
[Statedef 195]
type = S
ctrl = 1
anim = 195
velset = 0,0
movetype = I
physics = S
sprpriority = 2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 28
value = S6,11

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 28
value = S6,13

;kruki
[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 28
trigger2 = time = 30
trigger3 = time = 32
anim = 80004
ID = 80004
pos = 25+(random%27-13)*2,5
random = 30,60
vel = -2.3,-1
postype = p1
bindtime = 1
removetime = 57
supermovetime = 9999
pausemovetime = 9999
scale = 0.5,0.5
sprpriority = 3
ownpal = 1
ontop = 0

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 28
trigger2 = time = 30
trigger3 = time = 32
anim = 80003
ID = 80003
pos = -5-(random%27-13)*2,5
random = 30,60
vel = 2.3,-1
postype = p1
bindtime = 1
removetime = 57
supermovetime = 9999
pausemovetime = 9999
scale = 0.7,0.7
sprpriority = 3
ownpal = 1
ontop = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S7,0+random%12
volume = 256
channel = 2

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = timemod = 6,0
anim = 80000
ID = 80000
pos = (random%27-13)*1,-25-(random%27-13)*0.8
random = 30,60
vel = -0.2,-1
accel = 0,0.03
postype = p1
bindtime = 1
removetime = 65
supermovetime = 9999
pausemovetime = 9999
scale = 0.12,0.12
sprpriority = 3
ownpal = 1
ontop = 0

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = timemod = 6,0
anim = 80000
ID = 80000
pos = (random%27-13)*1,-25-(random%27-13)*0.8
random = 30,60
vel = 0.2,-1
accel = 0,0.03
postype = p1
bindtime = 1
removetime = 65
supermovetime = 9999
pausemovetime = 9999
scale = 0.12,0.12
sprpriority = 3
ownpal = 1
ontop = 0

[State 195, 2]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
;genjutsu lvl 3
[StateDef 200]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 200
poweradd = -2000
sprpriority = 2

[State 0, Turn]
type = Turn
trigger1 = facing*enemynear,pos x < facing*pos x
trigger1 = time = 0

[State 0, Helper] 
type = Helper 
trigger1 = time = 0
name = "pieczec" 
ID = 1301
stateno = 1301
pos = 0,0
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1
supermovetime = 9999
pausemovetime = 9999

[State 0, ChangeState]
type = ChangeState
trigger1 = numhelper(1301)=0
value = 1302

[State 0, NotHitBy]
type = NotHitBy
trigger1 = time >= 0
value = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
value2 = S,NA
time = 1

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = time = 0
id = 9998

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 5
triggerall = var(8) = 1
anim = 200
ownpal = 1
pos = 5,0
scale = 1.1,1.1
vel = -3,-1
accel = 0.1,0.05
postype = p1
facing = 1
bindtime = 1
removetime = -2
sprpriority = 3
trans = add
supermovetime = 9999
pausemovetime = 9999

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 5
triggerall = var(8) = 1
anim = 200
ownpal = 1
pos = 5,0
scale = 1.1,1.1
vel = 3,-1
accel = -0.1,0.05
postype = p1
facing = 1
bindtime = 1
removetime = -2
sprpriority = 3
trans = add
supermovetime = 9999
pausemovetime = 9999

[State 0, PalFXWiz]
type = BGPalFX
trigger1 = time <= 100
time = 1
add = -time*0.8,-time*0.8,-time*0.8

[State 0, BGPalFX]
type = BGPalFX
trigger1 = time > 99
time = 2
add = -80,-80,-80

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time > 30 && timemod = 20,0
value = F10,2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = S3,20

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = S3,20

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = S3,20

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = S3,20

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F8,1
volume = 255
channel = 8

[State 1500]
type = SuperPause
trigger1 = time = 30
time = 170
movetime = 170
supermove = 170
anim = 102
sound = F19,2
pos = 18,-32
darken = 0
unhittable = 0

[State 0, End]
type = ChangeState
trigger1 = Time = 210
value = 201
ctrl = 1
;---------------------------------------------------------------------------
[Statedef 201]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 201
poweradd = 0
sprpriority = 2

[State 0, BGPalFX]
type = BGPalFX
trigger1 = time < 10
time = 2
add = -80,-80,-80

[State 1500]
type = SuperPause
trigger1 = time = 0
time = 25
movetime = 25
supermove = 25
anim = 104
sound = F19,1
pos = 3,-35
darken = 0
unhittable = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S6,16

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 0
anim = 9999
ID = 8872
pos =0,0
postype = back
facing = 1
vfacing = 1
bindtime = -2
removetime = 24
scale = 10,10
sprpriority = 199
ontop = 0
ownpal = 1
removeongethit = 0
trans = sub
supermovetime = 9999
pausemovetime = 9999

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 0
anim = 8872
ID = 8872
pos =0,0
postype = back
facing = 1
vfacing = 1
bindtime =- 2
removetime = -2
scale = 0.4,0.35;1.15,1.15
sprpriority = 200
ontop = 0
ownpal = 1
removeongethit = 0
supermovetime = 9999
pausemovetime = 9999

[State 195, 2]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------
;Ogieñ g³ówny
[StateDef 202]
type = S
anim = 4010

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 =  1
flag = noshadow

[State 0, Helper]
type = Helper
trigger1 = time = 0
helpertype = normal;player
name = "ogien"
ID = 210
stateno = 210
pos = 95,0
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1
size.xscale = 0.3
size.yscale = 0.5
supermovetime = 9999
pausemovetime = 9999

[State 0, Helper]
type = Helper
trigger1 = time = 5
helpertype = normal;player
name = "ogien"
ID = 210
stateno = 210
pos = 75,5
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1
size.xscale = 0.3
size.yscale = 0.5
supermovetime = 9999
pausemovetime = 9999


[State 0, Helper]
type = Helper
trigger1 = time = 10
helpertype = normal;player
name = "ogien"
ID = 210
stateno = 210
pos = 50,10
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1
size.xscale = 0.3
size.yscale = 0.5
supermovetime = 9999
pausemovetime = 9999


[State 0, Helper]
type = Helper
trigger1 = time = 15
helpertype = normal;player
name = "ogien"
ID = 210
stateno = 210
pos = 25,15
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1
size.xscale = 0.3
size.yscale = 0.5
supermovetime = 9999
pausemovetime = 9999


[State 0, Helper]
type = Helper
trigger1 = time = 20
helpertype = normal;player
name = "ogien"
ID = 210
stateno = 210
pos = 0,18
postype = p1   ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1
size.xscale = 0.3
size.yscale = 0.5
supermovetime = 9999
pausemovetime = 9999


[State 0, Helper]
type = Helper
trigger1 = time = 25
helpertype = normal;player
name = "ogien"
ID = 210
stateno = 210
pos = -25,15
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1
size.xscale = 0.3
size.yscale = 0.5
supermovetime = 9999
pausemovetime = 9999


[State 0, Helper]
type = Helper
trigger1 = time = 30
helpertype = normal;player
name = "ogien"
ID = 210
stateno = 210
pos = -50,10
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1
size.xscale = 0.3
size.yscale = 0.5
supermovetime = 9999
pausemovetime = 9999

[State 0, Helper]
type = Helper
trigger1 = time = 35
helpertype = normal;player
name = "ogien"
ID = 210
stateno = 210
pos = -75,5
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1
size.xscale = 0.3
size.yscale = 0.5
supermovetime = 9999
pausemovetime = 9999


[State 0, Helper]
type = Helper
trigger1 = time = 40
helpertype = normal;player
name = "ogien"
ID = 210
stateno = 210
pos = -95,0
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1
size.xscale = 0.3
size.yscale = 0.5
supermovetime = 9999
pausemovetime = 9999

[State 0, Helper]
type = Helper
trigger1 = time = 45
helpertype = normal;player
name = "ogien"
ID = 1210
stateno = 1210
pos = -75,-2
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1
size.xscale = 0.3
size.yscale = 0.5
supermovetime = 9999
pausemovetime = 9999

[State 0, Helper]
type = Helper
trigger1 = time = 50
helpertype = normal;player
name = "ogien"
ID = 1210
stateno = 1210
pos = -50,-4
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1
size.xscale = 0.3
size.yscale = 0.5
supermovetime = 9999
pausemovetime = 9999

[State 0, Helper]
type = Helper
trigger1 = time = 55
helpertype = normal;player
name = "ogien"
ID = 1210
stateno = 1210
pos = -25,-6
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1
size.xscale = 0.3
size.yscale = 0.5
supermovetime = 9999
pausemovetime = 9999

[State 0, Helper]
type = Helper
trigger1 = time = 60
helpertype = normal;player
name = "ogien"
ID = 1210
stateno = 1210
pos = 0,-7
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1
size.xscale = 0.3
size.yscale = 0.5
supermovetime = 9999
pausemovetime = 9999


[State 0, Helper]
type = Helper
trigger1 = time = 65
helpertype = normal;player
name = "ogien"
ID = 1210
stateno = 1210
pos = 25,-6
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1
size.xscale = 0.3
size.yscale = 0.5
supermovetime = 9999
pausemovetime = 9999


[State 0, Helper]
type = Helper
trigger1 = time = 70
helpertype = normal;player
name = "ogien"
ID = 1210
stateno = 1210
pos = 50,-4
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1
size.xscale = 0.3
size.yscale = 0.5
supermovetime = 9999
pausemovetime = 9999



[State 0, Helper]
type = Helper
trigger1 = time = 75
helpertype = normal;player
name = "ogien"
ID = 1210
stateno = 1210
pos = 75,-2
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1
size.xscale = 0.3
size.yscale = 0.5
supermovetime = 9999
pausemovetime = 9999


[State 0, Helper]
type = Helper
trigger1 = time = 90
helpertype = normal;player
name = "ogien"
ID = 215
stateno = 215
pos = 0,0
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1
size.xscale = 1
size.yscale = 1
supermovetime = 9999
pausemovetime = 9999

[State 0, Helper]
type = Helper
trigger1 = time = 171
helpertype = normal;player
name = "ogien"
ID = 217
stateno = 217
pos = 0,0
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1
size.xscale = 1
size.yscale = 1
supermovetime = 9999
pausemovetime = 9999


[State 0, End]
type = Destroyself
trigger1 = numhelper(210) = 0

;-----------------
[StateDef 210]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 210
poweradd = 0
sprpriority = 5

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 =  1
flag = noshadow

[State 0, End]
type = Destroyself
trigger1 = numhelper(217) = 1
trigger2 = time = 200
;value = 212

;-----------------
[StateDef 211]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 211
poweradd = 0
sprpriority = 5

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 =  1
flag = noshadow

[State 0, End]
type = destroyself
trigger1 = animtime = 0
;-----------------
[StateDef 212]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 212
poweradd = 0
sprpriority = 5

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 =  1
flag = noshadow

[State 0, HitDef]
type = HitDef
givepower = 0
getpower = 0
fall.yvelocity = -6
trigger1 = timemod = 5,0
attr = S, NA
damage = 6,2
getpower = 0
animtype = Light
guardflag = MA
hitflag = MAF
priority = 5
pausetime = 0, 0
sparkno = -1
sparkxy = -15, -35
hitsound = -10, 0
guardsound = -10, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -2,-2
airguard.velocity = -2,-2
air.type = High
air.velocity = -2,-2
air.hittime = 12
fall = 1
envshake.time = 30
envshake.freq = 30
envshake.ampl = -7
envshake.phase = 10
palfx.time = 30
palfx.add = 240,50,0
palfx.mul = 250,224,120
palfx.sinadd = 110,55,85,10

[State 0, End]
type = destroyself
trigger1 = animtime = 0



;-----------------
[StateDef 1210]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 210
poweradd = 0
sprpriority = -1

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 =  1
flag = noshadow

[State 0, End]
type = Destroyself
trigger1 = numhelper(217) = 1
trigger2 = time = 200
;-----------------
[StateDef 1211]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 211
poweradd = 0
sprpriority = -1

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 =  1
flag = noshadow

[State 0, End]
type = destroyself
trigger1 = animtime = 0
;-----------------
[StateDef 1212]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 212
poweradd = 0
sprpriority = -1

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 =  1
flag = noshadow

[State 0, HitDef]
type = HitDef
givepower = 0
getpower = 0
fall.yvelocity = -6
trigger1 = timemod = 5,0
attr = S, NA
damage = 6,2
getpower = 0
animtype = Light
guardflag = MA
hitflag = MAF
priority = -1
pausetime = 0, 0
sparkno = -1
sparkxy = -15, -35
hitsound = -10, 0
guardsound = -10, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -2,-2
airguard.velocity = -2,-2
air.type = High
air.velocity = -2,-2
air.hittime = 12
fall = 1
envshake.time = 30
envshake.freq = 30
envshake.ampl = -7
envshake.phase = 10
palfx.time = 30
palfx.add = 240,50,0
palfx.mul = 250,224,120
palfx.sinadd = 110,55,85,10


[State 0, End]
type = destroyself
trigger1 = animtime = 0
;-----------------
[StateDef 215]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 215
poweradd = 0
sprpriority = 3

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 =  1
flag = noshadow

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = target, ishelper = 0
flag = unguardable

[State 0, HitDef]
type = HitDef
givepower = 0
getpower = 0
fall.yvelocity = -6
trigger1 = timemod = 5,0
attr = S, NA
damage = 0,0
animtype = Light
guardflag = MA
hitflag = MAF
priority = 4
getpower = 0
pausetime = 0, 0
sparkno = -1
sparkxy = -15, -35
hitsound = -10, 0
guardsound = -10, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = 0,0
airguard.velocity = 0,0
air.type = High
air.velocity = 0,0
air.hittime = 12
fall = 0
envshake.time = 30
envshake.freq = 30
envshake.ampl = -7
envshake.phase = 10
palfx.time = 30
palfx.add = 0,50,240
palfx.mul = 120,224,250
palfx.sinadd = 85,55,110,10

[State 0, End]
type = destroyself
trigger1 = time = 80
;-----------------
[StateDef 217]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 217
poweradd = 0
sprpriority = 4

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S6,16

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S6,16

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S6,16

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S6,16

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = target, ishelper = 0
flag = unguardable

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = F10,3

[State 0, HitDef]
type = HitDef
givepower = 0
getpower = 0
fall.yvelocity = -6
trigger1 = !time
attr = C, HP
damage = 0,0
getpower = 0
animtype = Light
guardflag = MA
hitflag = MAF
priority = 4
pausetime = 0, 10
sparkno = -1
sparkxy = -15, -35
hitsound = -10, 0
guardsound = -10, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = 0,0
airguard.velocity = 0,0
air.type = High
air.velocity = 0,0
air.hittime = 12
fall = 0
envshake.time = 30
envshake.freq = 30
envshake.ampl = -7
envshake.phase = 10
palfx.time = 10
palfx.add = 0,50,240
palfx.mul = 120,224,250
palfx.sinadd = 85,55,110,10
p2stateno = 106051

[State 0, End]
type = destroyself
trigger1 = time = 1

;-----------------------------
[StateDef 106051]
type = S
movetype= H
physics = S
juggle  = 1
ctrl = 0
anim = 5000+var(0)*10000
velset = 0,0
poweradd = 0
sprpriority = 0

[State 0, ChangeState]
type = selfState
trigger1 = name = "Deidara"
trigger1 = var(6) = 1
value = 50

[State 0, LifeAdd]
type = LifeAdd
trigger1 = time = 0
value = -900

[State 0, ChangeState]
type = selfState
trigger1 = time = 1
value = prevstateno
;-----------------
[StateDef 218]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 216
poweradd = 0
sprpriority = 4

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 =  1
flag = noshadow

[State 0, End]
type = destroyself
trigger1 = animtime = 0

;---------------------------------------------------------------------------
;genjutsu lvl 4
[StateDef 230]
type = S
movetype= A
physics = S
juggle  = 1
ctrl = 0
anim = 230
poweradd = -3000
sprpriority = 2

[State 0, Helper] 
type = Helper 
trigger1 = time = 0
name = "pieczec" 
ID = 1301
stateno = 1301
pos = 0,0
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1
supermovetime = 9999
pausemovetime = 9999

[State 0, ChangeState]
type = ChangeState
trigger1 = numhelper(1301)=0
value = 1302

[State 0, Turn]
type = Turn
trigger1 = facing*enemynear,pos x < facing*pos x
trigger1 = time = 0

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 5
triggerall = var(8) = 1
anim = 230
ownpal = 1
pos = 5,0
scale = 1.1,1.1
vel = -3,-1
accel = 0.1,0.05
postype = p1
facing = 1
bindtime = 1
removetime = -2
sprpriority = 3
trans = add

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 5
triggerall = var(8) = 1
anim = 230
ownpal = 1
pos = 5,0
scale = 1.1,1.1
vel = 3,-1
accel = -0.1,0.05
postype = p1
facing = 1
bindtime = 1
removetime = -2
sprpriority = 3
trans = add

;itacz
[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 7
anim = 800
ID = 800
pos = 0,0
postype = p1
bindtime = 1
removetime = -2
supermovetime = 9999
pausemovetime = 9999
scale = 1,1
sprpriority = 0
ownpal = 1
ontop = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 6
trigger2 = time = 11
value = S6,11

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 4
value = S6,13

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 4
trigger2 = time = 6
trigger3 = time = 8
anim = 80004
ID = 80004
pos = 25+(random%27-13)*2,5
random = 30,60
vel = -2.3,-1
postype = p1
bindtime = 1
removetime = 47
supermovetime = 9999
pausemovetime = 9999
scale = 0.5,0.5
sprpriority = 3
ownpal = 1
ontop = 0

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 4
trigger2 = time = 6
trigger3 = time = 8
anim = 80003
ID = 80003
pos = -5-(random%27-13)*2,5
random = 30,60
vel = 2.3,-1
postype = p1
bindtime = 1
removetime = 47
supermovetime = 9999
pausemovetime = 9999
scale = 0.7,0.7
sprpriority = 3
ownpal = 1
ontop = 0

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = timemod = 6,0
anim = 80000
ID = 80000
pos = (random%27-13)*1,-25-(random%27-13)*0.8
random = 30,60
vel = -0.2,-1
accel = 0,0.03
postype = p1
bindtime = 1
removetime = 55
supermovetime = 9999
pausemovetime = 9999
scale = 0.12,0.12
sprpriority = 3
ownpal = 1
ontop = 0

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = timemod = 6,0
anim = 80000
ID = 80000
pos = (random%27-13)*1,-25-(random%27-13)*0.8
random = 30,60
vel = 0.2,-1
accel = 0,0.03
postype = p1
bindtime = 1
removetime = 55
supermovetime = 9999
pausemovetime = 9999
scale = 0.12,0.12
sprpriority = 3
ownpal = 1
ontop = 0

[State 0, PosAdd]
type = Posset
triggerall = facing = -1
triggerall = enemy(0),alive = 1
trigger1 = time = 9
x = enemy(0),pos x +10

[State 0, PosAdd]
type = Posset
triggerall = facing = -1
triggerall = enemy(0),alive = 0
trigger1 = time = 9
x = enemy(1),pos x +10

[State 0, PosAdd]
type = Posset
triggerall = facing = 1
triggerall = enemy(0),alive = 1
trigger1 = time = 9
x = enemy(0),pos x -10

[State 0, PosAdd]
type = Posset
triggerall = facing = 1
triggerall = enemy(0),alive = 0
trigger1 = time = 9
x = enemy(1),pos x -10

[State 0, HitDef]
type = HitDef
givepower = 0
getpower = 0
fall.yvelocity = -6
trigger1 = 1
attr = C,HP
damage = 0,0
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 0, 20
sparkno = 4
sparkxy = -15, -55
hitsound = S1, 6
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 20
ground.velocity = 0,-5
airguard.velocity = 0,-5
air.type = High
air.velocity = 0,-5
air.hittime = 20
p1stateno = 231
p2stateno = 105000

[State 0, NotHitBy]
type = NotHitBy
trigger1 = time = [3,14]
value = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
time = 1

[State 0, End]
type = ChangeState
trigger1 = animtime = 0
value = 0
ctrl = 1
;-----------------------------
[StateDef 231]
type = S
movetype= A
physics = S
juggle  = 1
ctrl = 0
anim = 231
poweradd = 0
sprpriority = 2

[State 0, NotHitBy]
type = NotHitBy
trigger1 = time >= 0
value = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
value2 = S,NA
time = 1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
value = S2,11
volume = 255
channel = 2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 1
value = S6,15

[State 0, EnvShake]
type = EnvShake
trigger1 = timemod = 5,0
time = 10
freq = 40
ampl = 3
phase = 90

[State 0, PalFXWiz]
type = BGPalFX
trigger1 = time <= 100
time = 1
add = -time*2,-time*2,-time*2

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 80
anim = 8873
ID = 8871
pos = -40,-60
postype = p1
facing = 1
vfacing = 1
bindtime = -1
removetime = 220
scale = 0.3,0.3
sprpriority = -1
ontop = 0
ownpal = 1
removeongethit = 1
supermovetime = 9999
pausemovetime = 9999

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 100
anim = 8874
ID = 8874
pos =-100,-100
postype = back
facing = 1
vfacing = 1
bindtime =- 2
removetime = 100
scale = 0.85,0.85
sprpriority = 10
ontop = 0
ownpal = 1
removeongethit = 0
supermovetime = 9999
pausemovetime = 9999

[State 905, 7]
type = Envcolor
trigger1 = time > 100
value = 0,0,0
time = 1
under = 1

[State 0, HitDef]
type = HitDef
givepower = 0
getpower = 0
fall.yvelocity = -6
trigger1 = time = 1
attr = C,HP
damage = 0,0
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 0, 0
sparkno = 4
sparkxy = -8, -60
hitsound = S1, 5
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = 0,0
airguard.velocity = 0,0
air.type = High
air.velocity = 0,0
air.hittime = 12
p2stateno = 105001

[State 0, TargetBind]
type = TargetBind
trigger1 = target,stateno = 105001
time = 1
pos = 20,0

[State 0, End]
type = ChangeState
trigger1 = time = 200
value = 232
ctrl = 1
;-----------------------------
[StateDef 232]
type = S
movetype= A
physics = S
juggle  = 1
ctrl = 0
anim = 232
poweradd = 0
sprpriority = 2

[State 905, 7]
type = Envcolor
trigger1 = time = 2
value = 0,0,0
time = 160
under = 1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
value = S2,19
volume = 255
channel = 2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = timemod = 10,0 && time < 3
value = S6,8
channel = -6

[State 0, EnvShake]
type = EnvShake
trigger1 = timemod = 5,0
time = 20
freq = 20
ampl = 2
phase = 90

[State 1500]
type = SuperPause
trigger1 = time = 0
time = 100
movetime = 100
supermove = 100
anim = -102
sound = S19,2
pos = 3,-35
darken = 0
unhittable = 0


[State 0, BGPalFX]
type = BGPalFX
trigger1 = time = [101,111]
time = 2
add = -80,-80,-80

[State 1500]
type = SuperPause
trigger1 = time = 101
time = 25
movetime = 25
supermove = 25
anim = 104
sound = F19,1
pos = 3,-35
darken = 0
unhittable = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 101
value = S6,16

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 101
anim = 9999
ID = 8872
pos =0,0
postype = back
facing = 1
vfacing = 1
bindtime = -2
removetime = 24
scale = 10,10
sprpriority = 199
ontop = 0
ownpal = 1
removeongethit = 0
trans = sub
supermovetime = 9999
pausemovetime = 9999

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 101
anim = 8872
ID = 8872
pos =0,0
postype = back
facing = 1
vfacing = 1
bindtime =- 2
removetime = -2
scale = 0.4,0.35;1.15,1.15
sprpriority = 200
ontop = 0
ownpal = 1
removeongethit = 0
supermovetime = 9999
pausemovetime = 9999

[State 905, 7]
type = Envcolor
trigger1 = 1
value = 0,0,0
time = 1
under = 1

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = movehit = 1 && numexplod(12) < 10
anim = F12
angle = random
ID = 12
pos = -10,-60
postype = p2
bindtime = 1
removetime = -2
supermove
pausemove
facing = 1
scale = 0.7,0.7
sprpriority = 1
ownpal = 1
supermovetime = 9999
pausemovetime = 9999

[State 0, VarSet]
type = VarSet
trigger1 = time = 0
v = 32
value = 0

[State 1500]
type = SuperPause
trigger1 = time = 4
time = 1
movetime = 1
supermove = 1
anim = 102
sound = F19,2
pos = 18,-38
darken = 0
unhittable = 0


[State 905, 7]
type = Envcolor
trigger1 = time = 9
value = 0,0,0
time = 30
under = 0

[State 0, HitDef]
type = HitDef
givepower = 0
getpower = 0
fall.yvelocity = -6
trigger1 = !time
attr = C,HP
damage = 0,0
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 0, 0
sparkno = 4
sparkxy = -8, -60
hitsound = -1, 6
guardsound = -6, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -5,0
airguard.velocity = -5,0
air.type = High
air.velocity = -5,0
air.hittime = 12
p2stateno = 105002
envshake.time = 50
envshake.ampl = 5
envshake.freq = 50

[State 0, LifeAdd]
type = TargetLifeAdd
triggerall = target,stateno = 105002
trigger1 = time = 100
value = -1500
kill = 1
persistent = 1

[State 0, End]
type = ChangeState
trigger1 = time = 102
value = 233
ctrl = 1
;-----------------------------
[StateDef 233]
type = S
movetype= A
physics = S
juggle  = 1
ctrl = 0
anim = 233
poweradd = 0
sprpriority = 2

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time > 5 && timemod = 4,0
anim = 80000
ID = 80000
pos = (random%27-13)*1,-25-(random%27-13)*0.8
random = 30,60
vel = -0.2,-1
accel = 0,0.03
postype = p1
bindtime = 1
removetime = 55
supermovetime = 9999
pausemovetime = 9999
scale = 0.12,0.12
sprpriority = 3
ownpal = 1
ontop = 0

[State 0, End]
type = SelfState
trigger1 = animtime = 0
value = 0
ctrl = 1
;-----------------------------
[StateDef 105000]
type = S
movetype= I
physics = S
juggle  = 1
ctrl = 0
anim = 5000+var(0)*10000
velset = 0,0
poweradd = 0
sprpriority = 0

[State 0, ChangeState]
type = selfState
trigger1 = name = "Deidara"
trigger1 = var(6) = 1
value = 50

[State 0, PlayerPush]
type = PlayerPush
trigger1 = 1
value = 0

[State 0, ChangeState]
type = selfstate
trigger1 = time = 60
value = 5000
ctrl = 1
;-----------------------------
[StateDef 105001]
type = A
movetype= H
physics = S
juggle  = 1
ctrl = 0
anim = 5000+var(0)*10000
velset = 0,0
poweradd = 0
sprpriority = 0

[State 0, ChangeState]
type = selfState
trigger1 = name = "Deidara"
trigger1 = var(6) = 1
value = 50

[State 0, PlayerPush]
type = PlayerPush
trigger1 = 1
value = 0

[State 0, End]
type = selfstate
trigger1 = enemy,stateno != 231 && enemy,stateno != 232 && enemy,stateno != 233
value = 105
ctrl = 1

[State 0, End]
type = selfstate
trigger1 = enemy,stateno = 233
value = 105002
ctrl = 1

[State 0, End]
type = selfstate
trigger1 = time = 200
value = 105001
ctrl = 1
;-----------------------------
[StateDef 105002]
type = S
movetype= H
physics = S
juggle  = 1
ctrl = 0
anim = 5000+var(0)*10000
velset = 0,0
poweradd = 0
sprpriority = 0

[State 0, ChangeState]
type = selfState
trigger1 = name = "Deidara"
trigger1 = var(6) = 1
value = 50

[State 0, PosSet]
type = PosSet
trigger1 = 1
y = 0

[State 0, NotHitBy]
type = NotHitBy
trigger1 = time >= 0
value = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
time = 1

[State 905, 7]
type = Envcolor
trigger1 = time = 0
value = 0,0,0
time = 100
under = 0

[State 0, PlayerPush]
type = PlayerPush
trigger1 = 1
value = 0

[State 0, End]
type = selfstate
trigger1 = time = 130
value = 5000
ctrl = 1
;---------------------------------------------------------------------------
;genjutsu lvl 2
[Statedef 240]
type = A
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 240
poweradd = 0
sprpriority = 2

[State 0, Turn]
type = Turn
trigger1 = facing*enemynear,pos x < facing*pos x
trigger1 = time = 0

[State 0, Helper] 
type = Helper 
trigger1 = time = 0
name = "pieczec" 
ID = 1301
stateno = 1301
pos = 0,0
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1
supermovetime = 9999
pausemovetime = 9999

[State 0, ChangeState]
type = ChangeState
trigger1 = numhelper(1301)=0
value = 1302

[State 0, NotHitBy]
type = NotHitBy
trigger1 = time > 45
value = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
time = 10

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = time = 0
id = 9998

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 12
trigger2 = time = 33
value = S6,11

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 50
value = S2,2
volume = 255
channel = 2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 150
value = S2,6
volume = 255
channel = 2

[State 0, PalFXWiz]
type = BGPalFX
trigger1 = time <= 100
time = 1
add = -time*2,-time*2,-time*2

;[State 905, 7]
;type = Envcolor
;trigger1 = time > 100
;value = 0,0,0
;time = 1
;under = 1

[State 0, BGPalFX]
type = BGPalFX
trigger1 = time > 100
time = 100
invertall = 1

;piora
[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time > 5 && timemod = 7,0
anim = 80000
ID = 80000
pos = (random%27-13)*1,-25-(random%27-13)*0.8
random = 30,60
vel = -0.2,-1
accel = 0,0.03
postype = p1
bindtime = 1
removetime = 55
supermovetime = 9999
pausemovetime = 9999
scale = 0.12,0.12
sprpriority = 3
ownpal = 1
ontop = 0

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time > 5 && timemod = 9,0
anim = 80000
ID = 80000
pos = (random%27-13)*1,-25-(random%27-13)*0.8
random = 30,60
vel = 0.2,-1
accel = 0,0.03
postype = p1
bindtime = 1
removetime = 55
supermovetime = 9999
pausemovetime = 9999
scale = 0.12,0.12
sprpriority = 3
ownpal = 1
ontop = 0


[State 0, PosAdd]
type = PosAdd
trigger1 = time = 25
x = 0
y = -80


[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 45
anim = 245
ID = 245
pos =0,-50
postype = back
facing = 1
vfacing = 1
bindtime =-1
removetime = -1
scale = 1,1
sprpriority = -1
ontop = 0
ownpal = 1
trans = add
removeongethit = 0
supermovetime = 9999
pausemovetime = 9999

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time > 55 && time < 250 && timemod = 50,0
value = S6,12

[State 0, NotHitBy]
type = NotHitBy
trigger1 = time > 45
value = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
time = 1

[State 195, 2]
type = ChangeState
trigger1 = time = 300
value = 241
ctrl = 1
;---------------------------------------------------------------------------
[Statedef 241]
type = A
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 241
poweradd = -1000
sprpriority = 2

[State 0, BGPalFX]
type = BGPalFX
trigger1 = 1
time = 10
invertall = 1

[State 0, NotHitBy]
type = NotHitBy
trigger1 = time >= 0
value = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
time = 10

;piora
[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time > 5 && timemod = 4,0
anim = 80000
ID = 80000
pos = (random%27-13)*1,-25-(random%27-13)*0.8
random = 30,60
vel = -0.2,-1
accel = 0,0.03
postype = p1
bindtime = 1
removetime = 95
supermovetime = 9999
pausemovetime = 9999
scale = 0.12,0.12
sprpriority = 3
ownpal = 1
ontop = 0

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time > 5 && timemod = 4,0
anim = 80000
ID = 80000
pos = (random%27-13)*1,-25-(random%27-13)*0.8
random = 30,60
vel = 0.2,-1
accel = 0,0.03
postype = p1
bindtime = 1
removetime = 95
supermovetime = 9999
pausemovetime = 9999
scale = 0.12,0.12
sprpriority = 3
ownpal = 1
ontop = 0

[State 0, VelSet]
type = VelSet
trigger1 = 1
x = 0
y = -(const(velocity.jump.y))

[State 195, 2]
type = ChangeState
trigger1 = pos y >= -5
value = 242
ctrl = 1
;---------------------------------------------------------------------------
[Statedef 242]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 242
poweradd = 0
sprpriority = 2

[State 0, BGPalFX]
type = BGPalFX
trigger1 = 1
time = 2
invertall = 1

[State 0, NotHitBy]
type = NotHitBy
trigger1 = time >= 0
value = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
time = 1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
value = S2,3
volume = 255
channel = 2

[State 0, Helper]
type = Helper
trigger1 = time = 35
helpertype = normal ;player
name = "White Flash"
ID = 9999
stateno = 9999
pos = 0,0
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1
size.xscale = 10
size.yscale = 10
supermovetime = 9999
pausemovetime = 9999
persistent = 0

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = time = 41
id = 245

;piora
[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = timemod = 8,0
anim = 80000
ID = 80000
pos = (random%27-13)*1,-25-(random%27-13)*0.8
random = 30,60
vel = -0.2,-1
accel = 0,0.03
postype = p1
bindtime = 1
removetime = 95
supermovetime = 9999
pausemovetime = 9999
scale = 0.12,0.12
sprpriority = 3
ownpal = 1
ontop = 0

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = timemod = 8,0
anim = 80000
ID = 80000
pos = (random%27-13)*1,-25-(random%27-13)*0.8
random = 30,60
vel = 0.2,-1
accel = 0,0.03
postype = p1
bindtime = 1
removetime = 95
supermovetime = 9999
pausemovetime = 9999
scale = 0.12,0.12
sprpriority = 3
ownpal = 1
ontop = 0


[State 0, PosSet]
type = PosSet
trigger1 = time = 0
y = 0

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = time = 120
id = 245


[State 0, BGPalFX]
type = BGPalFX
trigger1 = time = [120,130]
time = 20
add = -80,-80,-80

[State 1500]
type = SuperPause
trigger1 = time = 120
time = 25
movetime = 25
supermove = 25
anim = 104
sound = F19,1
pos = 3,-35
darken = 0
unhittable = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 120
value = S6,16

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 120
anim = 9999
ID = 8872
pos =0,0
postype = back
facing = 1
vfacing = 1
bindtime = -2
removetime = 24
scale = 10,10
sprpriority = 199
ontop = 0
ownpal = 1
removeongethit = 0
trans = sub
supermovetime = 9999
pausemovetime = 9999

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 120
anim = 8872
ID = 8872
pos =0,0
postype = back
facing = 1
vfacing = 1
bindtime =- 2
removetime = -2
scale = 0.4,0.35;1.15,1.15
sprpriority = 200
ontop = 0
ownpal = 1
removeongethit = 0
supermovetime = 9999
pausemovetime = 9999

[State 0, ChangeState]
type = ChangeState
trigger1 = time = 120
value = 0
ctrl = 1
;-----------------
[StateDef 243]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 243
poweradd = 0
sprpriority = 4

[State 0, PosAdd]
type = Posset
trigger1 = time = 0
x = enemynear,pos x + 1
y = enemynear,pos y - 6

[State 0, BGPalFX]
type = BGPalFX
trigger1 = 1
time = 2
add = -80,-80,-80

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 =  1
flag = noshadow

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = target, ishelper = 0
flag = unguardable

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = F19,1

[State 0, Trans]
type = Trans
trigger1 = 1
trans = add

[State 0, End]
type = destroyself
trigger1 = animtime = 0

;---------------------------------------------------------------------------
[Statedef 249]
type = A
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 4011
poweradd = 0
sprpriority = 2

[State 0, PosAdd]
type = Posset
trigger1 = 1
x = enemynear, pos x
y = enemynear, pos y-30

;kruki
[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time > 10 && timemod = 20,0
anim = 80004
ID = 80004
pos = 25+(random%27-13)*2,-5-(random%27-13)*3
random = 30,60
vel = -2.3,-1
postype = p1
bindtime = 1
removetime = 47
supermovetime = 9999
pausemovetime = 9999
scale = 0.5,0.5
sprpriority = 3
ownpal = 1
ontop = 0

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time > 10 && timemod = 20,0
anim = 80003
ID = 80003
pos = -5-(random%27-13)*2,-5-(random%27-13)*3
random = 30,60
vel = 2.3,-1
postype = p1
bindtime = 1
removetime = 47
supermovetime = 9999
pausemovetime = 9999
scale = 0.7,0.7
sprpriority = 3
ownpal = 1
ontop = 0

;kruki
[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time > 10 && timemod = 20,0
anim = 80004
ID = 80004
pos = 25+(random%27-13)*2,-5-(random%27-13)*3
random = 30,60
vel = -2.3,1
postype = p1
bindtime = 1
removetime = 47
supermovetime = 9999
pausemovetime = 9999
scale = 0.5,0.5
sprpriority = 3
ownpal = 1
ontop = 0

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time > 10 && timemod = 20,0
anim = 80003
ID = 80003
pos = -5-(random%27-13)*2,-5-(random%27-13)*3
random = 30,60
vel = 2.3,1
postype = p1
bindtime = 1
removetime = 47
supermovetime = 9999
pausemovetime = 9999
scale = 0.7,0.7
sprpriority = 3
ownpal = 1
ontop = 0

;kruki
[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time > 10 && timemod = 20,0
anim = 80004
ID = 80004
pos = 25+(random%27-13)*2,-5-(random%27-13)*3
random = 30,60
vel = -2.3,0
postype = p1
bindtime = 1
removetime = 47
supermovetime = 9999
pausemovetime = 9999
scale = 0.5,0.5
sprpriority = 3
ownpal = 1
ontop = 0

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time > 10 && timemod = 20,0
anim = 80003
ID = 80003
pos = -5-(random%27-13)*2,-5-(random%27-13)*3
random = 30,60
vel = 2.3,0
postype = p1
bindtime = 1
removetime = 47
supermovetime = 9999
pausemovetime = 9999
scale = 0.7,0.7
sprpriority = 3
ownpal = 1
ontop = 0

[State 0, HitDef]
type = HitDef
givepower = 0
getpower = 0
fall.yvelocity = -6
trigger1 = !time
attr = C,HP
damage = 1,1
getpower = 0
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
p2sprpriority = 63
pausetime = 0, 0
sparkno = 4
sparkxy = -15, -43
hitsound = -1,4
guardsound = -1,4
ground.type = High
ground.slidetime = 5
ground.hittime  = 1
ground.velocity = 0,0
airguard.velocity = 0,0
air.type = High
air.velocity = 0,0
air.hittime = 1
ID = 1500
p2stateno = 105003

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = invisible

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = target, ishelper = 0
flag = unguardable

[State 0, ChangeState]
type = ChangeState
trigger1 = parent, stateno = 242
trigger1 = parent, time = 41 
value = 243

;-----------------------------
[StateDef 105003]
type = A
movetype= I
physics = A
juggle  = 1
ctrl = 0
anim = 41+var(0)*10000
velset = 0,0
poweradd = 0
sprpriority = 0

[State 0, ChangeState]
type = selfState
trigger1 = name = "Deidara"
trigger1 = var(6) = 1
value = 50

[State 0, VelSet]
type = VelSet
trigger1 = pos y > -50
x = 0
y = -2

[State 0, VelSet]
type = VelSet
trigger1 = pos y <= -50
x = 0
y = 0

[State 0, PlayerPush]
type = PlayerPush
trigger1 = 1
value = 0

[State 0, ChangeState]
type = ChangeState
trigger1 = time = 245
value = 105004
ctrl = 0
;-----------------------------
[StateDef 105004]
type = A
movetype= H
physics = S
juggle  = 1
ctrl = 0
anim = 5100+var(0)*10000
velset = 0,0
poweradd = 0
sprpriority = 0

[State 0, ChangeState]
type = selfState
trigger1 = name = "Deidara"
trigger1 = var(6) = 1
value = 50

[State 0, NotHitBy]
type = NotHitBy
trigger1 = time >= 0
value = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
time = 10

[State 0, VelSet]
type = VelSet
trigger1 = 1
x = 0
y = -(const(velocity.jump.y))

[State 195, 2]
type = ChangeState
trigger1 = pos y >= -5
value = 105005
ctrl = 1
;-----------------------------
[StateDef 105005]
type = S
movetype= H
physics = S
juggle  = 1
ctrl = 0
anim = 5110+var(0)*10000
velset = 0,0
poweradd = 0
sprpriority = 0

[State 0, ChangeState]
type = selfState
trigger1 = name = "Deidara"
trigger1 = var(6) = 1
value = 50

[State 0, NotHitBy]
type = NotHitBy
trigger1 = time >= 0
value = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
time = 10

[State 0, PosSet]
type = PosSet
trigger1 = time = 0
y = 0

[State 0, LifeAdd]
type = LifeAdd
trigger1 = time = 55
value = -500
kill = 1
persistent = 1

[State 195, 2]
type = selfState
trigger1 = enemy, stateno = 0
value = 0
ctrl = 1

;--------------------------------------------------------
;genjutsu lvl 1
[StateDef 260]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 260
poweradd = 0
sprpriority = 2

[State 0, Turn]
type = Turn
trigger1 = facing*enemynear,pos x < facing*pos x
trigger1 = time = 0

[State 0, Helper] 
type = Helper 
trigger1 = time = 0
name = "pieczec" 
ID = 1301
stateno = 1301
pos = 0,0
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1
size.xscale = 0.4
size.yscale = 0.4
supermovetime = 9999
pausemovetime = 9999

[State 0, ChangeState]
type = ChangeState
trigger1 = numhelper(1301)=0
value = 1302

[State 0, NotHitBy]
type = NotHitBy
trigger1 = time >= 0
value = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
value2 = S,NA
time = 1

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = time = 0
id = 9998

[State 0, BGPalFX]
type = BGPalFX
trigger1 = Time >= 0 && time < 50
Time = 3
color = 256-(time*5.12)
add = 0-(time*1.6),0-(time*1.6),0-(time*1.6)
ignorehitpause = 1

[State 0, BGPalFX]
type = BGPalFX
trigger1 = time > 49
time = 1
color = 0
add = -80,-80,-80

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 5
triggerall = var(8) = 1
anim = 260
ownpal = 1
pos = 5,0
scale = 1.1,1.1
vel = -3,-1
accel = 0.1,0.05
postype = p1
facing = 1
bindtime = 1
removetime = 20
sprpriority = 3
trans = add
supermovetime = 9999
pausemovetime = 9999

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 5
triggerall = var(8) = 1
anim = 260
ownpal = 1
pos = 5,0
scale = 1.1,1.1
vel = 3,-1
accel = -0.1,0.05
postype = p1
facing = 1
bindtime = 1
removetime = -2
sprpriority = 3
trans = add
supermovetime = 9999
pausemovetime = 9999

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 30
value = S6,15

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 30
value = S6,15

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 6
value = S7,19

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 6
value = S7,19

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 6
value = S7,19

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 6
value = S7,19

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F8,1
volume = 255
channel = 8

[State 1500]
type = SuperPause
trigger1 = time = 30
time = 50
movetime = 50
anim = 104
sound = F19,2
pos = 3,-37
darken = 0
unhittable = 0

[State 0, End]
type = ChangeState
trigger1 = Time = 80
value = 0
ctrl = 1

[StateDef 261]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 263
poweradd = -200
sprpriority = -3

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 0
anim = cond(root,var(1)=0,261,262)
ownpal = 1
pos = 2,-30
scale = 0.3,0.3
postype = p1
facing = 1
bindtime = 1
removetime = 30
sprpriority = 3
trans = add
supermovetime = 9999
pausemovetime = 9999

[State 0, PosAdd]
type = PosAdd
trigger1 = time = 0
y = -30

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S6,8

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S6,8

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S6,8

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S6,8

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 =  1
flag = noshadow

[State 0, HitDef]
type = HitDef
givepower = 0
getpower = 0
fall.yvelocity = -6
trigger1 = !time
attr = C, HP
damage = 0,0
getpower = 0
animtype = Light
guardflag = MA
hitflag = MAF
priority = -3
pausetime = 0, 40
sparkno = -1
sparkxy = -15, -35
hitsound = -10, 0
guardsound = -10, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = 0,0
airguard.velocity = 0,0
air.type = High
air.velocity = 0,0
air.hittime = 12
p2stateno = 106050

[State 0, DestroySelf]
type = DestroySelf
trigger1 = time = 30

;-----------------------------
[StateDef 106050]
type = S
movetype= H
physics = S
juggle  = 1
ctrl = 0
anim = 5000+var(0)*10000
velset = 0,0
poweradd = 0
sprpriority = 0

[State 0, ChangeState]
type = selfState
trigger1 = name = "Deidara"
trigger1 = var(6) = 1
value = 50

[State 0, LifeAdd]
type = LifeAdd
trigger1 = time = 0
value = -100

[State 0, ChangeState]
type = selfState
trigger1 = time = 1
value = prevstateno
;-----------------
;Amaterasu
[StateDef 500]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 500
poweradd = 0
sprpriority = 0

[State 0, VarSet]
type = VarSet
trigger1 = time = 0
v = 6
value = 0

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = timemod = 15,0
anim = F1070
id = 1070
ownpal = 1
pos = 0,-56
scale = 1.5,1.5
postype = p1
facing = 1
bindtime = 1
removetime = -2
sprpriority = 4
trans = add
supermovetime = 9999
pausemovetime = 9999

[State 0, PlaySnd]
type = PlaySnd
trigger1 = Time = 10
value = S2,29
volume = 255
channel = 2

[State 0, End]
type = ChangeState
trigger1 = Time = 40
value = 501
ctrl = 1
;-----------------
;Amaterasu
[StateDef 501]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 501
poweradd = 0
sprpriority = 0

[State 0, NotHitBy]
type = NotHitBy
trigger1 = time >= 0
value = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
time = 1

[State 0, VarSet]
type = VarSet
trigger1 = time = 0
v = 14
value = 1

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = time = 0
id = 502

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = time = 0
id = 501

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = time = 1
id = 505

[State 1500]
type = SuperPause
trigger1 = time = 0
time = 50
movetime = 0
supermove = 0
anim = 6436345;1170
sound = F19,2
pos = 3,-35
darken = 0
unhittable = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S3,12

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time > 10 && timemod = 50,0
value = S6,8

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time > 10 && timemod = 40,0
value = S6,17

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S3,13

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S3,13

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 50
value = S7,37

[State 0, EnvColor]
type = EnvColor
trigger1 = time = 0
value = 0,0,0
time = 50
under = 1

[State 0, PalFX]
type = PalFX
trigger1 = time > 1
time = 1
add = 0,0,0
sinadd = -256,-256,-256, 60
invertall = 0
color = 0

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 0
anim = 508
ID = 507
pos = 190,100
postype = left
facing = 1
vfacing = 1
bindtime = -1
removetime = 50
scale = 0.30,0.30
sprpriority = -1
ontop = 0
ownpal = 1
removeongethit = 0
supermovetime = 9999
pausemovetime = 9999

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 1
anim = 80011
ID = 50180011
pos = 0,-50
postype = back
facing = 1
vfacing = 1
bindtime =-1
removetime = -1
scale = 0.65,0.65
sprpriority = 199
ontop = 0
ownpal = 1
removeongethit = 0
supermovetime = 9999
pausemovetime = 9999

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 0
anim = 1014
pos = 3,-54
scale = 0.15,0.15
postype = p1
facing = cond(facing = 1,1,-1)
bindtime = -1
removetime = -2
sprpriority = 3
supermovetime = 9999
pausemovetime = 9999

[State 0, Helper]
type = Helper
trigger1 = time = 0
helpertype = player
name = "Celownik"
ID = 510
stateno = 510
pos = 2,-54
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1
size.xscale = 0.15
size.yscale = 0.15
supermovetime = 9999

[State 0, Helper]
type = Helper
trigger1 = time = 20
triggerall = numhelper(500) = 0
helpertype = normal
name = "ama"
ID = 500
stateno = 515
pos = 0,0
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1
size.xscale = 0.2
size.yscale = 0.2

[State 0, Helper]
type = Helper
trigger1 = time = 35
;triggerall = numhelper(500) = 1
triggerall = numhelper(501) = 0
helpertype = normal
name = "ama"
ID = 501
stateno = 515
pos = 0,0
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1
size.xscale = 0.2
size.yscale = 0.2

[State 0, Helper]
type = Helper
trigger1 = time = 50
;triggerall = numhelper(501) = 1
triggerall = numhelper(502) = 0
helpertype = normal
name = "ama"
ID = 502
stateno = 515
pos = 0,0
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1
size.xscale = 0.2
size.yscale = 0.2

[State 0, Helper]
type = Helper
trigger1 = time = 65
;triggerall = numhelper(502) = 1
triggerall = numhelper(503) = 0
helpertype = normal
name = "ama"
ID = 503
stateno = 515
pos = 0,0
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1
size.xscale = 0.2
size.yscale = 0.2

[State 0, Helper]
type = Helper
trigger1 = time = 80
;triggerall = numhelper(503) = 1
triggerall = numhelper(504) = 0
helpertype = normal
name = "ama"
ID = 504
stateno = 515
pos = 0,0
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1
size.xscale = 0.2
size.yscale = 0.2

[State 0, Helper]
type = Helper
trigger1 = time = 95
;triggerall = numhelper(504) = 1
triggerall = numhelper(505) = 0
helpertype = normal
name = "ama"
ID = 505
stateno = 515
pos = 0,0
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1
size.xscale = 0.2
size.yscale = 0.2

[State 0, End]
type = ChangeState
trigger1 = var(50) = 0 && command = "s"
trigger2 = var(50) = 1 && random = [0,50-var(49)*(var(49))/50-life/300-power/400]
trigger2 = time >= 50
trigger3 = win
trigger4 = lose
trigger5 = drawgame
trigger6 = life = 0
trigger7 = !ALive
trigger8 = power < 500
trigger9 = time = 100
value = 502
ctrl = 1
;-----------------
;Amaterasu
[StateDef 502]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 502
poweradd = 0
sprpriority = 0

[State 0, NotHitBy]
type = NotHitBy
trigger1 = time >= 0
value = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
time = 1

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = time = 0
id = 505

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = 1
id = 90011


[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
value = S6,8

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
value = S6,8

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
value = S6,10
volume = 255
channel = 6

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = S5,10

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 30
value = S5,20

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 30
value = S5,20

[State 1500]
type = SuperPause
trigger1 = time = 61
time = 50
movetime = 0
supermove = 0
anim = 103
sound = S5,23
pos = 3,-35
darken = 1
unhittable = 0

[State 0, VarSet]
type = VarSet
trigger1 = time = 1
v = 14
value = 0

[State 0, LifeAdd]
type = LifeAdd
trigger1 = time = [10,60]
value = -6
kill = 0

[State 0, LifeAdd]
type = LifeAdd
trigger1 = time = 60
value = -200
kill = 0

[State 0, PalFX]
type = PalFX
trigger1 = time < 25
time = 1
add = 0,0,0
sinadd = -256+time*10,-256+time*10,-256+time*10, 60
invertall = 0
color = 0

[State 0, BGPalFX]
type = BGPalFX
trigger1 = time < 25
time = 1
add = 0,0,0
sinadd = -256+time*10,-256+time*10,-256+time*10, 60
invertall = 0
color = 0

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 50
anim = F12
pos = 5,0
postype = p1  ;p2,front,back,left,right
facing = 1
bindtime = 1
removetime = -2
sprpriority = -1
scale = 0.8,0.25
ownpal = 1
ontop = 0
supermovetime = 9999
pausemovetime = 9999

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 20
anim = 9998
pos = 0,0
postype = p1  ;p2,front,back,left,right
facing = 1
bindtime = 1
removetime = -2
sprpriority = 200
scale = 10,10
ownpal = 1
ontop = 0
supermovetime = 9999
pausemovetime = 9999

[State 0, End]
type = ChangeState
trigger1 = time = 60
value = 5021
ctrl = 1
;-----------------
;Amaterasu
[StateDef 5021]
type = S
movetype= I
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 5021
poweradd = 0
sprpriority = 0

[State 0, VarSet]
type = VarSet
trigger1 = 1
v = 13
value = 0

[State 0, End]
type = ChangeState
trigger1 = animtime = 0
value = 0
ctrl = 1
;-----------------
;Celownik
[StateDef 510]
type = A
movetype= I
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 510
poweradd = 0
sprpriority = 5

[State 0, PosSet]
type = PosAdd
trigger1 = time = 0
x = (parent, p2bodydist x)/2

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[State 0, PlayerPush]
type = PlayerPush
trigger1 = 1
value = 0

[State 0, VelSet]
type = VelSet
trigger1 = 1
x = 0
y = 0

[State 0, AngleDraw]
type = AngleDraw
trigger1 = 1
scale = (51-time)*0.3,(51-time)*0.3

[State 0, Trans]
type = Trans
trigger1 = 1
trans = addalpha
alpha = 0+time*5,256-time*3

[State 0, End]
type = changestate
trigger1 = time = 50
value = 511
;-----------------
;Celownik
[StateDef 511]
type = A
movetype = I
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 510
poweradd = 0
sprpriority = 5

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[State 0, PlayerPush]
type = PlayerPush
trigger1 = 1
value = 0

[State 0, Trans]
type = Trans
trigger1 = 1
trans = addalpha
alpha = 256,100

[State 0, AngleDraw]
type = AngleDraw
trigger1 = 1
value = gametime*25
scale = (.5+sin(gametime*.5)*.15)*2,(.5+sin(gametime*.5)*.15)*2

[State 0, VarRandom]
type = VarRandom
trigger1 = 1
v = 1
range = -2,3

[State 0, VarRandom]
type = VarRandom
trigger1 = 1
v = 2
range = -2,2

[State 0, VelAdd]
type = VelAdd
trigger1 = timemod = 4,0
x = var(1)
y = var(2)

[State 0, AngleDraw]
type = AngleDraw
trigger1 = 1
scale = .9+sin(gametime*.3)*.05,.9+sin(gametime*.3)*.05

[State 0, AngleSet]
type = AngleSet
trigger1 = 1
value = -time*10

[State 0, VelSet]
type = VelSet
trigger1 = parent,var(50) = 0  && parent, command = "holdfwd"
trigger2 = parent,var(50) = 1 && p2dist x > -20 && random = [0,100+root,var(49)*(root,var(49))/10]
x = 5

[State 0, VelSet]
type = VelSet
trigger1 = parent,var(50) = 0 && parent, command = "holdback"
trigger2 = parent,var(50) =  1 && p2dist x < 20 && random = [0,100+root,var(49)*(root,var(49))/10] 
x = -5

[State 0, VelSet]
type = VelSet
trigger1 = parent,var(50) = 0 && parent, command = "holdup"
trigger2 = parent,var(50) = 1 && p2dist y < cond(p2statetype = C,5+random%20,25+random%20) && random = [0,100+root,var(49)*(root,var(49))/10]
y = -5

[State 0, VelSet]
type = VelSet
trigger1 = parent,var(50) = 0 && parent, command = "holddown"
trigger2 = parent,var(50) = 1 && p2dist y > cond(p2statetype = C,5+random%20,25+random%20) && random = [0,100+root,var(49)*(root,var(49))/10]
triggerall = pos y < 0
y = 5

[State 0, VelSet]
type = VelSet
trigger1 = timemod = 15,0
x = 0
y = 0

[State 0, PosSet]
type = PosSet
trigger1 = pos y > 0
y = 0

[State 0, End]
type = changestate
trigger1 = parent, stateno != [500,501]
trigger1 = parent, stateno != [2060,2061]
trigger2 = time = 150
value = 512
;-----------------
;Celownik
[StateDef 512]
type = A
movetype= I
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 510
poweradd = 0
sprpriority = 5

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[State 0, PlayerPush]
type = PlayerPush
trigger1 = 1
value = 0

[State 0, VelSet]
type = VelSet
trigger1 = 1
x = 0
y = 0

[State 0, AngleDraw]
type = AngleDraw
trigger1 = 1
scale = (1+time)*0.5,(1+time)*0.5

[State 0, Trans]
type = Trans
trigger1 = 1
trans = addalpha
alpha = 256-time*12.5,100+time*7.5

[State 0, End]
type = destroyself
trigger1 = time = 20
;-----------------
;Amaterasu
[StateDef 515]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 515
poweradd = -500
sprpriority = 3

[State 0, Amaterasu 500]
type = TargetState
trigger1 = enemy(cond((enemy(0),alive),0,1)), var(56) < 250
trigger1 = !(enemynear, ishelper)
trigger1 = target, ishelper = 0
trigger1 = movehit
value = 109964

[State 0, ScreenBound]
type = ScreenBound
trigger1 = 1
value = 1
movecamera = 10,10

[State 0, PosSet]
type = PosSet
trigger1 = time = 0
x = helper(510), pos x
y = helper(510), pos y

[State 0, Turn]
type = Turn
trigger1 = facing = -1

[State 0, VelSet]
type = VelSet
trigger1 = pos x - helper(500), pos x = [-40,0]
trigger1 = pos y - helper(500), pos y = [-40,40]
trigger1 = numhelper(500) = 1
trigger1 = !ishelper(500)
trigger2 = pos x - helper(501), pos x = [-40,0]
trigger2 = pos y - helper(501), pos y = [-40,40]
trigger2 = numhelper(501) = 1
trigger2 = !ishelper(501)
trigger3 = pos x - helper(502), pos x = [-40,0]
trigger3 = pos y - helper(502), pos y = [-40,40]
trigger3 = numhelper(502) = 1
trigger3 = !ishelper(502)
trigger4 = pos x - helper(503), pos x = [-40,0]
trigger4 = pos y - helper(503), pos y = [-40,40]
trigger4 = numhelper(503) = 1
trigger4 = !ishelper(503)
trigger5 = pos x - helper(504), pos x = [-40,0]
trigger5 = pos y - helper(504), pos y = [-40,40]
trigger5 = numhelper(504) = 1
trigger5 = !ishelper(504)
trigger6 = pos x - helper(505), pos x = [-40,0]
trigger6 = pos y - helper(505), pos y = [-40,40]
trigger6 = numhelper(505) = 1
trigger6 = !ishelper(505)
x = -2

[State 0, VelSet]
type = VelSet
trigger1 = pos x - helper(500), pos x = [0,40]
trigger1 = pos y - helper(500), pos y = [-40,40]
trigger1 = numhelper(500) = 1
trigger1 = !ishelper(500)
trigger2 = pos x - helper(501), pos x = [0,40]
trigger2 = pos y - helper(501), pos y = [-40,40]
trigger2 = numhelper(501) = 1
trigger2 = !ishelper(501)
trigger3 = pos x - helper(502), pos x = [0,40]
trigger3 = pos y - helper(502), pos y = [-40,40]
trigger3 = numhelper(502) = 1
trigger3 = !ishelper(502)
trigger4 = pos x - helper(503), pos x = [0,40]
trigger4 = pos y - helper(503), pos y = [-40,40]
trigger4 = numhelper(503) = 1
trigger4 = !ishelper(503)
trigger5 = pos x - helper(504), pos x = [0,40]
trigger5 = pos y - helper(504), pos y = [-40,40]
trigger5 = numhelper(504) = 1
trigger5 = !ishelper(504)
trigger6 = pos x - helper(505), pos x = [0,40]
trigger6 = pos y - helper(505), pos y = [-40,40]
trigger6 = numhelper(505) = 1
trigger6 = !ishelper(505)
x = 2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 5 && ishelper(500)
value = S6,18

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 10 && ishelper(500)
value = S6,9

[State 0, PlaySnd]
type = PlaySnd
triggerall = timemod = 10,0
trigger1 = ishelper(500)
trigger2 = ishelper(501) && numhelper(500) = 0
trigger3 = ishelper(502) && numhelper(501) = 0
trigger4 = ishelper(503) && numhelper(502) = 0
trigger5 = ishelper(504) && numhelper(503) = 0
trigger6 = ishelper(505) && numhelper(504) = 0
value = F10,2

[State 0, Explod]
type = Explod
trigger1 = timemod = 15,0
anim = 516
ID = 516
pos = -25+random%50,25-random%50
angle = -100+random%200
facing = 1
postype = p1
bindtime = -1
removetime = -2
scale = 0.4,0.4
sprpriority = -2+random%6

[State 0, Explod]
type = Explod
trigger1 = timemod = 8,0
anim = 516
ID = 516
pos = -20+random%40,-15+random%30
facing = 1
postype = p1
bindtime = 1
removetime = -2
scale = 0.3,0.3
sprpriority = -2+random%6

[State 0, Explod]
type = Explod
trigger1 = movehit = 1 && p2movetype = H
anim = 515
scale = 0.15,0.15
pos = -15+random%30,-20-random%40
postype = p2  ;p2,front,back,left,right
facing = 1
bindtime = 1
removetime = -2
sprpriority = -2+random%6
ontop = 0

[State 0, Explod]
type = Explod
trigger1 = movehit = 1 && p2movetype = H
triggerall = numexplod(517) = 0
anim = 517
ID = 517
scale = 0.6,0.6
pos = 0,0
postype = p2  ;p2,front,back,left,right
facing = 1
bindtime = 1
removetime = -2
sprpriority = -2+random%6
ontop = 0

[State 0, Explod]
type = Explod
trigger1 = timemod = 3,0
anim = 518
pos = -40+random%80,10-random%40
postype = p1
facing = 1
angle = -20+random%40
bindtime = 5
removetime = -2
sprpriority = 4+random%3
scale = 0.4,0.4
vel = 0,-2-random%2
accel = 0,0.05
ownpal = 0
ontop = 0
supermovetime = 9999
pausemovetime = 9999

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 =  1
flag = noshadow

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = target, ishelper = 0
flag = unguardable

[State 0, ParentVarAdd]
type = ParentVarAdd
trigger1 = movecontact = 1
v = 6  
value = 25

[State 0, SprPriority]
type = SprPriority
trigger1 = 1
value = 3

[State 0, HitDef]
type = HitDef
givepower = 0
getpower = 0
fall.yvelocity = -6
trigger1 = timemod = 10,0
triggerall = parent, stateno != [200,250]
triggerall = parent, stateno != [600,699]
triggerall = parent, var(6) < 1500
attr = S,NT
damage = 25,25
getpower = 0
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3
pausetime = 0,10
sparkno = -1
sparkxy = -25+random%40, -10-random%30
hitsound = F10, 645363
guardsound = F10, 45646
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = 0,0
airguard.velocity = 0,0
air.type = High
air.velocity = 0,0
air.hittime = 12
envshake.time = 10
envshake.freq = 20
envshake.ampl = -5
envshake.phase = 10

[State 0, TargetBind]
type = TargetBind
trigger1 = movehit && ishelper(1)
time = 1
pos = 0,0

[State 0, VelSet]
type = VelSet
trigger1 = pos y < -10
y = 4

[State 0, VelSet]
type = VelSet
trigger1 = pos y >= -10
;trigger2 = movehit
y = 0

[State 0, PosSet]
type = PosSet
trigger1 = pos y >= -10
;trigger2 = movehit
y = -10

[State 0, DestroySelf]
type = DestroySelf
trigger1 = parent, var(15) = 1

[State 0, DestroySelf]
type = DestroySelf
trigger1 = parent, stateno = 540 && root, time = 70

[State 0, End]
type = destroyself
trigger1 = time = 600
trigger2 = animtime = 0 && p2life = 0
trigger3 = animtime = 0 && life = 0
trigger4 = parent, var(6) = 1500
triggerall = time > 20
;-----------------
;Amaterasu Destroy
[StateDef 540]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 540
poweradd = 0
sprpriority = 2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 45
value = S6,7

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 61
value = S6,7
volume = 255
channel = 5

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = S2,29
volume = 255
channel = 2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 23
value = S5,9
volume = 255
channel = 5

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 23
value = S5,9
volume = 255
channel = 5

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 61
anim = 541
ID = 541
pos = 0,-53
postype = p1
facing = 1
vfacing = 1
bindtime = -1
removetime = -2
scale = 0.5,0.5
sprpriority = 5
ontop = 0
ownpal = 1
removeongethit = 0
supermovetime = 9999
pausemovetime = 9999

[State 0, LifeAdd]
type = LifeAdd
trigger1 = time = 90
value = numhelper(500)*-100;200
kill = 0
absolute = 0

[State 0, AllPalFX]
type = PalFX
trigger1 = time = 90
time = 20
add = 0,0,0
mul = 256,256,256
sinadd = 0,0,0,10
invertall = 1

[State 1500]
type = SuperPause
trigger1 = time = 95
time = 50
movetime = 0
supermove = 0
anim = 103
sound = S5,23
pos = 3,-35
darken = 1
unhittable = 0

[State 0, End]
type = ChangeState
trigger1 = animtime = 0
value = 12
ctrl = 1

;----------------------------------------------------------------------
;Genjutsu - oznaczenie przeciwnika
[StateDef 700]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 700
poweradd = 20
sprpriority = 2

[State 0, Helper] 
type = Helper 
trigger1 = numhelper(701) = 0 && numhelper(702) = 0 && enemy(0),p2dist x > 40 && enemy(0),alive = 1 && enemy(1),alive = 1
trigger2 = numhelper(701) = 0 && numhelper(702) = 0 && enemy(0),p2dist x > 40 && enemy(0),alive = 1
helpertype = normal
name = "pieczec" 
ID = 701
stateno = 701
pos = 40,-34
postype = p1 
ownpal = 1 

[State 0, Helper] 
type = Helper 
trigger1 = numhelper(701) = 0 && numhelper(702) = 0 && enemy(1),p2dist x > 40 && enemy(1),alive = 1 && enemy(0),alive = 0
trigger2 = numhelper(701) = 0 && numhelper(702) = 0 && enemy(1),p2dist x > 40 && enemy(1),alive = 1 && enemy(0),alive = 1
helpertype = normal
name = "pieczec 2" 
ID = 702
stateno = 702
pos = 40,-34
postype = p1 
ownpal = 1 

[State 0, ChangeState]
type = ChangeState
trigger1 = animtime = 0
value = 0
ctrl = 1

[StateDef 701]
type = S
movetype = A
physics = S
anim = 4010

[State 0, PlayerPush]
type = PlayerPush
trigger1 = root,stateno = 200 && root,time = 29
trigger2 = root,stateno = 240 && root,time = 19
trigger3 = root,stateno = 1251 && root,time = 0
value = 1

[State 0, NotHitBy]
type = NotHitBy
trigger1 = time >= 0
value = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
value2 = S,NA
time = -1

[State 0, PosAdd] 
type = Posset
trigger1 = 1
x = enemy(0),pos x
y = enemy(0),pos y

[State 0, StateTypeSet]
type = StateTypeSet
trigger1 = time = 0
statetype = S
movetype = A
physics = S

[State 0, StateTypeSet]
type = StateTypeSet
trigger1 = time = 1
statetype = S
movetype = I
physics = S

[State 220, 1]
type = HitDef
givepower = 0
getpower = 0
fall.yvelocity = -6
trigger1 = time = 0
attr = S, NA
damage = 1500,8
animtype = Light
guardflag = MA
hitflag = MAF
priority = 2, Hit
pausetime = 0,10
sparkno = 0+random%4
sparkxy = -10, -30
hitsound = 5, 0
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -2,0
airguard.velocity = -2,-0.5
air.type = High
air.velocity = -2,-0.5
air.hittime = 12

[State 0, ChangeState]
type = destroyself
trigger1 = enemy(0),alive = 0
trigger2 = enemy,name = "Deidara" && target,var(6) = 1 

[StateDef 702]
type = S
movetype = A
physics = S
anim = 4010

[State 0, PlayerPush]
type = PlayerPush
trigger1 = root,stateno = 200 && root,time = 29
value = 1

[State 0, NotHitBy]
type = NotHitBy
trigger1 = time >= 0
value = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
value2 = S,NA
time = -1

[State 0, PosAdd] 
type = Posset
trigger1 = 1
x = enemy(1),pos x
y = enemy(1),pos y

[State 0, StateTypeSet]
type = StateTypeSet
trigger1 = time = 0
statetype = S
movetype = A
physics = S

[State 0, StateTypeSet]
type = StateTypeSet
trigger1 = time = 1
statetype = S
movetype = I
physics = S

[State 220, 1]
type = HitDef
givepower = 0
getpower = 0
fall.yvelocity = -6
trigger1 = time = 0
attr = S, NA
damage = 3000,8
animtype = Light
guardflag = MA
hitflag = MAF
priority = 2, Hit
pausetime = 0,10
sparkno = 0+random%4
sparkxy = -10, -30
hitsound = 5, 0
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -2,0
airguard.velocity = -2,-0.5
air.type = High
air.velocity = -2,-0.5
air.hittime = 12

[State 0, ChangeState]
type = destroyself
trigger1 = enemy(1),alive = 0
trigger2 = enemy,name = "Deidara" && target,var(6) = 1

;-----------------
;Klon F,z
[StateDef 777]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 877
poweradd = 0
sprpriority = 2

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 4
anim = 4509
ownpal = 1
pos = 0,0
scale = 1,1
postype = p1
facing = 1
bindtime = 1
removetime = 16
sprpriority = 3
trans = add

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = S2,24
volume = 255
channel = 2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 18
value = S6,11
channel = 6

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 18
value = S6,11
channel = 6

[State 0, Helper]
type = Helper
trigger1 = time = 5
helpertype = normal;player
name = "klon"
ID = 778
stateno = 778
pos = 0,0
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1
size.xscale = 1
size.yscale = 0.95

[State 0, End]
type = ChangeState
trigger1 = time = 20
value = 0
ctrl = 1
;-----------------
[StateDef 778]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 22
poweradd = -1000
sprpriority = 2

[State 0, VelSet]
type = VelSet
trigger1 = 1
x = (const(velocity.walk.fwd.x))*0.8

[State 0, PosSet]
type = PosSet
trigger1 = 1
y = 0

[State 0, HitOverride]
type = HitOverride
trigger1 = 1
attr = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
stateno = 779
time = 9999

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 1
trigger2 = animelem = 2
trigger3 = animelem = 5
value = F1,0

[State 0, End]
type = changestate
trigger1 = p2bodydist x < 0
value = 779
;-----------------
[StateDef 779]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 879
poweradd = 0
sprpriority = 2

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 5
anim = 876
ID = 1340
pos = 0,-10
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
supermovetime = 9999
pausemovetime = 9999
scale = 1,1
sprpriority = 4
ontop = 0
ownpal = 1

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 5
anim = 70736
ID = 1340
pos = 0,-40
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
supermovetime = 9999
pausemovetime = 9999
scale = 1,1
sprpriority = 5
ontop = 0
ownpal = 1

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 5 && pos y = 0
anim = F530
ID = 1340
pos = -7,0
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
supermovetime = 9999
pausemovetime = 9999
scale = 0.55,0.75
sprpriority = 2
ontop = 0
ownpal = 1

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 6 && pos y = 0
anim = F530
ID = 1340
pos = 7,0
postype = p1  ;p2,front,back,left,right
facing = -1
vfacing = 1
bindtime = 1
removetime = -2
supermovetime = 9999
pausemovetime = 9999
scale = 0.55,0.75
sprpriority = 2
ontop = 0
ownpal = 1

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 5 && pos y = 0
anim = F580
ID = 1340
pos = 0,0
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
supermovetime = 9999
pausemovetime = 9999
scale = 0.85,0.35
sprpriority = 3
ontop = 0
ownpal = 1

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 5
anim = F270
ID = 1340
pos = -10,0
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
supermovetime = 9999
pausemovetime = 9999
scale = 1,0.8
sprpriority = 4
ontop = 0
ownpal = 1

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 5
anim = F270
ID = 1340
pos = 10,0
postype = p1  ;p2,front,back,left,right
facing = -1
vfacing = 1
bindtime = 1
removetime = -2
supermovetime = 9999
pausemovetime = 9999
scale = 1,0.8
sprpriority = 4
ontop = 0
ownpal = 1

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 5 && pos y = 0
anim = F1190
ID = 1340
pos = 10,0
postype = p1  ;p2,front,back,left,right
facing = -1
vfacing = 1
bindtime = 1
removetime = -2
supermovetime = 9999
pausemovetime = 9999
scale = 1,1
sprpriority = 4
ontop = 0
ownpal = 1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = F15,3

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = F15,5

[State 0, EnvShake]
type = EnvShake
trigger1 = time = 0
time = 50
ampl = -7
freq = 50
phase = 230

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = S1,12

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = S1,12

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = S1,12

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[State 0, HitDef]
type = HitDef
givepower = 0
getpower = 0
fall.yvelocity = -6
trigger1 = !time
attr = S, NA
damage = 450,400
getpower = 0
animtype = Light
guardflag = MA
hitflag = MAF
priority = 2, Hit
pausetime = 0, 0
sparkno = -1
sparkxy = -15, -35
hitsound = -1, 2
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -7,-7
airguard.velocity = -7,-7
air.type = High
air.velocity = -7,-7
air.hittime = 12
fall = 1
palfx.time = 20
palfx.add = 240,50,0
palfx.mul = 250,224,120
palfx.sinadd = 110,55,85,10

[State 0, End]
type = destroyself
trigger1 = animtime = 0

;-----------------
[StateDef 799]
type = S
movetype= I
physics = S
juggle  = 1
velset = 1,0
ctrl = 0
anim = 799
poweradd = 0
sprpriority = 0

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = invisible
flag2 = noshadow

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = target, ishelper = 0
flag = unguardable

[State 0, PosAdd]
type = PosAdd
trigger1 = timemod = 20,0
x = random
random = -200,200

[State 0, PosSet]
type = PosSet
trigger1 = 1
y = 100

[State 0, HitDef]
type = HitDef
givepower = 0
getpower = 0
fall.yvelocity = -6
trigger1 = 1
attr = C,HP
damage = 0,0
affectteam = B
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 0, 5
sparkno = -0
sparkxy = -15, -40
hitsound = -1, 2
guardsound = -6, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = 0,0
airguard.velocity = 0,0
air.type = High
air.velocity = 0,0
air.hittime = 12

[State 0, End]
type = destroyself
trigger1 = parent, life = 0
;-----------------
[StateDef 801]
type = S
movetype= A
physics = S
juggle  = 1
velset = 1,0
ctrl = 0
anim = 801
poweradd = 20
sprpriority = 2

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 5
triggerall = var(8) = 1
anim = 801
ownpal = 1
pos = 5,0
scale = 1.1,1.1
vel = 1,0
accel = -0.05,0
postype = p1
facing = 1
bindtime = 1
removetime = -2
sprpriority = 3
trans = add

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F8,0+random%4

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = S4,2+random%10
volume = 255
channel = 4

[State 0, HitDef]
type = HitDef
fall.yvelocity = -6
trigger1 = AnimElem = 3
attr = S, NA
damage = 25,5
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 0, 5
sparkno = 0+random%4
sparkxy = -15, -40
hitsound = 35, 0+random%15;5, 21+random%5
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -2
airguard.velocity = -2,-.8
air.type = High
air.velocity = -2,-2
air.hittime = 12
envshake.time = 10
envshake.freq = 20
envshake.ampl = -5
envshake.phase = 10

[State 0, End]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;-----------------
[StateDef 802]
type = S
movetype= A
physics = S
juggle  = 1
velset = 2,0
ctrl = 0
anim = 802
poweradd = 20
sprpriority = 2

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 5
triggerall = var(8) = 1
anim = 802
ownpal = 1
pos = 5,0
scale = 1.1,1.1
vel = 2,0
accel = -0.1,0
postype = p1
facing = 1
bindtime = 1
removetime = -2
sprpriority = 3
trans = add


[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F8,0+random%4

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = S4,2+random%10
volume = 255
channel = 4

[State 0, HitDef]
type = HitDef
fall.yvelocity = -6
trigger1 = AnimElem = 3
attr = S, NA
damage = 25,5
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 0, 5
sparkno = 0+random%4
sparkxy = -15, -35
hitsound = 35, 0+random%15;5, 21+random%5
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -2
airguard.velocity = -2,-.8
air.type = High
air.velocity = -2,-2
air.hittime = 12
envshake.time = 10
envshake.freq = 20
envshake.ampl = -5
envshake.phase = 10

[State 0, End]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;-----------------
[StateDef 803]
type = S
movetype= A
physics = S
juggle  = 1
velset = 4,0
ctrl = 0
anim = 803
poweradd = 20
sprpriority = 2

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 5
triggerall = var(8) = 1
anim = 803
ownpal = 1
pos = 5,0
scale = 1.1,1.1
vel = 4,0
accel = -0.2,0
postype = p1
facing = 1
bindtime = 1
removetime = -2
sprpriority = 3
trans = add

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F8,0+random%4

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = S4,2+random%10
volume = 255
channel = 4

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F24,0+random%5

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = movehit = 1 && p2movetype = H
anim = F10
angle = -25+random%50
pos = -10,-40
postype = p2  ;p2,front,back,left,right
facing = 1
bindtime = 1
removetime = -2
sprpriority = 3
scale = 0.9,0.9
ownpal = 1
ontop = 0
supermovetime = 9999
pausemovetime = 9999

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 5
anim = F890
scale = 2,2
pos = 9,-33
postype = p1  ;p2,front,back,left,right
facing = 1
bindtime = -1
removetime = -2
sprpriority = 3
ownpal = 1
ontop = 0
supermovetime = 9999
pausemovetime = 9999

[State 0, HitDef]
type = HitDef
fall.yvelocity = -6
trigger1 = animelem = 2
attr = S, NA
damage = 30,6
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 5, 20
sparkno = 0+random%4
sparkxy = -15, -35
hitsound = 24, 10+random%4
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -2,-5
airguard.velocity = -2,-5
air.type = High
air.velocity = -2,-5
fall = 1
air.hittime = 12
envshake.time = 30
envshake.freq = 30
envshake.ampl = -7
envshake.phase = 10

[State 0, End]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;-----------------
[StateDef 8031]
type = S
movetype= A
physics = S
juggle  = 1
velset = 4,0
ctrl = 0
anim = 8031
poweradd = 20
sprpriority = 2

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 5
triggerall = var(8) = 1
anim = 8031
ownpal = 1
pos = 5,0
scale = 1.1,1.1
vel = 4,0
accel = -0.2,0
postype = p1
facing = 1
bindtime = 1
removetime = -2
sprpriority = 3
trans = add

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
value = F8,0+random%4

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = S4,2+random%10
volume = 255
channel = 4

[State 0, HitDef]
type = HitDef
fall.yvelocity = -6
trigger1 = animelem = 2
attr = C,HP
damage = 30,6
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 0, 15
sparkno = 0+random%4
sparkxy = -15, -35
hitsound = 35, 0+random%15;5, 21+random%5
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -12,-8
guard.velocity = -3
airguard.velocity = -3,-2
air.type = High
air.velocity = -12,-8
air.hittime = 12
p2stateno = 109990
envshake.time = 30
envshake.freq = 30
envshake.ampl = -7
envshake.phase = 10

[State 0, End]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;-----------------
[StateDef 804]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 804
poweradd = 20
sprpriority = 2

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 0
anim = 804
ownpal = 1
pos = 100,0
scale = 1,1
vel = -8,0
postype = p1
facing = -1
bindtime = 1
removetime = -2
sprpriority = 3

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 5
triggerall = var(8) = 1
anim = 804
ownpal = 1
pos = 5,0
scale = 1.1,1.1
vel = 3,0
accel = -0.05,0
postype = p1
facing = 1
bindtime = 1
removetime = -2
sprpriority = 3
trans = add

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 1
value = F3,2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = F31

[State 0, Explod]
type = Explod
trigger1 = 1
anim = F20
ID = 20
pos = -10+random%20,-10-random%50
postype = p1  ;P2,front,back,left,right
scale = 0.8,0.4
vel = -2,0
sprpriority = 0
bindtime = 1
ownpal = 1
ontop = 0
supermovetime = 9999
pausemovetime = 9999

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 0 && pos y > -5
anim = F676
ID = 24
pos = 15,4
postype = p1  ;P2,front,back,left,right
scale = 0.4,0.25
vel = -1,0
sprpriority = 2
bindtime = 1
ownpal = 1
ontop = 0
supermovetime = 9999
pausemovetime = 9999

[State 0, Helper]
type = Helper
trigger1 = movehit = 1
helpertype = normal ;player
name = "White Flash"
ID = 9999
stateno = 9999
pos = 0,0
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1
size.xscale = 10
size.yscale = 10
supermove = 9999
pausemove = 9999
persistent = 0

[State 0, Helper] 
type = Helper 
trigger1 = time = 1
helpertype = normal
name = "efekt teleport" 
ID = 84501
stateno = 4501
pos = 40,0
postype = p1 
ownpal = 1
size.xscale = 1
size.yscale = 1

[State 0, PlayerPush]
type = PlayerPush
trigger1 = 1
value = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 7
value = S6,11

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 5
anim = F870
scale = 2.2,2.2
pos = 29,-37
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = -1
bindtime = -1
removetime = -2
sprpriority = 3
ownpal = 1
ontop = 0
supermovetime = 9999
pausemovetime = 9999

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F24,0+random%5

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = movehit = 1 && p2movetype = H
anim = F12
angle = random
scale = 1,1
pos = -10,-40
postype = p2  ;p2,front,back,left,right
facing = 1
bindtime = 1
removetime = -2
sprpriority = 3
ownpal = 1
ontop = 0

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = movehit = 1 && p2movetype = H
anim = F1100
scale = 4,3
pos = -10,-40
postype = p2  ;p2,front,back,left,right
facing = 1
bindtime = 1
removetime = -2
sprpriority = 3
ownpal = 1
ontop = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F8,0+random%4

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = S4,2+random%10
volume = 255
channel = 4

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F14,3

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 0 && pos y = 0
anim = F300
pos = 15,3
scale = 1.5,1.5
postype = p1
facing = 1
bindtime = 1
removetime = -2
sprpriority = 3

[State 0, VelSet]
type = VelSet
trigger1 = time > 5 && time < 12
x = 10
y = 0


[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = movehit = 1 && p2movetype = H
anim = F2010
pos = -10,-35
postype = p2  ;p2,front,back,left,right
facing = 1
bindtime = 1
removetime = -2
sprpriority = -1
scale = 1.4,1.4
ownpal = 1
ontop = 0
supermovetime = 9999
pausemovetime = 9999

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = movehit = 1 && p2movetype = H
anim = F2017
pos = -10,-35
postype = p2  ;p2,front,back,left,right
facing = 1
bindtime = 1
removetime = -2
sprpriority = 4
scale = 1.4,1.4
ownpal = 1
ontop = 0
supermovetime = 9999
pausemovetime = 9999

[State 0, HitDef]
type = HitDef
fall.yvelocity = -6
trigger1 = (!time)
attr = S, NA
damage = 75,25
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 0, 30
sparkno = 0+random%4
sparkxy = -15, -35
hitsound = 24, 10+random%4
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 60
ground.velocity = -3
airguard.velocity = -3,-.8
air.type = High
air.velocity = -3,-2
air.hittime = 60
envshake.time = 30
envshake.freq = 30
envshake.ampl = -7
envshake.phase = 10
fall = 1

[State 0, End]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;-----------------
[StateDef 806]
type = S
movetype= A
physics = S
juggle  = 1
velset = 1,0
ctrl = 0
anim = 806
poweradd = 20
sprpriority = 2

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 5
triggerall = var(8) = 1
anim = 806
ownpal = 1
pos = 5,0
scale = 1.1,1.1
vel = 1,0
accel = -0.05,0
postype = p1
facing = 1
bindtime = 1
removetime = -2
sprpriority = 3
trans = add

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 2
anim = F870
scale = 1.8,1.8
pos = 8,-37
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = -1
bindtime = -1
removetime = -2
sprpriority = 3
ownpal = 1
ontop = 0
supermovetime = 9999
pausemovetime = 9999

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F8,0+random%4

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = S4,2+random%10
volume = 255
channel = 4

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F24,0+random%5

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = movehit = 1 && p2movetype = H
anim = F10
angle = -25+random%50
pos = -10,-40
postype = p2  ;p2,front,back,left,right
facing = 1
bindtime = 1
removetime = -2
sprpriority = 3
scale = 1,1
ownpal = 1
ontop = 0
supermovetime = 9999
pausemovetime = 9999

[State 0, HitDef]
type = HitDef
fall.yvelocity = -6
trigger1 = (!time)
attr = S, NA
damage = 35,7
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 0, 10
sparkno = 0+random%4
sparkxy = -15, -43
hitsound = 24, 10+random%4
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -2
airguard.velocity = -2,-.8
air.type = High
air.velocity = -2,-2
air.hittime = 12
envshake.time = 10
envshake.freq = 20
envshake.ampl = -5
envshake.phase = 10

[State 0, End]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;-----------------
[StateDef 807]
type = S
movetype= A
physics = S
juggle  = 1
velset = 1,0
ctrl = 0
anim = 807
poweradd = 20
sprpriority = 2

[State 0, Helper] 
type = Helper 
trigger1 = time = 1
helpertype = normal
name = "efekt teleport" 
ID = 84501
stateno = 4501
pos = 60,0
postype = p1
facing = -1 
ownpal = 1
size.xscale = 1
size.yscale = 1

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 0
anim = 807
ownpal = 1
pos = 60,0
scale = 1,1
vel = -4,0
postype = p1
facing = -1
bindtime = 1
removetime = -2
sprpriority = 3

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 5
triggerall = var(8) = 1
anim = 807
ownpal = 1
pos = 5,0
scale = 1.1,1.1
vel = 1,0
accel = -0.05,0
postype = p1
facing = 1
bindtime = 1
removetime = -2
sprpriority = 3
trans = add

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 5
anim = F860
scale = 1.8,1.8
pos = 2,-35
postype = p1  ;p2,front,back,left,right
facing = -1
vfacing = -1
bindtime = -1
removetime = -2
sprpriority = 3
ownpal = 1
ontop = 0
supermovetime = 9999
pausemovetime = 9999

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = movehit = 1 && p2movetype = H
anim = F11
angle = random
pos = -10,-40
postype = p2  ;p2,front,back,left,right
facing = 1
bindtime = 1
removetime = -2
sprpriority = 3
scale = 1,1
ownpal = 1
ontop = 0
supermovetime = 9999
pausemovetime = 9999

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F8,0+random%4

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = S4,2+random%10
volume = 255
channel = 4

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F24,0+random%5

[State 0, HitDef]
type = HitDef
fall.yvelocity = -6
trigger1 = AnimElem = 2
attr = S, NA
damage = 35,7
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 0, 10
sparkno = 0+random%4
sparkxy = -15, -38
hitsound = 24, 10+random%4
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -2,0
airguard.velocity = -2,2
air.type = High
air.velocity = -2,2
air.hittime = 12
envshake.time = 10
envshake.freq = 20
envshake.ampl = -5
envshake.phase = 10

[State 0, End]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;-----------------
[StateDef 808]
type = S
movetype= A
physics = S
juggle  = 1
velset = 2,0
ctrl = 0
anim = 808
poweradd = 20
sprpriority = 2

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 5
triggerall = var(8) = 1
anim = 808
ownpal = 1
pos = 5,0
scale = 1.1,1.1
vel = 2,0
accel = -0.1,0
postype = p1
facing = 1
bindtime = 1
removetime = -2
sprpriority = 3
trans = add

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 2
anim = F860
scale = 1.8,1.8
pos = 4,-32
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = -1
removetime = -2
sprpriority = 3
ownpal = 1
ontop = 0
supermovetime = 9999
pausemovetime = 9999


[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 2
anim = F860
scale = 1.8,1.8
pos = -4,-32
postype = p1  ;p2,front,back,left,right
facing = -1
vfacing = 1
bindtime = -1
removetime = -2
sprpriority = 3
ownpal = 1
ontop = 0
supermovetime = 9999
pausemovetime = 9999

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = movehit = 1 && p2movetype = H
anim = F11
angle = -25+random%50
pos = -10,-40
postype = p2  ;p2,front,back,left,right
facing = 1
bindtime = 1
removetime = -2
sprpriority = 3
scale = 1,1
ownpal = 1
ontop = 0
supermovetime = 9999
pausemovetime = 9999

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F8,0+random%4

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = S4,2+random%10
volume = 255
channel = 4

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F24,0+random%5

[State 0, HitDef]
type = HitDef
fall.yvelocity = -6
trigger1 = (!time)
attr = S, NA
damage = 35,7
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 0, 10
sparkno = 0+random%4
sparkxy = -15, -38
hitsound = 24, 10+random%4
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -3,-2
airguard.velocity = -3,-2
air.type = High
air.velocity = -3,-2
air.hittime = 12
envshake.time = 10
envshake.freq = 20
envshake.ampl = -5
envshake.phase = 10

[State 0, End]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;-----------------
[StateDef 809]
type = A
movetype= A
physics = A
juggle  = 1
velset = 4,-6
ctrl = 0
anim = 809
poweradd = 20
sprpriority = 2

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 5
triggerall = var(8) = 1
anim = 809
ownpal = 1
pos = 5,0
scale = 1.1,1.1
vel = 4,-6
accel = -0.2,0.3
postype = p1
facing = 1
bindtime = 1
removetime = -2
sprpriority = 3
trans = add

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 5
anim = F890
scale = 1.5,1.5
pos = -6,-49
postype = p1  ;p2,front,back,left,right
facing = -1
vfacing = -1
angle = 50
bindtime = -1
removetime = -2
sprpriority = 3
ownpal = 1
ontop = 0
supermovetime = 9999
pausemovetime = 9999

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 8
anim = F890
scale = 1.9,1.9
pos = -6,-29
postype = p1  ;p2,front,back,left,right
facing = -1
vfacing = -1
angle = -130
bindtime = -1
removetime = -2
sprpriority = 3
ownpal = 1
ontop = 0
supermovetime = 9999
pausemovetime = 9999

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
value = F3,0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
value = F3,0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F8,0+random%4

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = S4,2+random%10
volume = 255
channel = 4

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F24,0+random%5

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = movehit = 1 && p2movetype = H
anim = F12
angle = random
pos = -10,-40
postype = p2  ;p2,front,back,left,right
facing = 1
bindtime = 1
removetime = -2
sprpriority = 3
scale = 1,1
ownpal = 1
ontop = 0
supermovetime = 9999
pausemovetime = 9999

[State 0, HitDef]
type = HitDef
fall.yvelocity = -6
trigger1 = timemod = 5,0
attr = S, NA
damage = 25,5
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 0, 10
sparkno = 0+random%4
sparkxy = -15, -32
hitsound = 24, 10+random%4
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -4,-3
airguard.velocity = -4,-3
air.type = High
air.velocity = -4,-3
air.hittime = 12
envshake.time = 30
envshake.freq = 30
envshake.ampl = -7
envshake.phase = 10

[State 0, End]
type = ChangeState
trigger1 = AnimTime = 0
value = 50
ctrl = 1
;-----------------
[StateDef 811]
type = S
movetype= A
physics = S
juggle  = 1
velset = 1,0
ctrl = 0
anim = 811
poweradd = 20
sprpriority = 2

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 5
triggerall = var(8) = 1
anim = 811
ownpal = 1
pos = 5,0
scale = 1.1,1.1
vel = 1,0
accel = -0.05,0
postype = p1
facing = 1
bindtime = 1
removetime = -2
sprpriority = 3
trans = add

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F8,0+random%4

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = S4,2+random%10
volume = 255
channel = 4

[State 0, HitDef]
type = HitDef
fall.yvelocity = -6
trigger1 = animelem = 2
attr = S, NA
damage = 25,5
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 0, 10
sparkno = 0+random%4
sparkxy = -15, -48
hitsound = 35, 0+random%15;5, 21+random%5
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -1,-2
airguard.velocity = -1,-2
air.type = High
air.velocity = -1,-2
air.hittime = 12
envshake.time = 10
envshake.freq = 20
envshake.ampl = -5
envshake.phase = 10

[State 0, End]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;-----------------
[StateDef 812]
type = S
movetype= A
physics = S
juggle  = 1
velset = 2,0
ctrl = 0
anim = 812
poweradd = 20
sprpriority = 2

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 5
triggerall = var(8) = 1
anim = 812
ownpal = 1
pos = 5,0
scale = 1.1,1.1
vel = 2,0
accel = -0.1,0
postype = p1
facing = 1
bindtime = 1
removetime = -2
sprpriority = 3
trans = add

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
value = F14,3

[State 0, Helper] 
type = Helper 
trigger1 = time = 1
helpertype = normal
name = "efekt teleport" 
ID = 84501
stateno = 4501
pos = 0,0
postype = p1 
ownpal = 1
size.xscale = 1
size.yscale = 1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S6,11

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F8,0+random%4

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = S4,2+random%10
volume = 255
channel = 4

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 0 && pos y = 0
anim = F300
pos = 15,3
scale = 1.5,1.5
postype = p1
facing = 1
bindtime = 1
removetime = -2
sprpriority = 3

[State 0, PosAdd]
type = PosAdd
trigger1 = time = 1
x = 60
y = 0

[State 0, Turn]
type = Turn
trigger1 = time = 1

[State 0, HitDef]
type = HitDef
fall.yvelocity = -6
trigger1 = animelem = 4
attr = S, NA
damage = 25,5
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 0, 15
sparkno = 0+random%4
sparkxy = -15, -37
hitsound = 35, 0+random%15;5, 21+random%5
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 30
ground.velocity = -4,-2
airguard.velocity = -4,-2
air.type = High
air.velocity = -4,-2
air.hittime = 30
fall = 1

[State 0, End]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;-----------------
[StateDef 813]
type = S
movetype= A
physics = S
juggle  = 1
velset = 3,0
ctrl = 0
anim = 813
poweradd = 20
sprpriority = 2

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 5
triggerall = var(8) = 1
anim = 813
ownpal = 1
pos = 5,0
scale = 1.1,1.1
vel = 3,0
accel = -0.15,0
postype = p1
facing = 1
bindtime = 1
removetime = -2
sprpriority = 3
trans = add

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F8,0+random%4

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = S4,2+random%10
volume = 255
channel = 4

[State 0, HitDef]
type = HitDef
fall.yvelocity = -6
trigger1 = animelem = 3
attr = C,HP
damage = 30,6
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 0, 5
sparkno = 0+random%4
sparkxy = -15, -28
hitsound = 35, 0+random%15;5, 21+random%5
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -8,-4
airguard.velocity = -8,-4
air.type = High
air.velocity = -8,-4
air.hittime = 12
p2stateno = 109990
fall = 1
envshake.time = 30
envshake.freq = 30
envshake.ampl = -7
envshake.phase = 10

[State 0, End]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;-----------------
[StateDef 8131]
type = S
movetype= A
physics = S
juggle  = 1
velset = 3,0
ctrl = 0
anim = 8131
poweradd = 20
sprpriority = 2

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 5
triggerall = var(8) = 1
anim = 8131
ownpal = 1
pos = 5,0
scale = 1.1,1.1
vel = 3,0
accel = -0.15,0
postype = p1
facing = 1
bindtime = 1
removetime = -2
sprpriority = 3
trans = add

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
value = F14,3

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F8,0+random%4

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = S4,2+random%10
volume = 255
channel = 4

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 0 && pos y = 0
anim = F300
pos = 15,3
scale = 1.5,1.5
postype = p1
facing = 1
bindtime = 1
removetime = -2
sprpriority = 3

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S6,11

[State 0, Helper] 
type = Helper 
trigger1 = time = 1
helpertype = normal
name = "efekt teleport" 
ID = 84501
stateno = 4501
pos = 0,0
postype = p1 
ownpal = 1
size.xscale = 1
size.yscale = 1

[State 0, PosAdd]
type = PosAdd
trigger1 = time = 1
x = 80
y = 0

[State 0, VelSet]
type = VelSet
trigger1 = time = [2,5]
x = 5
y = 0

[State 0, Turn]
type = Turn
trigger1 = time = 1

[State 0, HitDef]
type = HitDef
fall.yvelocity = -6
trigger1 = animelem = 2
attr = C,HP
damage = 30,6
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 0, 10
sparkno = 0+random%4
sparkxy = -15, -35
hitsound = 35, 0+random%15;5, 21+random%5
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -6,-5
airguard.velocity = -6,-5
air.type = High
air.velocity = -6,-5
air.hittime = 12
p2stateno = 109990
fall = 1
envshake.time = 30
envshake.freq = 30
envshake.ampl = -7
envshake.phase = 10

[State 0, End]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;-----------------
[StateDef 814]
type = S
movetype= A
physics = S
juggle  = 1
velset = 3,0
ctrl = 0
anim = 814
poweradd = 0
sprpriority = 2

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 5
triggerall = var(8) = 1
anim = 814
ownpal = 1
pos = 5,0
scale = 1.1,1.1
vel = 3,0
accel = -0.15,0
postype = p1
facing = 1
bindtime = 1
removetime = -2
sprpriority = 3
trans = add


[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 5
anim = F810
id = 80006
pos = 26,-36
scale = 0.33,0.5
postype = p1
facing = 1
bindtime = 1
removetime = -2
sprpriority = 3
supermovetime=9999
pausemovetime=9999
ownpal = 1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F8,0+random%4

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = S4,2+random%10
volume = 255
channel = 4

[State 0, Helper]
type = Helper
trigger1 = animelem = 4
helpertype = normal;player
name = "katon"
ID = 8141
stateno = 8141
pos = 30,-37
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1
size.xscale = 0.5
size.yscale = 0.5

[State 0, End]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;-----------------
[StateDef 8141]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 8141
poweradd = 0
sprpriority = 2

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 =  1
flag = noshadow

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 814
time = 1
facing = 0
pos = 30,-37

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = F10,3

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 0
anim = F271
ID = 6001
pos = 15,0
postype = p1
bindtime = -1
removetime = -2
supermovetime=9999
pausemovetime=9999
scale = 0.85,0.85
sprpriority = 3
ownpal = 1

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 0
anim = F271
ID = 6001
pos = 70,0
postype = p1
bindtime = -1
removetime = -2
supermovetime=9999
pausemovetime=9999
scale = 0.85,0.85
sprpriority = 3
ownpal = 1

[State 0, HitDef]
type = HitDef
fall.yvelocity = -6
trigger1 = timemod = 5,0
triggerall = parent, var(15) = 0
attr = S, NA
damage = 10,2
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 0, 3
sparkno = 1402
sparkxy = -15+random%45,20-random%50
hitsound = 10, 0
guardsound = 10, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -2,-2
airguard.velocity = -2,-2
air.type = High
air.velocity = -2,-2
air.hittime = 12
fall = 1
envshake.time = 30
envshake.freq = 30
envshake.ampl = -7
envshake.phase = 10
palfx.time = 30
palfx.add = 240,50,0
palfx.mul = 250,224,120
palfx.sinadd = 110,55,85,10


[State 0, HitDef]
type = HitDef
fall.yvelocity = -6
trigger1 = timemod = 5,0
triggerall = parent, var(15) = 1
attr = C,HP
p2stateno = 105009
damage = 15,3
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 0, 0
sparkno = 1402
sparkxy = -15+random%45,-10-random%50
hitsound = 10, 0
guardsound = 10, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -2,-2
airguard.velocity = -2,-2
air.type = High
air.velocity = -2,-2
air.hittime = 12
fall = 1
envshake.time = 30
envshake.freq = 30
envshake.ampl = -7
envshake.phase = 10

[State 0, End]
type = destroyself
trigger1 = animtime = 0
;-----------------
[StateDef 816]
type = S
movetype= A
physics = S
juggle  = 1
velset = 3,0
ctrl = 0
anim = 816
poweradd = 20
sprpriority = 2

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 5
triggerall = var(8) = 1
anim = 816
ownpal = 1
pos = 5,0
scale = 1.1,1.1
vel = 1,0
accel = -0.05,0
postype = p1
facing = 1
bindtime = 1
removetime = -2
sprpriority = 3
trans = add

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = movehit = 1 && p2movetype = H
anim = F11
angle = random
pos = -10,-40
postype = p2  ;p2,front,back,left,right
facing = 1
bindtime = 1
removetime = -2
sprpriority = 3
scale = 0.9,0.9
ownpal = 1
ontop = 0
supermovetime = 9999
pausemovetime = 9999

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F8,0+random%4

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = S4,2+random%10
volume = 255
channel = 4

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F24,0+random%5

[State 0, HitDef]
type = HitDef
fall.yvelocity = -6
trigger1 = animelem = 2
attr = S, NA
damage = 30,6
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 0, 10
sparkno = 0+random%4
sparkxy = -15, -39
hitsound = 24, 10+random%4
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -3,-2
airguard.velocity = -3,-2
air.type = High
air.velocity = -3,-2
air.hittime = 12
envshake.time = 10
envshake.freq = 20
envshake.ampl = -5
envshake.phase = 10

[State 0, End]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;-----------------
[StateDef 817]
type = A
movetype= A
physics = A
juggle  = 1
velset = 4,-6
ctrl = 0
anim = 817
poweradd = 20
sprpriority = 2

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 5
triggerall = var(8) = 1
anim = 817
ownpal = 1
pos = 5,0
scale = 1.1,1.1
vel = 4,-6
accel = -0.2,0.3
postype = p1
facing = 1
bindtime = 1
removetime = -2
sprpriority = 3
trans = add

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 5
anim = F890
scale = 1.5,1.5
pos = -6,-49
postype = p1  ;p2,front,back,left,right
facing = -1
vfacing = -1
angle = 50
bindtime = -1
removetime = -2
sprpriority = 3
ownpal = 1
ontop = 0
supermovetime = 9999
pausemovetime = 9999

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 8
anim = F890
scale = 1.9,1.9
pos = -6,-29
postype = p1  ;p2,front,back,left,right
facing = -1
vfacing = -1
angle = -130
bindtime = -1
removetime = -2
sprpriority = 3
ownpal = 1
ontop = 0
supermovetime = 9999
pausemovetime = 9999

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
value = F3,0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
value = F3,0

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = movehit = 1 && p2movetype = H
anim = F11+random%2
angle = random
pos = -10,-40
postype = p2  ;p2,front,back,left,right
facing = 1
bindtime = 1
removetime = -2
sprpriority = 3
scale = 0.5,0.5
ownpal = 1
ontop = 0
supermovetime = 9999
pausemovetime = 9999

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F8,0+random%4

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = S4,2+random%10
volume = 255
channel = 4

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F24,0+random%5

[State 0, HitDef]
type = HitDef
fall.yvelocity = -6
trigger1 = timemod = 5,0
attr = S, NA
damage = 10,3
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 0, 10
sparkno = 0+random%4
sparkxy = -25, -24
hitsound = 24, 10+random%4
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -3,-5
airguard.velocity = -3,-5
air.type = High
air.velocity = -3,-5
air.hittime = 12
envshake.time = 10
envshake.freq = 20
envshake.ampl = -5
envshake.phase = 10
fall = 1

[State 0, End]
type = ChangeState
trigger1 = AnimTime = 0
value = 50
ctrl = 1
;-----------------
[StateDef 818]
type = A
movetype= A
physics = A
juggle  = 1
velset = 0,0
ctrl = 0
anim = 818
poweradd = 20
sprpriority = 2

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 5
triggerall = var(8) = 1
anim = 818
ownpal = 1
pos = 5,0
scale = 1.1,1.1
vel = 1,0
accel = -0.05,0
postype = p1
facing = 1
bindtime = 1
removetime = -2
sprpriority = 3
trans = add

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F17,0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
value = F8,0+random%4

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = S4,2+random%10
volume = 255
channel = 4

[State 0, Helper]
type = Helper
trigger1 = animelem = 3
helpertype = normal;player
name = "klon"
ID = 8181
stateno = 8181
pos = 0,0
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1
size.xscale = 1
size.yscale = 1

[State 0, End]
type = ChangeState
trigger1 = AnimTime = 0
value = 50
ctrl = 1
;-----------------
[StateDef 8181]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 8181
poweradd = 0
sprpriority = 2

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 5
triggerall = parent, var(8) = 1
anim = 8181
ownpal = 1
pos = 5,0
scale = 1.1,1.1
vel = 4,-6
accel = -0.2,0.3
postype = p1
facing = 1
bindtime = 1
removetime = -2
sprpriority = 3
trans = add

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 5
anim = F890
scale = 1.5,1.5
pos = -6,-49
postype = p1  ;p2,front,back,left,right
facing = -1
vfacing = -1
angle = 50
bindtime = -1
removetime = -2
sprpriority = 3
ownpal = 1
ontop = 0
supermovetime = 9999
pausemovetime = 9999

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 8
anim = F890
scale = 1.9,1.9
pos = -6,-29
postype = p1  ;p2,front,back,left,right
facing = -1
vfacing = -1
angle = -130
bindtime = -1
removetime = -2
sprpriority = 3
ownpal = 1
ontop = 0
supermovetime = 9999
pausemovetime = 9999

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F8,0+random%4

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F24,0+random%5


[State 0, AssertSpecial]
type = AssertSpecial
trigger1 =  1
flag = noshadow

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 15
trigger2 = time = 0
value = S6,11

[State 0, Helper] 
type = Helper 
trigger1 = time = 15
helpertype = normal
name = "efekt teleport" 
ID = 84501
stateno = 4501
pos = 0,0
postype = p1 
ownpal = 1
size.xscale = 1
size.yscale = 1

[State 0, VelSet]
type = VelSet
trigger1 = 1
x = 3
y = -4

[State 0, NotHitBy]
type = NotHitBy
trigger1 = time >= 0
value = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
time = -1

[State 0, HitDef]
type = HitDef
fall.yvelocity = -6
trigger1 = timemod = 5,0
attr = S, NA
damage = 10,3
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 0, 15
sparkno = 0+random%42
sparkxy = -25, -24
hitsound = 24, 10+random%4
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -3,-5
airguard.velocity = -3,-5
air.type = High
air.velocity = -3,-5
air.hittime = 12
envshake.time = 10
envshake.freq = 20
envshake.ampl = -5
envshake.phase = 10

[State 0, End]
type = destroyself
trigger1 = time = 21

;Combo 7
[State -1, Combo 7.8]
type = ChangeState
value = 8182
;PLAYER
trigger1 = root, command = "x"
trigger1 = root, var(50) = 0
;AI RANDOM
trigger2 = p2dist x = [0,60]
trigger2 = p2dist y = [0,60]
trigger2 = random = [220,221+root, var(49)*(root,var(49)/20)+10+root,var(48)/50]
trigger2 = root, var(50) = 1
trigger2 = p2stateno != [5110,5150]
;WARUNEK
triggerall = time > 5 && movecontact
triggerall = root, var(15) = 0
;-----------------
[StateDef 8182]
type = A
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 8182
poweradd = 0
sprpriority = 2

[State 0, EnvShake]
type = EnvShake
trigger1 = time = 0
time = 50
ampl = -7
freq = 50
phase = 230

[State 0, Explod]
type = Explod
trigger1 = time = 0 && pos y >= -40
anim = F588
pos = 0,-pos y+5
scale = 0.8,0.3
vel = 0,-1.5
accel = 0,0.03
postype = p1
facing = 1
bindtime = 1
removetime = -2
sprpriority = 2
supermove = 9999
pausemove = 9999
supermovetime = 9999
pausemovetime = 9999
ownpal = 1

[State 0, Explod]
type = Explod
trigger1 = time = 0 && pos y >= -40
anim = F587
pos = 0,-pos y+5
scale = 0.5,0.5
postype = p1
facing = 1
bindtime = 1
removetime = -2
sprpriority = 5
supermove = 9999
pausemove = 9999
supermovetime = 9999
pausemovetime = 9999
ownpal = 1

[State 0, Explod]
type = Explod
trigger1 = time = 5
anim = F1330
pos = 0,0
scale = 2,2
postype = p1
facing = 1
bindtime = 33
removetime = -2
sprpriority = 6
supermove = 9999
pausemove = 9999
supermovetime = 9999
pausemovetime = 9999
ownpal = 1

[State 0, Explod]
type = Explod
trigger1 = time = 0
anim = F1331
pos = 0,0
scale = 1.2,1.2
postype = p1
facing = 1
bindtime = 33
removetime = -2
sprpriority = 4
supermove = 9999
pausemove = 9999
supermovetime = 9999
pausemovetime = 9999
ownpal = 1

[State 0, Explod]
type = Explod
trigger1 = 0;time = 0
anim = F1340
pos = 0,0
scale = 1.1,1.1
postype = p1
facing = 1
bindtime = 33
removetime = -2
sprpriority = 4
supermove = 9999
pausemove = 9999
supermovetime = 9999
pausemovetime = 9999
ownpal = 1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = F15,3

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = F15,5

[State 0, AngleDraw]
type = AngleDraw
trigger1 = 1
scale = 0.8,0.8

[State 0, Trans]
type = Trans
trigger1 = 1
trans = addalpha
alpha = 256,256

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = time = 0
trigger2 = 1
flag = noshadow

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = time = 0
trigger1 = prevstateno = 70735
trigger1 = target, var(39) = 1
flag = unguardable

[State 1011, 1]
type = HitDef
trigger1 = !time
attr = S, NA
getpower = 0,0
givepower = 0,0
damage = 40, 8
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 4, 4
sparkno = -1
hitsound = -1, 3
guardsound = -1, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -4,-7
airguard.velocity = -3,-7
air.type = High
air.velocity = -4,-7
air.hittime = 12
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
down.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
airguard.cornerpush.veloff = 0
fall = 1
fall.recover = 0
palfx.time = 30
palfx.add = 150,0,-100
palfx.mul = 256,256,256
palfx.sinadd = 110,55,85,10

[State 1011, Destroyself]
type = destroyself
trigger1 = animtime = 0
;-----------------
[StateDef 821]
type = S
movetype= A
physics = S
juggle  = 1
velset = 1,0
ctrl = 0
anim = 821
poweradd = 20
sprpriority = 2

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 5
triggerall = var(8) = 1
anim = 821
ownpal = 1
pos = 5,0
scale = 1.1,1.1
vel = 1,0
accel = -0.05,0
postype = p1
facing = 1
bindtime = 1
removetime = -2
sprpriority = 3
trans = add

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F8,0+random%4

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = S4,2+random%10
volume = 255
channel = 4

[State 0, HitDef]
type = HitDef
fall.yvelocity = -6
trigger1 = animelem = 3
attr = S, NA
damage = 25,5
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 0, 5
sparkno = 0+random%4
sparkxy = -15, -45
hitsound = 35, 0+random%15;5, 21+random%5
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -2,-6
airguard.velocity = -2,-6
air.type = High
air.velocity = -2,-6
air.hittime = 12
envshake.time = 10
envshake.freq = 20
envshake.ampl = -5
envshake.phase = 10

[State 0, End]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;-----------------
[StateDef 822]
type = A
movetype= A
physics = A
juggle  = 1
velset = 3,-5
ctrl = 0
anim = 822
poweradd = 20
sprpriority = 2

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 5
triggerall = var(8) = 1
anim = 822
ownpal = 1
pos = 5,0
scale = 1.1,1.1
vel = 3,-5
accel = -0.15,0.25
postype = p1
facing = 1
bindtime = 1
removetime = -2
sprpriority = 3
trans = add

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
value = F3,0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F8,0+random%4

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = S4,2+random%10
volume = 255
channel = 4


[State 0, HitDef]
type = HitDef
fall.yvelocity = -6
trigger1 = animelem = 2
attr = S, NA
damage = 25,5
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 0, 5
sparkno = 0+random%4
sparkxy = -15, -27
hitsound = 35, 0+random%15;5, 21+random%5
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -3,-2
airguard.velocity = -3,-2
air.type = High
air.velocity = -3,-2
air.hittime = 12
envshake.time = 10
envshake.freq = 20
envshake.ampl = -5
envshake.phase = 10

[State 0, End]
type = ChangeState
trigger1 = animtime = 0
value = 50
ctrl = 1
;-----------------
[StateDef 8221]
type = A
movetype= A
physics = A
juggle  = 1
velset = 3,-2
ctrl = 0
anim = 8221
poweradd = 20
sprpriority = 2

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 5
triggerall = var(8) = 1
anim = 8221
ownpal = 1
pos = 5,0
scale = 1.1,1.1
vel = 3,-5
accel = -0.15,0.25
postype = p1
facing = 1
bindtime = 1
removetime = -2
sprpriority = 3
trans = add

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
value = F3,0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F8,0+random%4

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = S4,2+random%10
volume = 255
channel = 4

[State 0, HitDef]
type = HitDef
fall.yvelocity = -6
trigger1 = animelem = 3
attr = S, NA
damage = 25,5
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 0, 5
sparkno = 0+random%4
sparkxy = -15, -43
hitsound = 35, 0+random%15;5, 21+random%5
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -3,-3
airguard.velocity = -3,-3
air.type = High
air.velocity = -3,-3
air.hittime = 12
envshake.time = 10
envshake.freq = 20
envshake.ampl = -5
envshake.phase = 10

[State 0, End]
type = ChangeState
trigger1 = animtime = 0
value = 50
ctrl = 1
;-----------------
[StateDef 8222]
type = A
movetype= A
physics = A
juggle  = 1
velset = 3,-3
ctrl = 0
anim = 8222
poweradd = 20
sprpriority = 2

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 5
triggerall = var(8) = 1
anim = 8222
ownpal = 1
pos = 5,0
scale = 1.1,1.1
vel = 3,-5
accel = -0.15,0.25
postype = p1
facing = 1
bindtime = 1
removetime = -2
sprpriority = 3
trans = add

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
value = F3,0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F8,0+random%4

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = S4,2+random%10
volume = 255
channel = 4

[State 0, HitDef]
type = HitDef
fall.yvelocity = -6
trigger1 = animelem = 2
attr = S, NA
damage = 25,5
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 0, 10
sparkno = 0+random%4
sparkxy = -15, -39
hitsound = 35, 0+random%15;5, 21+random%5
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -5,-7
airguard.velocity = -5,-7
air.type = High
air.velocity = -5,-7
air.hittime = 12
envshake.time = 30
envshake.freq = 30
envshake.ampl = -7
envshake.phase = 10

[State 0, End]
type = ChangeState
trigger1 = animtime = 0
value = 50
ctrl = 1
;-----------------
[StateDef 823]
type = A
movetype= A
physics = A
juggle  = 1
velset = -1,-6
ctrl = 0
anim = 823
poweradd = 0
sprpriority = 2

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 5
triggerall = var(8) = 1
anim = 823
ownpal = 1
pos = 5,0
scale = 1.1,1.1
vel = 4,-8
accel = -0.2,0.4
postype = p1
facing = 1
bindtime = 1
removetime = -2
sprpriority = 3
trans = add

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time > 10 && numexplod(80007) = 0
anim = F810
id = 80007
pos = 11,-32
scale = 0.3,0.45
postype = p1
facing = 1
bindtime = 10
removetime = -2
sprpriority = 3
supermovetime=9999
pausemovetime=9999
ownpal = 1
angle = 90


[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
value = S4,3
volume = 255
channel = 4

[State 0, Helper]
type = Helper
trigger1 = time > 10 && timemod = 6,0
helpertype = normal;player
name = "katon"
ID = 8231
stateno = 8231
pos = 8,-18
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1
size.xscale = 0.10
size.yscale = 0.10

[State 0, End]
type = ChangeState
trigger1 = time = 60
value = 50
ctrl = 1

;-----------------
;Katon z powietrza pionowy
[StateDef 8231]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 8231
poweradd = 0
sprpriority = 3

[State 0, NotHitBy]
type = NotHitBy
trigger1 = time >= 0
value = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
time = -1

[State 0, PlayerPush]
type = PlayerPush
trigger1 = 1
value = 0

[State 0, AngleDraw]
type = AngleDraw
trigger1 = vel x != 0
value = -atan(vel y/vel x)*180/PI

[State 0, AngleDraw]
type = AngleDraw
trigger1 = vel x = 0
value = 270

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = F10,3

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 0
anim = F271
ID = 6001
pos = 0,0
postype = p1
bindtime = -1
removetime = -2
supermovetime=9999
pausemovetime=9999
scale = 0.5,0.5
sprpriority = 3
ownpal = 1
angle = -atan(vel y/vel x)*180/PI

[State 0, EnvShake]
type = EnvShake
trigger1 = timemod = 5,0
time = 20
freq = 20
ampl = 2
phase = 90

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = F10,0

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 =  1
flag = noshadow

[State 0, Turn]
type = Turn
trigger1 = 0;time = 0 && random = [0,300]
persistent = 0

[State 0, VarRandom]
type = VarRandom
trigger1 = time = 0
v = 10
range = -100,75

[State 0, VarRandom]
type = VarRandom
trigger1 = time = 0
v = 8
range = 3,6

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow
ignorehitpause = 1

[State 0, VelSet]
type = VelSet
trigger1 = 1
x = (4+var(8))*1
y = (4+var(8))*1.5;var(10)/50.0

[State 0, HitDef]
type = HitDef
fall.yvelocity = -6
trigger1 = timemod = 5,0
attr = S, NA
damage = 10,2
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 0, 1
sparkno = 1402
sparkxy = -15+random%15,20-random%30
hitsound = 10, 0
guardsound = 10, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -1,4
airguard.velocity = -1,4
air.type = High
air.velocity = -1,4
air.hittime = 12
fall = 1
envshake.time = 20
envshake.freq = 25
envshake.ampl = -6
envshake.phase = 10
palfx.time = 30
palfx.add = 240,50,0
palfx.mul = 250,224,120
palfx.sinadd = 110,55,85,10

[State 0, End]
type = changestate
trigger1 = pos y > 0
value = 8232
;-----------------
[StateDef 8232]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 8232
poweradd = 0
sprpriority = 3

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time= 0
anim = F800
ID = 800
pos = 0,0
postype = p1
bindtime = -1
removetime = 40
supermove
pausemove
scale = 0.5,0.5
sprpriority = 3
ownpal = 1

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time= 0
anim = F1402
ID = 800
pos = 0,0
postype = p1
bindtime = -1
removetime = 30
supermove
pausemove
scale = 1,1
sprpriority = 3
ownpal = 1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = F10,0

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 =  1
flag = noshadow

[State 0, End]
type = destroyself
trigger1 = time = 40
;-----------------
[StateDef 825]
type = S
movetype= A
physics = S
juggle  = 1
velset = 3,0
ctrl = 0
anim = 825
poweradd = 0
sprpriority = 2

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 5
triggerall = var(8) = 1
anim = 825
ownpal = 1
pos = 5,0
scale = 1.1,1.1
vel = 1,0
accel = -0.05,0
postype = p1
facing = 1
bindtime = 1
removetime = -2
sprpriority = 3
trans = add

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F8,0+random%4

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = S4,2+random%10
volume = 255
channel = 4

[State 0, HitDef]
type = HitDef
fall.yvelocity = -6
trigger1 = (!time)
attr = S, NA
damage = 0,0
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 20, 20
sparkno = 0+random%4
sparkxy = -15, -43
hitsound = 35, 0+random%15;5, 21+random%5
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = 0,0
airguard.velocity = 0,0
air.type = High
air.velocity = 0,0
air.hittime = 12
envshake.time = 10
envshake.freq = 20
envshake.ampl = -5
envshake.phase = 10
p1stateno = 826

[State 0, End]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;-----------------
[StateDef 826]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 826
poweradd = 20
sprpriority = 2

[State 0, PlayerPush]
type = PlayerPush
trigger1 = 1
value = 0 

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 5
triggerall = var(8) = 1
anim = 826
ownpal = 1
pos = 5,0
scale = 1.1,1.1
vel = -1,0
accel = 0.05,0
postype = p1
facing = 1
bindtime = 1
removetime = -2
sprpriority = 3
trans = add

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F8,0+random%4

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = S4,2+random%10
volume = 255
channel = 4

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = animelem = 2
anim = F310
ID = 310
pos = -10,3
postype = p1  ;p2,front,back,left,right
scale = 0.3,0.3
sprpriority = -1
ontop = 0
ownpal = 1

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = animelem = 2
anim = F290
ID = 290
pos = -10,3
postype = p1  ;p2,front,back,left,right
scale = 0.3,0.3
sprpriority = -1
ontop = 0
ownpal = 1

[State 0, EnvShake]
type = EnvShake
trigger1 = animelem = 2
time = 10
freq = 80
ampl = -4
phase = 90

[State 220, 1]
type = HitDef
fall.yvelocity = -6
trigger1 = animelem = 1
attr = C,HP
damage = 30,8
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 0, 0
sparkno = 4
sparkxy = 15, -45
hitsound = 1241, 9
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = 6,-12
airguard.velocity = -1.9,-.8
air.type = High
air.velocity = 6,-12
air.hittime = 12
envshake.time = 10
envshake.freq = 20
envshake.ampl = -5
envshake.phase = 10
fall = 1
fall.recover = 0
yaccel = 0.5

[State 220, 1]
type = HitDef
fall.yvelocity = -6
trigger1 = animelem = 2
attr = C,HP
damage = 30,8
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 0, 0
sparkno = 4
sparkxy = 15, -45
hitsound = 1241, 9
guardsound = 6, 0
ground.type = High
ground.slidetime = 12
ground.hittime  = 12
ground.velocity = 6,-1
airguard.velocity = -1.9,-.8
air.type = High
air.velocity = 6,-1
air.hittime = 12
envshake.time = 10
envshake.freq = 20
envshake.ampl = -5
envshake.phase = 10
fall = 1
fall.recover = 0
fall.envshake.time = 20
fall.envshake.freq = 60
fall.envshake.ampl = -20
fall.envshake.phase = 20
fall.yvelocity = -3
yaccel = 1.5
fall.damage = 50

[State 0, Turn]
type = Turn
trigger1 = AnimTime = 0


[State 0, End]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;-----------------
[StateDef 827]
type = A
movetype= A
physics = A
juggle  = 1
ctrl = 0
anim = 827
poweradd = 20
sprpriority = 2

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 5
triggerall = var(8) = 1
anim = 827
ownpal = 1
pos = 5,0
scale = 1.1,1.1
vel = 3,-3
accel = -0.15,0.15
postype = p1
facing = 1
bindtime = 1
removetime = -2
sprpriority = 3
trans = add


[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F8,0+random%4

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = S4,2+random%10
volume = 255
channel = 4

[State 0, HitDef]
type = HitDef
fall.yvelocity = -6
trigger1 = animelem = 2
attr = S, NA
damage = 35,7
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 0, 5
sparkno = 0+random%4
sparkxy = -15, -26
hitsound = 35, 0+random%15;5, 21+random%5
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -2,-2
airguard.velocity = -2,-2
air.type = High
air.velocity = -2,-2
air.hittime = 12
envshake.time = 10
envshake.freq = 20
envshake.ampl = -5
envshake.phase = 10


[State 0, End]
type = ChangeState
trigger1 = animtime = 0
value = 50
ctrl = 1
;-----------------
[StateDef 828]
type = A
movetype= A
physics = A
juggle  = 1
velset = 3,-2
ctrl = 0
anim = 828
poweradd = 20
sprpriority = 2

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 5
triggerall = var(8) = 1
anim = 828
ownpal = 1
pos = 5,0
scale = 1.1,1.1
vel = 3,-2
accel = -0.15,0.1
postype = p1
facing = 1
bindtime = 1
removetime = -2
sprpriority = 3
trans = add

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F8,0+random%4

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = S4,2+random%10
volume = 255
channel = 4

[State 0, HitDef]
type = HitDef
fall.yvelocity = -6
trigger1 = animelem = 3
attr = S, NA
damage = 35,7
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 0, 10
sparkno = 0+random%4
sparkxy = -15, -38
hitsound = 35, 0+random%15;5, 21+random%5
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -3,2
airguard.velocity = -3,2
air.type = High
air.velocity = -3,2
air.hittime = 12
envshake.time = 10
envshake.freq = 20
envshake.ampl = -5
envshake.phase = 10

[State 0, End]
type = ChangeState
trigger1 = animtime = 0
value = 50
ctrl = 1
;-----------------
[StateDef 829]
type = A
movetype= A
physics = A
juggle  = 1
velset = 5,-4
ctrl = 0
anim = 829
poweradd = 20
sprpriority = 2

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 5
triggerall = var(8) = 1
anim = 829
ownpal = 1
pos = 5,0
scale = 1.1,1.1
vel = 5,-3
accel = -0.25,0.15
postype = p1
facing = 1
bindtime = 1
removetime = -2
sprpriority = 3
trans = add

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 6
anim = F810
id = 80007
pos = 11,-32
scale = 0.3,0.45
postype = p1
facing = 1
bindtime = 10
removetime = -2
sprpriority = 3
supermovetime=9999
pausemovetime=9999
ownpal = 1
angle = 90


[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
value = S4,12
volume = 255
channel = 4

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F8,3
volume = 255
channel = 8

[State 0, Helper]
type = Helper
trigger1 = time > 6 && timemod = 10,0
helpertype = normal;player
name = "katon"
ID = 8231
stateno = 8231
pos = 8,-18
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1
size.xscale = 0.15
size.yscale = 0.15

[State 0, End]
type = ChangeState
trigger1 = time = 50
value = 50
ctrl = 1
;-----------------
[StateDef 831]
type = A
movetype= A
physics = A
juggle  = 1
ctrl = 0
anim = 831
poweradd = 20
sprpriority = 2

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 5
triggerall = var(8) = 1
anim = 831
ownpal = 1
pos = 5,0
scale = 1.1,1.1
vel = 3,-2
accel = -0.15,0.1
postype = p1
facing = 1
bindtime = 1
removetime = -2
sprpriority = 3
trans = add

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 2
anim = F870
scale = 1.7,1.7
pos = -2,-40
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = -1
bindtime = -1
removetime = -2
sprpriority = 3
ownpal = 1
ontop = 0
supermovetime = 9999
pausemovetime = 9999

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F8,0+random%4

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = S4,2+random%10
volume = 255
channel = 4

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F24,0+random%5

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = movehit = 1 && p2movetype = H
anim = F10+random%2
angle = -25+random%50
pos = 0,-44
postype = p2  ;p2,front,back,left,right
facing = 1
bindtime = 1
removetime = -2
sprpriority = 3
scale = 0.8,0.8
ownpal = 1
ontop = 0
supermovetime = 9999
pausemovetime = 9999

[State 0, HitDef]
type = HitDef
fall.yvelocity = -6
trigger1 = animelem = 3
attr = S, NA
damage = 35,7
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 0, 10
sparkno = 0+random%4
sparkxy = -15, -44
hitsound = 24, 10+random%4
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -2,0
airguard.velocity = -2,0
air.type = High
air.velocity = -2,0
air.hittime = 12
envshake.time = 10
envshake.freq = 20
envshake.ampl = -5
envshake.phase = 10

[State 0, End]
type = ChangeState
trigger1 = animtime = 0
value = 50
ctrl = 1
;-----------------
[StateDef 832]
type = A
movetype= A
physics = A
juggle  = 1
velset = 3,-2
ctrl = 0
anim = 832
poweradd = 20
sprpriority =2

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = movehit = 1 && p2movetype = H
anim = F10+random%2
angle = -25+random%50
pos = 0,-45
postype = p2  ;p2,front,back,left,right
facing = 1
bindtime = 1
removetime = -2
sprpriority = 3
scale = 0.8,0.8
ownpal = 1
ontop = 0
supermovetime = 9999
pausemovetime = 9999

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 5
triggerall = var(8) = 1
anim = 832
ownpal = 1
pos = 5,0
scale = 1.1,1.1
vel = 3,-2
accel = -0.15,0.1
postype = p1
facing = 1
bindtime = 1
removetime = -2
sprpriority = 3
trans = add

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 2
anim = F860
scale = 1.8,1.8
pos = 2,-35
postype = p1  ;p2,front,back,left,right
facing = -1
vfacing = -1
bindtime = -1
removetime = -2
sprpriority = 3
ownpal = 1
ontop = 0
supermovetime = 9999
pausemovetime = 9999


;itacz
[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 0
anim = 8001
ID = 8001
pos = 0,0
postype = p1
bindtime = 1
removetime = -2
supermovetime = 9999
pausemovetime = 9999
scale = 1,1
sprpriority = 0
ownpal = 1
ontop = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F14,3

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F24,2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
value = S4,5
volume = 255
channel = 4

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F8,2
volume = 255
channel = 8

[State 0, Helper] 
type = Helper 
trigger1 = time = 1
helpertype = normal
name = "efekt teleport" 
ID = 84501
stateno = 4501
pos = -40,0
postype = p1 
ownpal = 1
size.xscale = 1
size.yscale = 1

[State 0, PosAdd]
type = PosAdd
trigger1 = time = 1
x = 60
y = 0

[State 0, Turn]
type = Turn
trigger1 = time = 1

[State 0, HitDef]
type = HitDef
fall.yvelocity = -6
trigger1 = animelem = 2
attr = S, NA
damage = 35,7
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 0, 10
sparkno = 0+random%4
sparkxy = -7+random%15, -45
hitsound = 24, 10+random%4
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -2,0
airguard.velocity = -2,0
air.type = High
air.velocity = -2,0
air.hittime = 12
envshake.time = 10
envshake.freq = 20
envshake.ampl = -5
envshake.phase = 10

[State 0, End]
type = ChangeState
trigger1 = animtime = 0
value = 50
ctrl = 1
;-----------------
[StateDef 833]
type = A
movetype= A
physics = A
juggle  = 1
velset = 8,-2
ctrl = 0
anim = 833
poweradd = 20
sprpriority = 2

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 5
triggerall = var(8) = 1
anim = 833
ownpal = 1
pos = 5,0
scale = 1.1,1.1
vel = 8,-2
accel = -0.4,0.1
postype = p1
facing = 1
bindtime = 1
removetime = -2
sprpriority = 3
trans = add

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = F31

[State 0, Helper]
type = Helper
trigger1 = movehit = 1
helpertype = normal ;player
name = "White Flash"
ID = 9999
stateno = 9999
pos = 0,0
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1
size.xscale = 10
size.yscale = 10
supermove = 9999
pausemove = 9999
persistent = 0

[State 0, PlayerPush]
type = PlayerPush
trigger1 = 1
value = 0

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 5
anim = F870
scale = 2.2,2.2
pos = 26,-39
postype = p1  ;p2,front,back,left,right
facing = -1
vfacing = -1
bindtime = -1
removetime = -2
sprpriority = 3
ownpal = 1
ontop = 0
supermovetime = 9999
pausemovetime = 9999

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F8,0+random%4

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = S4,2+random%10
volume = 255
channel = 4

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F24,0+random%5


[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = movehit = 1 && p2movetype = H
anim = F10+random%2
angle = -25+random%50
pos = 0,-37
postype = p2  ;p2,front,back,left,right
facing = 1
bindtime = 1
removetime = -2
sprpriority = 3
scale = 1,1
ownpal = 1
ontop = 0
supermovetime = 9999
pausemovetime = 9999

[State 0, HitDef]
type = HitDef
fall.yvelocity = -6
trigger1 = animelem = 2
attr = S, NA
damage = 40,8
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 0, 10
sparkno = 0+random%4
sparkxy = -5+random%10, -37
hitsound = 24, 10+random%4
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -2,0
airguard.velocity = -2,0
air.type = High
air.velocity = -2,0
air.hittime = 12
envshake.time = 10
envshake.freq = 20
envshake.ampl = -5
envshake.phase = 10

[State 0, End]
type = ChangeState
trigger1 = animtime = 0
value = 50
ctrl = 1
;-----------------
[StateDef 834]
type = A
movetype= A
physics = A
juggle  = 1
velset = 3,-2
ctrl = 0
anim = 834
poweradd = 20
sprpriority = 2

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 5
triggerall = var(8) = 1
anim = 834
ownpal = 1
pos = 5,0
scale = 1.1,1.1
vel = 3,-2
accel = -0.15,0.1
postype = p1
facing = 1
bindtime = 1
removetime = -2
sprpriority = 3
trans = add

;itacz
[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 0
anim = 8001
ID = 8001
pos = 0,0
postype = p1
bindtime = 1
removetime = -2
supermovetime = 9999
pausemovetime = 9999
scale = 1,1
sprpriority = 0
ownpal = 1
ontop = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F14,3

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F8,0+random%4

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = S4,2+random%10
volume = 255
channel = 4

[State 0, Helper] 
type = Helper 
trigger1 = time = 1
helpertype = normal
name = "efekt teleport" 
ID = 84501
stateno = 4501
pos = -40,0
postype = p1 
ownpal = 1
size.xscale = 1
size.yscale = 1

[State 0, PosAdd]
type = PosAdd
trigger1 = time = 1
x = 20
y = 0

[State 0, Turn]
type = Turn
trigger1 = time = 1

[State 0, Helper]
type = Helper
trigger1 = time = 4
helpertype = normal;player
name = "kruk"
ID = 8341
stateno = 8341
pos = 25,0
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1
size.xscale = 1
size.yscale = 1

[State 0, End]
type = ChangeState
trigger1 = animtime = 0
value = 50
ctrl = 1
;-----------------
[StateDef 8341]
type = A
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 8341
poweradd = 20
sprpriority = 2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 1
value = S6,13

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 =  1
flag = noshadow

[State 0, VelSet]
type = VelSet
trigger1 = 1
x = 5


[State 0, HitDef]
type = HitDef
fall.yvelocity = -6
trigger1 = timemod = 5,0
attr = S, NA
damage = 20,4
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 0, 0
sparkno = 4
sparkxy = -15, -33
hitsound = 21, 5
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -2,0
airguard.velocity = -2,0
air.type = High
air.velocity = -2,0
air.hittime = 12
envshake.time = 10
envshake.freq = 20
envshake.ampl = -5
envshake.phase = 10
fall = 1

[State 0, Trans]
type = Trans
trigger1 = time > 50
trans = addalpha
alpha = 256-(time-50)*9.6,(time-50)*9.6

[State 0, End]
type = destroyself
trigger1 = time = 80
;-----------------
[StateDef 835]
type = A
movetype= A
physics = A
juggle  = 1
velset = 5,-3
ctrl = 0
anim = 835
poweradd = 20
sprpriority = 2

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 5
triggerall = var(8) = 1
anim = 835
ownpal = 1
pos = 5,0
scale = 1.1,1.1
vel = 6,-3
accel = -0.3,.15
postype = p1
facing = 1
bindtime = 1
removetime = -2
sprpriority = 3
trans = add

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F8,0+random%4

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = S4,2+random%10
volume = 255
channel = 4

[State 0, HitDef]
type = HitDef
givepower = 0
getpower = 0
fall.yvelocity = -6
trigger1 = AnimElem = 3
attr = S, NA
damage = 50,10
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 10, 10
sparkno = 0+random%4
sparkxy = -15, -10
hitsound = 35, 0+random%15;5, 21+random%5
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -3,10
airguard.velocity = -3,10
air.type = High
air.velocity = -3,10
air.hittime = 12
fall = 1
envshake.time = 40
envshake.ampl = 4
envshake.freq = 40
fall.yvelocity = -4

[State 0, End]
type = ChangeState
trigger1 = AnimTime = 0
value = 50
ctrl = 1
;-----------------
;Housenka
[StateDef 836]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 836
poweradd = 0
sprpriority = 2

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 5
triggerall = var(8) = 1
anim = 836
ownpal = 1
pos = 5,0
scale = 1.1,1.1
vel = 2,0
accel = -0.1,0
postype = p1
facing = 1
bindtime = 1
removetime = -2
sprpriority = 3
trans = add

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time > 8 && numexplod(810) = 0
anim = F810
id = 810
pos = 8,-51
scale = 0.30,0.45
postype = p1
facing = 1
bindtime = 10
removetime = -2
sprpriority = 3
ownpal = 1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
trigger2 = animelem = 3
value = F8,0+random%4
volume = 255
channel = 8

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
trigger2 = animelem = 4
value = F17,0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 4
value = S3,6

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 4
value = S3,6

[State 0, Helper]
type = Helper
trigger1 = animelem = 6
trigger2 = animelem = 7
trigger3 = animelem = 8
triggerall = power > 100
helpertype = normal;player
name = "katon"
ID = 838
stateno = 838
pos = 10,-51
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1
size.xscale = 0.2
size.yscale = 0.2

;Katon, Housenka no Jutsu
[State -1, Katon, Housenka no Jutsu]
type = ChangeState
value = 837
trigger1 = var(50) = 0 && (command = "c" || command = "x")
triggerall = time > 13
trigger2 = var(50) = 1 && random = [20,100+var(49)*(var(49))/10]
triggerall = power >= 200

[State 0, end]
type = ChangeState
trigger1 = time = 30
trigger2 = power < 200
trigger3 = win
trigger4 = lose
trigger5 = drawgame
trigger6 = life = 0
trigger7 = !ALive
trigger8 = var(50) = 1 && p2bodydist x < 0 && random = [0,100+var(49)*(var(49))/10]
trigger9 = p2statetype = L
value = 0
ctrl = 1
;-----------------
[StateDef 837]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 837
poweradd = 0
sprpriority = 2

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = animelem = 1
anim = F810
id = 810
pos = 8,-51
scale = 0.30,0.45
postype = p1
facing = 1
bindtime = 10
removetime = -2
sprpriority = 3
ownpal = 1

[State 0, Helper]
type = Helper
trigger1 = animelem = 1
trigger2 = animelem = 2
trigger3 = animelem = 3
triggerall = power > 100
helpertype = normal;player
name = "katon"
ID = 838
stateno = 838
pos = 10,-51
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1
size.xscale = 0.12
size.yscale = 0.12
supermovetime = 9999
pausemovetime = 9999


;Katon, Housenka no Jutsu
[State -1, Katon, Housenka no Jutsu]
type = ChangeState
value = 837
trigger1 = var(50) = 0 && (command = "c" || command = "x")
triggerall = time > 9
trigger2 = var(50) = 1 && random = [20,100+var(49)*(var(49))/10]
triggerall = power >= 200

[State 0, end]
type = ChangeState
trigger1 = time = 25
trigger2 = power < 100
trigger4 = win
trigger5 = lose
trigger6 = drawgame
trigger7 = life = 0
trigger8 = !ALive
trigger9 = var(50) = 1 && p2bodydist x < 0 && random = [0,100+var(49)*(var(49))/10]
trigger9 = p2statetype = L
value = 0
ctrl = 1

;-----------------
;Katon
[StateDef 838]
type = S
movetype= A
physics = S
juggle  = 1
ctrl = 0
anim = 838
poweradd = -100
sprpriority = 3

[State 0, TargetState]
type = TargetState
trigger1 = enemy(cond((enemy(0),alive),0,1)), var(51) = 0
trigger1 = !(enemynear, ishelper)
trigger1 = target, ishelper = 0
trigger1 = movehit
value = 109911

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 0
anim = F1470
ID = 840
pos = 0,0
postype = p1
bindtime = -1
removetime = -1
supermovetime=9999
pausemovetime=9999
scale = 0.3,0.3
sprpriority = 3
ownpal = 1

[State 0, ModifyExplod]
type = ModifyExplod
trigger1 = 1
ID =840
angle = -atan(vel y/vel x)*180/PI 

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 0
anim = F271
ID = 6001
pos = -15,0
postype = p1
bindtime = -1
removetime = 40
supermovetime=9999
pausemovetime=9999
scale = 0.4,0.4
sprpriority = 3

[State 0, ModifyExplod]
type = ModifyExplod
trigger1 = 1
ID =6001
angle = -atan(vel y/vel x)*180/PI

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = F10,10+random%4

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = F10,0

[State 0, EnvShake]
type = EnvShake
trigger1 = time%5 = 0
time = 6
freq = 20
ampl = 2
phase = 90

[State 0, VarRandom]
type = VarRandom
trigger1 = time = 0
v = 10
range = -100,75

[State 0, VarRandom]
type = VarRandom
trigger1 = time = 0
v = 8
range = 3,6

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow
ignorehitpause = 1

[State 0, VelSet]
type = VelSet
trigger1 = 1
x = (4+var(8))*1.5
y = var(10)/50.0

[State 0, HitOverride]
type = HitOverride
trigger1 = 1
attr = SCA,NA,SA,HA,NP,SP,HP,ST,HT,NT
stateno = 839
time = 9999
forceair = 1

[State 0, HitDef]
type = HitDef
givepower = 0
getpower = 0
fall.yvelocity = -6
trigger1 = timemod = 5,0
attr = S, NA
damage = 25,10
getpower = 0
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 0, 0
sparkno = 1402
sparkxy = -5+random%10, 0-random%10
hitsound = 10, 0
guardsound = 10, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -1,0
airguard.velocity = -1,0
air.type = High
air.velocity = -1,0
air.hittime = 12
envshake.time = 15
envshake.ampl = -9
envshake.freq = 25
envshake.phase = 10
palfx.time = 30
palfx.add = 240,50,0
palfx.mul = 250,224,120
palfx.sinadd = 110,55,85,10

[State 0, End]
type = changestate
trigger1 = movecontact
trigger2 = time = 100
value = 839

[State 0, End]
type = changestate
trigger1 = pos y > 0
value = 840
persistent = 1


;-----------------
;Katon
[StateDef 839]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 839
poweradd = 0
sprpriority = 3

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 0
anim = F1451
ID = 1451
pos = 0,0
postype = p1
bindtime = -1
removetime = 12
supermovetime=9999
pausemovetime=9999
scale = 0.55,0.55
sprpriority = 3

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = time = 0
id = 840

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 =  1
flag = noshadow

[State 0, VelSet]
type=VelSet
trigger1= 1
x=2-time/10

[State 0, End]
type = destroyself
trigger1 = time = 12
;-----------------
;Katon
[StateDef 840]
type = S
movetype= A
physics = S
anim = 861
sprpriority = 3

[State 0, VelSet]
type = VelSet
trigger1 = 1 
x = 0
y = 0

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = time = 5
id = 840

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = F10,0

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time= 0
anim = F1402
ID = 1402
pos = 0,0
postype = p1
bindtime = 1
removetime = -2
supermove
pausemove
scale = 1.2,1.2
sprpriority = 3

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 1
anim = F550
ID = 24
pos = 0,3
facing = 1
postype = p1  ;p2,front,back,left,right
scale = 0.4,0.4
sprpriority = 0
bindtime = 1
ownpal = 1
ontop = 0

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 =  1
flag = noshadow

[State 0, End]
type = destroyself
trigger1 = time = 40
;-----------------
[StateDef 841]
type = S
movetype= A
physics = S
juggle  = 1
velset = -3,0
ctrl = 0
anim = 841
poweradd = 0
sprpriority = 2

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 5
triggerall = var(8) = 1
anim = 841
ownpal = 1
pos = 5,0
scale = 1.1,1.1
vel = 3,0
accel = -0.15,0
postype = p1
facing = 1
bindtime = 1
removetime = -2
sprpriority = 3
trans = add

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
value = F17,0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = S2,19
volume = 255
channel = 2

[State 0, Helper]
type = Helper
trigger1 = animelem = 2
helpertype = normal;player
name = "klon"
ID = 842
stateno = 842
pos = 0,0
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1
size.xscale = 1
size.yscale = 1

[State 0, End]
type = ChangeState
trigger1 = animtime = 0
value = 0
ctrl = 1

;-----------------
[StateDef 842]
type = S
movetype= A
physics = S
juggle  = 1
velset = 10,0
ctrl = 0
anim = 842
poweradd = -500
sprpriority = 1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 24
value = F15,2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S6,11

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time < 5 && timemod = 2,0
anim = 80004
ID = 80004
pos = 25+(random%27-13)*2,-20
random = 30,60
vel = -2.3,-1
postype = p1
bindtime = 1
removetime = 87
supermovetime = 9999
pausemovetime = 9999
scale = 0.5,0.5
sprpriority = 3
ownpal = 1
ontop = 0

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time < 5 && timemod = 2,0
anim = 80003
ID = 80003
pos = -5-(random%27-13)*2,-20
random = 30,60
vel = 2.3,-1
postype = p1
bindtime = 1
removetime = 87
supermovetime = 9999
pausemovetime = 9999
scale = 0.7,0.7
sprpriority = 3
ownpal = 1
ontop = 0

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = timemod = 4,0 && time < 5
anim = 80000
ID = 80000
pos = (random%27-13)*1,-25-(random%27-13)*0.8
random = 30,60
vel = -0.2,-1
accel = 0,0.03
postype = p1
bindtime = 1
removetime = 95
supermovetime = 9999
pausemovetime = 9999
scale = 0.12,0.12
sprpriority = 3
ownpal = 1
ontop = 0

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = timemod = 4,0 && time < 5
anim = 80000
ID = 80000
pos = (random%27-13)*1,-25-(random%27-13)*0.8
random = 30,60
vel = 0.2,-1
accel = 0,0.03
postype = p1
bindtime = 1
removetime = 95
supermovetime = 9999
pausemovetime = 9999
scale = 0.12,0.12
sprpriority = 3
ownpal = 1
ontop = 0

[State 0, AngleDraw]
type = AngleDraw
trigger1 = time > 24
scale = 1.5,1.5

[State 0, Trans]
type = Trans
trigger1 = time > 24
trans = add

[State 0, PosAdd]
type = PosAdd
trigger1 = time = 25
x = 10
y = -10

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 24
anim = F1340
ID = 1340
pos = 0,-20
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
supermovetime = 9999
pausemovetime = 9999
scale = 1.7,1.7
sprpriority = 5
ontop = 0
ownpal = 1

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 24
anim = F1190
ID = 1190
pos = 0,0
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
supermovetime = 9999
pausemovetime = 9999
scale = 2.3,2.3
sprpriority = 6
ontop = 0
ownpal = 1

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 24
anim = F1090
ID = 1090
pos = -20,0
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
supermovetime = 9999
pausemovetime = 9999
scale = 1,1
sprpriority = 4
ontop = 0
ownpal = 1

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 24
anim = F1090
ID = 1090
pos = 20,0
postype = p1  ;p2,front,back,left,right
facing = -1
vfacing = 1
bindtime = 1
removetime = -2
supermovetime = 9999
pausemovetime = 9999
scale = 1,1
sprpriority = 4
ontop = 0
ownpal = 1

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 24
anim = F1060
ID = 1060
pos = 0,0
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
supermovetime = 9999
pausemovetime = 9999
scale = 2,2
sprpriority = 3
ontop = 0
ownpal = 1

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 24
anim = F1080
ID = 1080
pos = 0,0
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
supermovetime = 9999
pausemovetime = 9999
scale = 2,2
sprpriority = -1
ontop = 0
ownpal = 1

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 24
anim = F570
ID = 570
pos = 0,0
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
vel = 2,-1
bindtime = 1
removetime = -2
supermovetime = 9999
pausemovetime = 9999
scale = 2,2
sprpriority = 1
ontop = 0
ownpal = 1

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 24
anim = F570
ID = 570
pos = 0,0
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
vel = -2,-1
bindtime = 1
removetime = -2
supermovetime = 9999
pausemovetime = 9999
scale = 2,2
sprpriority = 1
ontop = 0
ownpal = 1

;efekt tsukyomi ultimate
[State 0, PalFX]
type = PalFX
trigger1 = parent, var(15) = 1
triggerall = time < 25
time = 1
add = 0,0,0
sinadd = -256,-256,-256, 60
invertall = 0
color = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = S1,12

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = S1,12

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = S1,12

[State 0, ChangeAnim]
type = ChangeAnim
trigger1 = time = 0 && pos y < 0
value = 8421

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 =  1
flag = noshadow



[State 0, EnvShake]
type = EnvShake
trigger1 = time = 0
time = 5
freq = 60
ampl = -4
phase = 60

[State 0, EnvShake]
type = EnvShake
trigger1 = time = 25
time = 10
freq = 100
ampl = -8
phase = 100


[State 0, HitDef]
type = HitDef
givepower = 0
getpower = 0
fall.yvelocity = -6
trigger1 = timemod = 5,0
attr = S, NA
damage = 100,20
getpower = 0
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 0, 0
sparkno = 710
sparkxy = -15, -35
hitsound = F15, 3
guardsound = F15, 3
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -7,-7
airguard.velocity = -7,-7
air.type = High
air.velocity = -7,-7
air.hittime = 12
envshake.time = 10
envshake.freq = 20
envshake.ampl = -5
envshake.phase = 10
fall = 1
palfx.time = 30
palfx.add = 240,50,0
palfx.mul = 250,224,120
palfx.sinadd = 110,55,85,10

[State 0, End]
type = destroyself
trigger1 = animtime = 0
;-----------------
;Goukakyu Hold
[StateDef 844]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 844
poweradd = 0
sprpriority = 0

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 5
triggerall = var(8) = 1
anim = 844
ownpal = 1
pos = 5,0
scale = 1.1,1.1
vel = 2,0
accel = -0.1,0
postype = p1
facing = 1
bindtime = 1
removetime = -2
sprpriority = 3
trans = add

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time > 27 && numexplod(810) = 0
anim = F810
id = 810
pos = 28,-36
scale = 0.4,0.6
postype = p1
facing = 1
bindtime = 1
removetime = -2
sprpriority = 3
supermovetime=9999
pausemovetime=9999
ownpal = 1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
trigger2 = animelem = 3
trigger3 = animelem = 5
value = F8,0+random%4
volume = 255
channel = 8

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
trigger2 = animelem = 4
trigger3 = animelem = 6
value = F17,0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
value = S3,5

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
value = S3,5

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 8
value = S3,9

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 8
value = S3,9

[State 0, PowerAdd]
type = PowerAdd
trigger1 = time > 30
value = -5

[State 0, Helper]
type = Helper
trigger1 = animelem = 10
helpertype = normal;player
name = "katon"
ID = 846
stateno = 846
pos = 30,-36
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1
size.xscale = 0.7
size.yscale = 0.7

[State 0, End]
type = ChangeState
trigger1 = time > 50 && var(50) = 0 && command = "hold_x"
trigger2 = time > 50 && var(50) = 1 && random = [120,200+var(49)*(var(49))/10]
triggerall = power > 500
triggerall= var(1) = 2
triggerall = var(6) < 5
triggerall = numhelper(500) < 5
triggerall = 0
value = 8451
ctrl = 0

[State 0, end]
type = ChangeState
trigger1 = time > 50 && var(50) = 0 && command != "hold_c"
trigger2 = power = 0
trigger3 = time > 50 && var(50) = 1 && random = [0,100-var(49)*(var(49))/100]
trigger4 = win
trigger5 = lose
trigger6 = drawgame
trigger7 = life = 0
trigger8 = !ALive
trigger9 = time > 30 && var(50) = 1 && p2bodydist x < 0 && random = [0,100+var(49)*(var(49))/10]
value = 845
ctrl = 1
;-----------------
[StateDef 8451]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 8451
poweradd = 0
sprpriority = 0

[State 1500]
type = SuperPause
trigger1 = time = 0
time = 20
movetime = 0
supermove = 0
anim = -1
sound = F19,2
pos = 3,-35
darken = 1
unhittable = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
value = S3,13

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
value = S3,13

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
value = S3,13


[State 0, VarSet]
type = VarSet
trigger1 = time = 0
v = 13
value = 0

[State 0, parent VarAdd]
type = VarAdd
trigger1 = 1
v = 13
value = 1

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 0
anim = 3003
ID = 3003
pos = 0,0
postype = p1
bindtime = -1
removetime = 50
supermovetime = 9999
pausemovetime = 9999
scale = 4,4
sprpriority = 200
ownpal = 1
ontop = 0

[State 905, 7]
type = Envcolor
trigger1 = time = 0
value = 0,0,0
time = 50
under = 1

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 0
anim = 509
ID = 509
pos = 13,-52
postype = p1
facing = 1
vfacing = 1
bindtime = -1
removetime = -1
scale = 0.15,0.15
sprpriority = 10
ontop = 0
ownpal = 1
removeongethit = 1
supermovetime = 9999
pausemovetime = 9999

[State 0, ModifyExplod]
type = ModifyExplod
trigger1 = timemod = 3,1
ID = 509
scale = 0.15,0.15
removeongethit = 1

[State 0, ModifyExplod]
type = ModifyExplod
trigger1 = timemod = 6,1
ID = 509
scale = 0.12,0.12
removeongethit = 1

[State 0, ModifyExplod]
type = ModifyExplod
trigger1 = timemod = 9,1
ID = 509
scale = 0.09,0.09
removeongethit = 1

[State 0, ModifyExplod]
type = ModifyExplod
trigger1 = timemod = 12,1
ID = 509
scale = 0.12,0.12
removeongethit = 1

[State 0, BGPalFX]
type = BGPalFX
trigger1 = Time >= 0
Time = 5
color = 0
add = 0,0,0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 1
value = S6,14
volume = 255
channel = 6

[State 0, PowerAdd]
type = PowerAdd
trigger1 = 1
value = -2

[State 0, PowerAdd]
type = LifeAdd
trigger1 = 1
value = -2

[State 0, Helper]
type = Helper
trigger1 = var(50) = 0 && command = "hold_x"
triggerall = numhelper(500) < 5
triggerall = var(6) < 5
trigger1 = timemod = 50,0
trigger2 = timemod = 50,0
trigger2 = var(50) = 1
triggerall = time > 2
triggerall = power > 800
helpertype = normal
name = "ama"
ID = 500
stateno = 525
pos = 20+time,0
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1
size.xscale = 0.5
size.yscale = 0.5

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = command != "hold_c"
id = 80006

[State 0, End]
type = ChangeState
trigger1 = var(50) = 0 && command != "hold_c"
trigger2 = var(50) = 1 && random = [0,100+var(49)*(var(49))/10]
trigger3 = power = 0
trigger4 = win
trigger5 = lose
trigger6 = drawgame
trigger7 = life = 0
trigger8 = !ALive
trigger9 = var(50) = 1 && p2bodydist x < 0
value = 8452
ctrl = 0
;-----------------
[StateDef 845]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 845
poweradd = 0
sprpriority = 0

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 5
triggerall = var(8) = 1
anim = 845
ownpal = 1
pos = 5,0
scale = 1.1,1.1
vel = 2,0
accel = -0.1,0
postype = p1
facing = 1
bindtime = 1
removetime = -2
sprpriority = 3
trans = add

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
value = S4,1
volume = 255
channel = 4

[State 0, End]
type = ChangeState
trigger1 = animtime = 0
value = 0
ctrl = 1
;-----------------
[StateDef 8452]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 8452
poweradd = 0
sprpriority = 0

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = 1
id = 509

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 5
triggerall = var(8) = 1
anim = 8452
ownpal = 1
pos = 5,0
scale = 1.1,1.1
vel = 2,0
accel = -0.1,0
postype = p1
facing = 1
bindtime = 1
removetime = -2
sprpriority = 3
trans = add

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
value = S4,1
volume = 255
channel = 4

[State 0, End]
type = ChangeState
trigger1 = animtime = 0
value = 0
ctrl = 1
;-----------------
;Katon
[StateDef 846]
type = S
movetype= A
physics = S
juggle  = 1
ctrl = 0
anim = 846
poweradd = -200
sprpriority = 3

[State 0, TargetState]
type = TargetState
trigger1 = enemy(cond((enemy(0),alive),0,1)), var(51) = 0
trigger1 = !(enemynear, ishelper)
trigger1 = target, ishelper = 0
trigger1 = movehit
value = 109912

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 844
time = 1
facing = 0
pos = 30,-36

[State 0, EnvShake]
type = EnvShake
trigger1 = time%5 = 0
time = 20
freq = 25
ampl = -3
phase = 90

[State 0, ScreenBound]
type = ScreenBound
trigger1 = 1
value = 1

[State 0, NotHitBy]
type = NotHitBy
trigger1 = time >= 0
value = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
time = -1

[State 0, PlayerPush]
type = PlayerPush
trigger1 = 1
value = 1

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow
ignorehitpause = 1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = F10,20

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = F10,3

[State 0, PlaySnd]
type = PlaySnd
trigger1 = timemod = 15,0
value = F10,0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = timemod = 15,0
value = F10,2

[State 0, VarAdd]
type = VarAdd
trigger1 = time > 0
triggerall = var(12) < 40
trigger2 = var(12) = 0
v = 12
value = 1

[State 0, VarSet]
type = VarSet
trigger1 = var(12) >= 40
v = 12
value = 0

[State 0, Ogien na ziemi]
type = Explod
ownpal = 1
trigger1 = time%6 = 0 && numexplod(1462) < 10 
anim = F1462
ID = 1462
pos = 50+var(12)*6,-pos y +15
postype = p1
bindtime = 5
removetime = -2
scale = 2.5,2
sprpriority = 5
ownpal = 1
supermovetime=9999
pausemovetime=9999

[State 0, Iskry]
type = Explod
ownpal = 1
trigger1 = time % 16 = 0 && numexplod(271) <= 2
anim = F271
ID = 271
pos = 100,5
postype = p1
vel = 0,0
bindtime = 1
removetime = 60
supermovetime=9999
pausemovetime=9999
scale = 1,1
sprpriority = 5
ownpal = 1

[State 0, Kola]
type = Explod
ownpal = 1
trigger1 = time > 15 && time % 20 = 0 && numexplod(820) <= 1
anim = F820
id = 820
pos = 200,0
scale = 1.3,2
vel = -4,0
postype = p1
facing = -1
bindtime = 1
removetime = -2
sprpriority = 6
supermovetime=9999
pausemovetime=9999

[State 0, hitdef]
type = HitDef
givepower = 0
getpower = 0
fall.yvelocity = -6
trigger1 = timemod = 5,0
attr = S, NA
damage = 12,5
getpower = 0
animtype = Light
guardflag = MA
hitflag = MAF
priority = 4
sprpriority = 4
pausetime = 0, 4
sparkno = 1400
sparkxy = -30+random%30, -7-random%40
hitsound = F10, 0
guardsound = F10, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -3,-2
airguard.velocity = -3,-1
air.type = High
air.velocity = -3,-1
air.hittime = 12
fall = 1
palfx.time = 30
palfx.add = 240,50,0
palfx.mul = 250,224,120
palfx.sinadd = 110,55,85,10

[State 0, end]
type = changestate
trigger1 = parent, stateno != 844 && parent, stateno != 8451
value = 847
;-----------------
;Katon
[StateDef 847]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 847
poweradd = 0
sprpriority = 3

[State 0, ScreenBound]
type = ScreenBound
trigger1 = 1
value = 1

[State 0, NotHitBy]
type = NotHitBy
trigger1 = time >= 0
value = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
time = -1

[State 0, PlayerPush]
type = PlayerPush
trigger1 = 1
value = 1

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow
ignorehitpause = 1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = F10,3

[State 0, PlaySnd]
type = PlaySnd
trigger1 = timemod = 15,0
value = F10,0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = timemod = 15,0
value = F10,2

[State 0, end]
type = destroyself
trigger1 = animtime = 0
;-----------------
;Goukakyu
[StateDef 849]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 849
poweradd = 0
sprpriority = 0

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 5
triggerall = var(8) = 1
anim = 849
ownpal = 1
pos = 5,0
scale = 1.1,1.1
vel = 2,0
accel = -0.1,0
postype = p1
facing = 1
bindtime = 1
removetime = -2
sprpriority = 3
trans = add

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 40
anim = F810
id = 80006
pos = 26,-36
scale = 0.4,0.6
postype = p1
facing = 1
bindtime = 1
removetime = 10
sprpriority = 3
supermovetime=9999
pausemovetime=9999
ownpal = 1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
trigger2 = animelem = 3
trigger3 = animelem = 5
trigger4 = animelem = 7
trigger5 = animelem = 9
trigger6 = animelem = 11
value = F8,0+random%4
volume = 255
channel = 8

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
trigger2 = animelem = 4
trigger3 = animelem = 6
trigger4 = animelem = 8
trigger5 = animelem = 10
trigger6 = animelem = 12
value = F17,0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
value = S3,5

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
value = S3,5

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 14
value = S3,9

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 14
value = S3,9

[State 0, Helper]
type = Helper
trigger1 = animelem = 16
helpertype = normal;player
name = "katon"
ID = 850
stateno = 850
pos = 50,-35
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1
size.xscale = 1
size.yscale = 1

[State 0, end]
type = ChangeState
trigger1 = time = 60 ;&& (numhelper(850) = 0 || command != "hold_c")
value = 845
ctrl = 1
;-----------------
;Katon
[StateDef 850]
type = S
movetype= A
physics = S
juggle  = 1
ctrl = 0
anim = 850
poweradd = -2000
sprpriority = 3

[State 0, TargetState]
type = TargetState
trigger1 = enemy(cond((enemy(0),alive),0,1)), var(51) = 0
trigger1 = !(enemynear, ishelper)
trigger1 = target, ishelper = 0
trigger1 = movehit
value = 109913

[State 0, EnvShake]
type = EnvShake
trigger1 = time%5 = 0
time = 10
freq = 30
ampl = -3
phase = 90

[State 0, ScreenBound]
type = ScreenBound
trigger1 = 1
value = 0

[State 0, NotHitBy]
type = NotHitBy
trigger1 = time >= 0
value = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
time = -1

[State 0, PlayerPush]
type = PlayerPush
trigger1 = 1
value = 1

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow
ignorehitpause = 1

[State 0, VelSet]
type = VelSet
trigger1 = time = [10,20] 
x = 3+time/2
y = 0

[State 0, VelSet]
type = VelSet
trigger1 = time > 20 && time < 100 && vel x > 5
x = 8-(time-20)/20+var(1)
y = 0

[State 0, VelSet]
type = VelSet
trigger1 = time > 20 && vel x <= 5
x = 5
y = 0


[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = F10,20

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = F10,3

[State 0, PlaySnd]
type = PlaySnd
trigger1 = timemod = 15,0
value = F10,0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = timemod = 15,0
value = F10,2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 120
value = F10,3

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 120
value = F10,3

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 120
value = F15,2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 120
value = F15,3

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 120
value = F15,4

[State 0, Kula]
type = Explod
ownpal = 1
trigger1 = time = 0
anim = F1480
pos = 20,0
postype = p1
bindtime = 130
removetime = 130
scale = 1.8,1.8
sprpriority = 4
ownpal = 1

[State 0, Skaly]
type = Explod
ownpal = 1
trigger1 = time%10 = 0 && numexplod(1490) < 8 && time < 100
anim = F1490
ID = 1490
pos = 10,-pos y +15
postype = p1
bindtime = 5
removetime = -2
scale = 1.5,1.2
sprpriority = 3
ownpal = 1
supermovetime=9999
pausemovetime=9999

[State 0, Ogien na ziemi]
type = Explod
ownpal = 1
trigger1 = time%10 = 0 && numexplod(1462) < 10 && time < 100
anim = F1462
ID = 1462
pos = 20,-pos y +15
postype = p1
bindtime = 5
removetime = -2
scale = 3.5,2.1
sprpriority = 5
ownpal = 1
supermovetime=9999
pausemovetime=9999

[State 0, Wybuch ziemia]
type = Explod
ownpal = 1
trigger1 = time%30 = 0 && numexplod(1200) < 2 && time < 100
anim = F1200
ID = 1200
pos = 20,-pos y-20
postype = p1
bindtime = 10
vfacing = -1
removetime = 60
scale = 1.5,1.5
sprpriority = 3
ownpal = 1
supermovetime=9999
pausemovetime=9999

[State 0, Iskry]
type = Explod
ownpal = 1
trigger1 = time%30 = 0 && numexplod(271) < 1 && time < 100
anim = F271
ID = 271
pos = 30,5
postype = p1
vel = 0,0
bindtime = -1
removetime = -2
scale = 1.5,1.5
sprpriority = 5
ownpal = 1
supermovetime=9999
pausemovetime=9999

[State 0, Iskry]
type = Explod
ownpal = 1
trigger1 = time%30 = 0 && numexplod(272) < 1 && time < 100
anim = F271
ID = 272
pos = 0,5
postype = p1
vel = 0,0
bindtime = -1
removetime = -2
scale = 1.5,1.5
sprpriority = 5
ownpal = 1
supermovetime=9999
pausemovetime=9999

[State 0, Kola]
type = Explod
ownpal = 1
trigger1 = time > 10 && time%10 = 0 && numexplod(820) < 2 && time < 100
anim = F810
id = 810
pos = -25,-5
scale = 1.3,2
vel = -3,0
postype = p1
facing = -1
bindtime = 1
removetime = -2
sprpriority = 4
ownpal = 1
supermovetime=9999
pausemovetime=9999

[State 0, Wybuch]
type = Explod
ownpal = 1
trigger1 = time = 115
anim = F1340
id = 1340
pos = 25,0
scale = 1.5,1.5
vel = 0,0
postype = p1
facing = 1
bindtime = -1
removetime = -2
sprpriority = 5
ownpal = 1
supermovetime=9999
pausemovetime=9999

[State 0, Swietliki]
type = Explod
ownpal = 1
trigger1 = time = 115
anim = F1331
id = 1331
pos = 25,0
scale = 2,2
vel = 0,0
postype = p1
facing = 1
bindtime = -1
removetime = -2
sprpriority = 6
ownpal = 1
supermovetime=9999
pausemovetime=9999

[State 0, Helper]
type = Helper
trigger1 = time = 115
helpertype = normal ;player
name = "White Flash"
ID = 9999
stateno = 9999
pos = 0,0
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1
size.xscale = 10
size.yscale = 10
supermovetime = 9999
pausemovetime = 9999
persistent = 0

[State 0, TargetBind]
type = TargetBind
trigger1 = movehit && time < 120
time = 1
pos = 30,30

[State 0, HitDef]
type = HitDef
givepower = 0
getpower = 0
fall.yvelocity = -6
trigger1 = timemod = 5,0 && time <= 120
attr = S, NA
damage = 25,10
givepower = 0
getpower = 0
animtype = Light
guardflag = MA
hitflag = MAF
priority = 4
sprpriority = 4
pausetime = 0, 0
sparkno = 1400
sparkxy = -30+random%30, -5-random%30
hitsound = F10, 0
guardsound = F10, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -6,-2
airguard.velocity = -6,-1
air.type = High
air.velocity = -6,-2
air.hittime = 12
envshake.time = 15
envshake.ampl = -9
envshake.freq = 25
envshake.phase = 10
fall = 1
palfx.time = 30
palfx.add = 240,50,0
palfx.mul = 250,224,120
palfx.sinadd = 110,55,85,10

[State 0, HitDef]
type = HitDef
givepower = 0
getpower = 0
fall.yvelocity = -6
trigger1 = time = 125
hitonce = 1
attr = S, NA
damage = 200,100
givepower = 0
getpower = 0
animtype = Light
guardflag = MA
hitflag = MAF
priority = 4
sprpriority = 4
pausetime = 0, 0
sparkno = 1400
sparkxy = -30+random%30, -5-random%30
hitsound = F10, 0
guardsound = F10, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -5,-10
airguard.velocity = -5,-10
air.type = High
air.velocity = -5,-10
air.hittime = 12
envshake.time = 30
envshake.freq = 30
envshake.ampl = -7
envshake.phase = 10
fall = 1
palfx.time = 30
palfx.add = 240,50,0
palfx.mul = 250,224,120
palfx.sinadd = 110,55,85,10

[State 0, End]
type = destroyself
trigger1 = time = 130
;-----------------
;Kruki Przelot
[StateDef 852]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 852
poweradd = -800
sprpriority = 0

[State 0, NotHitBy]
type = NotHitBy
trigger1 = time > 20
value = SCA,NA,SA,HA,NP,SP,HP,ST,HT
time = 1

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 5
triggerall = var(8) = 1
anim = 852
ownpal = 1
pos = 5,0
scale = 1.1,1.1
vel = 2,0
accel = -0.1,0
postype = p1
facing = 1
bindtime = 1
removetime = 20
sprpriority = 3
trans = add

[State -3]
type = AfterImage
trigger1 = time = 0
time = 1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
value = S2,20
volume = 255
channel = 2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F8,0
volume = 255
channel = 8

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 20
value = S6,13

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 30
trigger2 = time = 90
trigger3 = time = 150
value = S6,11

[State 0, Helper]
type = Helper
trigger1 = time > 20 && timemod = 8,0
helpertype = normal;player
name = "kruki"
ID = 853
stateno = 853
pos = 0,-5-(random%27-13)*2
postype = back    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1
size.xscale = 1
size.yscale = 1

[State 0, BGPalFX]
type = BGPalFX
trigger1 = Time >= 20 && time < 155
Time = 1
color = 256-((time-20)*1.896)
add = 0-((time-20)*0.37),0-((time-20)*0.37),0-((time-20)*0.37)
ignorehitpause = 1

[State 0, BGPalFX]
type = BGPalFX
trigger1 = Time = 155
Time = 70
color = 0
add = -50,-50,-50
ignorehitpause = 1

[State 0, Trans]
type = Trans
trigger1 = time > 20
trans = addalpha
alpha = 256-((time-20)*2.13), 0+((time-20)*2.13)

[State 0, End]
type = ChangeState
trigger1 = time >= 155 && p2bodydist x <= 300 && p2bodydist y = [-30,50]
value = 8521
ctrl = 1

[State 0, End]
type = ChangeState
triggerall = time >= 155
trigger1 = p2bodydist x > 300 
trigger2 = p2bodydist y != [-30,50]
value = 0
ctrl = 1
;-----------------
[StateDef 8521]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 8521
poweradd = -200
sprpriority = 2

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 55
anim = 804
ownpal = 1
pos = 100,0
scale = 1,1
vel = -8,0
postype = p1
facing = -1
bindtime = 1
removetime = -2
sprpriority = 3

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time > 67 && timemod = 4,0
anim = 80000
ID = 80000
pos = (random%27-13)*1,-25-(random%27-13)*0.8
random = 30,60
vel = -0.2,-1
accel = 0,0.03
postype = p1
bindtime = 1
removetime = 95
supermovetime = 9999
pausemovetime = 9999
scale = 0.12,0.12
sprpriority = 3
ownpal = 1
ontop = 0

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time > 67 && timemod = 4,0
anim = 80000
ID = 80000
pos = (random%27-13)*1,-25-(random%27-13)*0.8
random = 30,60
vel = 0.2,-1
accel = 0,0.03
postype = p1
bindtime = 1
removetime = 95
supermovetime = 9999
pausemovetime = 9999
scale = 0.12,0.12
sprpriority = 3
ownpal = 1
ontop = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 67
value = F3,2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 67
value = F31

[State 0, AfterImage]
type = AfterImage
trigger1 = time = 67
time = -1
length = 10
palcolor = 256
palinvertall = 0
palbright = 0,0,0
palcontrast = 120,120,120
palpostbright = 0,0,0
paladd = 5,5,5
palmul = .65,.65,.65
timegap = 1
framegap = 1
trans = add

[State 0, Explod]
type = Explod
trigger1 = time > 67
anim = F20
ID = 20
pos = -10+random%20,-10-random%50
postype = p1  ;P2,front,back,left,right
scale = 0.8,0.4
vel = -2,0
sprpriority = 0
bindtime = 1
ownpal = 1
ontop = 0
supermovetime = 9999
pausemovetime = 9999

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 67 && pos y > -5
anim = F676
ID = 24
pos = 15,4
postype = p1  ;P2,front,back,left,right
scale = 0.4,0.25
vel = -1,0
sprpriority = 2
bindtime = 1
ownpal = 1
ontop = 0
supermovetime = 9999
pausemovetime = 9999

[State 0, BGPalFX]
type = BGPalFX
trigger1 = movehit = 1
Time = -1
color = 256
add = 0,0,0
ignorehitpause = 1

[State 0, Helper]
type = Helper
trigger1 = movehit = 1
helpertype = normal ;player
name = "White Flash"
ID = 9999
stateno = 9999
pos = 0,0
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1
size.xscale = 10
size.yscale = 10
supermove = 9999
pausemove = 9999
persistent = 0

[State 0, PlayerPush]
type = PlayerPush
trigger1 = 1
value = 0

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 67
anim = F870
scale = 2.2,2.2
pos = 29,-37
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = -1
bindtime = -1
removetime = -2
sprpriority = 3
ownpal = 1
ontop = 0
supermovetime = 9999
pausemovetime = 9999

[State 0, PosAdd]
type = PosAdd
trigger1 = time = 49
x = p2bodydist x + 60
y = 0

[State 0, Turn]
type = Turn
trigger1 = time = 50

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 57
value = S6,11

[State 0, Helper] 
type = Helper 
trigger1 = time = 50
helpertype = normal
name = "efekt teleport" 
ID = 85211
stateno = 4501
pos = 0,0
postype = p1 
ownpal = 1
size.xscale = 1
size.yscale = 1

;kruki
[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 51
anim = 80004
ID = 80004
pos = 25+(random%27-13)*2,5
random = 30,60
vel = -2.3,-1
postype = p1
bindtime = 1
removetime = 87
supermovetime = 9999
pausemovetime = 9999
scale = 0.5,0.5
sprpriority = 3
ownpal = 1
ontop = 0

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 51
anim = 80003
ID = 80003
pos = -5-(random%27-13)*2,5
random = 30,60
vel = 2.3,-1
postype = p1
bindtime = 1
removetime = 87
supermovetime = 9999
pausemovetime = 9999
scale = 0.7,0.7
sprpriority = 3
ownpal = 1
ontop = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
value = S7,12
volume = 255
channel = 7

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 9
value = F8,0+random%4

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 10
value = S4,2+random%10
volume = 255
channel = 4

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 9
value = F24,0+random%5

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = movehit = 1 && p2movetype = H
anim = F12
angle = random
scale = 1,1
pos = -10,-40
postype = p2  ;p2,front,back,left,right
facing = 1
bindtime = 1
removetime = -2
sprpriority = 3
ownpal = 1
ontop = 0
supermovetime = 9999
pausemovetime = 9999

;piora
[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time > 50 && timemod = 4,0
anim = 80000
ID = 80000
pos = (random%27-13)*1,-25-(random%27-13)*0.8
random = 30,60
vel = -0.2,-1
accel = 0,0.03
postype = p1
bindtime = 1
removetime = 55
supermovetime = 9999
pausemovetime = 9999
scale = 0.12,0.12
sprpriority = 3
ownpal = 1
ontop = 0

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time > 50 && timemod = 4,0
anim = 80000
ID = 80000
pos = (random%27-13)*1,-25-(random%27-13)*0.8
random = 30,60
vel = 0.2,-1
accel = 0,0.03
postype = p1
bindtime = 1
removetime = 55
supermovetime = 9999
pausemovetime = 9999
scale = 0.12,0.12
sprpriority = 3
ownpal = 1
ontop = 0

[State 0, VelSet]
type = VelSet
trigger1 = time > 67 && time < 72
x = 10
y = 0

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = unguardable

[State 0, HitDef]
type = HitDef
givepower = 0
getpower = 0
fall.yvelocity = -6
trigger1 = (!time)
attr = S, NA
damage = 100,100
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 0, 50
sparkno = 0+random%4
sparkxy = -15, -38
hitsound = 24, 10+random%4
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -5
airguard.velocity = -5,-.8
air.type = High
air.velocity = -5,-2
air.hittime = 12
envshake.time = 10
envshake.freq = 20
envshake.ampl = -5
envshake.phase = 10
fall = 1

[State 0, End]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;-----------------
[StateDef 853]
type = A
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 853
poweradd = 0
sprpriority = 2

[State 0, HitOverride]
type = HitOverride
trigger1 = 1
attr = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
stateno = 8531
time = 9999
forceair = 1

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 =  1
flag = noshadow

[State 0, VarRandom]
type = VarRandom
trigger1 = !time
v = 10
range = -100,80

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow
ignorehitpause = 1

[State 0, VelSet]
type = VelSet
trigger1 = 1
x = 5
y = var(10)/100.0

[State 0, HitDef]
type = HitDef
givepower = 0
getpower = 0
fall.yvelocity = -6
trigger1 = !time
attr = S, NA
damage = 25,5
getpower = 0
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 0, 50
sparkno = 4
sparkxy = -15, 0
hitsound = -1, 2
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 160
ground.velocity = -1,1
airguard.velocity = -1,-1
air.type = High
air.velocity = -1,2
air.hittime = 160
fall = 1

[State 0, Trans]
type = Trans
trigger1 = time > 50
trans = addalpha
alpha = 256-(time-50)*9.6,(time-50)*9.6

[State 0, End]
type = destroyself
trigger1 = time = 100
;-----------------
[StateDef 8531]
type = A
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 853
poweradd = 0
sprpriority = 2

[State 0, NotHitBy]
type = NotHitBy
trigger1 = time >= 0
value = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
time = -1

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 =  1
flag = noshadow

[State 0, VarRandom]
type = VarRandom
trigger1 = !time
v = 10
range = -100,80

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow
ignorehitpause = 1

[State 0, VelSet]
type = VelSet
trigger1 = 1
x = 5
y = var(10)/100.0

[State 0, Trans]
type = Trans
trigger1 = 1
trans = addalpha
alpha = 256-(time)*25.6,(time)*25.6

[State 0, End]
type = destroyself
trigger1 = time = 10
;-----------------
[StateDef 855]
type = A
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 855
poweradd = -200
sprpriority = 0

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 5
triggerall = var(8) = 1
anim = 855
ownpal = 1
pos = 5,0
scale = 1.1,1.1
vel = -3,-3
accel = -0.15,0.15
postype = p1
facing = 1
bindtime = 1
removetime = 20
sprpriority = 3
trans = add

;piora
[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = timemod = 6,0
anim = 80000
ID = 80000
pos = (random%27-13)*1,-25-(random%27-13)*0.8
random = 30,60
vel = -0.2,-1
accel = 0,0.03
postype = p1
bindtime = 1
removetime = 55
supermovetime = 9999
pausemovetime = 9999
scale = 0.12,0.12
sprpriority = 3
ownpal = 1
ontop = 0

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = timemod = 6,0
anim = 80000
ID = 80000
pos = (random%27-13)*1,-25-(random%27-13)*0.8
random = 30,60
vel = 0.2,-1
accel = 0,0.03
postype = p1
bindtime = 1
removetime = 55
supermovetime = 9999
pausemovetime = 9999
scale = 0.12,0.12
sprpriority = 3
ownpal = 1
ontop = 0

;kruki
[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 1
trigger2 = time = 2
trigger3 = time = 3
anim = 80004
ID = 80004
pos = 25+(random%27-13)*2,5
random = 30,60
vel = -2.3,-1
postype = p1
bindtime = 1
removetime = 47
supermovetime = 9999
pausemovetime = 9999
scale = 0.5,0.5
sprpriority = 3
ownpal = 1
ontop = 0

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 1
trigger2 = time = 2
trigger3 = time = 3
anim = 80003
ID = 80003
pos = -5-(random%27-13)*2,5
random = 30,60
vel = 2.3,-1
postype = p1
bindtime = 1
removetime = 47
supermovetime = 9999
pausemovetime = 9999
scale = 0.7,0.7
sprpriority = 3
ownpal = 1
ontop = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 13
value = S6,11
volume = 255
channel = 6

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 13
value = S6,12
volume = 255
channel = 6

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
value = S2,19
volume = 255
channel = 2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F8,0
volume = 255
channel = 8

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 13
value = F17,0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 3
trigger2 = time = 8
value = S6,11

[State 1640, X]
Type=VarSet
Trigger1=1
fvar(13)=(EnemyNear(0),Pos X-Pos X)*Facing

[State 1640, Y]
Type=VarSet
trigger1=1
fvar(14)=(EnemyNear(0),pos Y-Pos Y)

[State 1640, Vector Length]
Type=VarSet
trigger1=1
fvar(15)=Exp(0.5*ln((fvar(13)*fvar(13))+(fvar(14)*fvar(14))))

[State 310, 1]
type = PosAdd
trigger1 = time = 6
x = 150
y = -100

[State 0, Turn]
type = Turn
trigger1 = time = 7
trigger1 = p2bodydist x < 0
persistent = 0

[State 0, Helper]
type = Helper
trigger1 = time = 14
trigger2 = time = 20
triggerall = power >= 100
helpertype = normal;player
name = "kruki"
ID = 856
stateno = 856
pos = 20+(random%27-13)*2,-30-(random%27-13)*2
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1
size.xscale = 0.5
size.yscale = 0.5

[State 0, Helper]
type = Helper
trigger1 = time = 15
trigger2 = time = 21
triggerall = power >= 100
helpertype = normal;player
name = "kruki"
ID = 856
stateno = 856
pos = 15+(random%27-13)*2,-20-(random%27-13)*2
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1
size.xscale = 0.5
size.yscale = 0.5

[State 0, Helper]
type = Helper
trigger1 = time = 16
trigger2 = time = 22
triggerall = power >= 100
helpertype = normal;player
name = "kruki"
ID = 856
stateno = 856
pos = 10+(random%27-13)*2,-10-(random%27-13)*2
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1
size.xscale = 0.5
size.yscale = 0.5

[State 0, Helper]
type = Helper
trigger1 = time = 17
trigger2 = time = 23
triggerall = power >= 100
helpertype = normal;player
name = "kruki"
ID = 856
stateno = 856
pos = 5+(random%27-13)*2,0-(random%27-13)*2
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1
size.xscale = 0.5
size.yscale = 0.5

[State 0, End]
type = ChangeState
trigger1 = time = 30
value = 50
ctrl = 1
;------------------------------------------------------------------
;Shuriken lot
[Statedef 856]
type = S
movetype= A
physics = N
juggle  = 3
velset = 0,0
ctrl = 0
poweradd = -100
anim = 856; pojedyñcza animacja shurikena (obracanie ju¿ jest zakodowane)
sprpriority = 2

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[State 0, AngleSet]
type = AngleSet
trigger1 = time > 20
value = -time*30

[State 0, AngleDraw]
type = AngleDraw
trigger1 = time > 20

[State 0, VelSet]
type=VelSet
trigger1= time = 20
triggerall = parent, stateno != 70653
x=(Parent,Fvar(13))/(Parent,fvar(15))*11
y=(Parent,FVar(14))/(Parent,fvar(15))*11

[State 0, VelSet]
type=VelSet
trigger1= time = 20
triggerall = parent, stateno = 70653
x=(Parent,Fvar(13))/(Parent,fvar(15))*11
y=0+(random%27-13)/6

[State 0, 1]
type = HitDef
givepower = 0
getpower = 0
fall.yvelocity = -6
trigger1 = !time
attr = A, NP
damage = 30
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 3, 15
sparkno = 2001
sparkxy = -5-random%20,0
hitsound = 21,5
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -2
airguard.velocity = -1.9,-.8
air.type = High
air.velocity = -2,-3
air.hittime = 12
envshake.time = 10
envshake.freq = 20
envshake.ampl = -5
envshake.phase = 10

[State 0, ChangeState]
type = ChangeState
trigger1 = movehit
value = 8563
ctrl = 0

[State 0, HitOverride]
type = HitOverride
trigger1 = 1
attr = SCA,NA,SA,HA,NP,SP,HP,ST,HT,NT
stateno = 8561
time = 9999
forceair = 1

[State 0, DestroySelf]
type = DestroySelf
trigger1 = frontedgebodydist < -50
ignorehitpause = 1

[State 0, ChangeState]
type = ChangeState
trigger1 = moveguarded
value = 8561
ctrl = 0

[State 1003, ChangeState]
type = changestate
trigger1 = pos y > -1
value = 8562

;------------------------------------------------------------------
;Shuriken odbicie
[Statedef 8561]
type    = S
movetype= A
physics = S
juggle  = 4
poweradd= 0
anim = 8561
ctrl = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = p2stateno != [120,155]
trigger1 = time = 0
value = F21,5

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = p2stateno != [120,155]
trigger1 = time = 0
anim = F230
pos = 0,0
postype = p1
scale =  1,1
sprpriority = 3
bindtime = 1
supermovetime = 9999
pausemovetime = 9999

[State 6002, NotHitBy]
type = NotHitBy
trigger1 = !time
value = SCA
time = -1

[State 0, AngleDraw]
type = AngleDraw
trigger1 = 1
value = -time*30

[State 0, Gravity]
type = Gravity
trigger1 = 1

[State 6002, VelSet]
type = VelSet
trigger1 = prevstateno != 1710
trigger1 = time = 0
y = -(random%30+20)/10

[State 6002, VelSet]
type = VelSet
trigger1 = prevstateno != 1710
x = (random%40+20)/10

[State 6002, VelSet]
type = VelSet
trigger1 = prevstateno = 1710
trigger1 = time = 0
y = -(random%50+20)/10

[State 6002, VelSet]
type = VelSet
trigger1 = prevstateno = 1710
x = (random%60+20)/10

[State 0, Turn]
type = Turn
trigger1 = time = 0

[State 0, ChangeState]
type = ChangeState
trigger1 = pos Y >= -5
value = 8562

;------------------------------------------------------------------
;Shuriken wbicie
[StateDef 8562]
type = A
movetype= A
physics = N
juggle  = 3
velset = 0,0
ctrl = 0
anim = 8562
sprpriority = 2

[State 6002, NotHitBy]
type = NotHitBy
trigger1 = !time
value = SCA
time = -1

[State 0, AngleDraw]
type = AngleDraw
trigger1 = 1
value = -45

[State 1012, Trans]
type = Trans
trigger1 = time >= 35
trans = addalpha
alpha = 256-(time-35)*9.6,(time-35)*9.6

[State 0, PosSet]
type = PosSet
trigger1 = 1
y = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = F21,0

[State 0, DestroySelf]
type = DestroySelf
trigger1 = time = 65

;------------------------------------------------------------------
;trafienie kunaiem /shurikenem
[Statedef 8563]
type = S
movetype= A
physics = N
juggle  = 3
velset = 0,0
sprpriority = 2

[State 6002, NotHitBy]
type = NotHitBy
trigger1 = !time
value = SCA
time = -1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = p2stateno = [5000,5999]
value = F21,5

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 0
anim = F10
angle = -25+random%50
ID = 10
scale = 0.5,0.5
pos = 10,0
postype = p1
facing = 1
vfacing = 1
removetime = -2
sprpriority = 3
supermovetime = 9999
pausemovetime = 9999

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = movehit = 1 && p2movetype = H
anim = F11
angle = -25+random%50
pos = -10,-40
postype = p2  ;p2,front,back,left,right
facing = 1
bindtime = 1
removetime = -2
sprpriority = 3
scale = 0.5,0.5
ownpal = 1
ontop = 0
supermovetime = 9999
pausemovetime = 9999

[State 0, DestroySelf]
type = DestroySelf
trigger1 = time = 0
ignorehitpause = 1
;-----------------
;Housenka Air
[StateDef 858]
type = A
movetype= A
physics = A
juggle  = 1
velset = -1,-4
ctrl = 0
anim = 858
poweradd = 20
sprpriority = 2

[State 0, Explod]
type = Explod
trigger1 = time = 5
triggerall = var(8) = 1
anim = 858
ownpal = 1
pos = 5,0
scale = 1.1,1.1
vel = -3,-3
accel = -0.15,0.25
postype = p1
facing = 1
bindtime = 1
removetime = -2
sprpriority = 3
trans = add

[State 0, Explod]
type = Explod
trigger1 = time > 8 && numexplod(810) = 0
anim = F810
id = 810
pos = 13,-43
scale = 0.30,0.45
postype = p1
facing = 1
bindtime = 10
angle = -45
removetime = -2
sprpriority = 3
ownpal = 1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 4
value = S3,6

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 4
value = S3,6

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
trigger2 = animelem = 3
value = F8,0+random%4
volume = 255
channel = 8

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
trigger2 = animelem = 4
value = F17,0

[State 0, Helper]
type = Helper
trigger1 = animelem = 6
trigger2 = animelem = 7
trigger3 = animelem = 8
triggerall = power > 100
helpertype = normal;player
name = "katon"
ID = 859
stateno = 859
pos = 18,-46
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1
size.xscale = 0.2
size.yscale = 0.2

;Katon, Housenka no Jutsu
[State -1, Katon, Housenka no Jutsu]
type = ChangeState
value = 8581
trigger1 = var(50) = 0 && (command = "c" || command = "x")
triggerall = time > 13
trigger2 = var(50) = 1 && random = [20,100+var(49)*(var(49))/10]
trigger2 = abs((p2dist x/((p2dist y+1)+cond(p2statetype=C,-5,-20)))*10) = [3,16]
triggerall = power >= 200

[State 0, end]
type = ChangeState
trigger1 = time = 30
trigger2 = power < 200
trigger3 = win
trigger4 = lose
trigger5 = drawgame
trigger6 = life = 0
trigger7 = !ALive
trigger8 = var(50) = 1 && p2bodydist x < 0 && random = [0,100+var(49)*(var(49))/10]
trigger9 = p2statetype = L
value = 50
ctrl = 1
;-----------------
[StateDef 8581]
type = A
movetype= A
physics = A
juggle  = 1
ctrl = 0
anim = 8581
poweradd = 0
sprpriority = 2

[State 0, VelSet]
type = VelSet
trigger1 = time = 0
y = -3

[State 0, Explod]
type = Explod
trigger1 = animelem = 1 
anim = F810
id = 80006
pos = 13,-43
scale = 0.30,0.45
postype = p1
facing = 1
bindtime = 5
removetime = -2
sprpriority = 3
supermovetime=9999
pausemovetime=9999
angle = 315

[State 0, Helper]
type = Helper
trigger1 = animelem = 1
trigger2 = animelem = 2
trigger3 = animelem = 3
triggerall = power > 100
helpertype = normal;player
name = "katon"
ID = 859
stateno = 859
pos = 18,-46
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1
size.xscale = 0.2
size.yscale = 0.2

;Katon, Housenka no Jutsu
[State -1, Katon, Housenka no Jutsu]
type = ChangeState
value = 8581
trigger1 = var(50) = 0 && (command = "c" || command = "x")
triggerall = time > 9
trigger2 = var(50) = 1 && random = [20,100+var(49)*(var(49))/10]
trigger2 = abs((p2dist x/((p2dist y+1)+cond(p2statetype=C,-5,-20)))*10) = [3,16]
triggerall = power >= 200

[State 0, end]
type = ChangeState
trigger1 = time = 25
trigger2 = power < 100
trigger4 = win
trigger5 = lose
trigger6 = drawgame
trigger7 = life = 0
trigger8 = !ALive
trigger9 = var(50) = 1 && p2bodydist x < 0 && random = [0,100+var(49)*(var(49))/10]
trigger9 = p2statetype = L
value = 50
ctrl = 1
;-----------------
;Katon
[StateDef 859]
type = A
movetype= A
physics = S
juggle  = 1
ctrl = 0
anim = 838
poweradd = -100
sprpriority = 3

[State 0, TargetState]
type = TargetState
trigger1 = enemy(cond((enemy(0),alive),0,1)), var(51) = 0
trigger1 = !(enemynear, ishelper)
trigger1 = target, ishelper = 0
trigger1 = movehit
value = 109911

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 0
anim = F1470
ID = 840
pos = 0,0
postype = p1
bindtime = -1
removetime = -1
supermovetime=9999
pausemovetime=9999
scale = 0.3,0.3
sprpriority = 3
ownpal = 1

[State 0, ModifyExplod]
type = ModifyExplod
trigger1 = 1
ID =840
angle = -atan(vel y/vel x)*180/PI 

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 0
anim = F271
ID = 6001
pos = -15,0
postype = p1
bindtime = -1
removetime = 40
supermovetime=9999
pausemovetime=9999
scale = 0.4,0.4
sprpriority = 3

[State 0, ModifyExplod]
type = ModifyExplod
trigger1 = 1
ID =6001
angle = -atan(vel y/vel x)*180/PI

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = F10,10+random%4

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = F10,0

[State 0, EnvShake]
type = EnvShake
trigger1 = time%5 = 0
time = 6
freq = 20
ampl = 2
phase = 90

[State 0, VarRandom]
type = VarRandom
trigger1 = time = 0
v = 10
range = -100,75

[State 0, VarRandom]
type = VarSet
trigger1 = time = 0
v = 7
value = 2+random%6

[State 0, VarRandom]
type = VarSet
trigger1 = time = 0
v = 8
value = 3+random%3

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow
ignorehitpause = 1

[State 0, VelSet]
type = VelSet
trigger1 = 1
x = 3+var(7)
y = (4+var(8))*1.5;var(10)/50.0

[State 0, HitOverride]
type = HitOverride
trigger1 = 1
attr = SCA,NA,SA,HA,NP,SP,HP,ST,HT,NT
stateno = 839
time = 9999
forceair = 1

[State 0, HitDef]
type = HitDef
givepower = 0
getpower = 0
fall.yvelocity = -6
trigger1 = timemod = 5,0
attr = S, NA
damage = 25,10
getpower = 0
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 0, 0
sparkno = 1402
sparkxy = -5+random%10, 0-random%10
hitsound = 10, 0
guardsound = 10, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -1,0
airguard.velocity = -1,0
air.type = High
air.velocity = -1,0
air.hittime = 12
envshake.time = 15
envshake.ampl = -9
envshake.freq = 25
envshake.phase = 10
palfx.time = 30
palfx.add = 240,50,0
palfx.mul = 250,224,120
palfx.sinadd = 110,55,85,10

[State 0, end]
type = changestate
trigger1 = movecontact
trigger2 = time = 100
value = 860

[State 0, end]
type = changestate
trigger1 = pos y > 0
value = 861
;-----------------
;Katon
[StateDef 860]
type = A
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 839
poweradd = 0
sprpriority = 3

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 0
anim = F1451
ID = 1451
pos = 0,0
postype = p1
bindtime = -1
removetime = 12
supermovetime=9999
pausemovetime=9999
scale = 0.55,0.55
sprpriority = 3

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = time = 0
id = 840

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 =  1
flag = noshadow

[State 0, VelSet]
type=VelSet
trigger1= 1
x=1;-time/10
y=1;-time/10

[State 0, end]
type = changestate
trigger1 = pos y >= 0
value = 861

[State 0, end]
type = destroyself
trigger1 = time = 20
;-----------------
;Katon
[StateDef 861]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 861
poweradd = 0
sprpriority = 3

[State 0, VelSet]
type = VelSet
trigger1 = 1 
x = 0
y = 0

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = time = 5
id = 840

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = F10,0

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time= 0
anim = F1402
ID = 1402
pos = 0,0
postype = p1
bindtime = 1
removetime = -2
supermove
pausemove
scale = 1.2,1.2
sprpriority = 3

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 1
anim = F550
ID = 24
pos = 0,3
facing = 1
postype = p1  ;p2,front,back,left,right
scale = 0.4,0.4
sprpriority = 0
bindtime = 1
ownpal = 1
ontop = 0

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 =  1
flag = noshadow

[State 0, End]
type = destroyself
trigger1 = time = 40
;-----------------
;Goukakyu Air
[StateDef 863]
type = A
movetype= A
physics = A
juggle  = 1
velset = 3,-3
ctrl = 0
anim = 863
poweradd = 0
sprpriority = 2

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 5
triggerall = var(8) = 1
anim = 863
ownpal = 1
pos = 5,0
scale = 1.1,1.1
vel = -3,-3
accel = 0.15,0.15
postype = p1
facing = 1
bindtime = 1
removetime = -2
sprpriority = 3
trans = add


[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
trigger2 = animelem = 3
value = F8,0+random%4
volume = 255
channel = 8

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
trigger2 = animelem = 4
value = F17,0

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = animelem = 5
anim = F810
id = 80006
pos = 13,-43
scale = 0.40,0.55
postype = p1
facing = 1
bindtime = 10
removetime = -2
sprpriority = 3
supermovetime=9999
pausemovetime=9999
ownpal = 1
angle = 315

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 5
value = S3,9
volume = 255
channel = 3

[State 0, VelSet]
type = VelSet
trigger1 = animelem = 5
x = -5
y = -3

[State 0, Helper]
type = Helper
trigger1 = animelem = 5
helpertype = normal;player
name = "katon"
ID = 864
stateno = 864
pos = 45,-15
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1
size.xscale = 0.6
size.yscale = 0.6
pausemovetime = 9999

[State 0, End]
type = ChangeState
trigger1 = time = 30
value = 50
ctrl = 1
;-----------------
;Katon
[StateDef 864]
type = A
movetype= A
physics = S
juggle  = 1
ctrl = 0
anim = 864
poweradd = -1000
sprpriority = 3

[State 0, TargetState]
type = TargetState
trigger1 = enemy(cond((enemy(0),alive),0,1)), var(51) = 0
trigger1 = !(enemynear, ishelper)
trigger1 = target, ishelper = 0
trigger1 = movehit
value = 109912

[State 0, ScreenBound]
type = ScreenBound
trigger1 = 1
value = 0

[State 0, NotHitBy]
type = NotHitBy
trigger1 = time >= 0
value = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
time = -1

[State 0, PlayerPush]
type = PlayerPush
trigger1 = 1
value = 1

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 0
anim = F270
ID = 6001
pos = 0,0
postype = p1
bindtime = -1
removetime = -1
supermovetime=9999
pausemovetime=9999
scale = 1,1
sprpriority = 3
ownpal = 1

[State 0, ModifyExplod]
type = ModifyExplod
trigger1 = 1
ID = 6001
angle = atan(vel y/vel x)*180/PI

[State 0, EnvShake]
type = EnvShake
trigger1 = time%5 = 0
time = 10
freq = 30
ampl = -3
phase = 90

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow
ignorehitpause = 1

[State 0, VelSet]
type = VelSet
trigger1 = time = [10,20] 
x = 3+time/2
y = 3+time/2

[State 0, VelSet]
type = VelSet
trigger1 = time > 20 && time < 100 && vel x > 5
x = 8-(time-20)/20+var(1)
y = 8-(time-20)/20+var(1)

[State 0, VelSet]
type = VelSet
trigger1 = time > 20 && vel x <= 5
x = 5
y = 5

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = F10,20

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = F10,3

[State 0, PlaySnd]
type = PlaySnd
trigger1 = timemod = 15,0
value = F10,0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = timemod = 15,0
value = F10,2

[State 0, Iskry]
type = Explod
ownpal = 1
trigger1 = time%30 = 0 && numexplod(271) < 2 && time < 100
anim = F271
ID = 271
pos = 15,15
postype = p1
vel = 0,0
bindtime = -1
removetime = -2
scale = 1.1,1.1
sprpriority = 5
ownpal = 1
supermovetime=9999
pausemovetime=9999

[State 0, ModifyExplod]
type = ModifyExplod
trigger1 = 1
ID = 271
angle = -atan(vel y/vel x)*180/PI

[State 0, Iskry]
type = Explod
ownpal = 1
trigger1 = time%30 = 0 && numexplod(272) < 2 && time < 100
anim = F271
ID = 272
pos = -10,-10
postype = p1
vel = 0,0
bindtime = -1
removetime = -2
scale = 1.2,1.2
sprpriority = 5
ownpal = 1
supermovetime=9999
pausemovetime=9999

[State 0, ModifyExplod]
type = ModifyExplod
trigger1 = 1
ID = 272
angle = -atan(vel y/vel x)*180/PI

[State 0, Kola]
type = Explod
ownpal = 1
trigger1 = time > 10 && time%10 = 0 && numexplod(820) < 2 && time < 100
anim = F810
id = 810
pos = 15,15
scale = 1.3,2
vel = -3,-3
postype = p1
facing = -1
bindtime = 1
removetime = -2
sprpriority = 4
ownpal = 1
supermovetime=9999
pausemovetime=9999

[State 0, ModifyExplod]
type = ModifyExplod
trigger1 = 1
ID = 810
angle = atan(vel y/vel x)*180/PI

[State 0, Kula]
type = Explod
ownpal = 1
trigger1 = time = 0
anim = F1480
id = 1480
pos = 0,0
postype = p1
bindtime = -1
removetime = -1
scale = 1.5,1.5
sprpriority = 4
angle = -45
ownpal = 1
supermovetime=9999
pausemovetime=9999

[State 0, HitDef]
type = HitDef
givepower = 0
getpower = 0
fall.yvelocity = -6
trigger1 = timemod = 3,0
attr = S, NA
damage = 75,25
givepower = 0
getpower = 0
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 0, 3
sparkno = 1400
sparkxy = -30+random%30, -5-random%30
hitsound = F10, 0
guardsound = F10, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -5,5
airguard.velocity = -5,5
air.type = High
air.velocity = -5,5
air.hittime = 12
envshake.time = 15
envshake.ampl = -7
envshake.freq = 25
envshake.phase = 10
fall = 1
palfx.time = 30
palfx.add = 240,50,0
palfx.mul = 250,224,120
palfx.sinadd = 110,55,85,10

[State 0, end]
type = changestate
trigger1 = pos y > -10
value = 866
;-----------------
;Katon ziemia
[StateDef 866]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 866
poweradd = 0
sprpriority = 3

[State 0, Wybuch]
type = Explod
ownpal = 1
trigger1 = time = 0
anim = F1450
id = 1450
pos = 0,0
scale = 1.4,0.5
postype = p1
facing = 1
bindtime = -1
removetime = -2
sprpriority = 3
ownpal = 1
supermovetime=9999
pausemovetime=9999

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = 1
id = 6001

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = 1
id = 1480

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = F10,3

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = F10,3

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = F15,2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = F15,3

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = F15,4

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 0
anim = F550
ID = 550
pos = 0,5
postype = p1
bindtime = 1
removetime = 40
supermovetime = 9999
pausemovetime = 9999
scale = 1.6,1.6
sprpriority = 0
ownpal = 1

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 0
anim = F1400
ID = 1400
pos = 0,-10
vel = -1.7,-2
postype = p1
bindtime = 1
removetime = 30
supermovetime = 9999
pausemovetime = 9999
scale = 1,1
sprpriority = 3
ownpal = 1

[State 0, Wybuch]
type = Explod
ownpal = 1
trigger1 = time = 0
anim = F1340
id = 1340
pos = 0,0
scale = 1,1
vel = 0,0
postype = p1
facing = 1
bindtime = -1
removetime = -2
sprpriority = 5
ownpal = 1
supermovetime=9999
pausemovetime=9999

[State 0, Swietliki]
type = Explod
ownpal = 1
trigger1 = time = 0
anim = F1331
id = 1331
pos = 0,0
scale = 1.5,1.5
vel = 0,0
postype = p1
facing = 1
bindtime = -1
removetime = -2
sprpriority = 6
ownpal = 1
supermovetime=9999
pausemovetime=9999

[State 0, PosSet]
type = PosSet
trigger1 = 1
y = 0

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 =  1
flag = noshadow

[State 0, HitDef]
type = HitDef
fall.yvelocity = -6
trigger1 = !time
hitonce = 1
attr = S, NA
damage = 200,100
givepower = 0
getpower = 0
animtype = Light
guardflag = MA
hitflag = MAF
priority = 4
sprpriority = 4
pausetime = 0, 0
sparkno = 1400
sparkxy = -30+random%30, -5-random%30
hitsound = F10, 0
guardsound = F10, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -3,-6
airguard.velocity = -3,-6
air.type = High
air.velocity = -3,-6
air.hittime = 12
envshake.time = 30
envshake.freq = 30
envshake.ampl = -7
envshake.phase = 10
fall = 1
palfx.time = 30
palfx.add = 240,50,0
palfx.mul = 250,224,120
palfx.sinadd = 110,55,85,10

[State 0, end]
type = destroyself
trigger1 = time = 50
;-----------------
;Air Katon
[StateDef 868]
type = A
movetype= A
physics = A
juggle  = 1
ctrl = 0
anim = 829
poweradd = 0
sprpriority = 2

[State 0, VelSet]
type = VelSet
trigger1 = time = 0
y = -8

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 5
triggerall = var(8) = 1
anim = 829
ownpal = 1
pos = 5,0
scale = 1.1,1.1
vel = 2,-1
accel = -0.1,0.05
postype = p1
facing = 1
bindtime = 1
removetime = -2
sprpriority = 3
trans = add

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
value = S4,12
volume = 255
channel = 4

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F8,3
volume = 255
channel = 8

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time > 6 && numexplod(80007) = 0
anim = F810
id = 80007
pos = 11,-32
scale = 0.3,0.45
postype = p1
facing = 1
bindtime = 10
removetime = -2
sprpriority = 3
supermovetime=9999
pausemovetime=9999
ownpal = 1
angle = 90

[State 0, Helper]
type = Helper
trigger1 = time > 6 && timemod = 6,0
helpertype = normal;player
name = "katon"
ID = 8231
stateno = 8231
pos = 8,-18
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1
size.xscale = 0.10
size.yscale = 0.10

[State 0, End]
type = ChangeState
trigger1 = time = 50
value = 50
ctrl = 1

;-----------------
[StateDef 870]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 870
poweradd = 0
sprpriority = 2

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 5
triggerall = var(8) = 1
anim = 870
ownpal = 1
pos = 5,0
scale = 1.1,1.1
vel = -3,0
accel = 0.15,0
postype = p1
facing = 1
bindtime = 1
removetime = -2
sprpriority = 3
trans = add

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 5
triggerall = var(8) = 1
anim = 870
ownpal = 1
pos = 5,0
scale = 1.1,1.1
vel = 3,0
accel = -0.15,0
postype = p1
facing = 1
bindtime = 1
removetime = -2
sprpriority = 3
trans = add

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F17,0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
value = S2,19
volume = 255
channel = 2

[State 0, Helper]
type = Helper
triggerall = time = 5
trigger1 = numhelper(871) = 0
helpertype = normal;player
name = "klon"
ID = 871
stateno = 871
pos = 0,0
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1
size.xscale = 1
size.yscale = 1

[State 0, End]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;-----------------
[StateDef 8701]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 8701
poweradd = 0
sprpriority = 2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 2
value = S6,11

[State 0, PosSet]
type = PosSet
trigger1 = 1
y = 0

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 =  1
flag = noshadow

[State 0, Helper] 
type = Helper 
trigger1 = time = 1
helpertype = normal
name = "efekt teleport" 
ID = 84501
stateno = 4501
pos = 0,0
postype = p1 
ownpal = 1
size.xscale = 1
size.yscale = 1

[State 0, End]
type = destroyself
trigger1 = animtime = 0

;-----------------
[StateDef 871]
type = S
movetype= A
physics = S
juggle  = 1
velset = 7,0
ctrl = 0
anim = 871
poweradd = -50
sprpriority = 2

[State 0, PlayerPush]
type = PlayerPush
trigger1 = 1
value = 1


[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = movehit = 1 && p2movetype = H
anim = F10+random%2
angle = -25+random%50
pos = 0,-43
postype = p2  ;p2,front,back,left,right
facing = 1
bindtime = 1
removetime = -2
sprpriority = 3
scale = 1,1
ownpal = 1
ontop = 0
supermovetime = 9999
pausemovetime = 9999

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 5
triggerall = parent, var(8) = 1
anim = 871
ownpal = 1
pos = 5,0
scale = 1.1,1.1
vel = 1,0
accel = -0.05,0
postype = p1
facing = 1
bindtime = 1
removetime = -2
sprpriority = 3
trans = add

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S6,11

[State 0, PosSet]
type = PosSet
trigger1 = 1
y = 0

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 =  1
flag = noshadow

[State 0, HitOverride]
type = HitOverride
trigger1 = 1
attr = SCA,NA,SA,HA,NP,SP,HP,ST,HT,NT
stateno = 875
time = 9999
forceair = 1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F8,0+random%4

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = S4,2+random%10
volume = 255
channel = 4

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F24,0+random%5

[State 0, HitDef]
type = HitDef
fall.yvelocity = -6
trigger1 = animelem = 2
attr = S, NA
damage = 35,7
getpower = 0
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 0, 5
sparkno = 0+random%4
sparkxy = -15, -43
hitsound = 24, 10+random%4
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -1,-2
airguard.velocity = -1,-2
air.type = High
air.velocity = -1,-2
air.hittime = 12
envshake.time = 10
envshake.freq = 20
envshake.ampl = -5
envshake.phase = 10

[State 0, End]
type = ChangeState
trigger1 = animtime = 0
value = 8701
ctrl = 1

[State 0, End]
type = ChangeState
trigger1 = time > 7 && parent, command = "y"
trigger2 = time > 7 && parent, var(50) = 1 && random = [300,301+parent,var(49)*(root,var(49)/20)+10+root,var(48)/50]
triggerall = ishelper(871) && movecontact
triggerall = power >= 50
value = 872
ctrl = 1
;-----------------
[StateDef 872]
type = S
movetype= A
physics = S
juggle  = 1
velset = 3,0
ctrl = 0
anim = 872
poweradd = -50
sprpriority = 2

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = movehit = 1 && p2movetype = H
anim = F10+random%2
angle = -25+random%50
pos = 0,-44
postype = p2  ;p2,front,back,left,right
facing = 1
bindtime = 1
removetime = -2
sprpriority = 3
scale = 1,1
ownpal = 1
ontop = 0
supermovetime = 9999
pausemovetime = 9999

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 =  1
flag = noshadow

[State 0, HitOverride]
type = HitOverride
trigger1 = 1
attr = SCA,NA,SA,HA,NP,SP,HP,ST,HT,NT
stateno = 875
time = 9999
forceair = 1

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 5
triggerall = parent, var(8) = 1
anim = 806
ownpal = 1
pos = 5,0
scale = 1.1,1.1
vel = 1,0
accel = -0.05,0
postype = p1
facing = 1
bindtime = 1
removetime = -2
sprpriority = 3
trans = add

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 2
anim = F870
scale = 1.8,1.8
pos = 8,-37
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = -1
bindtime = -1
removetime = -2
sprpriority = 3
ownpal = 1
ontop = 0
supermovetime = 9999
pausemovetime = 9999

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F8,0+random%4

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = S4,2+random%10
volume = 255
channel = 4

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F24,0+random%5

[State 0, HitDef]
type = HitDef
fall.yvelocity = -6
trigger1 = (!time)
attr = S, NA
damage = 35,7
getpower = 0
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 0, 5
sparkno = 0+random%4
sparkxy = -15, -44
hitsound = 24, 10+random%4
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -2
airguard.velocity = -2,-.8
air.type = High
air.velocity = -2,-2
air.hittime = 12
envshake.time = 10
envshake.freq = 20
envshake.ampl = -5
envshake.phase = 10

[State 0, End]
type = ChangeState
trigger1 = animtime = 0
value = 8701
ctrl = 1


[State 0, End]
type = ChangeState
trigger1 = time > 2 && parent, command = "y"
trigger2 = time > 2 && parent, var(50) = 1 && random = [300,301+parent,var(49)*(root,var(49)/20)+10+root,var(48)/50]
triggerall = ishelper(871) && movecontact
triggerall = power >= 50
value = 873
ctrl = 1
;-----------------
[StateDef 873]
type = S
movetype= A
physics = S
juggle  = 1
velset = 4,0
ctrl = 0
anim = 873
poweradd = -50
sprpriority = 2

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = movehit = 1 && p2movetype = H
anim = F10+random%2
angle = -25+random%50
pos = 0,-42
postype = p2  ;p2,front,back,left,right
facing = 1
bindtime = 1
removetime = -2
sprpriority = 3
scale = 1,1
ownpal = 1
ontop = 0
supermovetime = 9999
pausemovetime = 9999

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 =  1
flag = noshadow

[State 0, HitOverride]
type = HitOverride
trigger1 = 1
attr = SCA,NA,SA,HA,NP,SP,HP,ST,HT,NT
stateno = 875
time = 9999
forceair = 1

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 5
triggerall = parent, var(8) = 1
anim = 807
ownpal = 1
pos = 5,0
scale = 1.1,1.1
vel = 1,0
accel = -0.05,0
postype = p1
facing = 1
bindtime = 1
removetime = -2
sprpriority = 3
trans = add

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 5
anim = F860
scale = 1.8,1.8
pos = 2,-35
postype = p1  ;p2,front,back,left,right
facing = -1
vfacing = -1
bindtime = -1
removetime = -2
sprpriority = 3
ownpal = 1
ontop = 0
supermovetime = 9999
pausemovetime = 9999

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F8,0+random%4

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = S4,2+random%10
volume = 255
channel = 4

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F24,0+random%5

[State 0, HitDef]
type = HitDef
fall.yvelocity = -6
trigger1 = AnimElem = 2
attr = S, NA
damage = 35,7
getpower = 0
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 0, 5
sparkno = 0+random%4
sparkxy = -15, -42
hitsound = 24, 10+random%4
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -2,0
airguard.velocity = -2,2
air.type = High
air.velocity = -2,2
air.hittime = 12

[State 0, End]
type = ChangeState
trigger1 = animtime = 0
value = 8701
ctrl = 1

[State 0, End]
type = ChangeState
trigger1 = time > 2 && parent, command = "y"
trigger2 = time > 2 && parent, var(50) = 1 && random = [300,301+parent,var(49)*(root,var(49)/20)+10+root,var(48)/50]
triggerall = ishelper(871) && movecontact
triggerall = power >= 50
value = 874
ctrl = 1
;-----------------
[StateDef 874]
type = S
movetype= A
physics = S
juggle  = 1
velset = 2,0
ctrl = 0
anim = 874
poweradd = -50
sprpriority = 2

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = movehit = 1 && p2movetype = H
anim = F10+random%2
angle = -25+random%50
pos = 0,-39
postype = p2  ;p2,front,back,left,right
facing = 1
bindtime = 1
removetime = -2
sprpriority = 3
scale = 1,1
ownpal = 1
ontop = 0
supermovetime = 9999
pausemovetime = 9999

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 0
anim = 804
ownpal = 1
pos = 100,0
scale = 1,1
vel = -8,0
postype = p1
facing = -1
bindtime = 1
removetime = -2
sprpriority = 3

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 5
triggerall = parent, var(8) = 1
anim = 804
ownpal = 1
pos = 5,0
scale = 1.1,1.1
vel = 3,0
accel = -0.05,0
postype = p1
facing = 1
bindtime = 1
removetime = -2
sprpriority = 3
trans = add

[State 0, Helper] 
type = Helper 
trigger1 = time = 1
helpertype = normal
name = "efekt teleport" 
ID = 84501
stateno = 4501
pos = 0,0
postype = p1 
ownpal = 1
size.xscale = 1
size.yscale = 1

[State 0, VelSet]
type = VelSet
trigger1 = time > 5 && time < 12
x = 9
y = 0

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 =  1
flag = noshadow

[State 0, HitOverride]
type = HitOverride
trigger1 = 1
attr = SCA,NA,SA,HA,NP,SP,HP,ST,HT,NT
stateno = 875
time = 9999
forceair = 1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 1
value = F3,2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 1
value = F31

[State 0, AfterImage]
type = AfterImage
trigger1 = time = 0
time = -1
length = 10
palcolor = 256
palinvertall = 0
palbright = 0,0,0
palcontrast = 120,120,120
palpostbright = 0,0,0
paladd = 5,5,5
palmul = .65,.65,.65
timegap = 1
framegap = 1
trans = add

[State 0, Explod]
type = Explod
trigger1 = 1
anim = F20
ID = 20
pos = -10+random%20,-10-random%50
postype = p1  ;P2,front,back,left,right
scale = 0.8,0.4
vel = -2,0
sprpriority = 0
bindtime = 1
ownpal = 1
ontop = 0
supermovetime = 9999
pausemovetime = 9999

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 0 && pos y > -5
anim = F676
ID = 24
pos = 15,4
postype = p1  ;P2,front,back,left,right
scale = 0.4,0.25
vel = -1,0
sprpriority = 2
bindtime = 1
ownpal = 1
ontop = 0
supermovetime = 9999
pausemovetime = 9999

[State 0, Helper]
type = Helper
trigger1 = movehit = 1
helpertype = normal ;player
name = "White Flash"
ID = 9999
stateno = 9999
pos = 0,0
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1
size.xscale = 10
size.yscale = 10
supermove = 9999
pausemove = 9999
persistent = 0

[State 0, PlayerPush]
type = PlayerPush
trigger1 = 1
value = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 7
value = S6,11

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 5
anim = F870
scale = 2.2,2.2
pos = 29,-37
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = -1
bindtime = -1
removetime = -2
sprpriority = 3
ownpal = 1
ontop = 0
supermovetime = 9999
pausemovetime = 9999

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F8,0+random%4

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = S4,2+random%10
volume = 255
channel = 4

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F24,0+random%5

[State 0, HitDef]
type = HitDef
fall.yvelocity = -6
trigger1 = (!time)
attr = S, NA
damage = 35,7
getpower = 0
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 0, 20
sparkno = 0+random%4
sparkxy = -15, -39
hitsound = 24, 10+random%4
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -3
airguard.velocity = -3,-.8
air.type = High
air.velocity = -3,-2
air.hittime = 12
envshake.time = 10
envshake.freq = 20
envshake.ampl = -5
envshake.phase = 10
fall = 1

[State 0, End]
type = ChangeState
trigger1 = animtime = 0
value = 8701
ctrl = 1

[State 0, End]
type = ChangeState
trigger1 = time > 9 && parent, command = "y"
trigger2 = time > 9 && parent, var(50) = 1 && random = [300,301+parent,var(49)*(root,var(49)/20)+10+root,var(48)/50]
triggerall = ishelper(871) && movecontact
triggerall = power >= 50
value = 875
ctrl = 1
;-----------------
[StateDef 875]
type = S
movetype= A
physics = S
juggle  = 1
velset = -5,0
ctrl = 0
anim = 875
poweradd = -50
sprpriority = 2

[State 0, Turn]
type = Turn
trigger1 = time = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
value = S4,1
volume = 255
channel = 4

[State 0, AngleDraw]
type = AngleDraw
trigger1 = time > 15
scale = 1,1

[State 0, Trans]
type = Trans
trigger1 = time > 15
trans = add

[State 0, PosAdd]
type = PosAdd
trigger1 = time = 15
x = 10

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 15
anim = 876
ID = 1340
pos = 0,-10
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
supermovetime = 9999
pausemovetime = 9999
scale = 0.7,0.7
sprpriority = 4
ontop = 0
ownpal = 1

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 15
anim = 70736
ID = 1340
pos = 0,-40
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
supermovetime = 9999
pausemovetime = 9999
scale = 0.7,0.7
sprpriority = 5
ontop = 0
ownpal = 1

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 15 && pos y = 0
anim = F530
ID = 1340
pos = -7,0
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
supermovetime = 9999
pausemovetime = 9999
scale = 0.35,0.55
sprpriority = 2
ontop = 0
ownpal = 1

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 16 && pos y = 0
anim = F530
ID = 1340
pos = 7,0
postype = p1  ;p2,front,back,left,right
facing = -1
vfacing = 1
bindtime = 1
removetime = -2
supermovetime = 9999
pausemovetime = 9999
scale = 0.35,0.55
sprpriority = 2
ontop = 0
ownpal = 1

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 15 && pos y = 0
anim = F580
ID = 1340
pos = 0,0
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
supermovetime = 9999
pausemovetime = 9999
scale = 0.65,0.25
sprpriority = 3
ontop = 0
ownpal = 1

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 15
anim = F270
ID = 1340
pos = -10,0
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
supermovetime = 9999
pausemovetime = 9999
scale = 0.7,0.6
sprpriority = 4
ontop = 0
ownpal = 1

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 15
anim = F270
ID = 1340
pos = 10,0
postype = p1  ;p2,front,back,left,right
facing = -1
vfacing = 1
bindtime = 1
removetime = -2
supermovetime = 9999
pausemovetime = 9999
scale = 0.7,0.6
sprpriority = 4
ontop = 0
ownpal = 1

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 15 && pos y = 0
anim = F1190
ID = 1340
pos = 10,0
postype = p1  ;p2,front,back,left,right
facing = -1
vfacing = 1
bindtime = 1
removetime = -2
supermovetime = 9999
pausemovetime = 9999
scale = 0.7,0.7
sprpriority = 4
ontop = 0
ownpal = 1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 15
value = F15,3

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 15
value = F15,5

[State 0, EnvShake]
type = EnvShake
trigger1 = time = 15
time = 50
ampl = -7
freq = 50
phase = 230

[State -3]
type = AfterImage
trigger1 = 1
time = -1

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 =  1
flag = noshadow

[State 0, HitDef]
type = HitDef
fall.yvelocity = -6
trigger1 = (!time)
attr = S, NA
damage = 75,15
getpower = 0
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 0, 0
sparkno = -1
sparkxy = -15, -35
hitsound = -1, 2
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -5,-5
airguard.velocity = -5,-5
air.type = High
air.velocity = -5,-5
air.hittime = 12
fall = 1
palfx.time = 30
palfx.add = 240,50,0
palfx.mul = 250,224,120
palfx.sinadd = 110,55,85,10

[State 0, End]
type = destroyself
trigger1 = animtime = 0
;-----------------
[StateDef 877]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 877
poweradd = 0
sprpriority = 2

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 5
triggerall = var(8) = 1
anim = 877
ownpal = 1
pos = 5,0
scale = 1.1,1.1
vel = 2,0
accel = -0.1,0
postype = p1
facing = 1
bindtime = 1
removetime = 20
sprpriority = 3
trans = add

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = S2,24
volume = 255
channel = 2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 21
value = S6,11
channel = 6

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 21
value = S6,11
channel = 6

[State 0, Helper]
type = Helper
trigger1 = time = 0
helpertype = normal;player
name = "klon"
ID = 878
stateno = 878
pos = 0,0
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1
size.xscale = 1
size.yscale = 1

[State 0, End]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;-----------------
[StateDef 878]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 878
poweradd = -500
sprpriority = 2

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time < 5 && timemod = 2,0
anim = 80004
ID = 80004
pos = 25+(random%27-13)*2,-20
random = 30,60
vel = -2.3,-1
postype = p1
bindtime = 1
removetime = 87
supermovetime = 9999
pausemovetime = 9999
scale = 0.5,0.5
sprpriority = 3
ownpal = 1
ontop = 0

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time < 5 && timemod = 2,0
anim = 80003
ID = 80003
pos = -5-(random%27-13)*2,-20
random = 30,60
vel = 2.3,-1
postype = p1
bindtime = 1
removetime = 87
supermovetime = 9999
pausemovetime = 9999
scale = 0.7,0.7
sprpriority = 3
ownpal = 1
ontop = 0

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = timemod = 4,0 && time < 5
anim = 80000
ID = 80000
pos = (random%27-13)*1,-25-(random%27-13)*0.8
random = 30,60
vel = -0.2,-1
accel = 0,0.03
postype = p1
bindtime = 1
removetime = 95
supermovetime = 9999
pausemovetime = 9999
scale = 0.12,0.12
sprpriority = 3
ownpal = 1
ontop = 0

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = timemod = 4,0 && time < 5
anim = 80000
ID = 80000
pos = (random%27-13)*1,-25-(random%27-13)*0.8
random = 30,60
vel = 0.2,-1
accel = 0,0.03
postype = p1
bindtime = 1
removetime = 95
supermovetime = 9999
pausemovetime = 9999
scale = 0.12,0.12
sprpriority = 3
ownpal = 1
ontop = 0

[State 0, VelSet]
type = VelSet
trigger1 = 1
x = const(velocity.run.fwd.x)

[State 0, PosSet]
type = PosSet
trigger1 = 1
y = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 1
trigger2 = animelem = 2
trigger3 = animelem = 5
value = F2

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 1
trigger2 = animelem = 2
trigger3 = animelem = 3
anim = F300
ID = 24
pos = -10,2
postype = p1  ;p2,front,back,left,right
scale = 1.2,1.2
sprpriority = 2
vel = -1.3,-1
bindtime = 1
ownpal = 1
ontop = 0

[State 0, End]
type = changestate
trigger1 = animtime = 0
trigger2 = p2bodydist x < 0
value = 879
;-----------------
[StateDef 879]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 879
poweradd = 0
sprpriority = 2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 5
value = F15,2

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 5
anim = F1340
ID = 1340
pos = 0,-20
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
supermovetime = 9999
pausemovetime = 9999
scale = 1.7,1.7
sprpriority = 5
ontop = 0
ownpal = 1

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 5
anim = F1190
ID = 1190
pos = 0,0
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
supermovetime = 9999
pausemovetime = 9999
scale = 2.3,2.3
sprpriority = 6
ontop = 0
ownpal = 1

[State 0, EnvShake]
type = EnvShake
trigger1 = time = 0
time = 5
freq = 60
ampl = -4
phase = 60

[State 0, EnvShake]
type = EnvShake
trigger1 = time = 5
time = 10
freq = 100
ampl = -8
phase = 100

[State 0, AngleDraw]
type = AngleDraw
trigger1 = time > 5
scale = 1.5,1.5

[State 0, Trans]
type = Trans
trigger1 = time > 5
trans = add

[State 0, PosAdd]
type = PosAdd
trigger1 = time = 6
x = 10
y = -10

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 6
anim = F1090
ID = 1090
pos = -20,0
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
supermovetime = 9999
pausemovetime = 9999
scale = 1,1
sprpriority = 4
ontop = 0
ownpal = 1

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 6
anim = F1090
ID = 1090
pos = 20,0
postype = p1  ;p2,front,back,left,right
facing = -1
vfacing = 1
bindtime = 1
removetime = -2
supermovetime = 9999
pausemovetime = 9999
scale = 1,1
sprpriority = 4
ontop = 0
ownpal = 1

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 6
anim = F1060
ID = 1060
pos = 0,0
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
supermovetime = 9999
pausemovetime = 9999
scale = 2,2
sprpriority = 3
ontop = 0
ownpal = 1

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 6
anim = F1080
ID = 1080
pos = 0,0
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
supermovetime = 9999
pausemovetime = 9999
scale = 2,2
sprpriority = -1
ontop = 0
ownpal = 1

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 6
anim = F570
ID = 570
pos = 0,0
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
vel = 2,-1
bindtime = 1
removetime = -2
supermovetime = 9999
pausemovetime = 9999
scale = 2,2
sprpriority = 1
ontop = 0
ownpal = 1

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 6
anim = F570
ID = 570
pos = 0,0
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
vel = -2,-1
bindtime = 1
removetime = -2
supermovetime = 9999
pausemovetime = 9999
scale = 2,2
sprpriority = 1
ontop = 0
ownpal = 1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = S1,12

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = S1,12

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = S1,12

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[State 0, HitDef]
type = HitDef
fall.yvelocity = -6
trigger1 = timemod = 5,0
attr = S, NA
damage = 100,20
getpower = 0
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 0, 0
sparkno = -1
sparkxy = -15, -35
hitsound = -1, 2
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -7,-7
airguard.velocity = -7,-7
air.type = High
air.velocity = -7,-7
air.hittime = 12
fall = 1
palfx.time = 30
palfx.add = 240,50,0
palfx.mul = 250,224,120
palfx.sinadd = 110,55,85,10

[State 0, End]
type = destroyself
trigger1 = animtime = 0
;-----------------
[StateDef 880]
type = A
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 880
poweradd = 0
sprpriority = 2

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time > 15 && timemod = 25,0
anim = F677
ownpal = 1
pos = 0,-pos y
scale = 1.1,1.1
postype = p1
facing = 1
bindtime = 1
removetime = -2
sprpriority = 4
trans = add

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time > 15 && timemod = 25,0
anim = F461
ownpal = 1
pos = 0,-pos y-20
vel = 0,-2
scale = 0.6,0.6
angle = -90
postype = p1
facing = 1
bindtime = 1
removetime = -2
sprpriority = 4
trans = add

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 5
triggerall = var(8) = 1
anim = 880
ownpal = 1
pos = 5,0
scale = 1.1,1.1
vel = 3,-3
accel = -0.15,0.1
postype = p1
facing = 1
bindtime = 1
removetime = 20
sprpriority = 3
trans = add

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 28
trigger2 = time = 29
trigger3 = time = 30
anim = 80004
ID = 80004
pos = 25+(random%27-13)*2,5
random = 30,60
vel = -2.3,-1
postype = p1
bindtime = 1
removetime = 87
supermovetime = 9999
pausemovetime = 9999
scale = 0.5,0.5
sprpriority = 3
ownpal = 1
ontop = 0

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 28
trigger2 = time = 29
trigger3 = time = 30
anim = 80003
ID = 80003
pos = -5-(random%27-13)*2,5
random = 30,60
vel = 2.3,-1
postype = p1
bindtime = 1
removetime = 87
supermovetime = 9999
pausemovetime = 9999
scale = 0.7,0.7
sprpriority = 3
ownpal = 1
ontop = 0

[State 0, PosAdd]
type = PosAdd
trigger1 =time = 31
y = -60


[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 15
trigger3 = time > 35 && timemod = 60,0
value = S6,13

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 15
trigger2 = time = 30
trigger3 = time > 35 && timemod = 20,0
value = S6,11

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = timemod = 7,0
trigger1 = time > 15
anim = 80000
ID = 80000
pos = (random%27-13)*1,-25-(random%27-13)*0.8
random = 30,60
vel = -0.2,-1
accel = 0,0.03
postype = p1
bindtime = 1
removetime = 95
supermovetime = 9999
pausemovetime = 9999
scale = 0.12,0.12
sprpriority = 3
ownpal = 1
ontop = 0

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = timemod = 7,0
trigger1 = time > 15
anim = 80000
ID = 80000
pos = (random%27-13)*1,-25-(random%27-13)*0.8
random = 30,60
vel = 0.2,-1
accel = 0,0.03
postype = p1
bindtime = 1
removetime = 95
supermovetime = 9999
pausemovetime = 9999
scale = 0.12,0.12
sprpriority = 3
ownpal = 1
ontop = 0

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time > 33 && timemod = 4,0
anim = 80004
ID = 8800+random%10
pos = -60+random%80,-50+random%140
random = 30,60
vel = -1,-1
postype = p1
bindtime = 1
removetime = 87
supermovetime = 9999
pausemovetime = 9999
scale = 0.5,0.5
sprpriority = 3
ownpal = 1
ontop = 0

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time > 33 && timemod = 4,0
anim = 80003
ID = 8810+random%10
pos = 60-random%80,-50+random%140
random = 30,60
vel = 1,-1
postype = p1
bindtime = 1
removetime = 87
supermovetime = 9999
pausemovetime = 9999
scale = 0.7,0.7
sprpriority = 3
ownpal = 1
ontop = 0

[State 0, ModifyExplod]
type = ModifyExplod
trigger1 = 1
ID = 8800+random%10
facing = -1
angle = -10-random%20

[State 0, ModifyExplod]
type = ModifyExplod
trigger1 = 1
ID = 8810+random%10
facing = -1
angle = 10+random%20 

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 30
value = F14,1

[State 0, PowerAdd]
type = PowerAdd
trigger1 = time > 30
value = -10

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = S7,33
volume = 255
channel = 2

[State 0, HitDef]
type = HitDef
givepower = 0
getpower = 0
fall.yvelocity = -6
trigger1 = timemod = 5,0
attr = S, NA
damage = 20,4
getpower = 0
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 0, 3
sparkno = 0+random%4
sparkxy = -5-random%20, -55+random%30
hitsound = 21, 5
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -2,-5
airguard.velocity = -2,-5
air.type = High
air.velocity = -2,-5
air.hittime = 12
fall = 1

[State 0, End]
type = ChangeState
trigger1 = Time = 80
value = 50
ctrl = 1
;-----------------
[StateDef 881]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 842
poweradd = -500
sprpriority = 2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = S1,12

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = S1,12

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = S1,12


[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = F9
channel = 9

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 0
anim = 80002
ID = 80002
pos = 8,0
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
supermovetime = 9999
pausemovetime = 9999
scale = 0.8,0.8
sprpriority = 3
ontop = 0
ownpal = 1

[State 0, ChangeAnim]
type = ChangeAnim
trigger1 = time = 0 && pos y < 0
value = 8421

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 =  1
flag = noshadow

[State 0, HitDef]
type = HitDef
givepower = 0
getpower = 0
fall.yvelocity = -6
trigger1 = timemod = 5,0
attr = S, NA
damage = 100,20
getpower = 0
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 0, 0
sparkno = -1
sparkxy = -15, -35
hitsound = -1, 2
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -7,-7
airguard.velocity = -7,-7
air.type = High
air.velocity = -7,-7
air.hittime = 12
fall = 1
palfx.time = 30
palfx.add = 240,50,0
palfx.mul = 250,224,120
palfx.sinadd = 110,55,85,10

[State 0, End]
type = destroyself
trigger1 = animtime = 0
;-----------------
;Suiton, Suigadan
[StateDef 883]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 883
poweradd = 0
sprpriority = 2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
value = S3,33

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
value = S3,33

[State 0, Helper]
type = Helper
trigger1 = time = 2
helpertype = normal;player
name = "suiton"
ID = 884
stateno = 884
pos = 0,0
postype = p2    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1
size.xscale = 0.45
size.yscale = 0.45

[State 0, End]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;-----------------
[StateDef 884]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 884
poweradd = -600
sprpriority = -1

[State 0, TargetState]
type = TargetState
trigger1 = enemy(cond((enemy(0),alive),0,1)), var(53) = 0
trigger1 = !(enemynear, ishelper)
trigger1 = target, ishelper = 0
trigger1 = movehit
value = 109932

[State 0, PosSet]
type = PosSet
trigger1 = 1
y = 0

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = invisible

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 26
anim = F1530
id = 1530
pos = 10,5
scale = 2.5,2.5
postype = p1
facing = 1
bindtime = 1
removetime = -2
sprpriority = 5
supermovetime=9999
pausemovetime=9999
ownpal = 1

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 26
anim = F1530
id = 1530
pos = -10,5
scale = 2.5,2.5
postype = p1
facing = -1
bindtime = 1
removetime = -2
sprpriority = 5
supermovetime=9999
pausemovetime=9999
ownpal = 1

[State 1533,excplod ]
type = Explod
ownpal = 1
trigger1 = time = 30
anim = F250
ID = 250
postype = p1
pos = 30,0
vel = 1,0
bindtime = 1
sprpriority = 4
ownpal = 1
ontop = 0
removetime = -2
scale = 1.5,1.5

[State 1533,excplod ]
type = Explod
ownpal = 1
trigger1 = time = 30
anim = F250
ID = 250
postype = p1
pos = -30,0
vel = -1,0
bindtime = 1
sprpriority = 4
facing = -1
ownpal = 1
ontop = 0
removetime = -2
scale = 1.5,1.5

[State 1533,excplod ]
type = Explod
ownpal = 1
trigger1 = time = 0
anim = 8841
ID = 8841
postype = p1
pos = -50,0
bindtime = -1
sprpriority = 5
facing = -1
ownpal = 1
ontop = 0
removetime = 35
scale = 0.7,0.7

[State 1533,excplod ]
type = Explod
ownpal = 1
trigger1 = time = 0
anim = 8841
ID = 8841
postype = p1
pos = -30,5
bindtime = -1
sprpriority = 5
facing = -1
ownpal = 1
ontop = 0
removetime = 35
scale = 0.5,0.5

[State 1533,excplod ]
type = Explod
ownpal = 1
trigger1 = time = 0
anim = 8841
ID = 8841
postype = p1
pos = 50,0
bindtime = -1
sprpriority = 5
facing = 1
ownpal = 1
ontop = 0
removetime = 35
scale = 0.7,0.7

[State 1533,excplod ]
type = Explod
ownpal = 1
trigger1 = time = 0
anim = 8841
ID = 8841
postype = p1
pos = 30,5
bindtime = -1
sprpriority = 5
facing = 1
ownpal = 1
ontop = 0
removetime = 35
scale = 0.5,0.5

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
value = F12,3

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 30
value = F15,6

[State 0, PosSet]
type = PosSet
trigger1 = 1
y = 0

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[State 0, HitDef]
type = HitDef
givepower = 0
getpower = 0
fall.yvelocity = -6
trigger1 = time >= 15
persistent = 0
attr = S, NA
damage = 250,100
getpower = 0
animtype = Light
guardflag = MA
hitflag = MAF
priority = -1, Hit
sprpriority = -1
pausetime = 0, 0
sparkno = 1550;240
sparkxy = -15,-35-random%30
hitsound = 12,0
guardsound = 12,0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = 0,-2
airguard.velocity = 0,-2
air.type = High
air.velocity = 0,-2
air.hittime = 12
fall = 1
envshake.time = 30
envshake.freq = 30
envshake.ampl = -7
envshake.phase = 10

[State 0, End]
type = destroyself
trigger1 = animtime = 0
;-----------------
[StateDef 8841]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 8841
poweradd = 0
sprpriority = 2

[State 0, PosSet]
type = PosSet
trigger1 = 1
y = 0


[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[State 0, HitDef]
type = HitDef
givepower = 0
getpower = 0
fall.yvelocity = -6
trigger1 = time > 20 && timemod = 10,0
attr = S, NA
damage = 50,10
getpower = 0
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 0, 0
sparkno = 0+random%440
sparkxy = -15+random%30,-10-random%20
hitsound = -1, 2
guardsound = -6, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = 0, 15
airguard.velocity = 0, 15
air.type = High
air.velocity = 0, 15
air.hittime = 12
fall = 1

[State 0, End]
type = destroyself
trigger1 = animtime = 0
;-----------------
[StateDef 8842]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 8841
poweradd = 0
sprpriority = 2

[State 0, PosSet]
type = PosSet
trigger1 = 1
y = 5


[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[State 0, HitDef]
type = HitDef
givepower = 0
getpower = 0
fall.yvelocity = -6
trigger1 = timemod = 10,0
attr = S, NA
damage = 50,10
getpower = 0
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 0, 0
sparkno = 0+random%440
sparkxy = -15+random%30,-10-random%20
hitsound = F12, 0
guardsound = F12, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = 0, -0
airguard.velocity = 0, -0
air.type = High
air.velocity = 0, -0
air.hittime = 12
fall = 1

[State 0, End]
type = destroyself
trigger1 = animtime = 0
;-----------------
;Genjutsu
[StateDef 886]
type = S
movetype= A
physics = S
juggle  = 1
ctrl = 0
anim = 886
poweradd = 0
sprpriority = 2 

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = S7,9

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = S7,9

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = target, ishelper = 0
flag = unguardable

[State 0, ChangeState]
type = ChangeState
trigger1 = movecontact
trigger1 = enemynear, name = "Deidara"
trigger1 = enemynear, var(6) = 1
value = 1302

[State 0, VarSet]
type = VarSet
trigger1 = movecontact
v = 8
value = 1

[State 0, VarSet]
type = VarSet
trigger1 = movecontact
v = 11
value = 900

[State 0, HitDef]
type = HitDef
givepower = 0
getpower = 0
fall.yvelocity = -6
trigger1 = !time
attr = S, NT
damage = 0,0
getpower = 0
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 0, 0
sparkno = S8862
sparkxy = 33, -80
hitsound = S6, 6
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 0
ground.velocity = 0,0
airguard.velocity = 0,0
air.type = High
air.velocity = 0,0
air.hittime = 0

[State 0, VarSet]
type = VarSet
trigger1 = time = 0
v = 9
value = 0

[State 0, End]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;-----------------
;Genjutsu
[StateDef 8861]
type = A
movetype= A
physics = A
juggle  = 1
ctrl = 0
anim = 8861
poweradd = 0
sprpriority = 2 

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = S7,9

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = S7,9

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = target, ishelper = 0
flag = unguardable

[State 0, VarSet]
type = VarSet
trigger1 = movecontact
v = 8
value = 1

[State 0, VarSet]
type = VarSet
trigger1 = movecontact
v = 11
value = 900

[State 0, HitDef]
type = HitDef
givepower = 0
getpower = 0
fall.yvelocity = -6
trigger1 = !time
attr = S, NT
damage = 0,0
getpower = 0
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 0, 0
sparkno = S8862
sparkxy = 33, -80
hitsound = S6, 6
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 0
ground.velocity = 0,0
airguard.velocity = 0,0
air.type = High
air.velocity = 0,0
air.hittime = 0

[State 0, VarSet]
type = VarSet
trigger1 = time = 0
v = 9
value = 0

[State 0, End]
type = ChangeState
trigger1 = Time = 50
value = 50
ctrl = 1
;-----------------
;Genjutsu DMG
[StateDef 887]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 887
sprpriority = 2

[State 0, NotHitBy]
type = NotHitBy
trigger1 = time >= 0
value = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
time = 1

[State 0, Helper]
type = Helper
trigger1 = time = 1
helpertype = normal ;player
name = "White Flash"
ID = 9999
stateno = 9999
pos = 0,0
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1
size.xscale = 10
size.yscale = 10
persistent = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
value = S7,19

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
value = S7,19

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 1
value = S6,6

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 1
value = S6,15

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 1
value = S6,7

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 1
value = S6,7

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 1
value = S6,7

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 2
value = S6,16

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 1
anim = 8875
ID = 8875
pos =0,0
postype = back
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
scale = 0.8,0.8
sprpriority = 10
ontop = 0
ownpal = 1
removeongethit = 0
supermovetime = 9999
pausemovetime = 9999

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 2
anim = 9999
ID = 8872
pos =0,0
postype = back
facing = 1
vfacing = 1
bindtime = -2
removetime = 24
scale = 10,10
sprpriority = 199
ontop = 0
ownpal = 1
removeongethit = 0
trans = sub
supermovetime = 9999
pausemovetime = 9999

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 2
anim = 8872
ID = 8872
pos =0,0
postype = back
facing = 1
vfacing = 1
bindtime =- 2
removetime = -2
scale = 0.4,0.35;1.15,1.15
sprpriority = 200
ontop = 0
ownpal = 1
removeongethit = 0
supermovetime = 9999
pausemovetime = 9999

[State 0, BGPalFX]
type = BGPalFX
trigger1 = 1
time = 2
add = -80,-80,-80

[State 1500]
type = SuperPause
trigger1 = time = 2
time = 104
movetime = 0
supermove = 104
anim = 9999
darken = 1
unhittable = 0

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = 0;time = 1
anim = F1170
ID = 1170
pos = 3,-55
postype = p1
facing = 1
vfacing = 1
bindtime =- 2
removetime = -2
scale = 1,1
sprpriority = 3
ontop = 0
ownpal = 1
removeongethit = 0
supermovetime = 9999
pausemovetime = 9999

[State 0, Helper]
type = Helper
trigger1 = time = 3
helpertype = normal;player
name = "zwrocenie dmg"
ID = 888
stateno = 888
pos = 0,0
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1
size.xscale = 1
size.yscale = 1
supermovetime = 0
pausemovetime = 0

[State 0, LifeAdd]
type = LifeAdd
trigger1 = time = 3
value = var(9)

[State 0, VarSet]
type = VarSet
trigger1 = time = 3
v = 8
value = 0

[State 0, VarSet]
type = VarSet
trigger1 = time = 3
v = 11
value = 0

[State 0, VarAdd]
type = VarAdd
trigger1 = time = 2
v = 19
value = 300+(900-var(11))

[State 0, End]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;-----------------
;DMG
[StateDef 888]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 888
poweradd = 0
sprpriority = 2

[State 0, PosSet]
type = PosSet
trigger1 = 1
x = enemy(0),pos x
y = enemy(0),pos y

[State 0, StopSnd]
type = StopSnd
trigger1 = time = 1
channel = -6

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow
flag2 = invisible

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = target, ishelper = 0
flag = unguardable

[State 0, HitDef]
type = HitDef
givepower = 0
getpower = 0
fall.yvelocity = -6
trigger1 = !time
attr = C, HP
damage = 0,0
getpower = 0;-parent,var(9)
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 0, 20
sparkno = -1
sparkxy = -15, -35
hitsound = -1, 2
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = 0,0
airguard.velocity = 0,0
air.type = High
air.velocity = 0,0
air.hittime = 12
p2stateno = 106025
ID = 555

[State 0, TargetLifeAdd]
type = TargetLifeAdd
trigger1 = movecontact
value = -((parent,var(9))%power)*0.75
ID = 555

[State 0, PowerAdd]
type = PowerAdd
trigger1 = movecontact
value = -parent,var(9)

[State 0, End]
type = destroyself
trigger1 = movecontact

;-----------------------------
[StateDef 106025]
type = S
movetype= H
physics = S
juggle  = 1
ctrl = 0
anim = 5000+var(0)*10000
velset = 0,0
poweradd = 0
sprpriority = 0

[State 0, ChangeState]
type = selfState
trigger1 = name = "Deidara"
trigger1 = var(6) = 1
value = 50

[State 0, ChangeState]
type = selfState
trigger1 = time = 1
value = prevstateno
;-----------------
[StateDef 890]
type = A
movetype= A
physics = A
juggle  = 1
ctrl = 0
anim = 890
poweradd = 0
sprpriority = 2

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 5
triggerall = var(8) = 1
anim = 890
ownpal = 1
pos = 5,0
scale = 1.1,1.1
vel = 2,-2
accel = -0.10,.1
postype = p1
facing = 1
bindtime = 1
removetime = -2
sprpriority = 3
trans = add

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = S2,15
volume = 255
channel = 2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F17,0

[State 0, Helper]
type = Helper
trigger1 = time = 5
helpertype = normal;player
name = "klon"
ID = 891
stateno = 891
pos = 40,0
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1
size.xscale = 1
size.yscale = 1

[State 0, End]
type = ChangeState
trigger1 = AnimTime = 0
value = 50
ctrl = 1
;-----------------
[StateDef 891]
type = A
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 891
poweradd = -500
sprpriority = 2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 5
value = F15,3

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 5
value = F15,5

[State 0, EnvShake]
type = EnvShake
trigger1 = time = 5
time = 50
ampl = -7
freq = 50
phase = 230

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time < 5 && timemod = 2,0
anim = 80004
ID = 80004
pos = 25+(random%27-13)*2,-20
random = 30,60
vel = -2.3,-1
postype = p1
bindtime = 1
removetime = 47
supermovetime = 9999
pausemovetime = 9999
scale = 0.5,0.5
sprpriority = 3
ownpal = 1
ontop = 0

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time < 5 && timemod = 2,0
anim = 80003
ID = 80003
pos = -5-(random%27-13)*2,-20
random = 30,60
vel = 2.3,-1
postype = p1
bindtime = 1
removetime = 47
supermovetime = 9999
pausemovetime = 9999
scale = 0.7,0.7
sprpriority = 3
ownpal = 1
ontop = 0

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = timemod = 4,0 && time < 5
anim = 80000
ID = 80000
pos = (random%27-13)*1,-25-(random%27-13)*0.8
random = 30,60
vel = -0.2,-1
accel = 0,0.03
postype = p1
bindtime = 1
removetime = 55
supermovetime = 9999
pausemovetime = 9999
scale = 0.12,0.12
sprpriority = 3
ownpal = 1
ontop = 0

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = timemod = 4,0 && time < 5
anim = 80000
ID = 80000
pos = (random%27-13)*1,-25-(random%27-13)*0.8
random = 30,60
vel = 0.2,-1
accel = 0,0.03
postype = p1
bindtime = 1
removetime = 55
supermovetime = 9999
pausemovetime = 9999
scale = 0.12,0.12
sprpriority = 3
ownpal = 1
ontop = 0

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 5
anim = 876
ID = 1340
pos = 0,-10
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
supermovetime = 9999
pausemovetime = 9999
scale = 1,1
sprpriority = 4
ontop = 0
ownpal = 1

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 5
anim = 70736
ID = 1340
pos = 0,-40
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
supermovetime = 9999
pausemovetime = 9999
scale = 1,1
sprpriority = 5
ontop = 0
ownpal = 1

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 5 && pos y = 0
anim = F530
ID = 1340
pos = -7,0
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
supermovetime = 9999
pausemovetime = 9999
scale = 0.55,0.75
sprpriority = 2
ontop = 0
ownpal = 1

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 6 && pos y = 0
anim = F530
ID = 1340
pos = 7,0
postype = p1  ;p2,front,back,left,right
facing = -1
vfacing = 1
bindtime = 1
removetime = -2
supermovetime = 9999
pausemovetime = 9999
scale = 0.55,0.75
sprpriority = 2
ontop = 0
ownpal = 1

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 5 && pos y = 0
anim = F580
ID = 1340
pos = 0,0
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
supermovetime = 9999
pausemovetime = 9999
scale = 0.85,0.35
sprpriority = 3
ontop = 0
ownpal = 1

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 5
anim = F270
ID = 1340
pos = -10,0
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
supermovetime = 9999
pausemovetime = 9999
scale = 1,0.8
sprpriority = 4
ontop = 0
ownpal = 1

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 5
anim = F270
ID = 1340
pos = 10,0
postype = p1  ;p2,front,back,left,right
facing = -1
vfacing = 1
bindtime = 1
removetime = -2
supermovetime = 9999
pausemovetime = 9999
scale = 1,0.8
sprpriority = 4
ontop = 0
ownpal = 1

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 5 && pos y = 0
anim = F1190
ID = 1340
pos = 10,0
postype = p1  ;p2,front,back,left,right
facing = -1
vfacing = 1
bindtime = 1
removetime = -2
supermovetime = 9999
pausemovetime = 9999
scale = 1,1
sprpriority = 4
ontop = 0
ownpal = 1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = S1,12

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = S1,12

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = S1,12


[State 0, AssertSpecial]
type = AssertSpecial
trigger1 =  1
flag = noshadow

[State 0, HitDef]
type = HitDef
givepower = 0
getpower = 0
fall.yvelocity = -6
trigger1 = !time
attr = S, NA
damage = 250,200
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 0, 0
sparkno = -1
sparkxy = -15, -35
hitsound = -1, 2
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -5,-5
airguard.velocity = -5,-5
air.type = High
air.velocity = -5,-5
air.hittime = 12
fall = 1
palfx.time = 30
palfx.add = 240,50,0
palfx.mul = 250,224,120
palfx.sinadd = 110,55,85,10

[State 0, End]
type = destroyself
trigger1 = animtime = 0
;-----------------
[StateDef 893]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 893
poweradd = 0
sprpriority = 0

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 5
triggerall = var(8) = 1
anim = 893
ownpal = 1
pos = 5,0
scale = 1.1,1.1
vel = 4,0
accel = -0.2,0
postype = p1
facing = 1
bindtime = 1
removetime = -2
sprpriority = 3
trans = add

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time > 41 && numexplod(80006) = 0
anim = F810
id = 80006
pos = 28,-36
scale = 0.4,0.7
postype = p1
facing = 1
bindtime = 1
removetime = -2
sprpriority = 3

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
trigger2 = animelem = 4
trigger3 = animelem = 6
trigger4 = animelem = 8
value = F17,0
volume = 255
channel = 8

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 9
value = S3,10

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 9
value = S3,10

[State 0, SuperPause]
type = SuperPause
trigger1 = animelem = 11
time = 50
anim = 99
sound = F19,3
pos = -5,-40
move = 0
darken = 1
p2defmul = 0
poweradd = 0
unhittable = 0


[State 0, Helper]
type = Helper
trigger1 = animelem = 12
helpertype = normal;player
name = "katon"
ID = 894
stateno = 894
pos = 15,-39
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1
size.xscale = 1
size.yscale = 1

[State 0, End]
type = ChangeState
trigger1 = time = 100
value = 0
ctrl = 1
;-----------------
[StateDef 894]
type = S
movetype= A
physics = S
juggle  = 1
ctrl = 0
anim = 894
poweradd = -3000
sprpriority = 4

[State 0, TargetState]
type = TargetState
trigger1 = enemy(cond((enemy(0),alive),0,1)), var(51) = 0
trigger1 = !(enemynear, ishelper)
trigger1 = target, ishelper = 0
trigger1 = movehit
value = 109914

[State 0, NotHitBy]
type = NotHitBy
trigger1 = time >= 0
value = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
time = -1

[State 0, PlayerPush]
type = PlayerPush
trigger1 = 1
value = 1

[State 0, EnvShake]
type = EnvShake
trigger1 = time = 85
time = 10
freq = 80
ampl = -7
phase = 90

[State 0, Helper]
type = Helper
trigger1 = time = 85
helpertype = normal ;player
name = "White Flash"
ID = 9999
stateno = 9999
pos = 0,0
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1
size.xscale = 10
size.yscale = 10
supermovetime = 9999
pausemovetime = 9999
persistent = 0

[State 0, PalFXWiz]
type = BGPalFX
trigger1 = time < 50
time = 1
add = -time*2,-time*2,-time*2

[State 0, PalFXWiz]
type = BGPalFX
trigger1 = time >= 50
time = 1
add = -100,-100,-100

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time < 70 && timemod = 15,0 
anim = F810
id = 8000651
pos = 80,0
scale = 2.2,3.5
vel = -3,0
accel = 0.25,0
postype = p1
facing = 1
bindtime = 1
removetime = -2
sprpriority = 4
ownpal = 1

[State 0, Helper]
type = Helper
trigger1 = timemod = 6,0 && time < 55
helpertype = normal;player
name = "ziemia efekt"
ID = 895
stateno = 895
pos = 100+time*3,50
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1
size.xscale = 0.7
size.yscale = 0.7

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = F10,3

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = numexplod(6001) < 2  && time < 70
anim = F271
ID = 6001
pos = 40,0
postype = p1
bindtime = -1
removetime = 30
supermovetime=9999
pausemovetime=9999
scale = 2,2
sprpriority = 3
ownpal = 1

[State 0, VelSet]
type = VelSet
trigger1 = time > 10  && time < 100
x = 8-time/20
y = 0

[State 0, ScreenBound]
type = ScreenBound
triggerall = frontedgebodydist > 5
trigger1 = 1
value = 1

[State 0, ScreenBound]
type = ScreenBound
triggerall = frontedgebodydist < 5
trigger1 = 1
value = 0

[State 0, TargetBind]
type = TargetBind
trigger1 = movehit && time <= 70
time = 1
pos = 300-(70-time)*3,0

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow
ignorehitpause = 1

[State 0, HitDef]
type = HitDef
givepower = 0
getpower = 0
fall.yvelocity = -6
trigger1 = timemod = 3,0
attr = S, NA
damage = 50,10
getpower = 0
animtype = Light
guardflag = MA
hitflag = MAF
priority = 4, Hit
pausetime = 0, 0
p1sprpriority = 4
sparkno =1400
sparkxy = -30+random%60, -10-random%60
hitsound = 10, 0
guardsound = 10, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -9,-2
airguard.velocity = -9,-2
air.type = High
air.velocity = -9,-2
air.hittime = 12
fall = 1
envshake.time = 50
envshake.ampl = 5
envshake.freq = 50
palfx.time = 30
palfx.add = 240,50,0
palfx.mul = 250,224,120
palfx.sinadd = 110,55,85,10

[State 0, End]
type = destroyself
trigger1 = animtime = 0
;-----------------
[StateDef 895]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 895
poweradd = 0
sprpriority = 5

[State 0, PlaySnd]
type = PlaySnd
trigger1 = timemod = 10,0
value = F10,2

[State 0, SprPriority]
type = SprPriority
trigger1 = 1
trigger2 = time > 0
trigger3 = movecontact
value = 5

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 =  1
flag = noshadow

[State 0, End]
type = destroyself
trigger1 = time = 52
;-----------------
[StateDef 896]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 895
poweradd = 0
sprpriority = 5

[State 0, PlaySnd]
type = PlaySnd
trigger1 = timemod = 30,0
value = F10,2

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 =  1
flag = noshadow

[State 0, End]
type = destroyself
trigger1 = time = 65
;-----------------
[StateDef 898]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 898
poweradd = -1000
sprpriority = 0

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 5
triggerall = var(8) = 1
anim = 898
ownpal = 1
pos = 5,0
scale = 1.1,1.1
vel = 2,0
accel = -0.1,0
postype = p1
facing = 1
bindtime = 1
removetime = -2
sprpriority = 3
trans = add

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
value = S2,19
volume = 255
channel = 2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F17,0

[State 0, Helper]
type = Helper
trigger1 = time = 10
helpertype = player
name = "bunshin"
ID = 20000
stateno = 22221
pos = 40,0
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1
size.xscale = 1
size.yscale = 1
supermovetime = 0

[State 0, End]
type = ChangeState
trigger1 = animtime = 0
value = 0
ctrl = 1
;-----------------
[StateDef 899]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 898
poweradd = -500
sprpriority = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
value = S2,27
volume = 255
channel = 2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F17,0

[State 0, End]
type = ChangeState
trigger1 = animtime = 0
value = 0
ctrl = 1
;----------------------------------------------------------------------------
;Sharingan
[Statedef 1000]
type    = S
movetype= I
physics = S
juggle  = 4
velset = 0,0
anim = 1000
ctrl = 0
sprpriority = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1 && prevstateno != 70850
value = F8,0+random%4

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1 && prevstateno != 70850
value = F17,0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 5
value = S2,9
volume = 255
channel = 2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 5
value = S6,6
volume = 255
channel = 6

[State 0, PalFXWiz]
type = BGPalFX
trigger1 = time < 10
time = 2
add = 0-time*4,0-time*4,0-time*4

[State 0, PalFXWiz]
type = BGPalFX
trigger1 = time >= 10 && time <= 20
time = 2
add = -40,-40,-40

[State 0, PalFXWiz]
type = BGPalFX
trigger1 = time > 20
time = 2
add = -40+(time-20)*4,-40+(time-20)*4,-40+(time-20)*4

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 0
anim = 1002
pos = 3,-54
scale = 0.15,0.15
postype = p1
facing = 1
bindtime = -1
removetime = -2
sprpriority = 3
supermovetime = 9999
pausemovetime = 9999

[State 1500]
type = SuperPause
trigger1 = time = 1
time = 30
movetime = 30
supermove = 30
anim = 9999
darken = 0
unhittable = 0

[State 0, VarSet]
type = VarSet
trigger1 = time = 10
v = 1
value = 0

[State 1500, NotHitBy]
type = NotHitBy
trigger1 = time = 0
value = SCA
time = 30

[State 250, 5]
type = ChangeState
trigger1 = time = 30
value = 0
ctrl = 1
;----------------------------------------------------------------------------
;Sharingan
[Statedef 1005]
type    = A
movetype= I
physics = S
juggle  = 4
velset = 0,0
anim = 1005
ctrl = 0
sprpriority = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1 && prevstateno != 70850
value = F8,0+random%4

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1 && prevstateno != 70850
value = F17,0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 5
value = S2,9
volume = 255
channel = 2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 5
value = S6,6
volume = 255
channel = 6

[State 0, PalFXWiz]
type = BGPalFX
trigger1 = time < 10
time = 2
add = 0-time*4,0-time*4,0-time*4

[State 0, PalFXWiz]
type = BGPalFX
trigger1 = time >= 10 && time <= 20
time = 2
add = -40,-40,-40

[State 0, PalFXWiz]
type = BGPalFX
trigger1 = time > 20
time = 2
add = -40+(time-20)*4,-40+(time-20)*4,-40+(time-20)*4

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 0
anim = 1002
pos = 8,-48
scale = 0.15,0.15
postype = p1
facing = 1
bindtime = -1
removetime = -2
sprpriority = 3
supermovetime = 9999
pausemovetime = 9999

[State 1500]
type = SuperPause
trigger1 = time = 1
time = 30
movetime = 30
supermove = 30
anim = 9999
darken = 0
unhittable = 0

[State 0, VarSet]
type = VarSet
trigger1 = time = 10
v = 1
value = 0

[State 1500, NotHitBy]
type = NotHitBy
trigger1 = time = 0
value = SCA
time = 30

[State 250, 5]
type = ChangeState
trigger1 = time = 30
value = 50
ctrl = 1
;----------------------------------------------------------------------------
;EMS
[Statedef 1010]
type    = S
movetype= I
physics = S
juggle  = 4
velset = 0,0
anim = 1010
ctrl = 0
sprpriority = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1 && prevstateno != 70850
value = F8,0+random%4

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1 && prevstateno != 70850
value = F17,0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 5
value = S2,17
volume = 255
channel = 2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 5
value = S6,15
volume = 255
channel = 6

[State 0, PalFXWiz]
type = BGPalFX
trigger1 = time < 10
time = 2
add = 0-time*7,0-time*7,0-time*7

[State 0, PalFXWiz]
type = BGPalFX
trigger1 = time >= 10 && time <= 20
time = 2
add = -70,-70,-70

[State 0, PalFXWiz]
type = BGPalFX
trigger1 = time > 20
time = 2
add = -70+(time-20)*7,-70+(time-20)*7,-70+(time-20)*7

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 0
anim = 1012
pos = 3,-54
scale = 0.15,0.15
postype = p1
facing = 1
bindtime = -1
removetime = -2
sprpriority = 3
supermovetime = 9999
pausemovetime = 9999

[State 1500]
type = SuperPause
trigger1 = time = 1
time = 30
movetime = 30
supermove = 30
anim = 9999
darken = 0
unhittable = 0

[State 0, VarSet]
type = VarSet
trigger1 = time = 10
v = 1
value = 2

[State 1500, NotHitBy]
type = NotHitBy
trigger1 = time = 0
value = SCA
time = 30

[State 250, 5]
type = ChangeState
trigger1 = time = 30
value = 0
ctrl = 1
;----------------------------------------------------------------------------
;EMS
[Statedef 1015]
type    = A
movetype= I
physics = S
juggle  = 4
velset = 0,0
anim = 1015
ctrl = 0
sprpriority = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1 && prevstateno != 70850
value = F8,0+random%4

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1 && prevstateno != 70850
value = F17,0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 5
value = S2,17
volume = 255
channel = 2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 5
value = S6,15
volume = 255
channel = 6

[State 0, PalFXWiz]
type = BGPalFX
trigger1 = time < 10
time = 2
add = 0-time*7,0-time*7,0-time*7

[State 0, PalFXWiz]
type = BGPalFX
trigger1 = time >= 10 && time <= 20
time = 2
add = -70,-70,-70

[State 0, PalFXWiz]
type = BGPalFX
trigger1 = time > 20
time = 2
add = -70+(time-20)*7,-70+(time-20)*7,-70+(time-20)*7

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 0
anim = 1012
pos = 8,-48
scale = 0.15,0.15
postype = p1
facing = 1
bindtime = -1
removetime = -2
sprpriority = 3
supermovetime = 9999
pausemovetime = 9999

[State 1500]
type = SuperPause
trigger1 = time = 1
time = 30
movetime = 30
supermove = 30
anim = 9999
darken = 0
unhittable = 0

[State 0, VarSet]
type = VarSet
trigger1 = time = 10
v = 1
value = 2

[State 1500, NotHitBy]
type = NotHitBy
trigger1 = time = 0
value = SCA
time = 30

[State 250, 5]
type = ChangeState
trigger1 = time = 30
value = 50
ctrl = 1

;-----------------
[StateDef 1100]
type = S
movetype= A
physics = S
juggle  = 1
velset = 3,0
ctrl = 0
anim = 1100
poweradd = 20
sprpriority = 2

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 5
triggerall = var(8) = 1
anim = 1100
ownpal = 1
pos = 5,0
scale = 1.1,1.1
vel = 3,0
accel = -0.15,0
postype = p1
facing = 1
bindtime = 1
removetime = -2
sprpriority = 3
trans = add

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F8,0+random%4

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = S4,2+random%10
volume = 255
channel = 4

[State 0, HitDef]
type = HitDef
fall.yvelocity = -6
trigger1 = AnimElem = 2
attr = S, NA
damage = 30,6
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 0, 10
sparkno = 0+random%4
sparkxy = -15, -48
hitsound = 35, 0+random%15;5, 21+random%5
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -2,-3
airguard.velocity = -2,-3
air.type = High
air.velocity = -2,-3
air.hittime = 12

[State 0, End]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;-----------------
[StateDef 1101]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 1101
poweradd = 20
sprpriority = 2

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 5
triggerall = var(8) = 1
anim = 1101
ownpal = 1
pos = 5,0
scale = 1.1,1.1
vel = 1,0
accel = -0.05,0
postype = p1
facing = 1
bindtime = 1
removetime = -2
sprpriority = 3
trans = add

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F8,0+random%4

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = S4,2+random%10
volume = 255
channel = 4

[State 0, Helper]
type = Helper
trigger1 = time = 5
helpertype = normal;player
name = "klon"
ID = 1102
stateno = 1102
pos = 20,-20
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1
size.xscale = 1
size.yscale = 1

[State 0, End]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;-----------------
[StateDef 1102]
type = A
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 1102
poweradd = 0
sprpriority = 2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 15
trigger2 = time = 0
value = S6,11

[State 0, Helper] 
type = Helper 
trigger1 = time = 1
helpertype = normal
name = "efekt teleport" 
ID = 84501
stateno = 4501
pos = 40,0
postype = p1 
ownpal = 1
size.xscale = 1
size.yscale = 1

[State 0, VelSet]
type = VelSet
trigger1 = time <= 10
x = 4
y = -2

[State 0, VelSet]
type = VelSet
trigger1 = time > 10
x = 2
y = 1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F8,0+random%4

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = S4,2+random%10
volume = 255
channel = 4

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 5
triggerall = parent, var(8) = 1
anim = 1102
ownpal = 1
pos = 5,0
scale = 1.1,1.1
vel = 4,-6
accel = -0.2,0.3
postype = p1
facing = 1
bindtime = 1
removetime = -2
sprpriority = 3
trans = add

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 =  1
flag = noshadow

[State 0, HitDef]
type = HitDef
fall.yvelocity = -6
trigger1 = animelem = 2
attr = S, NA
damage = 30,6
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 0, 10
sparkno = 0+random%4
sparkxy = -25, -38
hitsound = 35, 0+random%15;5, 21+random%5
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -2,-2
airguard.velocity = -2,-2
air.type = High
air.velocity = -2,-2
air.hittime = 12

[State 0, End]
type = destroyself
trigger1 = time = 22
;-----------------
[StateDef 1103]
type = A
movetype= A
physics = A
juggle  = 1
velset = -5,-5
ctrl = 0
anim = 1103
poweradd = 20
sprpriority = 2

[State 0, PosAdd]
type = PosAdd
trigger1 = time = 1
x = 120
y = -30

[State 0, Turn]
type = Turn
trigger1 = time = 2


[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S6,11

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 5
triggerall = var(8) = 1
anim = 1103
ownpal = 1
pos = 5,0
scale = 1.1,1.1
vel = 6,-3
accel = -0.3,.15
postype = p1
facing = 1
bindtime = 1
removetime = -2
sprpriority = 3
trans = add

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F8,0+random%4

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = S4,2+random%10
volume = 255
channel = 4

[State 0, HitDef]
type = HitDef
fall.yvelocity = -6
trigger1 = AnimElem = 3
attr = S, NA
damage = 50,10
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 0, 15
sparkno = 0+random%4
sparkxy = -15, -10
hitsound = 35, 0+random%15;5, 21+random%5
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -4,9
airguard.velocity = -4,9
air.type = High
air.velocity = -4,9
air.hittime = 12
fall = 1
envshake.time = 40
envshake.ampl = 4
envshake.freq = 40
fall.yvelocity = -4

[State 0, End]
type = ChangeState
trigger1 = AnimTime = 0
value = 50
ctrl = 1
;-----------------
[StateDef 1105]
type = S
movetype= A
physics = S
juggle  = 1
velset = 2,0
ctrl = 0
anim = 1105
poweradd = 20
sprpriority = 2

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 5
triggerall = var(8) = 1
anim = 1105
ownpal = 1
pos = 5,0
scale = 1.1,1.1
vel = 2,0
accel = -0.1,0
postype = p1
facing = 1
bindtime = 1
removetime = -2
sprpriority = 3
trans = add

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F8,0+random%4

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = S4,2+random%10
volume = 255
channel = 4

[State 0, HitDef]
type = HitDef
fall.yvelocity = -6
trigger1 = !time
attr = S, NA
damage = 30,6
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 0, 10
sparkno = 0+random%4
sparkxy = -15, -35
hitsound = 35, 0+random%15;5, 21+random%5
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -2,-2
airguard.velocity = -2,-2
air.type = High
air.velocity = -2,-2
air.hittime = 12

[State 0, End]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;-----------------
[StateDef 1106]
type = S
movetype= A
physics = S
juggle  = 1
velset = 4,0
ctrl = 0
anim = 1106
poweradd = 20
sprpriority = 2

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 5
triggerall = var(8) = 1
anim = 1106
ownpal = 1
pos = 5,0
scale = 1.1,1.1
vel = 2,0
accel = -0.1,0
postype = p1
facing = 1
bindtime = 1
removetime = -2
sprpriority = 3
trans = add

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F8,0+random%4

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = S4,2+random%10
volume = 255
channel = 4

[State 0, HitDef]
type = HitDef
fall.yvelocity = -6
trigger1 = !time
attr = C, HP
damage = 30,6
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 10, 10
sparkno = 0+random%4
sparkxy = -15, -36
hitsound = 35, 0+random%15;5, 21+random%5
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 30
ground.velocity = -6,-4
airguard.velocity = -6,-4
air.type = High
air.velocity = -6,-4
air.hittime = 30
p1stateno = 1107

[State 0, End]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;-----------------
[StateDef 1107]
type = A
movetype= A
physics = A
juggle  = 1
velset = 4,-4
ctrl = 0
anim = 1107
poweradd = 20
sprpriority = 2

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 5
triggerall = var(8) = 1
anim = 1106
ownpal = 1
pos = 5,0
scale = 1.1,1.1
vel = 4,-4
accel = -0.2,0.2
postype = p1
facing = 1
bindtime = 1
removetime = -2
sprpriority = 3
trans = add

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F8,0+random%4

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = S4,2+random%10
volume = 255
channel = 4

[State 0, HitDef]
type = HitDef
fall.yvelocity = -6
trigger1 = animelem = 2
attr = S, NA
damage = 40,8
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 5, 5
sparkno = 0+random%4
sparkxy = -15, -40
hitsound = 35, 0+random%15;5, 21+random%5
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -3,-3
airguard.velocity = -3,-3
air.type = High
air.velocity = -3,-3
air.hittime = 12
p1stateno = 1108

[State 0, End]
type = ChangeState
trigger1 = AnimTime = 0
value = 50
ctrl = 1
;-----------------
[StateDef 1108]
type = A
movetype= A
physics = A
juggle  = 1
velset = 6,-3
ctrl = 0
anim = 1108
poweradd = 20
sprpriority = 2


[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 1
value = F3

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 0  && pos y = [-5,2]
anim = F370
pos = 0,0
scale = 1,1
postype = p1
facing = 1
bindtime = 1
removetime = -2
sprpriority = 3

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 5
triggerall = var(8) = 1
anim = 1108
ownpal = 1
pos = 5,0
scale = 1.1,1.1
vel = 3,-2
accel = -0.15,0.1
postype = p1
facing = 1
bindtime = 1
removetime = -2
sprpriority = 3
trans = add

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F8,0+random%4

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = S4,2+random%10
volume = 255
channel = 4

[State 0, HitDef]
type = HitDef
fall.yvelocity = -6
trigger1 = animelem = 3
attr = S, NA
damage = 75,15
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 0, 0
sparkno = 0+random%4
sparkxy = -15, -35
hitsound = 35, 0+random%15;5, 21+random%5
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -10,-3
airguard.velocity = -10,-3
air.type = High
air.velocity = -10,-3
air.hittime = 12
envshake.time = 40
envshake.ampl = 4
envshake.freq = 40
fall = 1
p2stateno = 109990

[State 0, End]
type = ChangeState
trigger1 = AnimTime = 0
value = 50
ctrl = 1
;---------------------------------------------------------------------------
;Housenka Tsunabemi
[StateDef 1120]
type = A
movetype= A
physics = A
juggle  = 1
ctrl = 0
anim = 1120
poweradd = 0
sprpriority = 0

[State 0, VelSet]
type = VelSet
trigger1 = time < 25
x = 0.1
y = -0.1

[State 0, VarAdd]
type = VarAdd
trigger1 = animelem = 2
v = 23
value = 6

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
value = S3,30
volume = 255
channel = 3

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F21,4

[State 0, Helper]
type = Helper
trigger1 = animelem = 2
helpertype = normal;player
name = "kunai"
ID = 1121
stateno = 1125
pos = 9,-16
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1

[State 0, Helper]
type = Helper
trigger1 = animelem = 2
helpertype = normal;player
name = "kunai"
ID = 1122
stateno = 1125
pos = 17,-17
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1

[State 0, Helper]
type = Helper
trigger1 = animelem = 2
helpertype = normal;player
name = "kunai"
ID = 1123
stateno = 1125
pos = 24,-19
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1

[State 0, Helper]
type = Helper
trigger1 = animelem = 2
helpertype = normal;player
name = "kunai"
ID = 1124
stateno = 1125
pos = 30,-22
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1

[State 0, Helper]
type = Helper
trigger1 = animelem = 2
helpertype = normal;player
name = "kunai"
ID = 1125
stateno = 1125
pos = 35,-26
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1

[State 0, Helper]
type = Helper
trigger1 = animelem = 2
helpertype = normal;player
name = "kunai"
ID = 1126
stateno = 1125
pos = 39,-31
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1

[State 220, end]
type = ChangeState
trigger1 = AnimTime = 0
value = 1121
ctrl = 1
;---------------------------------------------------------------------------
;Housenka Tsunabemi
[StateDef 1121]
type = A
movetype= A
physics = A
juggle  = 1
ctrl = 0
anim = 1121
poweradd = -1200
sprpriority = 0

[State 0, VelSet]
type = VelSet
trigger1 = time < 10
x = 0.1
y = -0.1

[State 0, VelSet]
type = VelSet
trigger1 = animelem = 3
x = -2
y = -3

[State 0, Explod]
type = Explod
trigger1 = time > 10 && numexplod(810) = 0
anim = F810
id = 810
pos = 13,-43
scale = 0.30,0.45
postype = p1
facing = 1
bindtime = 10
angle = -45
removetime = -2
sprpriority = 3
ownpal = 1

[State 0, Explod]
type = Explod
trigger1 = time = 10
anim = 1122
id = 1122
pos = 13,-43
scale = 0.10,0.3
postype = p1
facing = 1
bindtime = 10
angle = -70
removetime = -2
sprpriority = 3
ownpal = 1

[State 220, end]
type = ChangeState
trigger1 = AnimTime = 0
value = 50
ctrl = 1
;-----------------
[StateDef 1125]
type = S
movetype= A
physics = N
ctrl = 0
anim = 1125
poweradd = 0
sprpriority = 3

[State 0, AngleSet]
type = AngleSet
trigger1 = 1
value = -time*30

[State 0, AngleDraw]
type = AngleDraw
trigger1 = 1

[State 0, VelAdd]
type = VelSet
trigger1 = time > 2
triggerall = ishelper(1121)
x = 0.544
y = 0.9

[State 0, VelAdd]
type = VelSet
trigger1 = time > 2
triggerall = ishelper(1122)
x = 0.61
y = 0.8

[State 0, VelAdd]
type = VelSet
trigger1 = time > 2
triggerall = ishelper(1123)
x = 0.7
y = 0.7

[State 0, VelAdd]
type = VelSet
trigger1 = time > 2
triggerall = ishelper(1124)
x = 0.816
y = 0.6

[State 0, VelAdd]
type = VelSet
trigger1 = time > 2
triggerall = ishelper(1125)
x = 0.98
y = 0.5

[State 0, VelAdd]
type = VelSet
trigger1 = time > 2
triggerall = ishelper(1126)
x = 1.225
y = 0.4

[State 0, ChangeState]
type = ChangeState
trigger1 = parent, stateno = 1121
value = 1126
;------------------------------------------------------------------
[Statedef 1126]
type = S
movetype= A
physics = N
juggle  = 3
velset = 0,0
ctrl = 0
anim = 1126
sprpriority = 4

[State 0, TargetState]
type = TargetState
trigger1 = enemy(cond((enemy(0),alive),0,1)), var(51) = 0
trigger1 = !(enemynear, ishelper)
trigger1 = target, ishelper = 0
trigger1 = movehit
value = 109911

[State 0, PalFX]
type = PalFX
trigger1 = time = 10
time = 50
add = 240,50,0
mul = 250,224,120
sinadd = 110,55,85,10
invertall = 0
color = 256

[State 0, AngleSet]
type = AngleSet
trigger1 = 1
value = -time*30

[State 0, AngleDraw]
type = AngleDraw
trigger1 = 1

[State 0, VarRandom]
type = VarRandom
trigger1 = time = 0
v = 10
range = -100,75

[State 0, VarRandom]
type = VarSet
trigger1 = time = 0
v = 7
value = 2+random%6

[State 0, VarRandom]
type = VarSet
trigger1 = time = 0
v = 8
value = 3+random%3

[State 0, VelSet]
type = VelSet
trigger1 = time > 15
x = 3+var(7)
y = (4+var(8))*1;var(10)/50.0

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 10
anim = F1470
ID = 1125
pos = 0,0
postype = p1
bindtime = -1
removetime = -1
supermovetime=9999
pausemovetime=9999
scale = 0.5,0.5
sprpriority = 3
ownpal = 1

[State 0, ModifyExplod]
type = ModifyExplod
trigger1 = 1
ID =1125
angle = -atan(vel y/vel x)*180/PI 

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 10
anim = F271
ID = 1126
pos = -15,0
postype = p1
bindtime = -1
removetime = 40
supermovetime=9999
pausemovetime=9999
scale = 0.6,0.6
sprpriority = 3

[State 0, ModifyExplod]
type = ModifyExplod
trigger1 = 1
ID =1126
angle = -atan(vel y/vel x)*180/PI

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 10
value = F10,10+random%4

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 10
value = F10,0

[State 0, EnvShake]
type = EnvShake
trigger1 = time > 10 && time%5 = 0
time = 6
freq = 20
ampl = 2
phase = 90

[State 0, HitDef]
type = HitDef
givepower = 0
getpower = 0
fall.yvelocity = -6
trigger1 = timemod = 5,0
attr = S, NA
damage = 150,50
getpower = 0
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 0, 0
sparkno = 1402
sparkxy = -5+random%10, 0-random%10
hitsound = 10, 0
guardsound = 10, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -1,0
airguard.velocity = -1,0
air.type = High
air.velocity = -1,0
air.hittime = 12
envshake.time = 15
envshake.ampl = -9
envshake.freq = 25
envshake.phase = 10
palfx.time = 30
palfx.add = 240,50,0
palfx.mul = 250,224,120
palfx.sinadd = 110,55,85,10


[State 0, ChangeState]
type = ChangeState
trigger1 = movehit
value = 70720
ctrl = 0

[State 0, DestroySelf]
type = DestroySelf
trigger1 = frontedgebodydist < -50
trigger2 = time = 200
ignorehitpause = 1
removeexplods = 1

[State 1003, ChangeState]
type = changestate
trigger1 = pos y > -1
value = 70716
;-----------------
[StateDef 1130]
type = S
movetype= A
physics = S
juggle  = 1
velset = 2,0
ctrl = 0
anim = 1130
poweradd = 20
sprpriority = 2

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 5
triggerall = var(8) = 1
anim = 1130
ownpal = 1
pos = 5,0
scale = 1.1,1.1
vel = 2,0
accel = -0.1,0
postype = p1
facing = 1
bindtime = 1
removetime = -2
sprpriority = 3
trans = add

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = movehit = 1 && p2movetype = H && animelem = 2
anim = F10+random%2
angle = -25+random%50
pos = 0,-48
postype = p2  ;p2,front,back,left,right
facing = 1
bindtime = 1
removetime = -2
sprpriority = 3
scale = 1.1,1.1
ownpal = 1
ontop = 0
supermovetime = 9999
pausemovetime = 9999

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 5
anim = F890
scale = 2.2,2.2
pos = 9,-37
postype = p1  ;p2,front,back,left,right
facing = 1
bindtime = -1
removetime = -2
sprpriority = 3
ownpal = 1
ontop = 0
supermovetime = 9999
pausemovetime = 9999

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
trigger2 = animelem = 4
trigger3 = animelem = 7
value = F8,0+random%4

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = S4,2+random%10
volume = 255
channel = 4

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F24,0+random%5

[State 0, HitDef]
type = HitDef
fall.yvelocity = -6
trigger1 = animelem = 2
attr = S, NA
damage = 25,5
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 0, 15
sparkno = 0+random%4
sparkxy = -15, -35
hitsound = 35, 0+random%15;5, 21+random%5
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -2,-5
airguard.velocity = -2,-5
air.type = High
air.velocity = -2,-5
air.hittime = 12
envshake.time = 30
envshake.freq = 30
envshake.ampl = -7
envshake.phase = 10

[State 0, HitDef]
type = HitDef
fall.yvelocity = -6
trigger1 = animelem = 5
attr = C,HP
damage = 25,5
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 0, 15
sparkno = 0+random%4
sparkxy = -15, -35
hitsound = 35, 0+random%15;5, 21+random%5
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -3,-2
airguard.velocity = -3,-2
air.type = High
air.velocity = -3,-2
air.hittime = 12
p2stateno = 109990
envshake.time = 30
envshake.freq = 30
envshake.ampl = -7
envshake.phase = 10

[State 0, HitDef]
type = HitDef
fall.yvelocity = -6
trigger1 = animelem = 7
attr = C, HP
damage = 25,5
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 0, 0
sparkno = 0+random%4
sparkxy = -15, -40
hitsound = 35, 0+random%15;5, 21+random%5
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 30
ground.velocity = -12,-8
airguard.velocity = -12,-8
air.type = High
air.velocity = -12,-8
air.hittime = 30
p2stateno = 109990

[State 0, End]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;-----------------
[StateDef 1131]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 1131
poweradd = 0
sprpriority = 2

[State 0, Turn]
type = Turn
trigger1 = time > 12 && p2bodydist x < -40
persistent = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 5
value = S6,11

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 5
value = S6,13

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 6
trigger2 = time = 8
trigger3 = time = 10
trigger4 = time = 12
trigger5 = time = 14
trigger6 = time = 16
anim = 80003
ID = 80003
pos = -5-(random%27-13)*2,-15
random = 30,60
vel = 2.3,-1
postype = p1
bindtime = 10
removetime = 87
supermovetime = 9999
pausemovetime = 9999
scale = 0.7,0.7
sprpriority = 3
ownpal = 1
ontop = 0

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = timemod = 6,0
anim = 80000
ID = 80000
pos = (random%27-13)*1,-25-(random%27-13)*0.8
random = 30,60
vel = -0.2,-1
accel = 0,0.03
postype = p1
bindtime = 1
removetime = 95
supermovetime = 9999
pausemovetime = 9999
scale = 0.12,0.12
sprpriority = 3
ownpal = 1
ontop = 0

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = timemod = 6,0
anim = 80000
ID = 80000
pos = (random%27-13)*1,-25-(random%27-13)*0.8
random = 30,60
vel = 0.2,-1
accel = 0,0.03
postype = p1
bindtime = 1
removetime = 95
supermovetime = 9999
pausemovetime = 9999
scale = 0.12,0.12
sprpriority = 3
ownpal = 1
ontop = 0

[State 0, VelSet]
type = VelSet
trigger1 = time = [5,15]
x = 8

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 5
triggerall = var(8) = 1
anim = 1131
ownpal = 1
pos = 5,0
scale = 1.1,1.1
vel = 3,0
accel = -0.15,0
postype = p1
facing = 1
bindtime = 1
removetime = 5
sprpriority = 3
trans = add

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = S2,27
volume = 255
channel = 4

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F8,0+random%4

[State 0, HitDef]
type = HitDef
fall.yvelocity = -6
trigger1 = timemod = 3,0
attr = S, NA
damage = 25,10
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 0, 5
sparkno = 2010
sparkxy = -15, -30-random%20
hitsound = 21, 5
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -2,0
airguard.velocity = -2,0
air.type = High
air.velocity = -2,0
air.hittime = 12

[State 0, End]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;-----------------
[StateDef 1132]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 1132
poweradd = 0
sprpriority = 2

[State 0, Helper] 
type = Helper 
trigger1 = time = 1
helpertype = normal
name = "efekt teleport" 
ID = 84501
stateno = 4501
pos = 0,0
postype = p1 
ownpal = 1
size.xscale = 1
size.yscale = 1

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 5
triggerall = parent, var(8) = 1
anim = 1132
ownpal = 1
pos = 5,0
scale = 1.1,1.1
vel = 1,0
accel = -0.05,0
postype = p1
facing = 1
bindtime = 1
removetime = -2
sprpriority = 3
trans = add

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S6,11

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
value = S4,9
volume = 255
channel = 4

[State 0, PosSet]
type = PosSet
trigger1 = 1
y = 0

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 =  1
flag = noshadow

[State 0, NotHitBy]
type = NotHitBy
trigger1 = time >= 0
value = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
time = 1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
trigger1 = animelem = 5
value = F8,0
volume = 255
channel = 8

[State 1640, X]
Type=VarSet
Trigger1=1
fvar(13)=(EnemyNear(0),Pos X-Pos X)*Facing

[State 1640, Y]
Type=VarSet
trigger1=1
fvar(14)=(EnemyNear(0),pos Y-Pos Y)

[State 1640, Vector Length]
Type=VarSet
trigger1=1
fvar(15)=Exp(0.5*ln((fvar(13)*fvar(13))+(fvar(14)*fvar(14))))

[State 0, Helper]
type = Helper
trigger1 = time = 10
trigger2 = time = 12
trigger3 = time = 14
trigger4 = time = 16
trigger5 = time = 18
helpertype = normal;player
name = "shuriken"
ID = 70711
stateno = 70710
pos = 10+random%10,-25-random%20
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1

[State 0, End]
type = ChangeState
trigger1 = animtime = 0
value = 8701
ctrl = 1
;-----------------
[StateDef 11321]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 11321
poweradd = 0
sprpriority = 2

[State 0, Helper]
type = Helper
trigger1 = time = 0
helpertype = normal;player
name = "klon shuriken"
ID = 1132
stateno = 1132
pos = -40,0
postype = p1   
facing = 1
keyctrl = 0
ownpal = 1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
value = F8,0+random%4

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
value = S2,24
volume = 255
channel = 4

[State 0, End]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;-----------------
[StateDef 1133]
type = A
movetype= A
physics = A
juggle  = 1
velset = 3,-3
ctrl = 0
anim = 1133
poweradd = 20
sprpriority = 2

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 5
triggerall = var(8) = 1
anim = 1133
ownpal = 1
pos = 5,0
scale = 1.1,1.1
vel = 3,-2
accel = -0.15,0.1
postype = p1
facing = 1
bindtime = 1
removetime = -2
sprpriority = 3
trans = add

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F8,0+random%4

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = S4,2+random%10
volume = 255
channel = 4

[State 0, HitDef]
type = HitDef
fall.yvelocity = -6
trigger1 = animelem = 2
attr = S, NA
damage = 25,5
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 0, 15
sparkno = 0+random%4
sparkxy = -15, -25
hitsound = 35, 0+random%15;5, 21+random%5
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -3,-2
airguard.velocity = -3,-2
air.type = High
air.velocity = -3,-2
air.hittime = 12

[State 0, End]
type = ChangeState
trigger1 = AnimTime = 0
value = 50
ctrl = 1
;-----------------
[StateDef 1134]
type = A
movetype= A
physics = A
juggle  = 1
velset = 3,-2
ctrl = 0
anim = 1134
poweradd = 20
sprpriority = 2

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 5
triggerall = var(8) = 1
anim = 1134
ownpal = 1
pos = 5,0
scale = 1.1,1.1
vel = 3,-2
accel = -0.15,0.1
postype = p1
facing = 1
bindtime = 1
removetime = -2
sprpriority = 3
trans = add

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F8,0+random%4

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = S4,2+random%10
volume = 255
channel = 4

[State 0, HitDef]
type = HitDef
fall.yvelocity = -6
trigger1 = animelem = 2
attr = S, NA
damage = 25,5
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 0, 25
sparkno = 0+random%4
sparkxy = -15, -18
hitsound = 35, 0+random%15;5, 21+random%5
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -3,5
airguard.velocity = -3,5
air.type = High
air.velocity = -3,5
air.hittime = 12

[State 0, End]
type = ChangeState
trigger1 = AnimTime = 0
value = 50
ctrl = 1
;-----------------
[StateDef 1135]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 1135
poweradd = 20
sprpriority = 2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 5
value = S6,11

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 5
value = S6,13

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 6
trigger2 = time = 8
trigger3 = time = 10
trigger4 = time = 12
trigger5 = time = 14
trigger6 = time = 16
anim = 80003
ID = 80003
pos = -5-(random%27-13)*2,-15
random = 30,60
vel = 2.3,-1
postype = p1
bindtime = 10
removetime = 87
supermovetime = 9999
pausemovetime = 9999
scale = 0.7,0.7
sprpriority = 3
ownpal = 1
ontop = 0

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = timemod = 6,0
anim = 80000
ID = 80000
pos = (random%27-13)*1,-25-(random%27-13)*0.8
random = 30,60
vel = -0.2,-1
accel = 0,0.03
postype = p1
bindtime = 1
removetime = 95
supermovetime = 9999
pausemovetime = 9999
scale = 0.12,0.12
sprpriority = 3
ownpal = 1
ontop = 0

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = timemod = 6,0
anim = 80000
ID = 80000
pos = (random%27-13)*1,-25-(random%27-13)*0.8
random = 30,60
vel = 0.2,-1
accel = 0,0.03
postype = p1
bindtime = 1
removetime = 95
supermovetime = 9999
pausemovetime = 9999
scale = 0.12,0.12
sprpriority = 3
ownpal = 1
ontop = 0

[State 0, PosAdd]
type = PosAdd
trigger1 = time = 9
x = 200

[State 0, PosSet]
type = PosSet
trigger1 = time = 10
y = 0

[State 0, Turn]
type = Turn
trigger1 = time = 10 && p2bodydist x < 0


[State 0, VelSet]
type = VelSet
trigger1 = time < 9
x = -9

[State 0, VelSet]
type = VelSet
trigger1 = time = [10,25]
x = 7

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 5
triggerall = var(8) = 1
anim = 1135
ownpal = 1
pos = 5,0
scale = 1.1,1.1
vel = 3,0
accel = -0.15,0
postype = p1
facing = 1
bindtime = 1
removetime = 5
sprpriority = 3
trans = add

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 11
value = S4,2+random%10
volume = 255
channel = 4

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 11
value = F24,0+random%5


[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = movehit = 1 && p2movetype = H
anim = F10+random%2
angle = -25+random%50
pos = 0,-43
postype = p2  ;p2,front,back,left,right
facing = 1
bindtime = 1
removetime = -2
sprpriority = 3
scale = 0.8,0.8
ownpal = 1
ontop = 0
supermovetime = 9999
pausemovetime = 9999

[State 0, HitDef]
type = HitDef
fall.yvelocity = -6
trigger1 = animelem = 11
attr = S, NA
damage = 40,8
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 0, 15
sparkno = 0+random%4
sparkxy = -15, -43
hitsound = 24, 10+random%4
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -3,0
airguard.velocity = -3,0
air.type = High
air.velocity = -3,0
air.hittime = 12

[State 0, End]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;-----------------
[StateDef 1136]
type = A
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 1136
poweradd = 20
sprpriority = 2

[State 0, PosAdd]
type = PosAdd
trigger1 = time = 1
x = 0
y = -20

[State 0, Turn]
type = Turn
trigger1 = time = 26

[State 0, Helper] 
type = Helper 
trigger1 = time = 0
helpertype = normal
name = "efekt teleport" 
ID = 84501
stateno = 4501
pos = 0,0
postype = p1
facing = 1 
ownpal = 1
size.xscale = 1
size.yscale = 1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 1
trigger2 = time = 10
trigger3 = time = 20
trigger2 = time = 30
value = S6,11

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 5
trigger2 = time = 30
value = S6,13

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time < 30 && timemod = 3,0
anim = 80003
ID = 113680003
pos = -5-(random%27-13)*2,-15
random = 30,60
vel = 2.3,-1
postype = p1
bindtime = 10
removetime = 87
supermovetime = 9999
pausemovetime = 9999
scale = 0.7,0.7
sprpriority = 3
ownpal = 1
ontop = 0
angle = 30

[State 0, ModifyExplod]
type = ModifyExplod
trigger1 = 1
ID =113680003
angle = -atan(vel y/vel x)*180/PI 

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = timemod = 6,0
anim = 80000
ID = 80000
pos = (random%27-13)*1,-25-(random%27-13)*0.8
random = 30,60
vel = -0.2,-1
accel = 0,0.03
postype = p1
bindtime = 1
removetime = 95
supermovetime = 9999
pausemovetime = 9999
scale = 0.12,0.12
sprpriority = 3
ownpal = 1
ontop = 0

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = timemod = 6,0
anim = 80000
ID = 80000
pos = (random%27-13)*1,-25-(random%27-13)*0.8
random = 30,60
vel = 0.2,-1
accel = 0,0.03
postype = p1
bindtime = 1
removetime = 95
supermovetime = 9999
pausemovetime = 9999
scale = 0.12,0.12
sprpriority = 3
ownpal = 1
ontop = 0

[State 0, VelSet]
type = VelSet
trigger1 = time < 25
x = 8-time/30
y = -2-time/20

[State 0, PosAdd]
type = PosAdd
trigger1 = time = 25
x = 30
y = 20

[State 0, VelSet]
type = VelSet
trigger1 = time >= 25
x = 0
y = 0

[State 0, AngleDraw]
type = AngleDraw
trigger1 = time < 25
value = -atan(vel y/vel x)*180/PI 

[State 0, AngleDraw]
type = AngleDraw
trigger1 = time >= 25
value = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 12
value = S4,2+random%10
volume = 255
channel = 4

[State 0, HitDef]
type = HitDef
fall.yvelocity = -6
trigger1 = timemod = 3,0
triggerall = time < 25
attr = S, NA
damage = 5,1
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 0, 10
sparkno = 4
sparkxy = -15, -43
hitsound = 21, 5
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -2,-2
airguard.velocity = -2,-2
air.type = High
air.velocity = -2,-2
air.hittime = 12
fall = 1

[State 0, TargetBind]
type = TargetBind
trigger1 = time < 24
time = 2
pos = 0,20

[State 0, HitDef]
type = HitDef
fall.yvelocity = -6
trigger1 = animelem = 10 || animelem = 11 || animelem = 12
attr = S, NA
damage = 10,2
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 0, 20
sparkno = 4
sparkxy = -15, -40
hitsound = 21, 5
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -1,-2
airguard.velocity = -1,-2
air.type = High
air.velocity = -1,-2
air.hittime = 12
fall = 1

[State 0, End]
type = ChangeState
trigger1 = AnimTime = 0
value = 50
ctrl = 1

;---------------------------------------------------------------------------
[Statedef 1200]
type = A
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 1200
poweradd = 0
sprpriority = 2

[State 0, HitDef]
type = HitDef
givepower = 0
getpower = 0
fall.yvelocity = -6
trigger1 = !time
attr = C,HP
p1stateno = 1201
p2stateno = 104995
damage = 0,0
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 0, 0
sparkno = 4
sparkxy = -15, -40
hitsound = S21, 8
guardsound = S26, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = 0,0
airguard.velocity = 0,0
air.type = High
air.velocity = -2,-2
air.hittime = 12

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F8,2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 2
value = S2,24
volume = 255
channel = 2

[State 195, 2]
type = ChangeState
trigger1 = animtime = 0
value = 0
ctrl = 1
;---------------------------------------------------------------------------
[Statedef 1201]
type = A
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 1201
poweradd = -1000
sprpriority = 2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S6,6

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S6,7

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 50
value = S2,18
volume = 256
channel = 2



[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = timemod = 10,0
anim = 1213
ID = 1213
pos = -230+time,0
postype = p2
facing = 1
vfacing = 1
bindtime = -1
removetime = -2
scale = 1,1
sprpriority = 4
ontop = 0
ownpal = 1
removeongethit = 0
supermovetime = 9999
pausemovetime = 9999

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = timemod = 10,0
anim = 1213
ID = 1213
pos = 230-time,0
postype = p2
facing = 1
vfacing = 1
bindtime = -1
removetime = -2
scale = 1,1
sprpriority = 4
ontop = 0
ownpal = 1
removeongethit = 0
supermovetime = 9999
pausemovetime = 9999

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 1
trigger2 = time = 5
value = S6,11

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = timemod = 4,0 && time < 15
anim = 80004
ID = 80004
pos = 25+(random%27-13)*2,5
random = 30,60
vel = -2.3,-1
postype = p1
bindtime = 1
removetime = 87
supermovetime = 9999
pausemovetime = 9999
scale = 0.5,0.5
sprpriority = 3
ownpal = 1
ontop = 0

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = timemod = 4,0 && time < 15
anim = 80003
ID = 80003
pos = -5-(random%27-13)*2,5
random = 30,60
vel = 2.3,-1
postype = p1
bindtime = 1
removetime = 87
supermovetime = 9999
pausemovetime = 9999
scale = 0.7,0.7
sprpriority = 3
ownpal = 1
ontop = 0

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = timemod = 4,0 && time < 15
anim = 80000
ID = 80000
pos = (random%27-13)*1,-25-(random%27-13)*0.8
random = 30,60
vel = -0.2,-1
accel = 0,0.03
postype = p1
bindtime = 1
removetime = 95
supermovetime = 9999
pausemovetime = 9999
scale = 0.12,0.12
sprpriority = 3
ownpal = 1
ontop = 0

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = timemod = 4,0 && time < 15
anim = 80000
ID = 80000
pos = (random%27-13)*1,-25-(random%27-13)*0.8
random = 30,60
vel = 0.2,-1
accel = 0,0.03
postype = p1
bindtime = 1
removetime = 95
supermovetime = 9999
pausemovetime = 9999
scale = 0.12,0.12
sprpriority = 3
ownpal = 1
ontop = 0

[State 0, SuperPause]
type = SuperPause
trigger1 = time = 1
time = 10
pos = 200,500
move = 0
darken = 1
unhittable = 0

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 1
anim = 1210
ID = 1210
pos =0,-50
postype = back
facing = 1
vfacing = 1
bindtime = -1
removetime = -1
scale = 1,1
sprpriority = -1
ontop = 0
ownpal = 1
removeongethit = 0
supermovetime = 9999
pausemovetime = 9999

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = timemod = 3,0
anim = F720
ID = 720
pos =-50+random%400,-150+random%300
postype = back
facing = 1
vfacing = 1
bindtime = -1
removetime = -2
scale = 3,3
sprpriority = -2
ontop = 0
ownpal = 1
removeongethit = 0
supermovetime = 9999
pausemovetime = 9999

[State 0, EnvColor]
type = EnvColor
trigger1 = 1
value = 0,0,0
time = 100
under = 1


[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 0
anim = 652
ID = 652
pos =-50,-50
postype = back
facing = 1
vfacing = 1
bindtime = -1
removetime = -2
scale = 1,1
sprpriority = 5
ontop = 0
ownpal = 1
removeongethit = 0
supermovetime = 9999
pausemovetime = 9999

[State 0, PlaySnd]
type = PlaySnd
trigger1 = timemod = 10,0
value = F10,2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = timemod = 30,0
value = F10,0

[State 195, 2]
type = ChangeState
trigger1 = time = 200
value = 1202
ctrl = 1
;---------------------------------------------------------------------------
[Statedef 1202]
type = A
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 1202
poweradd = 0
sprpriority = 2

[State 0, HitDef]
type = HitDef
givepower = 0
getpower = 0
fall.yvelocity = -6
trigger1 = time = 0
attr = C,HP
p2stateno = 104996
damage = 0,0
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 0, 0
sparkno = 4
sparkxy = -15, -40
hitsound = S21, 8
guardsound = S26, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = 0,0
airguard.velocity = 0,0
air.type = High
air.velocity = 0,0
air.hittime = 12

[State 0, HitDef]
type = HitDef
givepower = 0
getpower = 0
fall.yvelocity = -6
trigger1 = time = 140
attr = C,HP
damage = 0,0
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 0, 0
sparkno = 4
sparkxy = -15, -40
hitsound = S21, 8
guardsound = S26, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = 0,0
airguard.velocity = 0,0
air.type = High
air.velocity = 0,0
air.hittime = 12

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S6,7

[State 0, PlaySnd]
type = PlaySnd
trigger1 = timemod = 10,0
value = F10,2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = timemod = 30,0
value = F10,0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 140
value = S6,16

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 140
value = S6,16

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 140
value = S6,16

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 5
value = F10,3

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 5
value = F10,3


[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = timemod = 10,0
anim = 1213
ID = 1213
pos = 0,0
postype = p2
facing = 1
vfacing = 1
bindtime = -1
removetime = -2
scale = 1+time/40,1+time/40
sprpriority = 4
ontop = 0
ownpal = 1
removeongethit = 0
supermovetime = 9999
pausemovetime = 9999

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = time = 140
id = 1213

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = time = 140
id = 710

[State 0, EnvColor]
type = EnvColor
trigger1 = 1
value = 0,0,0
time = 5
under = 1


[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = time = 140
id = 1210

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = time = 140
id = 720

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = timemod = 3,0  && time < 100
anim = F720
ID = 720
pos =-50+random%400,-150+random%300
postype = back
facing = 1
vfacing = 1
bindtime = -1
removetime = -2
scale = 3,3
sprpriority = -2
ontop = 0
ownpal = 1
removeongethit = 0
supermovetime = 9999
pausemovetime = 9999

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 140
anim = 8872
ID = 8872
pos = 0,0
postype = back
facing = 1
vfacing = 1
bindtime =- 2
removetime = -2
scale = 1.15,1.15
sprpriority = 10
ontop = 0
ownpal = 1
removeongethit = 0
supermovetime = 9999
pausemovetime = 9999

[State 195, 2]
type = ChangeState
trigger1 = animtime = 0
value = 0
ctrl = 1
;-----------------------------
[StateDef 104995]
type = S
movetype= I
physics = S
juggle  = 1
ctrl = 0
anim = 5000+var(0)*10000
velset = 0,0
poweradd = 0
sprpriority = 0

[State 0, PalFX]
type = PalFX
trigger1 = timemod = 5,0
time = 10
add = 100,100,100
mul = 256,256,256
sinadd = 0,0,0,0
invertall = 1
color = 256

[State 0, NotHitBy]
type = NotHitBy
trigger1 = time >= 0
value = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
time = 1


[State 0, PlayerPush]
type = PlayerPush
trigger1 = 1
value = 0

[State 0, ChangeState]
type = selfstate
trigger1 = time = 133
value = 104996
ctrl = 1
;-----------------------------
[StateDef 104996]
type = S
movetype= I
physics = S
juggle  = 1
ctrl = 0
anim = 5000+var(0)*10000
velset = 0,0
poweradd = 0
sprpriority = 0

[State 0, NotHitBy]
type = NotHitBy
trigger1 = time >= 0
value = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
time = 1

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = timemod = 10,0
anim = F1330
ID = 1330
pos = 10,0
postype = p1
bindtime = 1
removetime = -2
supermove
pausemove
scale = 1,1
sprpriority = 4
ownpal = 1

[State 0, LifeAdd]
type = LifeAdd
trigger1 = 1
value = -10
kill = 1

[State 0, PalFX]
type = PalFX
trigger1 = time = 0
time = 140
add = 240,50,0
mul = 250,224,120
sinadd = 110,55,85,10
invertall = 0
color = 256


[State 0, PlayerPush]
type = PlayerPush
trigger1 = 1
value = 0

[State 0, ChangeState]
type = selfstate
trigger1 = time = 92
value = 5100
ctrl = 1
;---------------------------------------------------------------------------
[Statedef 1250]
type = A
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 1250
poweradd = 0
sprpriority = 2

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = time = 0
id = 9998

[State 0, HitDef]
type = HitDef
givepower = 0
getpower = 0
fall.yvelocity = -6
trigger1 = !time
attr = C,HP
p1stateno = 1251
p2stateno = 104997
damage = 0,0
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 0, 0
sparkno = 4
sparkxy = -15, -40
hitsound = S21, 8
guardsound = S26, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = 0,0
airguard.velocity = 0,0
air.type = High
air.velocity = -2,-2
air.hittime = 12

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F8,2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 2
value = S2,24
volume = 255
channel = 2

[State 195, 2]
type = ChangeState
trigger1 = animtime = 0
value = 0
ctrl = 1
;---------------------------------------------------------------------------
[Statedef 1251]
type = A
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 1251
poweradd = -1000
sprpriority = 2

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = time = 0
id = 9998

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S6,6

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S6,7

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 50
value = S2,2
volume = 256
channel = 2

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = timemod = 10,0
anim = 1260
ID = 1260
pos = -200+random%400,80
postype = p2
facing = 1
vfacing = 1
bindtime = -1
removetime = -2
scale = 1.5,1.5
sprpriority = 4
ontop = 0
ownpal = 1
removeongethit = 0
supermovetime = 9999
pausemovetime = 9999

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 1
trigger2 = time = 5
value = S6,11

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = timemod = 4,0 && time < 15
anim = 80004
ID = 80004
pos = 25+(random%27-13)*2,5
random = 30,60
vel = -2.3,-1
postype = p1
bindtime = 1
removetime = 87
supermovetime = 9999
pausemovetime = 9999
scale = 0.5,0.5
sprpriority = 3
ownpal = 1
ontop = 0

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = timemod = 4,0 && time < 15
anim = 80003
ID = 80003
pos = -5-(random%27-13)*2,5
random = 30,60
vel = 2.3,-1
postype = p1
bindtime = 1
removetime = 87
supermovetime = 9999
pausemovetime = 9999
scale = 0.7,0.7
sprpriority = 3
ownpal = 1
ontop = 0

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = timemod = 6,0 && time < 15
anim = 80000
ID = 80000
pos = (random%27-13)*1,-25-(random%27-13)*0.8
random = 30,60
vel = -0.2,-1
accel = 0,0.03
postype = p1
bindtime = 1
removetime = 55
supermovetime = 9999
pausemovetime = 9999
scale = 0.12,0.12
sprpriority = 3
ownpal = 1
ontop = 0

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = timemod = 6,0 && time < 15
anim = 80000
ID = 80000
pos = (random%27-13)*1,-25-(random%27-13)*0.8
random = 30,60
vel = 0.2,-1
accel = 0,0.03
postype = p1
bindtime = 1
removetime = 55
supermovetime = 9999
pausemovetime = 9999
scale = 0.12,0.12
sprpriority = 3
ownpal = 1
ontop = 0

[State 0, SuperPause]
type = SuperPause
trigger1 = time = 1
time = 10
pos = 200,500
move = 0
darken = 1
unhittable = 0

[State 0, EnvColor]
type = EnvColor
trigger1 = 1
value = 0,0,0
time = 100
under = 1

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 0
anim = 652
ID = 652
pos =-50,-50
postype = back
facing = 1
vfacing = 1
bindtime = -1
removetime = -2
scale = 1,1
sprpriority = 5
ontop = 0
ownpal = 1
removeongethit = 0
supermovetime = 9999
pausemovetime = 9999

[State 0, PlaySnd]
type = PlaySnd
trigger1 = timemod = 10,0
value = F10,2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = timemod = 30,0
value = F10,0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = timemod = 40,0
value = S6,9


[State 195, 2]
type = ChangeState
trigger1 = time = 200
value = 1252
ctrl = 1
;---------------------------------------------------------------------------
[Statedef 1252]
type = A
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 1252
poweradd = 0
sprpriority = 2

[State 0, HitDef]
type = HitDef
givepower = 0
getpower = 0
fall.yvelocity = -6
trigger1 = time = 0
attr = C,HP
p2stateno = 104998
damage = 0,0
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 0, 0
sparkno = 4
sparkxy = -15, -40
hitsound = S21, 8
guardsound = S26, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = 0,0
airguard.velocity = 0,0
air.type = High
air.velocity = 0,0
air.hittime = 12

[State 0, HitDef]
type = HitDef
givepower = 0
getpower = 0
fall.yvelocity = -6
trigger1 = time = 137
attr = C,HP
damage = 0,0
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 0, 0
sparkno = 4
sparkxy = -15, -40
hitsound = S21, 8
guardsound = S26, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = 0,0
airguard.velocity = 0,0
air.type = High
air.velocity = 0,0
air.hittime = 12

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S2,6
channel = 2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = timemod = 30,0
value = S6,8

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 1
value = S6,7

[State 0, PlaySnd]
type = PlaySnd
trigger1 = timemod = 20,0
value = S6,9

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 0
anim = 1261
ID = 1261
pos = 0,0
postype = p2
facing = 1
vfacing = 1
bindtime = -1
removetime = -1
scale = 1,1
sprpriority = -1
ontop = 0
ownpal = 1
removeongethit = 0
supermovetime = 9999
pausemovetime = 9999

[State 0, LifeAdd]
type = LifeAdd
trigger1 = time < 80
value = -2
kill = 0

[State 0, LifeAdd]
type = LifeAdd
trigger1 = time > 80
value = -6
kill = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 140
value = S6,16

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 140
value = S6,16

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 140
value = S6,16

[State 0, EnvColor]
type = EnvColor
trigger1 = 1
value = 0,0,0
time = 5
under = 1

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 0
anim = 1263
ID = 1263
pos = 0,-200
postype = p2
vel = 0,1.5
facing = 1
vfacing = 1
bindtime = 1
removetime = 120
scale = 1,1
sprpriority = 10
ontop = 0
ownpal = 1
removeongethit = 0
supermovetime = 9999
pausemovetime = 9999

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 100
anim = 1264
ID = 1264
pos = 0,0
postype = p2
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
scale = 1,1
sprpriority = 10
ontop = 0
ownpal = 1
removeongethit = 0
supermovetime = 9999
pausemovetime = 9999

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 140
anim = 8872
ID = 8872
pos = 0,0
postype = back
facing = 1
vfacing = 1
bindtime =- 2
removetime = -2
scale = 1.15,1.15
sprpriority = 10
ontop = 0
ownpal = 1
removeongethit = 0
supermovetime = 9999
pausemovetime = 9999

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = time = 140
id = 1258

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = time = 140
id = 1259

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = time = 140
id = 1260

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = time = 140
id = 1261

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = time = 140
id = 1263

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = time = 140
id = 1264

[State 195, 2]
type = ChangeState
trigger1 = animtime = 0
value = 0
ctrl = 1
;-----------------------------
[StateDef 104997]
type = S
movetype= I
physics = S
juggle  = 1
ctrl = 0
anim = 5000+var(0)*10000
velset = 0,0
poweradd = 0
sprpriority = 0

[State 0, LifeAdd]
type = LifeAdd
trigger1 = 1
value = -2
kill = 0


[State 0, NotHitBy]
type = NotHitBy
trigger1 = time >= 0
value = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
time = 1


[State 0, PlayerPush]
type = PlayerPush
trigger1 = 1
value = 0

[State 0, ChangeState]
type = selfstate
trigger1 = time = 133
value = 104998
ctrl = 1
;-----------------------------
[StateDef 104998]
type = S
movetype= I
physics = S
juggle  = 1
ctrl = 0
anim = 5000+var(0)*10000
velset = 0,0
poweradd = 0
sprpriority = 0

[State 0, NotHitBy]
type = NotHitBy
trigger1 = time >= 0
value = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
time = 1

[State 0, LifeAdd]
type = LifeAdd
trigger1 = 1
value = -7
kill = 1


[State 0, PlayerPush]
type = PlayerPush
trigger1 = 1
value = 0

[State 0, ChangeState]
type = selfstate
trigger1 = time = 92
value = 5100
ctrl = 1
;-----------------
;Suiton, Suiryuudan
[StateDef 1270]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 1270
poweradd = 0
sprpriority = 0

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 5
triggerall = var(8) = 1
anim = 1270
ownpal = 1
pos = 5,0
scale = 1.1,1.1
vel = 2,0
accel = -0.1,0
postype = p1
facing = 1
bindtime = 1
removetime = -2
sprpriority = 3
trans = add

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
trigger2 = animelem = 5
trigger3 = animelem = 7
trigger4 = animelem = 9
trigger5 = animelem = 11
trigger6 = animelem = 13
value = F17,0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 12
value = S3,32

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 12
value = S3,32

[State 0, Helper]
type = Helper
trigger1 = animelem = 18
helpertype = normal;player
name = "suiton"
ID = 1271
stateno = 1271
pos = 70,0
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1
size.xscale = 0.6
size.yscale = 0.6

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 36
anim = F1520
id = 1520
pos = 25,-38
scale = 0.6,1
postype = p1
angle = -10
facing = 1
bindtime = 1
removetime = -2
sprpriority = 3
supermovetime=9999
pausemovetime=9999
ownpal = 1

[State 1533,excplod ]
type = Explod
ownpal = 1
trigger1 = animelem = 17
anim = 1272
ID = 1272
postype = p1
pos = 67,-26
bindtime = -1
sprpriority = 4
ownpal = 1
ontop = 0
removetime = 8
scale = 1,1
supermovetime = 9999
pausemovetime = 9999

[State 0, End]
type = ChangeState
trigger1 = animtime = 0
value = 0
ctrl = 1
;------------------------
[StateDef 1271]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 1271
poweradd = -2000
sprpriority = 3

[State 0, TargetState]
type = TargetState
trigger1 = enemy(cond((enemy(0),alive),0,1)), var(53) = 0
trigger1 = !(enemynear, ishelper)
trigger1 = target, ishelper = 0
trigger1 = movehit
value = 109933

[State 0, TargetBind]
type = TargetBind
trigger1 = movehit && time < 80
time = 1
pos = 50,-10

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time < 90 && timemod = 2,0
anim = F241
id = 241
pos = -30+random%100,0-random%60
scale = 1.5,1.5
postype = p1
facing = -1
vel = -3+random%3,-1+random%2
bindtime = 1
removetime = -2
sprpriority = 7
supermovetime=9999
pausemovetime=9999
ownpal = 1

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time < 90 && timemod = 10,0
anim = F1530
id = 1530
pos = 10,0
scale = 2.3,2.3
postype = p1
facing = -1
vel = -1,0
bindtime = 1
removetime = -2
sprpriority = 7
supermovetime=9999
pausemovetime=9999
ownpal = 1

[State 0, NotHitBy]
type = NotHitBy
trigger1 = time >= 0
value = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
time = -1

[State 0, PlayerPush]
type = PlayerPush
trigger1 = 1
value = 1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = F12,6

[State 0, PlaySnd]
type = PlaySnd
trigger1 = timemod = 30,0
value = F12,1
volume = 256
channel = 12

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 1
value = F18,0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 1
value = F18,1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 80
value = F12,3

[State 0, VelSet]
type = VelSet
trigger1 = 1
x = 2

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[State 0, HitDef]
type = HitDef
givepower = 0
getpower = 0
fall.yvelocity = -6
trigger1 = timemod = 5,0
attr = S, NA
getpower = 0
damage = 50,10
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 0,5
sparkno = 1550;240
sparkxy = -5-random%40, 0-random%40
hitsound = F12,0
guardsound = F12,0
ground.type = High
ground.slidetime = 5
ground.hittime  = 20
ground.velocity = -5,-1
airguard.velocity = -1.9,-.8
air.type = High
air.velocity = -5,-0.5
air.hittime = 20
fall = 1
envshake.time = 70
envshake.ampl = 5
envshake.freq = 70

[State 1533,excplod ]
type = Explod
ownpal = 1
trigger1 = animelem = 2
anim = F250
ID = 250
postype = p1
pos = 10,-5
bindtime = -1
sprpriority = 4
ownpal = 1
ontop = 0
removetime = 45
scale = 2,2
supermovetime = 9999
pausemovetime = 9999

[State 1533,excplod ]
type = Explod
ownpal = 1
trigger1 = animelem = 2
anim = F250
ID = 250
postype = p1
pos = -20,-5
bindtime = -1
sprpriority = 4
facing = -1
ownpal = 1
ontop = 0
removetime = 45
scale = 2,2
supermovetime = 9999
pausemovetime = 9999

[State 0, End]
type = destroyself
trigger1 = time = 100
;---------------------------------------------------------------------------
;Genjutsu hold
[StateDef 1300]
type = S
movetype = I
physics = S
anim = 877
ctrl = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0 
value = S7,18

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0 
value = S7,18

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 60 
value = S2,29

[State 7500, Explod]
type = Explod
ownpal = 1
trigger1 = time = 1
anim = 80012
ID = 9998
pos = -33,-75
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = -1
removetime = 115
scale = 0.5,0.5
sprpriority = 2
removeongethit = 1
ontop = 0
supermovetime = 999999

[State 7500, Explod]
type = Explod
ownpal = 1
trigger1 = time >= 2
anim = 80010
ID = 9999
pos = -33,-75
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = -1
removetime = 1
scale = fvar(10), 0.5
sprpriority = 1
removeongethit = 1
supermovetime = 999999

[State 7500, VarSet]
type = VarSet
trigger1 = time = 1
fv = 10    ;fv = 10
value = 0

[State 7500, VarAdd]
type = VarAdd
trigger1 = time%2
fv = 10
value = 0.0087

[State 7500, VarSet]
type = VarSet
trigger1 = fvar(10) > 1
fv = 10    ;fv = 10
value = 1


[State 310, end]
type = ChangeState
trigger1 = command != "hold_z" && time >= 0 && time < 35
trigger1 = var(50) = 0
trigger2 = time >= 0 && time < 35 && random = [0,100-var(49)*(var(49))/100]
trigger2 = var(50) = 1
value = 260
ctrl = 1

[State 310, end]
type = ChangeState
trigger1 = command != "hold_z" && time >= 35 && time < 70 && power >= 1000
trigger1 = var(50) = 0
trigger2 = time >= 35 && time < 70 && power >= 500 && random = [0,100-var(49)*(var(49))/100] 
trigger2 = var(50) = 1
value = 240
ctrl = 1

[State 310, end]
type = ChangeState
trigger1 = command != "hold_z" && time >= 70 && time < 115 && power >= 2000
trigger1 = var(50) = 0
trigger2 = time >= 70 && time < 115 && power >= 1000 && random = [0,100-var(49)*(var(49))/100]
trigger2 = var(50) = 1
value = 200
ctrl = 1

[State 310, end]
type = ChangeState
trigger1 = time >= 0 && time < 35 && power < 1000
value = 260
ctrl = 1

[State 310, end]
type = ChangeState
trigger1 = time >= 35 && time < 70 && power < 2000
value = 240
ctrl = 1

[State 310, end]
type = ChangeState
trigger1 = time >= 70 && time < 115 && power < 3000
value = 200
ctrl = 1

[State 310, end]
type = ChangeState
trigger1 = time >= 115 && power >= 3000
value = 230
ctrl = 1

;------------------------------------------------------------
[StateDef 1301]
type = S
movetype = A
physics = S
anim = 4011
poweradd = 0
sprpriority = -3

[State 0, DestroySelf]
type = DestroySelf
trigger1 = enemynear, name = "Deidara"
trigger1 = enemynear, var(6) = 1
trigger2 = parent, stateno = 233

[State 0, PosSet]
type = PosSet
trigger1 = 1
x = enemynear, pos x
y = enemynear, pos y

[State 0, ChangeState]
type = ChangeState
trigger1 = parent, stateno = 260
trigger1 = parent, time = 30 
value = 261

[State 0, ChangeState]
type = ChangeState
trigger1 = parent, stateno = 240
trigger1 = parent, time = 45 
value = 249

[State 0, ChangeState]
type = ChangeState
trigger1 = parent, stateno = 200
trigger1 = parent, time = 30 
value = 202

;-----------------
; Genjutsu countered
[StateDef 1302]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 1302
poweradd = 0
sprpriority = 2

[State 0, BGPalFX]
type = BGPalFX
trigger1 = time < 10
time = 2
add = -80,-80,-80

[State 1500]
type = SuperPause
trigger1 = time = 0
time = 25
movetime = 25
supermove = 25
anim = 104
sound = F19,1
pos = 3,-35
darken = 0
unhittable = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S6,16

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 0
anim = 9999
ID = 8872
pos =0,0
postype = back
facing = 1
vfacing = 1
bindtime = -2
removetime = 24
scale = 10,10
sprpriority = 199
ontop = 0
ownpal = 1
removeongethit = 0
trans = sub
supermovetime = 9999
pausemovetime = 9999

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 0
anim = 8872
ID = 8872
pos =0,0
postype = back
facing = 1
vfacing = 1
bindtime =- 2
removetime = -2
scale = 0.4,0.35;1.15,1.15
sprpriority = 200
ontop = 0
ownpal = 1
removeongethit = 0
supermovetime = 9999
pausemovetime = 9999

[State -3]
type = AfterImage
trigger1 = time = 0
time = -1
length = 5
palcolor = 256
palinvertall = 0
palbright = 0,0,0
palcontrast = 0,0,0
palpostbright = 0,0,0
paladd = 0,0,0
palmul = .55,.0,.0
timegap = 1
framegap = 1
trans = add1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 4
value = S5,1
volume = 255
channel = 5

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 4
value = S5,1
volume = 255
channel = 5

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 4
value = S5,1
volume = 255
channel = 5

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 4
value = S5,1
volume = 255
channel = 5

[State 0, End]
type = ChangeState
trigger1 = animtime = 0
value = 0
ctrl = 1
;-----------------
;KotoAmatsukami
[StateDef 1400]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 1400
poweradd = 0
sprpriority = 0

[State 0, VarSet]
type = VarSet
trigger1 = time = 30
v = 17
value = 1

[State -3]
type = AfterImage
trigger1 = time = 0
time = 1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
value = S2,24
volume = 255
channel = 2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F8,0
volume = 255
channel = 8

[State 0, Helper]
type = Helper
trigger1 = time = 30
helpertype = normal;player
name = "kruki"
ID = 1405
stateno = 1405
pos = 15,-18
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1
size.xscale = 1
size.yscale = 1
supermovetime = 9999

[State 0, Helper]
type = Helper
trigger1 = time = [10,50]
trigger1 = timemod = 5,0
helpertype = normal;player
name = "kruki"
ID = 1406
stateno = 1406
pos = 15,-18
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1
size.xscale = 0.8
supermovetime = 9999
size.yscale = 0.8

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 20
value = S6,13

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 30
trigger2 = time = 90
trigger3 = time = 150
value = S6,11

[State 0, End]
type = ChangeState
trigger1 = time > 50
value = 0
ctrl = 1
;-----------------
;KotoAmatsukami
[StateDef 1401]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 1401
poweradd = 0
sprpriority = 0

[State 0, Trans]
type = Trans
trigger1 = time > 100
trans = addalpha
alpha = 0+(time-150),256-(time-150)


[State 0, NotHitBy]
type = NotHitBy
trigger1 = time >= 0
value = SCA,NA,SA,HA,NP,SP,HP,ST,HT
time = 1

[State -3]
type = AfterImage
trigger1 = time = 0
time = 1

[State 0, End]
type = ChangeState
trigger1 = time = 400
value = 0
ctrl = 1
;-----------------
[StateDef 1405]
type = A
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 1405
poweradd = -500
sprpriority = 4

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 =  1
flag = noshadow

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow
ignorehitpause = 1

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = target, ishelper = 0
flag = unguardable

[State 0, VelSet]
type = VelSet
trigger1 = pos y < 0
x = 5
y = -0.5

[State 0, PosAdd]
type = PosSet
trigger1 = pos y >= 0
y = -5

[State 0, HitDef]
type = HitDef
givepower = 0
getpower = 0
fall.yvelocity = -6
trigger1 = !time
attr = C, HP
p1stateno = 1410
p2stateno = 104999
damage = 0,0
getpower = 0
animtype = Light
guardflag = MA
hitflag = MAF
priority = 4
pausetime = 0, 10
sparkno = 52786904
sparkxy = -15, -35
hitsound = -1, 2
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 10
ground.velocity = -1,1
airguard.velocity = -1,-1
air.type = High
air.velocity = -1,2
air.hittime = 10

[State 0, Trans]
type = Trans
trigger1 = time > 150
trans = addalpha
alpha = 256-(time-150)*9.6,(time-150)*9.6

[State 0, End]
type = destroyself
trigger1 = time = 200
;-----------------
[StateDef 1406]
type = A
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 1406
poweradd = 0
sprpriority = 3

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 =  1
flag = noshadow

[State 0, VarRandom]
type = VarRandom
trigger1 = !time
v = 10
range = -100,80

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow
ignorehitpause = 1

[State 0, VelSet]
type = VelSet
trigger1 = pos y < 0
x = 5
y = var(10)/100.0

[State 0, PosAdd]
type = PosSet
trigger1 = pos y >= 0
y = -5

[State 0, Trans]
type = Trans
trigger1 = time > 150
trans = addalpha
alpha = 256-(time-150)*9.6,(time-150)*9.6

[State 0, End]
type = destroyself
trigger1 = time = 200
;-----------------
[StateDef 1410]
type = A
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 1410
poweradd = -2500
sprpriority = 4

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 0
anim = 1420
pos = 0,0
scale = 0.4,0.4
postype = p1
facing = 1
bindtime = 1
removetime = 400
sprpriority = -2
supermovetime = 9999
pausemovetime = 9999

[State 0, SuperPause]
type = SuperPause
trigger1 = time = 1
time = 400
anim = 7476345
sound = S6,7
pos = 0,0
movetime = 400
darken = 1
p2defmul = 1
poweradd = 0
unhittable = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 50
value = S3,34

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 50
value = S3,34

[State 0, ParentVarSet]
type = ParentVarSet
trigger1 = 1
v = 45
value = 1

[State 0, Helper]
type = Helper
trigger1 = time = 0
helpertype = normal;player
name = "oko"
ID = 1411
stateno = 1411
pos = 9,-2
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1
size.xscale = 1
size.yscale = 1
supermovetime = 9999

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S6,14

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 =  1
flag = noshadow

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow
ignorehitpause = 1

[State 0, VelSet]
type = VelSet
trigger1 = 1
x = 0
y = 0

[State 0, Helper]
type = Helper
trigger1 = time = 395
helpertype = normal ;player
name = "White Flash"
ID = 9999
stateno = 9999
pos = 0,0
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1
size.xscale = 10
size.yscale = 10
supermovetime = 9999
pausemovetime = 9999
persistent = 0

[State 0, Trans]
type = Trans
trigger1 = time > 350
trans = addalpha
alpha = 256-(time-350)*5,0+(time-350)*5

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 =  1
flag = noshadow

[State 0, End]
type = Destroyself
trigger1 = time = 400
;-----------------
[StateDef 1411]
type = A
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 1411
poweradd = 0
sprpriority = 20

[State 0, AngleDraw]
type = AngleDraw
trigger1 = 1
value = gametime*15

[State 0, AngleDraw]
type = AngleDraw
trigger1 = 1
scale = 0.12*time*000.3,0.12*time*000.3

[State 0, Trans]
type = Trans
trigger1 = time > 25
trans = addalpha
alpha = 256-(time-25)*10,125+(time-25)*5

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 =  1
flag = noshadow

[State 0, End]
type = destroyself
trigger1 = time = 100

;-----------------
[StateDef 1412]
type = A
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 1412
poweradd = 0
sprpriority = 4

[State 0, Helper]
type = Helper
trigger1 = time = 10
helpertype = normal ;player
name = "White Flash"
ID = 9999
stateno = 9999
pos = 0,0
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1
size.xscale = 10
size.yscale = 10
supermovetime = 9999
pausemovetime = 9999
persistent = 0

[State 0, End]
type = destroyself
trigger1 = time = 20
;-----------------------------
;kotoamatsukami
[StateDef 104999]
type = S
movetype= I
physics = S
juggle  = 1
ctrl = 0
anim = 5000+var(0)*10000
velset = 0,0
poweradd = 0
sprpriority = 0

[State 0, CtrlSet]
type = CtrlSet
trigger1 = 1
value = 0

[State 0, NotHitBy]
type = NotHitBy
trigger1 = time >= 0
value = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
time = 1

[State 0, VarSet]
type = VarSet
trigger1 = 1 
v = 50  
value = 0

[State 0, ChangeState]
type = ChangeState
trigger1 = time = 50
value = 0
;-----------------
;Susano Bones
[StateDef 1620]
type = S
movetype= A
physics = S
juggle  = 1
ctrl = 0
anim = cond(pos y = 0,1620,1621)
poweradd = 0
sprpriority = 0

[State 0, StateTypeSet]
type = StateTypeSet
trigger1 = pos y != 0
statetype = A      
movetype = A
physics = A   

[State 0, PlaySnd]
type = PlaySnd
trigger1 =0; animelem = 1
value = S1,0+random%27
volume = 255
channel = 1

[State 0, PlayerPush]
type = PlayerPush
trigger1 = 1
value = 1

[State 0, Helper]
type = Helper
trigger1 = time = 0
helpertype = normal;player
name = "Susano"
ID = 625
stateno = 1625
pos = 0,0
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1
size.xscale = 0.85;1
size.yscale = 0.85;1
supermovetime = 9999
pausemovetime = 9999
size.ground.front = 25
size.ground.back = -28
size.air.front = 20
size.air.back = -20
size.height = 70
size.head.pos = 0,-60 
size.mid.pos = 0,-40 

[State 0, end]
type = ChangeState
trigger1 = time = 10
value = cond(pos y = 0,0,50)
ctrl = 1
;-----------------
;Susanoo Bones
[StateDef 1625]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 1625
poweradd = -100
sprpriority = -1

[State 0, Turn]
type = Turn
trigger1 = parent, facing = -1 && facing = 1

[State 0, Turn]
type = Turn
trigger1 = parent, facing = 1 && facing = -1

[State 0, PowerAdd]
type = PowerAdd
trigger1 = 1
value = -3

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S6,9

[State 0, PlaySnd]
type = PlaySnd
trigger1 = timemod = 20,0
value = F10,2

[State 0, EnvShake]
type = EnvShake
trigger1 = timemod = 10,0
time = 6
freq = 7
ampl = -2
phase = 5

[State 0, VarSet]
type = VarSet
trigger1 = time = 0
v = 10
value = 0

[State 0, ParentVarSet]
type = ParentVarSet
trigger1 = time = 10
trigger1 = parent, var(18) <= 1
v = 18
value = 1

[State 0, BindToParent]
type = BindToParent
trigger1 = time >= 0
time = 2
pos = 3,0

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = target, ishelper = 0
flag = unguardable

[State 0, PlayerPush]
type = PlayerPush
trigger1 = time >= 0
value = 0

[State 0, Explod]
type = Explod
trigger1 = time = 9
anim = 1629
id = 629
pos = -5,5
scale = 0.4,0.3
postype = p1
facing = facing
bindtime = -1
removetime = -1
sprpriority = 3
ownpal = 1

[State 0, ModifyExplod]
type = ModifyExplod
trigger1 = time >= 0
anim = 1629
id = 629
pos = -5,5
scale = 0.4,0.3
postype = p1
facing = facing
bindtime = -1
removetime = -1
sprpriority = 3
ownpal = 1

[State 0, Helper]
type = Helper
trigger1 = time = 9 && numhelper(627) = 0
helpertype = normal;player
name = "Susano"
ID = 627
stateno = 1627
pos = 0,0
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1
size.xscale = 0.85;1
size.yscale = 0.85;1
supermovetime = 9999
pausemovetime = 9999
size.ground.front = 25
size.ground.back = -28
size.air.front = 20
size.air.back = -20
size.height = 70
size.head.pos = 0,-60 
size.mid.pos = 0,-40

[State 0, Helper]
type = Helper
trigger1 = time = 10 && numhelper(624) = 0
helpertype = normal;player
name = "Susano"
ID = 624
stateno = 130
pos = 0,0
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1
size.xscale = 0.85;1
size.yscale = 0.85;1
supermovetime = 9999
pausemovetime = 9999
size.ground.front = 25
size.ground.back = -28
size.air.front = 20
size.air.back = -20
size.height = 70
size.head.pos = 0,-60 
size.mid.pos = 0,-40 

[State 0, end]
type = changestate
trigger1 = time > 15 && numhelper(624) = 0
trigger2 = time > 15 && root, var(18) != 1
trigger3 = root, stateno = [5000,5299]
trigger4 = root, stateno = [100000,199999]
trigger5 = root, stateno = 70600
trigger6 = root, stateno = 70800
trigger7 = root, stateno = [60,98]
trigger8 = root, stateno = [102,103]

trigger9 = root, stateno = [601,602]
trigger10 = root, stateno = [621,622]
trigger11 = root, stateno = [641,642]
trigger12 = root, stateno = [650,651]
trigger13 = root, stateno = 3001
trigger14 = root, stateno = 852
trigger15 = root, stateno = 855
trigger16 = root, stateno = 880
trigger17 = root, stateno = 200 || root, stateno = 230 || root, stateno = 240 || root, stateno = 260

trigger18 = time >= 180
triggerall = root, stateno != [1630,1660]
triggerall = numhelper(1630) = 0
triggerall = numhelper(1640) = 0
triggerall = numhelper(1650) = 0
triggerall = numhelper(1660) = 0
value = 1626

[State 0, end]
type = changestate
trigger1 = root, stateno = [801,835]
trigger2 = root, stateno = [1130,1136]
triggerall = time >= 20
triggerall = root, stateno != [1630,1660]
triggerall = numhelper(1630) = 0
triggerall = numhelper(1640) = 0
triggerall = numhelper(1650) = 0
triggerall = numhelper(1660) = 0
value = 1626
;-----------------
;Susanoo Bones
[StateDef 1626]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 1626
poweradd = 0
sprpriority = -1

[State 0, Turn]
type = Turn
trigger1 = parent, facing = -1 && facing = 1

[State 0, Turn]
type = Turn
trigger1 = parent, facing = 1 && facing = -1

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = target, ishelper = 0
flag = unguardable

[State 0, ParentVarSet]
type = ParentVarSet
trigger1 = time = 5
v = 18
value = 0

[State 0, ModifyExplod]
type = ModifyExplod
trigger1 = time >= 0
anim = 1629
ID = 629
pos = -5,5
scale = 0.4,0.3
postype = p1
facing = cond(root, facing = 1,1,-1)
bindtime = -1
removetime = 10
sprpriority = 3
ownpal = 1
trans = addalpha
alpha = 256-time*25,256

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = time = 10
id = 629

[State 0, end]
type = destroyself
trigger1 = time = 20
;-----------------
;Susanoo Bones
[StateDef 1627]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 1627
poweradd = 0
sprpriority = 4

[State 0, Turn]
type = Turn
trigger1 = root, facing = -1 && facing = 1

[State 0, Turn]
type = Turn
trigger1 = root, facing = 1 && facing = -1

[State 0, BindToParent]
type = BindToParent
trigger1 = time >= 0
time = 2
pos = 0,0

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = target, ishelper = 0
flag = unguardable

[State 0, PlayerPush]
type = PlayerPush
trigger1 = time >= 0
value = 0

[State 0, end]
type = changestate
trigger1 = time > 15 && numhelper(624) = 0
trigger2 = time > 15 && root, var(18) != 1
trigger3 = root, stateno = [5000,5299]
trigger4 = root, stateno = [100000,199999]
trigger5 = root, stateno = 70600
trigger6 = root, stateno = 70800
trigger7 = root, stateno = [60,98]
trigger8 = root, stateno = [102,103]

trigger9 = root, stateno = [601,602]
trigger10 = root, stateno = [621,622]
trigger11 = root, stateno = [641,642]
trigger12 = root, stateno = [650,651]
trigger13 = root, stateno = 3001
trigger14 = root, stateno = 852
trigger15 = root, stateno = 855
trigger16 = root, stateno = 880
trigger17 = root, stateno = 200 || root, stateno = 230 || root, stateno = 240 || root, stateno = 260

trigger18 = time >= 180
triggerall = root, stateno != [1630,1660]
triggerall = numhelper(1630) = 0
triggerall = numhelper(1640) = 0
triggerall = numhelper(1650) = 0
triggerall = numhelper(1660) = 0
value = 1628

[State 0, end]
type = changestate
trigger1 = root, stateno = [801,835]
trigger2 = root, stateno = [1130,1136]
triggerall = time >= 20
triggerall = root, stateno != [1630,1660]
triggerall = numhelper(1630) = 0
triggerall = numhelper(1640) = 0
triggerall = numhelper(1650) = 0
triggerall = numhelper(1660) = 0
value = 1628


;-----------------
;Susanoo Bones
[StateDef 1628]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 1628
poweradd = 0
sprpriority = 4

[State 0, Turn]
type = Turn
trigger1 = root, facing = -1 && facing = 1

[State 0, Turn]
type = Turn
trigger1 = root, facing = 1 && facing = -1

[State 0, BindToParent]
type = BindToParent
trigger1 = time >= 0
time = 2
pos = 0,0

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = target, ishelper = 0
flag = unguardable

[State 0, end]
type = destroyself
trigger1 = time = 10
;-----------------
;Susanoo Bones 1
[StateDef 1630]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = cond(pos y = 0,1630,1633)
poweradd = 0
sprpriority = 2

[State 0, StateTypeSet]
type = StateTypeSet
trigger1 = pos y != 0
statetype = A      
movetype = A
physics = A 

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F8,0+random%4

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = S4,2+random%10
volume = 255
channel = 4

[State 0, Helper]
type = Helper
trigger1 = time = 0
trigger1 = numhelper(625) = 0
trigger1 = numhelper(624) = 0
helpertype = normal;player
name = "Susano"
ID = 625
stateno = 1625
pos = 0,0
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1
size.xscale = 0.85;1
size.yscale = 0.85;1
supermovetime = 9999
pausemovetime = 9999
size.ground.front = 25
size.ground.back = -28
size.air.front = 20
size.air.back = -20
size.height = 70
size.head.pos = 0,-60 
size.mid.pos = 0,-40 

[State 0, Helper]
type = Helper
trigger1 = time = 0
triggerall = numhelper(1630) = 0
helpertype = normal;player
name = "Reka"
ID = 1630
stateno = 1631
pos = 0,0
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1
size.xscale = 0.9;1
size.yscale = 0.9;1
supermovetime = 9999
pausemovetime = 9999

[State 0, End]
type = ChangeState
trigger1 = AnimTime = 0
value = cond(pos y = 0,0,50)
ctrl = 1
;-----------------
;Susanoo Bones 1
[StateDef 1631]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 1631
poweradd = 0
sprpriority = 5

[State -3, EMS]
type = AfterImage
trigger1 = time = 0
time = -1
length = 7
palcolor = 256
palinvertall = 0
palbright = 0,0,0
palcontrast = 120,40,40
palpostbright = 0,0,0
paladd = 5,2,2
palmul = .65,.15,.15
timegap = 1
framegap = 1
trans = add

[State 0, BindToParent]
type = BindToParent
trigger1 = time >= 0
time = 2
pos = 1,3

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = target, ishelper = 0
flag = unguardable

[State 0, EnvShake]
type = EnvShake
trigger1 = animelem = 2
time = 15
freq = 15
ampl = -3
phase = 5

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
value = S6,9

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 13
value = F14,5

[State 0, HitDef]
type = HitDef
getpower = 0
givepower = 0
trigger1 = animelem = 13
trigger1 = target, ishelper = 1
attr = S, NA
damage = 100,20
animtype = Light
guardflag = MA
hitflag = MAF
priority = 5
sprpriority = 5
pausetime = 0, 0
sparkno = S905
sparkxy = -15,0.9*-60
hitsound = S6, 1
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -15,-5
airguard.velocity = -15,-5
air.type = High
air.velocity = -15,-5
air.hittime = 12
envshake.time = 30
envshake.freq = 30
envshake.ampl = -7
envshake.phase = 10
fall = 1

[State 0, HitDef]
type = HitDef
getpower = 0
givepower = 0
trigger1 = animelem = 13
trigger1 = target, ishelper = 0
attr = C, HP
damage = 100,20
animtype = Light
guardflag = MA
hitflag = MAF
priority = 5
sprpriority = 5
pausetime = 0, 0
sparkno = S905
sparkxy = -15,0.9*-60
hitsound = S6, 1
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -15,-5
airguard.velocity = -15,-5
air.type = High
air.velocity = -15,-5
air.hittime = 12
envshake.time = 30
envshake.freq = 30
envshake.ampl = -7
envshake.phase = 10
p2stateno = 109990
fall.damage = 50
fall = 1

[State 0, End]
type = ChangeState
trigger1 = AnimTime = 0 && parent, stateno != 1630
value = 1632
ctrl = 1
;-----------------
;Susanoo Bones 1
[StateDef 1632]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 1632
poweradd = 0
sprpriority = 5

[State 0, BindToParent]
type = BindToParent
trigger1 = time >= 0
time = 2
pos = 1,3

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = target, ishelper = 0
flag = unguardable

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
value = S6,9

[State 0, End]
type = destroyself
trigger1 = AnimTime = 0
;-----------------
;Susanoo Bones 2
[StateDef 1640]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = cond(pos y = 0,1640,1643)
poweradd = 0
sprpriority = 2

[State 0, StateTypeSet]
type = StateTypeSet
trigger1 = pos y != 0
statetype = A      
movetype = A
physics = A 

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F8,0+random%4

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = S4,2+random%10
volume = 255
channel = 4

[State 0, Helper]
type = Helper
trigger1 = time = 0
trigger1 = numhelper(625) = 0
trigger1 = numhelper(624) = 0
helpertype = normal;player
name = "Susano"
ID = 625
stateno = 1625
pos = 0,0
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1
size.xscale = 0.85;1
size.yscale = 0.85;1
supermovetime = 9999
pausemovetime = 9999
size.ground.front = 25
size.ground.back = -28
size.air.front = 20
size.air.back = -20
size.height = 70
size.head.pos = 0,-60 
size.mid.pos = 0,-40 

[State 0, Helper]
type = Helper
trigger1 = time = 0
trigger1 = numhelper(1640) = 0
helpertype = normal;player
name = "Reka"
ID = 1640
stateno = 1641
pos = 0,0
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1
size.xscale = 0.9;1
size.yscale = 0.9;1
supermovetime = 9999
pausemovetime = 9999

[State 0, End]
type = ChangeState
trigger1 = AnimTime = 0
value = cond(pos y = 0,0,50)
ctrl = 1
;-----------------
;Susanoo Bones 2
[StateDef 1641]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 1641
poweradd = 0
sprpriority = 5

[State -3, EMS]
type = AfterImage
trigger1 = time = 0
time = -1
length = 7
palcolor = 256
palinvertall = 0
palbright = 0,0,0
palcontrast = 120,40,40
palpostbright = 0,0,0
paladd = 5,2,2
palmul = .65,.15,.15
timegap = 1
framegap = 1
trans = add

[State 0, BindToParent]
type = BindToParent
trigger1 = time >= 0
time = 2
pos = 1,3

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = target, ishelper = 0
flag = unguardable

[State 0, EnvShake]
type = EnvShake
trigger1 = animelem = 2
time = 15
freq = 15
ampl = -3
phase = 5

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
value = S6,9

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 15
value = F14,5

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = movehit = 1 && p2movetype = H
anim = F11+random%2
angle = -25+random%50
pos = -15,0.9*-40-random%20
postype = p2  ;p2,front,back,left,right
facing = 1
bindtime = 1
removetime = -2
sprpriority = 5
scale = 1,1
ownpal = 1
ontop = 0
supermovetime = 9999
pausemovetime = 9999

[State 0, HitDef]
type = HitDef
getpower = 0
givepower = 0
trigger1 = animelem = 16
trigger1 = target, ishelper = 1
attr = S, NA
damage = 100,20
animtype = Light
guardflag = MA
hitflag = MAF
priority = 5
sprpriority = 5
pausetime = 0, 0
sparkno = S905
sparkxy = -15,0.9*-50
hitsound = S6, 1
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -5,10
airguard.velocity = -5,10
air.type = High
air.velocity = -5,10
air.hittime = 12
envshake.time = 30
envshake.freq = 30
envshake.ampl = -7
envshake.phase = 10
fall.damage = 50
fall = 1

[State 0, HitDef]
type = HitDef
getpower = 0
givepower = 0
trigger1 = animelem = 16
trigger1 = target, ishelper = 0
attr = C, HP
damage = 100,20
animtype = Light
guardflag = MA
hitflag = MAF
priority = 5
sprpriority = 5
pausetime = 0, 0
sparkno = S905
sparkxy = -15,0.9*-50
hitsound = S6, 1
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -5,10
airguard.velocity = -5,10
air.type = High
air.velocity = -5,10
air.hittime = 12
envshake.time = 30
envshake.freq = 30
envshake.ampl = -7
envshake.phase = 10
p2stateno = 103030
fall = 1

[State 0, End]
type = ChangeState
trigger1 = AnimTime = 0 && parent, stateno != 1640
value = 1642
ctrl = 1
;-----------------
;Susanoo Bones 2
[StateDef 1642]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 1642
poweradd = 0
sprpriority = 5

[State 0, BindToParent]
type = BindToParent
trigger1 = time >= 0
time = 2
pos = 1,3

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = target, ishelper = 0
flag = unguardable

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
value = S6,9

[State 0, End]
type = destroyself
trigger1 = AnimTime = 0
;-----------------
;Susanoo Bones 3
[StateDef 1650]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = cond(pos y = 0,1650,1653)
poweradd = 0
sprpriority = 2

[State 0, StateTypeSet]
type = StateTypeSet
trigger1 = pos y != 0
statetype = A      
movetype = A
physics = A 

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F8,0+random%4

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = S4,2+random%10
volume = 255
channel = 4

[State 0, Helper]
type = Helper
trigger1 = time = 0
trigger1 = numhelper(625) = 0
trigger1 = numhelper(624) = 0
helpertype = normal;player
name = "Susano"
ID = 625
stateno = 1625
pos = 0,0
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1
size.xscale = 0.85;1
size.yscale = 0.85;1
supermovetime = 9999
pausemovetime = 9999
size.ground.front = 25
size.ground.back = -28
size.air.front = 20
size.air.back = -20
size.height = 70
size.head.pos = 0,-60 
size.mid.pos = 0,-40 

[State 0, Helper]
type = Helper
trigger1 = time = 0
triggerall = numhelper(1650) = 0
helpertype = normal;player
name = "Reka"
ID = 1650
stateno = 1651
pos = 0,0
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1
size.xscale = 0.9;1
size.yscale = 0.9;1
supermovetime = 9999
pausemovetime = 9999

[State 0, End]
type = ChangeState
trigger1 = AnimTime = 0
value = cond(pos y = 0,0,50)
ctrl = 1
;-----------------
;Susanoo Bones 3
[StateDef 1651]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 1651
poweradd = 0
sprpriority = 3

[State -3, EMS]
type = AfterImage
trigger1 = time = 0
time = -1
length = 7
palcolor = 256
palinvertall = 0
palbright = 0,0,0
palcontrast = 120,40,40
palpostbright = 0,0,0
paladd = 5,2,2
palmul = .65,.15,.15
timegap = 1
framegap = 1
trans = add

[State 0, BindToParent]
type = BindToParent
trigger1 = time >= 0
time = 2
pos = -1,3

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = target, ishelper = 0
flag = unguardable

[State 0, EnvShake]
type = EnvShake
trigger1 = time = 20
time = 10
freq = 30
ampl = -7
phase = 5

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
value = S6,9

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = F14,5

[State 0, Explod]
type = Explod
trigger1 = time = 20 && pos y >= -10
anim = F550
id = 550
pos = 105,-pos y+5
postype = p1  ;p2,front,back,left,right
scale = 1.5,1.5
sprpriority = 4
bindtime = 1
facing = 1
ownpal = 1
ontop = 0
removetime = -2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 20 && pos y >= -10
persistent = 0
value = F15,2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 20 && pos y >= -10
persistent = 0
value = F15,4

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 20 && pos y >= -10
value = F14,6

[State 0, Explod]
type = Explod
trigger1 = time = 20 && pos y >= -10
anim = F587
id = 587
pos = 105,-pos y+5
postype = p1  ;p2,front,back,left,right
scale = 0.7,0.7
sprpriority = 5
bindtime = 1
facing = 1
ownpal = 1
ontop = 0
removetime = -2

[State 0, Explod]
type = Explod
trigger1 = time = 20 && pos y >= -10
anim = F64
id = 64
pos = 105,-pos y+5
postype = p1  ;p2,front,back,left,right
scale = 1,0.4
sprpriority = -2
bindtime = 1
facing = 1
ownpal = 1
ontop = 0
removetime = -2

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 20 && pos y >= -10
persistent = 0
anim = F530
pos = 100,-pos y+5
vel = -1,0
postype = p1
facing = 1
bindtime = 1
removetime = -2
sprpriority = 4
scale = 0.8,0.8
ownpal = 1

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 20 && pos y >= -10
persistent = 0
anim = F530
pos = 110,-pos y+5
vel = 1,0
postype = p1
facing = -1
bindtime = 1
removetime = -2
sprpriority = 4
scale = 0.8,0.8
ownpal = 1

[State 0, HitDef]
type = HitDef
getpower = 0
givepower = 0
trigger1 = !time
attr = S, NA
damage = 100,20
animtype = Light
guardflag = MA
hitflag = MAF
priority = 5
sprpriority = 5
pausetime = 0, 0
sparkno = S905
sparkxy = -15,0.9*-15
hitsound = S6, 1
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -3,20
airguard.velocity = -3,20
air.type = High
air.velocity = -3,20
air.hittime = 12
envshake.time = 30
envshake.freq = 30
envshake.ampl = -7
envshake.phase = 10
fall = 1

[State 0, End]
type = ChangeState
trigger1 = AnimTime = 0 && parent, stateno != 1650
value = 1652
ctrl = 1
;-----------------
;Susanoo Bones 3
[StateDef 1652]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 1652
poweradd = 0
sprpriority = 3

[State 0, BindToParent]
type = BindToParent
trigger1 = time >= 0
time = 2
pos = -1,3

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = target, ishelper = 0
flag = unguardable

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
value = S6,9

[State 0, End]
type = destroyself
trigger1 = AnimTime = 0
;-----------------
;Susanoo Bones 4
[StateDef 1660]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = cond(pos y = 0,1660,1663)
poweradd = 0
sprpriority = 2

[State 0, StateTypeSet]
type = StateTypeSet
trigger1 = pos y != 0
statetype = A      
movetype = A
physics = A 

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F8,0+random%4

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = S4,2+random%10
volume = 255
channel = 4

[State 0, Helper]
type = Helper
trigger1 = time = 0
trigger1 = numhelper(625) = 0
trigger1 = numhelper(624) = 0
helpertype = normal;player
name = "Susano"
ID = 625
stateno = 1625
pos = 0,0
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1
size.xscale = 0.85;1
size.yscale = 0.85;1
supermovetime = 9999
pausemovetime = 9999
size.ground.front = 25
size.ground.back = -28
size.air.front = 20
size.air.back = -20
size.height = 70
size.head.pos = 0,-60 
size.mid.pos = 0,-40 

[State 0, Helper]
type = Helper
trigger1 = time = 0
triggerall = numhelper(1660) = 0
helpertype = normal;player
name = "Reka"
ID = 1660
stateno = 1661
pos = 0,0
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1
size.xscale = 0.9;1
size.yscale = 0.9;1
supermovetime = 9999
pausemovetime = 9999

[State 0, End]
type = ChangeState
trigger1 = AnimTime = 0
value = cond(pos y = 0,0,50)
ctrl = 1
;-----------------
;Susanoo Bones 4
[StateDef 1661]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 1661
poweradd = 0
sprpriority = -2

[State -3, EMS]
type = AfterImage
trigger1 = time = 0
time = -1
length = 7
palcolor = 256
palinvertall = 0
palbright = 0,0,0
palcontrast = 120,40,40
palpostbright = 0,0,0
paladd = 5,2,2
palmul = .65,.15,.15
timegap = 1
framegap = 1
trans = add

[State 0, BindToParent]
type = BindToParent
trigger1 = time >= 0
time = 2
pos = -1,3

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = target, ishelper = 0
flag = unguardable

[State 0, EnvShake]
type = EnvShake
trigger1 = animelem = 2
time = 15
freq = 15
ampl = -3
phase = 5

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
value = S6,9

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = F14,5

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = movehit = 1 && p2movetype = H
anim = F11+random%2
angle = -25+random%50
pos = -15,0.9*-25-random%20
postype = p2  ;p2,front,back,left,right
facing = 1
bindtime = 1
removetime = -2
sprpriority = 5
scale = 1,1
ownpal = 1
ontop = 0
supermovetime = 9999
pausemovetime = 9999

[State 0, TargetBind]
type = TargetBind
trigger1 = movehit
time = 30
pos = 80*0.9,-10*0.9

[State 0, SprPriority]
type = SprPriority
trigger1 = 1
value = -2

[State 0, HitDef]
type = HitDef
getpower = 0
givepower = 0
trigger1 = animelem = 3
trigger1 = target, ishelper = 1
attr = S, NA
damage = 100,20
animtype = Light
guardflag = MA
hitflag = MAF
priority = -2
sprpriority = -2
pausetime = 0, 0
sparkno = S905
sparkxy = -15,0.9*-35
hitsound = S6, 1
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = 0,-2
airguard.velocity = 0,0
air.type = High
air.velocity = 0,0
air.hittime = 12
envshake.time = 30
envshake.freq = 30
envshake.ampl = -7
envshake.phase = 10
fall.damage = 50
fall = 1

[State 0, HitDef]
type = HitDef
getpower = 0
givepower = 0
trigger1 = animelem = 3
trigger1 = target, ishelper = 0
attr = C, HP
damage = 100,20
animtype = Light
guardflag = MA
hitflag = MAF
priority = -2
sprpriority = -2
pausetime = 0, 0
sparkno = S905
sparkxy = -15,0.9*-35
hitsound = S6, 1
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = 0,-2
airguard.velocity = 0,0
air.type = High
air.velocity = 0,0
air.hittime = 12
envshake.time = 30
envshake.freq = 30
envshake.ampl = -7
envshake.phase = 10
p2stateno = 103009
fall = 1

[State 0, End]
type = ChangeState
trigger1 = AnimTime = 0 && parent, stateno != 1660
value = 1662
ctrl = 1
;-----------------
;Susanoo Bones 4
[StateDef 1662]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 1662
poweradd = 0
sprpriority = -2

[State 0, BindToParent]
type = BindToParent
trigger1 = time >= 0
time = 2
pos = -1,3

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = target, ishelper = 0
flag = unguardable

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
value = S6,9

[State 0, SprPriority]
type = SprPriority
trigger1 = 1
value = -2

[State 0, HitDef]
type = HitDef
getpower = 0
givepower = 0
trigger1 = time = 0
attr = S, NA
damage = 0,0
animtype = Light
guardflag = MA
hitflag = MAF
priority = -2
sprpriority = -2
pausetime = 0, 0
sparkno = S9053453425
sparkxy = -15,0.9*-35
hitsound = S6, 543245
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = 0,-2
airguard.velocity = 0,0
air.type = High
air.velocity = 0,0
air.hittime = 12
fall.damage = 50
fall = 1

[State 0, End]
type = destroyself
trigger1 = AnimTime = 0
;-----------------------------
;Zmiazdzenie
[StateDef 103009]
type = S
movetype= H
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 5000+var(0)*10000
poweradd = 0
sprpriority = -1

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = invisible

[State 0, Explod]
type = Explod
trigger1 = time = 5
persistent = 0
anim = F19
id = 19
angle = random
pos = 0,-40
postype = p1  ;p2,front,back,left,right
scale = 1.5,1.5
sprpriority = 5
bindtime = 1
facing = 1
ownpal = 1
ontop = 0
removetime = -2

[State 0, 1]
type = ChangeAnim
trigger1 = var(0) != 0
trigger1 = Anim = 5000
value = 5000+var(0)*10000

[State 0, ChangeState]
type = SelfState
trigger1 = time = 30
value = 5050
ctrl = 1
;-----------------------------------------------------------------
;Odbicie od ziemi
[StateDef 103030]
type = A
movetype= H
physics = S
juggle  = 1
ctrl = 0
anim = 5060+ var(0)*10000
poweradd = 0
sprpriority = 0

[State 0, PlayerPush]
type = PlayerPush
trigger1 = 1
value = 0

[State 0, ChangeAnim]
type = ChangeAnim
trigger1 = time = 0
trigger1 = var(0) != 0
value = 5060 + var(0)*10000

[State 0, VelSet]
type = VelSet
trigger1 = 1
x = 0
y = 0

[State 0, End]
type = ChangeState
trigger1 = time = 10
value = 105502
;-----------------------------------------------------------------
;Odbicie od ziemi
[StateDef 105502]
type = A
movetype= H
physics = S
juggle  = 1
ctrl = 0
anim = 5060+ var(0)*10000
poweradd = 0
sprpriority = 0

[State 0, ChangeAnim]
type = ChangeAnim
trigger1 = time = 0
trigger1 = var(0) != 0
value = 5060 + var(0)*10000

[State 0, VelSet]
type = VelSet
trigger1 = time = 0
x = -5
y = 8

[State 0, Gravity]
type = Gravity
trigger1 = 1

[State 0, Explod]
type = Explod
trigger1 = pos y >= 0
persistent = 0
anim = F64
pos = 0,2
scale = 0.6,0.3
postype = p1
facing = 1
ownpal = 1
bindtime = 1
removetime = -2
sprpriority = -2

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = pos y >= 0
persistent = 0
anim = F62
pos = 0,0
postype = p1
facing = 1
bindtime = 1
removetime = -2
sprpriority = 3
scale = 1.7,1.7
ownpal = 1  

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = pos y >= 0
persistent = 0
anim = F540
pos = 0,0
postype = p1
facing = 1
bindtime = 1
removetime = -2
sprpriority = 3
scale = 1.7,1.4
ownpal = 1

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = pos y >= 0
persistent = 0
anim = F550
pos = 0,0
postype = p1
facing = 1
bindtime = 1
removetime = -2
sprpriority = 4
scale = 1.4,1.4
ownpal = 1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = pos y >= 0
persistent = 0
value = F15,2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = pos y >= 0
persistent = 0
value = F15,4

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 1
value = F14,6

[State 0, End]
type = ChangeState
trigger1 = pos y >= 0
value = 105503
;-----------------------------------------------------------------
;Odbicie od ziemi
[StateDef 105503]
type = A
movetype= H
physics = S
juggle  = 1
ctrl = 0
anim = 5050+ var(0)*10000
poweradd = 0
sprpriority = 0

[State 0, ChangeAnim]
type = ChangeAnim
trigger1 = time = 0
trigger1 = var(0) != 0
value = 5050 + var(0)*10000

[State 0, VelSet]
type = VelSet
trigger1 = time = 0
x = -2
y = -5

[State 0, StateTypeSet]
type = StateTypeSet
trigger1 = time > 1
statetype = A       
movetype = H      
physics = A  

[State 0, End]
type = SelfState
trigger1 = vel y > 0
value = 5050
;-----------------
;Itachi Susano Stance
[StateDef 2000]
type = S
movetype= A
physics = S
juggle  = 1
ctrl = 0
anim = 2000
poweradd = 0
sprpriority = 0

[State 0, PowerAdd]
type = PowerAdd
trigger1 = 1
value = -5

[State 0, Turn]
type = Turn
trigger1 = p2bodydist x <-20 && timemod = 20,0

[State 0, NotHitBy]
type = NotHitBy
trigger1 = time >= 0
value = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
time = 2

[State 0, PlayerPush]
type = PlayerPush
trigger1 = time >= 0
value = 1

[State 0, AfterImage]
type = AfterImage
trigger1 = 1
time = 2
length = 2

[State 0, VelSet]
type = VelSet
trigger1 = 1
x = 0

[State 0, PosSet]
type = PosSet
trigger1 = 1
y = 0

[State 0, ChangeState]
type = ChangeState
trigger1 = var(50) = 0
trigger1 = command = "s"
trigger2 = var(50) = 1
trigger2 = random = [680,681]
trigger3 = var(18) != 3
trigger4 = helper(2100), var(10) >= 600
trigger5 = numhelper(2100) = 0
trigger6 = numhelper(2200) = 0
trigger7 = power = 0
trigger8 = win
trigger9 = lose
trigger10 = drawgame
trigger11 = life = 0
trigger12 = !ALive 
trigger13 = var(1) < 2
value = 2095
ctrl = 0

;Walk Fwd
[State -1, Walk Fwd]
type = ChangeState
value = 2001
;P1
trigger1 = command = "holdfwd"
trigger1 = var(50) = 0
;AI RANDOM
trigger2 = p2dist x > 150
trigger2 = random = [10,19+var(49)*(var(49))/50+(p2bodydist x)/50]
trigger2 = var(50) = 1

;Walk Back
[State -1, Walk Back]
type = ChangeState
value = 2002
;P1
trigger1 = command = "holdback"
trigger1 = var(50) = 0
;AI RANDOM
trigger2 = p2dist x = [50,100]
trigger2 = random = [20,29-var(49)*(var(49))/200+cond(p2movetype = A,var(49)*(var(49))/50,0)]
trigger2 = var(50) = 1

;Combo 1
[State -1, Combo 1]
type = ChangeState
value = 2010
;PLAYER
trigger1 = command = "a"
trigger1 = var(50) = 0
;AI RANDOM
trigger2 = p2dist x = [0,150]
trigger2 = p2dist y = [-120,0]
trigger2 = random = [100,101+var(49)*(var(49))/50]
trigger2 = var(50) = 1
trigger2 = p2stateno != [5110,5150]

;Combo 2
[State -1, Combo 2]
type = ChangeState
value = 2020
;PLAYER
trigger1 = command = "x"
trigger1 = var(50) = 0
;AI RANDOM
trigger2 = p2dist x = [0,200]
trigger2 = p2dist y = [-200,50]
trigger2 = random = [150,151+var(49)*(var(49))/50]
trigger2 = var(50) = 1
trigger2 = p2stateno != [5110,5150]

;Combo 3
[State -1, Combo 3]
type = ChangeState
value = 2030
;PLAYER
trigger1 = command = "b"
trigger1 = var(50) = 0
;AI RANDOM
trigger2 = p2dist x = [50,200]
trigger2 = p2dist y = [-200,50]
trigger2 = random = [200,201+var(49)*(var(49))/50]
trigger2 = var(50) = 1
trigger2 = p2stateno != [5110,5150]
;-----------------
;Itachi Susanoo Walk Fwd
[StateDef 2001]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 2001
poweradd = 0
sprpriority = 0

[State 0, ChangeState]
type = ChangeState
trigger1 = var(50) = 0
trigger1 = command = "s"
trigger2 = var(50) = 1
trigger2 = random = [680,681]
trigger3 = var(18) != 3
trigger4 = helper(2100), var(10) >= 600
trigger5 = numhelper(2100) = 0
trigger6 = numhelper(2200) = 0
trigger7 = power = 0
trigger8 = win
trigger9 = lose
trigger10 = drawgame
trigger11 = life = 0
trigger12 = !ALive 
trigger13 = var(1) < 2
value = 2095
ctrl = 0

[State 0, PowerAdd]
type = PowerAdd
trigger1 = 1
value = -5

[State 0, AfterImage]
type = AfterImage
trigger1 = 1
time = 2
length = 2

[State 0, VelSet]
type = VelSet
trigger1 = 1
x = const(velocity.walk.fwd.x)*0.8

[State 0, NotHitBy]
type = NotHitBy
trigger1 = time >= 0
value = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
time = 2

[State 0, PlayerPush]
type = PlayerPush
trigger1 = time >= 0
value = 1

[State 0, PosSet]
type = PosSet
trigger1 = 1
y = 0

[State 100, 4]
type = ChangeState
trigger1 = command != "holdfwd"
trigger1 = var(50) = 0
trigger2 = p2bodydist x < 70
trigger2 = var(50) = 1
triggerall = time > 10
value = 2000

;Combo 1
[State -1, Combo 1]
type = ChangeState
value = 2010
;PLAYER
trigger1 = command = "a"
trigger1 = var(50) = 0
;AI RANDOM
trigger2 = p2dist x = [0,150]
trigger2 = p2dist y = [-120,0]
trigger2 = random = [100,101+var(49)*(var(49))/50]
trigger2 = var(50) = 1
trigger2 = p2stateno != [5110,5150]

;Combo 2
[State -1, Combo 2]
type = ChangeState
value = 2020
;PLAYER
trigger1 = command = "x"
trigger1 = var(50) = 0
;AI RANDOM
trigger2 = p2dist x = [0,200]
trigger2 = p2dist y = [-200,50]
trigger2 = random = [150,151+var(49)*(var(49))/50]
trigger2 = var(50) = 1
trigger2 = p2stateno != [5110,5150]

;Combo 3
[State -1, Combo 3]
type = ChangeState
value = 2030
;PLAYER
trigger1 = command = "b"
trigger1 = var(50) = 0
;AI RANDOM
trigger2 = p2dist x = [50,200]
trigger2 = p2dist y = [-200,50]
trigger2 = random = [200,201+var(49)*(var(49))/50]
trigger2 = var(50) = 1
trigger2 = p2stateno != [5110,5150]
;-----------------
;Itachi Susanoo Walk Back
[StateDef 2002]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 2002
poweradd = 0
sprpriority = 0

[State 0, ChangeState]
type = ChangeState
trigger1 = var(50) = 0
trigger1 = command = "s"
trigger2 = var(50) = 1
trigger2 = random = [680,681]
trigger3 = var(18) != 3
trigger4 = helper(2100), var(10) >= 600
trigger5 = numhelper(2100) = 0
trigger6 = numhelper(2200) = 0
trigger7 = power = 0
trigger8 = win
trigger9 = lose
trigger10 = drawgame
trigger11 = life = 0
trigger12 = !ALive 
trigger13 = var(1) < 2
value = 2095
ctrl = 0

[State 0, PowerAdd]
type = PowerAdd
trigger1 = 1
value = -5

[State 0, AfterImage]
type = AfterImage
trigger1 = 1
time = 2
length = 2

[State 0, VelSet]
type = VelSet
trigger1 = 1
x = const(velocity.walk.back.x)*0.8

[State 0, NotHitBy]
type = NotHitBy
trigger1 = time >= 0
value = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
time = 2

[State 0, PlayerPush]
type = PlayerPush
trigger1 = time >= 0
value = 1

[State 0, PosSet]
type = PosSet
trigger1 = 1
y = 0

[State 100, 4]
type = ChangeState
trigger1 = command != "holdback"
trigger1 = var(50) = 0
trigger2 = p2bodydist x > 100 && time > (20-var(49)*(var(49))/100)
trigger2 = var(50) = 1
triggerall = time > 10
value = 2000

;Combo 1
[State -1, Combo 1]
type = ChangeState
value = 2010
;PLAYER
trigger1 = command = "a"
trigger1 = var(50) = 0
;AI RANDOM
trigger2 = p2dist x = [0,150]
trigger2 = p2dist y = [-120,0]
trigger2 = random = [100,101+var(49)*(var(49))/50]
trigger2 = var(50) = 1
trigger2 = p2stateno != [5110,5150]

;Combo 2
[State -1, Combo 2]
type = ChangeState
value = 2020
;PLAYER
trigger1 = command = "x"
trigger1 = var(50) = 0
;AI RANDOM
trigger2 = p2dist x = [0,200]
trigger2 = p2dist y = [-200,50]
trigger2 = random = [150,151+var(49)*(var(49))/50]
trigger2 = var(50) = 1
trigger2 = p2stateno != [5110,5150]

;Combo 3
[State -1, Combo 3]
type = ChangeState
value = 2030
;PLAYER
trigger1 = command = "b"
trigger1 = var(50) = 0
;AI RANDOM
trigger2 = p2dist x = [50,200]
trigger2 = p2dist y = [-200,50]
trigger2 = random = [200,201+var(49)*(var(49))/50]
trigger2 = var(50) = 1
trigger2 = p2stateno != [5110,5150]
;-----------------
;Itachi Susanoo Atak
[StateDef 2010]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 2010
poweradd = 0
sprpriority = 0

[State 0, VelSet]
type = VelSet
trigger1 = animelem = 3
x = 2

[State 0, ChangeState]
type = ChangeState
trigger1 = var(50) = 0
trigger1 = command = "s"
trigger2 = var(50) = 1
trigger2 = random = [680,681]
trigger3 = var(18) != 3
trigger4 = helper(2100), var(10) >= 600
trigger5 = numhelper(2100) = 0
trigger6 = numhelper(2200) = 0
trigger7 = power = 0
trigger8 = win
trigger9 = lose
trigger10 = drawgame
trigger11 = life = 0
trigger12 = !ALive 
trigger13 = var(1) < 2
value = 2095
ctrl = 0

[State 0, PowerAdd]
type = PowerAdd
trigger1 = 1
value = -5

[State 0, AfterImage]
type = AfterImage
trigger1 = 1
time = 2
length = 2

[State 0, NotHitBy]
type = NotHitBy
trigger1 = time >= 0
value = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
time = 2

[State 0, PlayerPush]
type = PlayerPush
trigger1 = time >= 0
value = 1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F8,0+random%4

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = S4,2+random%10
volume = 255
channel = 4

[State 100, 4]
type = ChangeState
trigger1 = animtime = 0
value = 2000

;Combo
[State -1, Combo]
type = ChangeState
value = 2020
;PLAYER
trigger1 = command = "x"
trigger1 = var(50) = 0
;AI RANDOM
trigger2 = p2dist x = [0,200]
trigger2 = p2dist y = [-200,50]
trigger2 = random = [150,151+var(49)*(var(49)/10)]
trigger2 = var(50) = 1
trigger2 = p2stateno != [5110,5150]
;WARUNEK
triggerall = time > 8 && helper(2100), movecontact && helper(2100), stateno = 2110

;Combo
[State -1, Combo]
type = ChangeState
value = 2030
;PLAYER
trigger1 = command = "b"
trigger1 = var(50) = 0
;AI RANDOM
trigger2 = p2dist x = [0,200]
trigger2 = p2dist y = [-200,50]
trigger2 = random = [200,201+var(49)*(var(49)/10)]
trigger2 = var(50) = 1
trigger2 = p2stateno != [5110,5150]
;WARUNEK
triggerall = time > 8 && helper(2100), movecontact && helper(2100), stateno = 2110
;-----------------
;Itachi Susanoo Atak
[StateDef 2020]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 2020
poweradd = 0
sprpriority = 0

[State 0, VelSet]
type = VelSet
trigger1 = animelem = 3
x = 2

[State 0, ChangeState]
type = ChangeState
trigger1 = var(50) = 0
trigger1 = command = "s"
trigger2 = var(50) = 1
trigger2 = random = [680,681]
trigger3 = var(18) != 3
trigger4 = helper(2100), var(10) >= 600
trigger5 = numhelper(2100) = 0
trigger6 = numhelper(2200) = 0
trigger7 = power = 0
trigger8 = win
trigger9 = lose
trigger10 = drawgame
trigger11 = life = 0
trigger12 = !ALive 
trigger13 = var(1) < 2
value = 2095
ctrl = 0

[State 0, PowerAdd]
type = PowerAdd
trigger1 = 1
value = -5

[State 0, AfterImage]
type = AfterImage
trigger1 = 1
time = 2
length = 2

[State 0, NotHitBy]
type = NotHitBy
trigger1 = time >= 0
value = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
time = 2

[State 0, PlayerPush]
type = PlayerPush
trigger1 = time >= 0
value = 1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F8,0+random%4

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = S4,2+random%10
volume = 255
channel = 4

[State 100, 4]
type = ChangeState
trigger1 = animtime = 0
value = 2000

;Combo
[State -1, Combo]
type = ChangeState
value = 2030
;PLAYER
trigger1 = command = "b"
trigger1 = var(50) = 0
;AI RANDOM
trigger2 = p2dist x = [0,200]
trigger2 = p2dist y = [-200,50]
trigger2 = random = [200,201+var(49)*(var(49)/10)]
trigger2 = var(50) = 1
trigger2 = p2stateno != [5110,5150]
;WARUNEK
triggerall = time > 8 && helper(2100), movecontact && helper(2100), stateno = 2120
;-----------------
;Itachi Susanoo Atak
[StateDef 2030]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 2030
poweradd = 0
sprpriority = 0

[State 0, VelSet]
type = VelSet
trigger1 = animelem = 3
x = 2

[State 0, ChangeState]
type = ChangeState
trigger1 = var(50) = 0
trigger1 = command = "s"
trigger2 = var(50) = 1
trigger2 = random = [680,681]
trigger3 = var(18) != 3
trigger4 = helper(2100), var(10) >= 600
trigger5 = numhelper(2100) = 0
trigger6 = numhelper(2200) = 0
trigger7 = power = 0
trigger8 = win
trigger9 = lose
trigger10 = drawgame
trigger11 = life = 0
trigger12 = !ALive 
trigger13 = var(1) < 2
value = 2095
ctrl = 0

[State 0, PowerAdd]
type = PowerAdd
trigger1 = 1
value = -5

[State 0, AfterImage]
type = AfterImage
trigger1 = 1
time = 2
length = 2

[State 0, NotHitBy]
type = NotHitBy
trigger1 = time >= 0
value = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
time = 2

[State 0, PlayerPush]
type = PlayerPush
trigger1 = time >= 0
value = 1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F8,0+random%4

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = S4,2+random%10
volume = 255
channel = 4

[State 100, 4]
type = ChangeState
trigger1 = animtime = 0
value = 2000
;-----------------
;Itachi Susanoo Yasaka
[StateDef 2040]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 2040
poweradd = 0
sprpriority = 0

[State 0, AfterImage]
type = AfterImage
trigger1 = 1
time = 2
length = 2

[State 0, NotHitBy]
type = NotHitBy
trigger1 = time >= 0
value = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
time = 2

[State 0, PlayerPush]
type = PlayerPush
trigger1 = time >= 0
value = 1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F8,0+random%4

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S3,35

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S3,35

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S3,35

[State 0, SuperPause]
type = SuperPause
trigger1 = time = 40
time = 60
movetime = 0
anim = -1
darken = 0
unhittable = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 40
value = F34,0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 40
value = F34,1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 40
value = F34,2

[State 0, Swiatlo do superpausy]
type = Explod
ownpal = 1
trigger1 = time = 40
anim = 4001
ID = 4000
pos = 190,100
postype = back
bindtime = -1
removetime = 60
supermovetime = 9999
pausemovetime = 9999
scale = 1,1
sprpriority = -100
ownpal = 1
ontop = 0

[State 0, BGPalFX]
type = BGPalFX
triggerall = StageVar(info.name) != "Y" && StageVar(info.name) != "H"
trigger1 = time = 40
time = 60
add = -120,-120,-120

[State 0, BGPalFX]
type = BGPalFX
trigger1 = StageVar(info.name) = "Y" 
trigger2 = StageVar(info.name) = "H"
triggerall = time = 40
time = 60
add = -80,-80,-80

[State 100, 4]
type = ChangeState
trigger1 = animtime = 0
value = 2095
;-----------------
;Itachi Susanoo Goukakyuu
[StateDef 2050]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 2050
poweradd = 0
sprpriority = 0

[State 0, ChangeState]
type = ChangeState
trigger1 = var(50) = 0
trigger1 = command = "s"
trigger2 = var(50) = 1
trigger2 = random = [680,681]
trigger3 = var(18) != 3
trigger4 = helper(2100), var(10) >= 600
trigger5 = numhelper(2100) = 0
trigger6 = numhelper(2200) = 0
trigger7 = power = 0
trigger8 = win
trigger9 = lose
trigger10 = drawgame
trigger11 = life = 0
trigger12 = !ALive 
trigger13 = var(1) < 2
value = 2095
ctrl = 0

[State 0, PowerAdd]
type = PowerAdd
trigger1 = 1
value = -4

[State 0, AfterImage]
type = AfterImage
trigger1 = 1
time = 2
length = 2

[State 0, NotHitBy]
type = NotHitBy
trigger1 = time >= 0
value = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
time = 2

[State 0, PlayerPush]
type = PlayerPush
trigger1 = time >= 0
value = 1

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 40
anim = F810
id = 80006
pos = 26,-36
scale = 0.4,0.6
postype = p1
facing = 1
bindtime = 1
removetime = 10
sprpriority = 3
supermovetime=9999
pausemovetime=9999
ownpal = 1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
trigger2 = animelem = 3
trigger3 = animelem = 5
trigger4 = animelem = 7
trigger5 = animelem = 9
trigger6 = animelem = 11
value = F8,0+random%4
volume = 255
channel = 8

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
trigger2 = animelem = 4
trigger3 = animelem = 6
trigger4 = animelem = 8
trigger5 = animelem = 10
trigger6 = animelem = 12
value = F17,0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
value = S3,5

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
value = S3,5

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 14
value = S3,9

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 14
value = S3,9

[State 0, Helper]
type = Helper
trigger1 = animelem = 16
helpertype = normal;player
name = "katon"
ID = 850
stateno = 850
pos = 50,-35
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1
size.xscale = 1
size.yscale = 1

[State 0, end]
type = ChangeState
trigger1 = time = 60
value = 2000
ctrl = 1
;-----------------
;Itachi Susanoo Amaterasu
[StateDef 2060]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 501
poweradd = 0
sprpriority = 0

[State 0, VarSet]
type = VarSet
trigger1 = time = 0
v = 6
value = 0

[State 0, ChangeState]
type = ChangeState
trigger1 = var(50) = 0
trigger1 = command = "s"
trigger2 = var(50) = 1
trigger2 = random = [680,681]
trigger3 = var(18) != 3
trigger4 = helper(2100), var(10) >= 600
trigger5 = numhelper(2100) = 0
trigger6 = numhelper(2200) = 0
trigger7 = power = 0
trigger8 = win
trigger9 = lose
trigger10 = drawgame
trigger11 = life = 0
trigger12 = !ALive 
trigger13 = var(1) < 2
value = 2095
ctrl = 0

[State 0, AfterImage]
type = AfterImage
trigger1 = 1
time = 2
length = 2

[State 0, NotHitBy]
type = NotHitBy
trigger1 = time >= 0
value = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
time = 2

[State 0, PlayerPush]
type = PlayerPush
trigger1 = time >= 0
value = 1



[State 0, VarSet]
type = VarSet
trigger1 = time = 0
v = 14
value = 1

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = time = 0
id = 502

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = time = 0
id = 501

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = time = 1
id = 505

[State 1500]
type = SuperPause
trigger1 = time = 0
time = 50
movetime = 0
supermove = 0
anim = 6436345;1170
sound = F19,2
pos = 3,-35
darken = 0
unhittable = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S3,12

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time > 10 && timemod = 50,0
value = S6,8

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time > 10 && timemod = 40,0
value = S6,17

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S3,13

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S3,13

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 50
value = S7,37

[State 0, EnvColor]
type = EnvColor
trigger1 = time = 0
value = 0,0,0
time = 50
under = 1

[State 0, PalFX]
type = PalFX
trigger1 = time > 1
time = 1
add = 0,0,0
sinadd = -256,-256,-256, 60
invertall = 0
color = 0

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 0
anim = 508
ID = 507
pos = 190,100
postype = left
facing = 1
vfacing = 1
bindtime = -1
removetime = 50
scale = 0.30,0.30
sprpriority = -1
ontop = 0
ownpal = 1
removeongethit = 0
supermovetime = 9999
pausemovetime = 9999

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 1
anim = 80011
ID = 50180011
pos = 0,-50
postype = back
facing = 1
vfacing = 1
bindtime =-1
removetime = -1
scale = 0.65,0.65
sprpriority = 199
ontop = 0
ownpal = 1
removeongethit = 0
supermovetime = 9999
pausemovetime = 9999

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 0
anim = 1014
pos = 3,-54
scale = 0.15,0.15
postype = p1
facing = cond(facing = 1,1,-1)
bindtime = -1
removetime = -2
sprpriority = 3
supermovetime = 9999
pausemovetime = 9999

[State 0, Helper]
type = Helper
trigger1 = time = 0
helpertype = player
name = "Celownik"
ID = 510
stateno = 510
pos = 2,-54
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1
size.xscale = 0.15
size.yscale = 0.15
supermovetime = 9999

[State 0, Helper]
type = Helper
trigger1 = time = 20
triggerall = numhelper(500) = 0
helpertype = normal
name = "ama"
ID = 500
stateno = 515
pos = 0,0
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1
size.xscale = 0.2
size.yscale = 0.2

[State 0, Helper]
type = Helper
trigger1 = time = 35
triggerall = numhelper(500) = 1
triggerall = numhelper(501) = 0
helpertype = normal
name = "ama"
ID = 501
stateno = 515
pos = 0,0
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1
size.xscale = 0.2
size.yscale = 0.2

[State 0, Helper]
type = Helper
trigger1 = time = 50
triggerall = numhelper(501) = 1
triggerall = numhelper(502) = 0
helpertype = normal
name = "ama"
ID = 502
stateno = 515
pos = 0,0
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1
size.xscale = 0.2
size.yscale = 0.2

[State 0, Helper]
type = Helper
trigger1 = time = 65
triggerall = numhelper(502) = 1
triggerall = numhelper(503) = 0
helpertype = normal
name = "ama"
ID = 503
stateno = 515
pos = 0,0
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1
size.xscale = 0.2
size.yscale = 0.2

[State 0, Helper]
type = Helper
trigger1 = time = 80
triggerall = numhelper(503) = 1
triggerall = numhelper(504) = 0
helpertype = normal
name = "ama"
ID = 504
stateno = 515
pos = 0,0
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1
size.xscale = 0.2
size.yscale = 0.2

[State 0, Helper]
type = Helper
trigger1 = time = 95
triggerall = numhelper(504) = 1
triggerall = numhelper(505) = 0
helpertype = normal
name = "ama"
ID = 505
stateno = 515
pos = 0,0
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1
size.xscale = 0.2
size.yscale = 0.2

[State 0, End]
type = ChangeState
trigger1 = var(50) = 0 && command = "s"
trigger2 = var(50) = 1 && random = [0,50-var(49)*(var(49))/50-life/300-power/400]
trigger2 = time >= 50
trigger3 = win
trigger4 = lose
trigger5 = drawgame
trigger6 = life = 0
trigger7 = !ALive
trigger8 = power < 500
trigger9 = time = 100
value = 2061
ctrl = 1
;-----------------
;Itachi Susanoo Amaterasu
[StateDef 2061]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 502
poweradd = 0
sprpriority = 0

[State 0, ChangeState]
type = ChangeState
trigger1 = var(50) = 0
trigger1 = command = "s"
trigger2 = var(50) = 1
trigger2 = random = [680,681]
trigger3 = var(18) != 3
trigger4 = helper(2100), var(10) >= 600
trigger5 = numhelper(2100) = 0
trigger6 = numhelper(2200) = 0
trigger7 = power = 0
trigger8 = win
trigger9 = lose
trigger10 = drawgame
trigger11 = life = 0
trigger12 = !ALive 
trigger13 = var(1) < 2
value = 2095
ctrl = 0

[State 0, AfterImage]
type = AfterImage
trigger1 = 1
time = 2
length = 2

[State 0, NotHitBy]
type = NotHitBy
trigger1 = time >= 0
value = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
time = 2

[State 0, PlayerPush]
type = PlayerPush
trigger1 = time >= 0
value = 1

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = time = 0
id = 505

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = 1
id = 90011

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
value = S6,8

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
value = S6,8

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
value = S6,10
volume = 255
channel = 6

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = S5,10

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 30
value = S5,20

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 30
value = S5,20

[State 1500]
type = SuperPause
trigger1 = time = 61
time = 50
movetime = 0
supermove = 0
anim = 103
sound = S5,23
pos = 3,-35
darken = 1
unhittable = 0

[State 0, VarSet]
type = VarSet
trigger1 = time = 1
v = 14
value = 0

[State 0, LifeAdd]
type = LifeAdd
trigger1 = time = [10,60]
value = -6
kill = 0

[State 0, LifeAdd]
type = LifeAdd
trigger1 = time = 60
value = -200
kill = 0

[State 0, PalFX]
type = PalFX
trigger1 = time < 25
time = 1
add = 0,0,0
sinadd = -256+time*10,-256+time*10,-256+time*10, 60
invertall = 0
color = 0

[State 0, BGPalFX]
type = BGPalFX
trigger1 = time < 25
time = 1
add = 0,0,0
sinadd = -256+time*10,-256+time*10,-256+time*10, 60
invertall = 0
color = 0

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 50
anim = F12
pos = 5,0
postype = p1  ;p2,front,back,left,right
facing = 1
bindtime = 1
removetime = -2
sprpriority = -1
scale = 0.8,0.25
ownpal = 1
ontop = 0
supermovetime = 9999
pausemovetime = 9999

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 20
anim = 9998
pos = 0,0
postype = p1  ;p2,front,back,left,right
facing = 1
bindtime = 1
removetime = -2
sprpriority = 200
scale = 10,10
ownpal = 1
ontop = 0
supermovetime = 9999
pausemovetime = 9999

[State 0, End]
type = ChangeState
trigger1 = time = 60
value = 2000
ctrl = 1
;-----------------
;Itachi Susano Start
[StateDef 2090]
type = S
movetype= A
physics = S
juggle  = 1
ctrl = 0
anim = 2090
poweradd = -200
sprpriority = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
value = S3,4

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
value = S3,4

[State 0, PlayerPush]
type = PlayerPush
trigger1 = 1
value = 1

[State 0, VarSet]
type = VarSet
trigger1 = time = 0
v = 18
value = 3

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 0
anim = 1012
pos = 3,-54
scale = 0.15,0.15
postype = p1
facing = 1
bindtime = -1
removetime = -2
sprpriority = 3
supermovetime = 9999
pausemovetime = 9999

[State 0, Helper]
type = Helper
trigger1 = time = 0
persistent = 0
helpertype = player
name = "Susano"
ID = 2100
stateno = 2190
pos = 0,0
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1
size.xscale = 0.9
size.yscale = 0.9
size.ground.front = 50
size.ground.back = -40
size.air.front = 25
size.air.back = -40
size.height = 150
size.head.pos = 0,-110 
size.mid.pos = 0,-60 

[State 0, end]
type = ChangeState
trigger1 = animtime = 0
value = 2000
ctrl = 1
;-----------------
;Itachi Susanoo Koniec
[StateDef 2095]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 2095
poweradd = 0
sprpriority = 0

[State 0, VarSet]
type = VarSet
trigger1 = time = 0
v = 18
value = 0

[State 0, VarAdd]
type = VarAdd
trigger1 = time = 0 
v = 2  
value = 15

[State 0, AfterImage]
type = AfterImage
trigger1 = 1
time = 2
length = 2

[State 0, NotHitBy]
type = NotHitBy
trigger1 = time >= 0
value = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
time = 2

[State 0, PlayerPush]
type = PlayerPush
trigger1 = time >= 0
value = 1

[State 0, ChangeState]
type = ChangeState
trigger1 = animtime = 0
value = 699
ctrl = 0
;-----------------
;Susanoo
[StateDef 2100]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 2100
poweradd = 0
sprpriority = 4

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = [2000,2094]
time = 2
facing = 0
pos = 0,0

[State 0, ParentVarSet]
type = ParentVarSet
trigger1 = 1
v = 18
value = 3

[State -3, EMS]
type = AfterImage
trigger1 = time = 0
time = -1
length = 7
palcolor = 256
palinvertall = 0
palbright = 0,0,0
palcontrast = 120,40,40
palpostbright = 0,0,0
paladd = 5,2,2
palmul = .65,.15,.15
timegap = 1
framegap = 1
trans = add

[State 0, Turn]
type = Turn
trigger1 = parent, facing = -1 && facing = 1

[State 0, Turn]
type = Turn
trigger1 = parent, facing = 1 && facing = -1

[State 0, VelSet]
type = VelSet
trigger1 = 1
x = 0

[State 0, PosSet]
type = PosSet
trigger1 = 1
y = 0

[State 0, Explod]
type = Explod
trigger1 = time = 0
trigger1 = numexplod(2301) = 0
anim = 2301
id = 2301
pos = 0,-10
scale = 0.5,0.4
postype = p1
facing = 1
bindtime = -1
removetime = -1
sprpriority = 5
ownpal = 1

[State 0, ModifyExplod]
type = ModifyExplod
trigger1 = 1
anim = 2301
id = 2301
pos = 0,-10
scale = 0.5,0.4
postype = p1
facing = 1
bindtime = -1
removetime = -1
sprpriority = 5
ownpal = 1

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = target, ishelper = 0
flag = unguardable

[State 0, NotHitBy]
type = NotHitBy
trigger1 = time >= 0
value = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
time = 2

[State 0, PlayerPush]
type = PlayerPush
trigger1 = time >= 0
value = 0

[State 0, ChangeState]
type = ChangeState
trigger1 = parent, stateno != [2000,2094]
trigger2 = parent, var(18) != 3
trigger3 = time > 10 && numhelper(2200) = 0
trigger4 = parent, stateno = 2095
value = 2195
ctrl = 0

[State 0, ChangeState]
type = ChangeState
trigger1 = parent, stateno = 2001
value = 2101
ctrl = 0

[State 0, ChangeState]
type = ChangeState
trigger1 = parent, stateno = 2002
value = 2102
ctrl = 0

[State 0, ChangeState]
type = ChangeState
trigger1 = parent, stateno = 2010
triggerall = time > 5
value = 2110
ctrl = 0

[State 0, ChangeState]
type = ChangeState
trigger1 = parent, stateno = 2020
triggerall = time > 5
value = 2120
ctrl = 0

[State 0, ChangeState]
type = ChangeState
trigger1 = parent, stateno = 2030
triggerall = time > 5
value = 2130
ctrl = 0

[State 0, ChangeState]
type = ChangeState
trigger1 = parent, stateno = 2040
triggerall = time > 5
value = 2140
ctrl = 0
;-----------------
;Susanoo
[StateDef 2101]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 2101
poweradd = 0
sprpriority = 4

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = [2000,2094]
time = 2
facing = 0
pos = 0,0

[State -3, EMS]
type = AfterImage
trigger1 = time = 0
time = -1
length = 7
palcolor = 256
palinvertall = 0
palbright = 0,0,0
palcontrast = 120,40,40
palpostbright = 0,0,0
paladd = 5,2,2
palmul = .65,.15,.15
timegap = 1
framegap = 1
trans = add

[State 0, Turn]
type = Turn
trigger1 = parent, facing = -1 && facing = 1

[State 0, Turn]
type = Turn
trigger1 = parent, facing = 1 && facing = -1

[State 0, VelSet]
type = VelSet
trigger1 = 1
x = 0

[State 0, PosSet]
type = PosSet
trigger1 = 1
y = 0

[State 0, Explod]
type = Explod
trigger1 = time = 0
trigger1 = numexplod(2301) = 0
anim = 2301
id = 2301
pos = 0,-10
scale = 0.5,0.4
postype = p1
facing = 1
bindtime = -1
removetime = -1
sprpriority = 5
ownpal = 1

[State 0, ModifyExplod]
type = ModifyExplod
trigger1 = 1
anim = 2301
id = 2301
pos = 0,-10
scale = 0.5,0.4
postype = p1
facing = 1
bindtime = -1
removetime = -1
sprpriority = 5
ownpal = 1

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = target, ishelper = 0
flag = unguardable

[State 0, NotHitBy]
type = NotHitBy
trigger1 = time >= 0
value = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
time = 2

[State 0, PlayerPush]
type = PlayerPush
trigger1 = time >= 0
value = 0

[State 0, ChangeState]
type = ChangeState
trigger1 = parent, stateno != 2001
value = 2100
ctrl = 0

[State 0, ChangeState]
type = ChangeState
trigger1 = parent, stateno = 2010
triggerall = time > 5
value = 2110
ctrl = 0

[State 0, ChangeState]
type = ChangeState
trigger1 = parent, stateno = 2020
triggerall = time > 5
value = 2120
ctrl = 0

[State 0, ChangeState]
type = ChangeState
trigger1 = parent, stateno = 2030
triggerall = time > 5
value = 2130
ctrl = 0

[State 0, ChangeState]
type = ChangeState
trigger1 = parent, stateno = 2040
triggerall = time > 5
value = 2140
ctrl = 0
;-----------------
;Susanoo
[StateDef 2102]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 2102
poweradd = 0
sprpriority = 4

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = [2000,2094]
time = 2
facing = 0
pos = 0,0

[State -3, EMS]
type = AfterImage
trigger1 = time = 0
time = -1
length = 7
palcolor = 256
palinvertall = 0
palbright = 0,0,0
palcontrast = 120,40,40
palpostbright = 0,0,0
paladd = 5,2,2
palmul = .65,.15,.15
timegap = 1
framegap = 1
trans = add

[State 0, Turn]
type = Turn
trigger1 = parent, facing = -1 && facing = 1

[State 0, Turn]
type = Turn
trigger1 = parent, facing = 1 && facing = -1

[State 0, VelSet]
type = VelSet
trigger1 = 1
x = 0

[State 0, PosSet]
type = PosSet
trigger1 = 1
y = 0

[State 0, Explod]
type = Explod
trigger1 = time = 0
trigger1 = numexplod(2301) = 0
anim = 2301
id = 2301
pos = 0,-10
scale = 0.5,0.4
postype = p1
facing = 1
bindtime = -1
removetime = -1
sprpriority = 5
ownpal = 1

[State 0, ModifyExplod]
type = ModifyExplod
trigger1 = 1
anim = 2301
id = 2301
pos = 0,-10
scale = 0.5,0.4
postype = p1
facing = 1
bindtime = -1
removetime = -1
sprpriority = 5
ownpal = 1

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = target, ishelper = 0
flag = unguardable

[State 0, NotHitBy]
type = NotHitBy
trigger1 = time >= 0
value = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
time = 2

[State 0, PlayerPush]
type = PlayerPush
trigger1 = time >= 0
value = 0

[State 0, ChangeState]
type = ChangeState
trigger1 = parent, stateno != 2002
value = 2100
ctrl = 0

[State 0, ChangeState]
type = ChangeState
trigger1 = parent, stateno = 2010
triggerall = time > 5
value = 2110
ctrl = 0

[State 0, ChangeState]
type = ChangeState
trigger1 = parent, stateno = 2020
triggerall = time > 5
value = 2120
ctrl = 0

[State 0, ChangeState]
type = ChangeState
trigger1 = parent, stateno = 2030
triggerall = time > 5
value = 2130
ctrl = 0

[State 0, ChangeState]
type = ChangeState
trigger1 = parent, stateno = 2040
triggerall = time > 5
value = 2140
ctrl = 0
;-----------------
;Susanoo
[StateDef 2110]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 2110
poweradd = 0
sprpriority = 4

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = [2000,2094]
time = 2
facing = 0
pos = 0,0

[State -3, EMS]
type = AfterImage
trigger1 = time = 0
time = -1
length = 7
palcolor = 256
palinvertall = 0
palbright = 0,0,0
palcontrast = 120,40,40
palpostbright = 0,0,0
paladd = 5,2,2
palmul = .65,.15,.15
timegap = 1
framegap = 1
trans = add

[State 0, Turn]
type = Turn
trigger1 = parent, facing = -1 && facing = 1

[State 0, Turn]
type = Turn
trigger1 = parent, facing = 1 && facing = -1

[State 0, VelSet]
type = VelSet
trigger1 = 1
x = 0

[State 0, PosSet]
type = PosSet
trigger1 = 1
y = 0

[State 0, Explod]
type = Explod
trigger1 = time = 0
trigger1 = numexplod(2301) = 0
anim = 2301
id = 2301
pos = 0,-10
scale = 0.55,0.4
postype = p1
facing = 1
bindtime = -1
removetime = -1
sprpriority = 5
ownpal = 1

[State 0, ModifyExplod]
type = ModifyExplod
trigger1 = 1
anim = 2301
id = 2301
pos = 0,-10
scale = 0.55,0.4
postype = p1
facing = 1
bindtime = -1
removetime = -1
sprpriority = 5
ownpal = 1

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = target, ishelper = 0
flag = unguardable

[State 0, NotHitBy]
type = NotHitBy
trigger1 = time >= 0
value = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
time = 2

[State 0, PlayerPush]
type = PlayerPush
trigger1 = time >= 0
value = 0

[State 0, EnvShake]
type = EnvShake
trigger1 = animelem = 2
time = 40
freq = 40
ampl = -8
phase = 5

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F24,3

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F14,5

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = movehit = 1 && p2movetype = H
anim = F11+random%2
angle = -25+random%50
pos = -15,-20-random%20
postype = p2  ;p2,front,back,left,right
facing = 1
bindtime = 1
removetime = -2
sprpriority = 5
scale = 1,1
ownpal = 1
ontop = 0
supermovetime = 9999
pausemovetime = 9999

[State 0, HitDef]
type = HitDef
givepower = 0
getpower = 0
trigger1 = !time
attr = S, NA
damage = 200,40
animtype = Light
guardflag = MA
hitflag = MAF
priority = 4
sprpriority = 4
pausetime = 0, 5
sparkno = S906
sparkxy = -15,-60
hitsound = S6, 1
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -2,-2
airguard.velocity = -2,-2
air.type = High
air.velocity = -2,-2
air.hittime = 12
envshake.time = 30
envshake.freq = 30
envshake.ampl = -7
envshake.phase = 10
fall.damage = 50
fall = 1

[State 0, ChangeState]
type = ChangeState
trigger1 = animtime = 0 && parent, stateno != 2010
value = 2100
ctrl = 0

[State 0, ChangeState]
type = ChangeState
trigger1 = parent, stateno = 2020
triggerall = time > 5
value = 2120
ctrl = 0

[State 0, ChangeState]
type = ChangeState
trigger1 = parent, stateno = 2030
triggerall = time > 5
value = 2130
ctrl = 0
;-----------------
;Susanoo
[StateDef 2120]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 2120
poweradd = 0
sprpriority = 4

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = [2000,2094]
time = 2
facing = 0
pos = 0,0

[State -3, EMS]
type = AfterImage
trigger1 = time = 0
time = -1
length = 7
palcolor = 256
palinvertall = 0
palbright = 0,0,0
palcontrast = 120,40,40
palpostbright = 0,0,0
paladd = 5,2,2
palmul = .65,.15,.15
timegap = 1
framegap = 1
trans = add

[State 0, Turn]
type = Turn
trigger1 = parent, facing = -1 && facing = 1

[State 0, Turn]
type = Turn
trigger1 = parent, facing = 1 && facing = -1

[State 0, VelSet]
type = VelSet
trigger1 = 1
x = 0

[State 0, PosSet]
type = PosSet
trigger1 = 1
y = 0

[State 0, Explod]
type = Explod
trigger1 = time = 0
trigger1 = numexplod(2301) = 0
anim = 2301
id = 2301
pos = 0,-10
scale = 0.55,0.4
postype = p1
facing = 1
bindtime = -1
removetime = -1
sprpriority = 5
ownpal = 1

[State 0, ModifyExplod]
type = ModifyExplod
trigger1 = 1
anim = 2301
id = 2301
pos = 0,-10
scale = 0.55,0.4
postype = p1
facing = 1
bindtime = -1
removetime = -1
sprpriority = 5
ownpal = 1

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = target, ishelper = 0
flag = unguardable

[State 0, NotHitBy]
type = NotHitBy
trigger1 = time >= 0
value = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
time = 2

[State 0, PlayerPush]
type = PlayerPush
trigger1 = time >= 0
value = 0

[State 0, EnvShake]
type = EnvShake
trigger1 = animelem = 2
time = 40
freq = 40
ampl = -8
phase = 5

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F24,3

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F14,5

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = movehit = 1 && p2movetype = H
anim = F11+random%2
angle = -25+random%50
pos = -15,-20-random%20
postype = p2  ;p2,front,back,left,right
facing = 1
bindtime = 1
removetime = -2
sprpriority = 5
scale = 1,1
ownpal = 1
ontop = 0
supermovetime = 9999
pausemovetime = 9999

[State 0, HitDef]
type = HitDef
givepower = 0
getpower = 0
trigger1 = !time
attr = S, NA
damage = 200,40
animtype = Light
guardflag = MA
hitflag = MAF
priority = 4
sprpriority = 4
pausetime = 0, 5
sparkno = S906
sparkxy = -15,-120
hitsound = S6, 1
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -4,-10
airguard.velocity = -4,-10
air.type = High
air.velocity = -4,-10
air.hittime = 12
envshake.time = 30
envshake.freq = 30
envshake.ampl = -7
envshake.phase = 10
fall.damage = 50
fall = 1

[State 0, ChangeState]
type = ChangeState
trigger1 = animtime = 0 && parent, stateno != 2020
value = 2100
ctrl = 0

[State 0, ChangeState]
type = ChangeState
trigger1 = parent, stateno = 2010
triggerall = time > 5
value = 2110
ctrl = 0

[State 0, ChangeState]
type = ChangeState
trigger1 = parent, stateno = 2030
triggerall = time > 5
value = 2130
ctrl = 0
;-----------------
;Susanoo
[StateDef 2130]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 2130
poweradd = 0
sprpriority = 4

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = [2000,2094]
time = 2
facing = 0
pos = 0,0

[State -3, EMS]
type = AfterImage
trigger1 = time = 0
time = -1
length = 7
palcolor = 256
palinvertall = 0
palbright = 0,0,0
palcontrast = 120,40,40
palpostbright = 0,0,0
paladd = 5,2,2
palmul = .65,.15,.15
timegap = 1
framegap = 1
trans = add

[State 0, Turn]
type = Turn
trigger1 = parent, facing = -1 && facing = 1

[State 0, Turn]
type = Turn
trigger1 = parent, facing = 1 && facing = -1

[State 0, VelSet]
type = VelSet
trigger1 = 1
x = 0

[State 0, PosSet]
type = PosSet
trigger1 = 1
y = 0

[State 0, Explod]
type = Explod
trigger1 = time = 0
trigger1 = numexplod(2301) = 0
anim = 2301
id = 2301
pos = 0,-10
scale = 0.55,0.4
postype = p1
facing = 1
bindtime = -1
removetime = -1
sprpriority = 5
ownpal = 1

[State 0, ModifyExplod]
type = ModifyExplod
trigger1 = 1
anim = 2301
id = 2301
pos = 0,-10
scale = 0.55,0.4
postype = p1
facing = 1
bindtime = -1
removetime = -1
sprpriority = 5
ownpal = 1

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = target, ishelper = 0
flag = unguardable

[State 0, NotHitBy]
type = NotHitBy
trigger1 = time >= 0
value = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
time = 2

[State 0, PlayerPush]
type = PlayerPush
trigger1 = time >= 0
value = 0

[State 0, EnvShake]
type = EnvShake
trigger1 = animelem = 2
time = 40
freq = 40
ampl = -8
phase = 5

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F24,3

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F14,5

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = movehit = 1 && p2movetype = H
anim = F11+random%2
angle = -25+random%50
pos = -15,-20-random%20
postype = p2  ;p2,front,back,left,right
facing = 1
bindtime = 1
removetime = -2
sprpriority = 5
scale = 1,1
ownpal = 1
ontop = 0
supermovetime = 9999
pausemovetime = 9999

[State 0, HitDef]
type = HitDef
givepower = 0
getpower = 0
trigger1 = !time
attr = S, NA
damage = 200,40
animtype = Light
guardflag = MA
hitflag = MAF
priority = 4
sprpriority = 4
pausetime = 0, 5
sparkno = S906
sparkxy = -15,0
hitsound = S6, 1
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -3,10
airguard.velocity = -3,10
air.type = High
air.velocity = -3,10
air.hittime = 12
envshake.time = 30
envshake.freq = 30
envshake.ampl = -7
envshake.phase = 10
fall.damage = 50
fall = 1

[State 0, ChangeState]
type = ChangeState
trigger1 = animtime = 0 && parent, stateno != 2030
value = 2100
ctrl = 0

[State 0, ChangeState]
type = ChangeState
trigger1 = parent, stateno = 2010
triggerall = time > 5
value = 2110
ctrl = 0

[State 0, ChangeState]
type = ChangeState
trigger1 = parent, stateno = 2020
triggerall = time > 5
value = 2120
ctrl = 0
;-----------------
;Susanoo Yasaka
[StateDef 2140]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 2140
poweradd = 0
sprpriority = 4

[State 0, PowerAdd]
type = PowerAdd
trigger1 = time <= 50 
value = -40

[State 0, Explod]
type = Explod
trigger1 = time = 0
anim = 2196
id = 2196
pos = 0,0
scale = 0.9,0.9
postype = p1
facing = 1
bindtime = -1
removetime = -2
sprpriority = 4
ownpal = 1

[State 0, Explod]
type = Explod
trigger1 = time = 70
anim = 2191
id = 2191
pos = 0,0
scale = 0.9,0.9
postype = p1
facing = 1
bindtime = -1
removetime = -2
sprpriority = 4
ownpal = 1

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = [2000,2094]
time = 2
facing = 0
pos = 0,0

[State -3, EMS]
type = AfterImage
trigger1 = time = 0
time = -1
length = 7
palcolor = 256
palinvertall = 0
palbright = 0,0,0
palcontrast = 120,40,40
palpostbright = 0,0,0
paladd = 5,2,2
palmul = .65,.15,.15
timegap = 1
framegap = 1
trans = add

[State 0, Turn]
type = Turn
trigger1 = parent, facing = -1 && facing = 1

[State 0, Turn]
type = Turn
trigger1 = parent, facing = 1 && facing = -1

[State 0, VelSet]
type = VelSet
trigger1 = 1
x = 0

[State 0, PosSet]
type = PosSet
trigger1 = 1
y = 0

[State 0, Explod]
type = Explod
trigger1 = time = 0
trigger1 = numexplod(2301) = 0
anim = 2301
id = 2301
pos = 0,-10
scale = 0.4,0.4
postype = p1
facing = 1
bindtime = -1
removetime = -1
sprpriority = 5
ownpal = 1

[State 0, ModifyExplod]
type = ModifyExplod
trigger1 = 1
anim = 2301
id = 2301
pos = 0,-10
scale = 0.4,0.4
postype = p1
facing = 1
bindtime = -1
removetime = -1
sprpriority = 5
ownpal = 1

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = target, ishelper = 0
flag = unguardable

[State 0, NotHitBy]
type = NotHitBy
trigger1 = time >= 0
value = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
time = 2

[State 0, PlayerPush]
type = PlayerPush
trigger1 = time >= 0
value = 0

[State 0, EnvShake]
type = EnvShake
trigger1 = animelem = 3
time = 40
freq = 40
ampl = -8
phase = 5

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S6,2+random%3

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = F24,3

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = F14,5

[State 0, Helper]
type = Helper
trigger1 = time = 0
helpertype = normal;player
name = "Yasaka"
ID = 2150
stateno = 2150
pos = -75,-62
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1
size.xscale = 0.3
size.yscale = 0.3
pausemovetime = 9999
supermovetime = 9999

[State 1640, X]
Type=VarSet
Trigger1= 1
fvar(13)=(EnemyNear(0),Pos X-Pos X)*Facing

[State 1640, Y]
Type=VarSet
trigger1= 1
fvar(14)=(EnemyNear(0),pos Y-Pos Y)

[State 1640, Vector Length]
Type=VarSet
trigger1= 1
fvar(15)=Exp(0.5*ln((fvar(13)*fvar(13))+(fvar(14)*fvar(14))))

[State 0, ChangeState]
type = ChangeState
trigger1 = animtime = 0 && parent, stateno != 2050
value = 2196
ctrl = 0
;-----------------
;Yasaka
[StateDef 2150]
type = A
movetype= A
physics = N
juggle  = 1
ctrl = 0
anim = 2150
poweradd = -1500
sprpriority = 5

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 2140
trigger1 = parent, time = [0,40]
time = 1
pos = -75*0.9,-62*0.9

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 2140
trigger1 = parent, time = [41,45]
pos = -90*0.9,-53*0.9

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 2140
trigger1 = parent, time = [46,48]
time = 1
pos = -17*0.9,-35*0.9

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 2140
trigger1 = parent, time = [49,51]
time = 1
pos = 110*0.9,-40*0.9

[State 0, VarSet]
type = VarSet
trigger1 = time < 30
fv = 10   
value = 10+time*3

[State 0, AngleDraw]
type = AngleDraw
trigger1 = 1
scale = fvar(10)/100,fvar(10)/100
value = time*(time/5)

[State 0, NotHitBy]
type = NotHitBy
trigger1 = time >= 0
value = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
time = -1

[State 0, PlayerPush]
type = PlayerPush
trigger1 = 1
value = 1

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow
ignorehitpause = 1

[State 1533,excplod]
type = Explod
ownpal = 1
trigger1 = root,time = 40
anim = 2158
id = 2158
postype = front
pos = cond(facing = 1,-380,0),0
name = "paski ruchu"
bindtime = 1
sprpriority = 30
ownpal = 1
trans = sub
removetime = -1
scale = 0.3,0.3

[State 0, BGPalFX]
type = BGPalFX 
trigger1 = root,time = 40
triggerall = time > 1
time = 50
add = -20,-20,-20

[State 811, end]
type = changestate
trigger1 = time = 50
value = 2151
;-----------------
;Yasaka
[StateDef 2151]
type = A
movetype= A
physics = N
juggle  = 1
ctrl = 0
anim = 2151
poweradd = -500
sprpriority = 5

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 2140
trigger1 = parent, time = [0,40]
time = 1
pos = -75*0.9,-62*0.9

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 2140
trigger1 = parent, time = [41,45]
pos = -90*0.9,-53*0.9

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 2140
trigger1 = parent, time = [46,48]
time = 1
pos = -17*0.9,-35*0.9

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 2140
trigger1 = parent, time = [49,51]
time = 1
pos = 110*0.9,-40*0.9

[State 0, NotHitBy]
type = NotHitBy
trigger1 = time >= 0
value = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
time = -1

[State 0, PlayerPush]
type = PlayerPush
trigger1 = 1
value = 1

[State 0, BGPalFX]
type = BGPalFX 
trigger1 = time > 1
time = 2
add = -20,-20,-20

[State 0,AfterImage]
type = AfterImage
trigger1 = (!Time)
time = -1
framegap = 1
length = 30
paladd = 0, 0, 0
palmul = .90, .90, .90
palcontrast = 100, 100, 100
trans = add

[State 1640, X]
Type=VarSet
Trigger1= time = 0
fvar(13)=(EnemyNear(0),Pos X-Pos X)*Facing

[State 1640, Y]
Type=VarSet
trigger1= time = 0
fvar(14)=(EnemyNear(0),pos Y-Pos Y)

[State 1640, Vector Length]
Type=VarSet
trigger1= time = 0
fvar(15)=Exp(0.5*ln((fvar(13)*fvar(13))+(fvar(14)*fvar(14))))

[State 0, VelSet]
type = VelSet
trigger1 = time = 1
x = 15
y = -1

[State 0, VelSet]
type = VelAdd
trigger1 = random
triggerall = vel y > -15
triggerall = p2bodydist x != [-40,40]
y = -0.5

[State 0, VelSet]
type = VelAdd
trigger1 = random
triggerall = vel y < 15
triggerall = p2bodydist x != [-40,40]
y = 0.5

[State 0, VarSet]
type = VarSet
trigger1 = p2bodydist x != 0
fv = 11
value = -atan((p2bodydist y-45)/p2bodydist x)+atan(vel y/vel x) 

[State 0, VelSet]
type = Veladd
triggerall = vel y < 8
triggerall = time > 0
trigger1 = (p2bodydist y - 45) >= 0 && fvar(11) != [-0.09,0.09]
trigger2 = (p2bodydist y - 45) < 0 && fvar(11) = [-0.09,0.09]
y = 0.8

[State 0, VelSet]
type = Veladd
triggerall = vel y > -8
triggerall = time > 0
trigger1 = (p2bodydist y - 45) < 0 && fvar(11) != [-0.09,0.09]
trigger2 = (p2bodydist y - 45) >= 0 && fvar(11) = [-0.09,0.09]
y = -0.8

[State 0, VelSet]
type = Veladd
triggerall = vel x < 8
triggerall = time > 0
trigger1 = p2bodydist x+20 >= 0
x = 0.8

[State 0, VelSet]
type = Veladd
triggerall = vel x > -8
triggerall = time > 0
trigger1 = p2bodydist x+20 < 0
x = -0.8

[State 0, AngleDraw]
type = AngleDraw
trigger1 = vel x != 0
value = -atan(vel y/vel x)*180/PI 

[State 0, AngleDraw]
type = AngleDraw
trigger1 = vel x = 0
value = 0

[State 0, Trans]
type = Trans
trigger1 = 1
trans = add

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = target, ishelper = 0
flag = unguardable

[State 0, HitDef]
type = HitDef
givepower = 0
getpower = 0
trigger1 = !time
attr = S, NA
damage = 0,0
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 0, 5
sparkno = 523626
sparkxy = -15,0
hitsound = 35, 23464325
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = 0,0
airguard.velocity = 0,0
air.type = High
air.velocity = 0,0
air.hittime = 12
p1stateno = 2153

[State 811, end]
type = changestate
trigger1 = time > 10 && pos y >= 20
value = 2152

[State 811, end]
type = changestate
trigger1 = time >= 150
value = 2153
;--------------------
;Yasaka Ziemia
[StateDef 2152]
type = A
movetype= A
juggle  = 1
velset = 0,0
ctrl = 0
anim = 2152
poweradd = 0
sprpriority = 3

[State 0, VelSet]
type=VelSet
trigger1 = 1
x = 0
y = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = F15,5

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = F15,10

[State 0, EnvShake]
type = EnvShake
trigger1 = time = 0
time = 30
freq = 30
ampl = -6
phase = 90

[State 0, BGPalFX]
type = BGPalFX 
trigger1 = time > 1
time = 2
add = -20,-20,-20

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = time = 25
id = 2158

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 23
anim = 9999
ID = 9999
pos = 0,0
name = "biale swiatlo"
postype = back
bindtime = -1
removetime = 10
supermovetime = 9999
pausemovetime = 9999
scale = 4,4
sprpriority = 30
ownpal = 1
ontop = 0

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 5
anim = F64
pos = 0,0
scale = 2,0.8
postype = p1
facing = 1
bindtime = -1
removetime = -2
sprpriority = -1
supermovetime=9999
pausemovetime=9999
ownpal = 1

[State 0, Explod]
type = Explod
trigger1 = time < 25
anim = F591
ID = 591
pos = -60+random%120,10-random%50
vel = -2+random%5,-3-random%2
accel = 0,0.1
angle = random
postype = p1
bindtime = 1
removetime = -2
supermovetime = 9999
pausemovetime = 9999
scale = 1,1
sprpriority = 4
ownpal = 0
ontop = 0

[State 0, Explod]
type = Explod
trigger1 = time = 0
anim = 2157
pos = 0,0
postype = p1
bindtime = -1
removetime = -2
supermovetime= 9999
pausemovetime= 9999
scale = 0.5,0.5
sprpriority = 5

[State 0, Explod]
type = Explod
trigger1 = time = 0
anim = 2155
pos = 0,0
postype = p1
bindtime = -1
removetime = -2
supermovetime= 9999
pausemovetime= 9999
scale = 1.3,1.3
sprpriority = 5

[State 0, Explod]
type = Explod
trigger1 = time = 0
anim = 2156
pos = 0,0
postype = p1
bindtime = -1
removetime = -2
supermovetime= 9999
pausemovetime= 9999
scale = 1.3,1.3
sprpriority = 4

[State 0, Explod]
type = Explod
trigger1 = time = 0
anim = F587
pos = 0,0
postype = p1
bindtime = -1
removetime = -2
supermovetime= 9999
pausemovetime= 9999
scale = 1,1
sprpriority = 6

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[State 0, HitDef]
type = HitDef
givepower = 0
getpower = 0
trigger1 = timemod = 5,0
trigger1 = hitcount < 4
attr = S, NT
damage = 500,500
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 0, 10
sparkno = 523626
sparkxy = -15,0
hitsound = 35, 23464325
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -3,-6
airguard.velocity = -3,-6
air.type = High
air.velocity = -3,-6
air.hittime = 12
envshake.time = 30
envshake.freq = 30
envshake.ampl = -7
envshake.phase = 10
fall.yvelocity = -6
fall = 1

[State 0, destroyself]
type = destroyself
trigger1 = time = 25
;--------------------
;Yasaka Wybuch
[StateDef 2153]
type = A
movetype= A
juggle  = 1
velset = 0,0
ctrl = 0
anim = 2153
poweradd = 0
sprpriority = 3

[State 0, VelSet]
type=VelSet
trigger1 = 1
x = 0
y = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = F15,5

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = F15,10

[State 0, EnvShake]
type = EnvShake
trigger1 = time = 0
time = 30
freq = 30
ampl = -6
phase = 90

[State 0, BGPalFX]
type = BGPalFX
trigger1 = time > 1
time = 2
add = -100,-100,-100

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = time = 25
id = 2158

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 5 && pos y >= -20
anim = F64
pos = 0,-pos y
scale = 2,0.8
postype = p1
facing = 1
bindtime = -1
removetime = -2
sprpriority = -1
supermovetime=9999
pausemovetime=9999
ownpal = 1

[State 0, Explod]
type = Explod
trigger1 = time < 25 && pos y >= -20
anim = F591
ID = 591
pos = -60+random%120,-pos y+10-random%50
vel = -2+random%5,-3-random%2
accel = 0,0.1
angle = random
postype = p1
bindtime = 1
removetime = -2
supermovetime = 9999
pausemovetime = 9999
scale = 1,1
sprpriority = 4
ownpal = 0
ontop = 0

[State 0, Explod]
type = Explod
trigger1 = time = 0
anim = 2157
pos = 0,0
postype = p1
bindtime = -1
removetime = -2
supermovetime= 9999
pausemovetime= 9999
scale = 0.3,0.3
sprpriority = 5

[State 0, Explod]
type = Explod
trigger1 = time = 0
anim = 2155
pos = 0,0
postype = p1
bindtime = -1
removetime = -2
supermovetime= 9999
pausemovetime= 9999
scale = 1.3,1.3
sprpriority = 5

[State 0, Explod]
type = Explod
trigger1 = time = 0
anim = 2155
pos = 0,0
postype = p1
vfacing = -1
bindtime = -1
removetime = -2
supermovetime= 9999
pausemovetime= 9999
scale = 1.3,1.3
sprpriority = 5

[State 0, Explod]
type = Explod
trigger1 = time = 0
anim = 2156
pos = 0,0
postype = p1
bindtime = -1
removetime = -2
supermovetime= 9999
pausemovetime= 9999
scale = 1.3,1.3
sprpriority = 4

[State 0, Explod]
type = Explod
trigger1 = time = 0 && pos y >= -20
anim = F587
pos = 0,-pos y
postype = p1
bindtime = -1
removetime = -2
supermovetime= 9999
pausemovetime= 9999
scale = 1.3,1.3
sprpriority = 6

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[State 0, HitDef]
type = HitDef
givepower = 0
getpower = 0
trigger1 = timemod = 5,0
trigger1 = hitcount < 4
attr = S, NT
damage = 500,500
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 0, 10
sparkno = 523626
sparkxy = -15,0
hitsound = 35, 23464325
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -3,-6
airguard.velocity = -3,-6
air.type = High
air.velocity = -3,-6
air.hittime = 12
envshake.time = 30
envshake.freq = 30
envshake.ampl = -7
envshake.phase = 10
fall.yvelocity = -6
fall = 1

[State 0, destroyself]
type = destroyself
trigger1 = time = 25
;-----------------
;Susanoo
[StateDef 2190]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 2190
poweradd = 0
sprpriority = 4

[State 0, AfterImage]
type = AfterImage
trigger1 = 1
time = 2
length = 2

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = [2000,2094]
time = 2
facing = 0
pos = 0,0

[State 0, Turn]
type = Turn
trigger1 = parent, facing = -1 && facing = 1

[State 0, Turn]
type = Turn
trigger1 = parent, facing = 1 && facing = -1

[State 0, PosSet]
type = PosSet
trigger1 = 1
y = 0

[State 0, Helper]
type = Helper
trigger1 = time = 0
helpertype = normal ;player
name = "White Flash"
ID = 9999
stateno = 9999
pos = 0,0
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1
size.xscale = 10
size.yscale = 10
supermovetime = 9999
pausemovetime = 9999
persistent = 0

[State 0, Explod]
type = Explod
trigger1 = time = 5
trigger1 = numexplod(2301) = 0
anim = 2301
id = 2301
pos = 0,-10
scale = 0.5,0.4
postype = p1
facing = 1
bindtime = -1
removetime = -1
sprpriority = 5
ownpal = 1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S6,4

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = target, ishelper = 0
flag = unguardable

[State 0, NotHitBy]
type = NotHitBy
trigger1 = time >= 0
value = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
time = 2

[State 0, PlayerPush]
type = PlayerPush
trigger1 = time >= 0
value = 0

[State 0, ParentVarSet]
type = ParentVarSet
trigger1 = 1
v = 18
value = 3

[State 0, Helper]
type = Helper
trigger1 = time = 0 && numhelper(2200) = 0
helpertype = normal;player
name = "Susano"
ID = 2200
stateno = 130
pos = 0,0
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1
size.xscale = 1
size.yscale = 1
size.ground.front = 50
size.ground.back = -40
size.air.front = 25
size.air.back = -40
size.height = 150
size.head.pos = 0,-110 
size.mid.pos = 0,-60 

[State 0, ChangeState]
type = ChangeState
trigger1 = animtime = 0
value = 2100
ctrl = 0
;-----------------
;Susanoo
[StateDef 2195]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 2195
poweradd = 0
sprpriority = 4

[State 0, AfterImage]
type = AfterImage
trigger1 = 1
time = 2
length = 2

[State 0, PosSet]
type = PosSet
trigger1 = 1
y = 0

[State 0, Helper]
type = Helper
trigger1 = time = 0
helpertype = normal ;player
name = "White Flash"
ID = 9999
stateno = 9999
pos = 0,0
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1
size.xscale = 10
size.yscale = 10
supermovetime = 9999
pausemovetime = 9999
persistent = 0

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = time = 0
id = 2301

[State 0, Explod]
type = Explod
trigger1 = time = 0
trigger1 = numexplod(2302) = 0
anim = 2302
id = 2302
pos = 0,-10
scale = 0.5,0.4
postype = p1
facing = 1
bindtime = -1
removetime = -2
sprpriority = 5
ownpal = 1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S6,4

[State 0, ParentVarSet]
type = ParentVarSet
trigger1 = 1
v = 18
value = 0

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = target, ishelper = 0
flag = unguardable

[State 0, NotHitBy]
type = NotHitBy
trigger1 = time >= 0
value = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
time = 2

[State 0, PlayerPush]
type = PlayerPush
trigger1 = time >= 0
value = 0

[State 0, ChangeState]
type = destroyself
trigger1 = animtime = 0
;-----------------
;Susanoo
[StateDef 2196]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 2196
poweradd = 0
sprpriority = 4

[State 0, AfterImage]
type = AfterImage
trigger1 = 1
time = 2
length = 2

[State 0, PosSet]
type = PosSet
trigger1 = 1
y = 0

[State 0, Helper]
type = Helper
trigger1 = time = 0
helpertype = normal ;player
name = "White Flash"
ID = 9999
stateno = 9999
pos = 0,0
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1
size.xscale = 10
size.yscale = 10
supermovetime = 9999
pausemovetime = 9999
persistent = 0

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = time = 0
id = 2301

[State 0, Explod]
type = Explod
trigger1 = time = 0
trigger1 = numexplod(2302) = 0
anim = 2302
id = 2302
pos = 0,-10
scale = 0.5,0.4
postype = p1
facing = 1
bindtime = -1
removetime = -2
sprpriority = 5
ownpal = 1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S6,4

[State 0, ParentVarSet]
type = ParentVarSet
trigger1 = 1
v = 18
value = 0

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = target, ishelper = 0
flag = unguardable

[State 0, NotHitBy]
type = NotHitBy
trigger1 = time >= 0
value = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
time = 2

[State 0, PlayerPush]
type = PlayerPush
trigger1 = time >= 0
value = 0

[State 0, ChangeState]
type = destroyself
trigger1 = animtime = 0
;---------------------------------------------------------------------
;Ultimate 1: Genjutsu S³oñce
[Statedef 3000]
type    = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 3000
poweradd = 0
sprpriority = 2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S2,29

[State 6520, Hitdef]
type = HitDef
givepower = 0
getpower = 0
fall.yvelocity = -6
trigger1 = AnimElem = 4
attr = C,HP
hitflag = MAF
guardflag = MA
animtype = hard
air.animtype = hard
fall.animtype = hard
ground.type = low
air.type = low
damage = 0,8
getpower = 0,0
givepower = 200,150
pausetime = 0,0
guard.pausetime = 0,6
sparkno = -1
guard.sparkno = -1
sparkxy = 0,0
hitsound = S6,6
guardsound = S1,100
ground.hittime = 20
ground.slidetime = 20
guard.hittime = 20
air.hittime = 20
guard.ctrltime = 20
airguard.ctrltime = 20
ground.velocity = 0,0
guard.velocity = 0
air.velocity = 0,0
airguard.velocity = 0,0
p2stateno = 105270

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = nostandguard
flag2 = nocrouchguard
flag3 = noairguard

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = target, ishelper = 0
flag = unguardable

[State 0, Helper] 
type = Helper 
trigger1 = movehit && numhelper(3010) = 0 && enemy(0),p2dist x > 10 && enemy(0),alive = 1
helpertype = normal
name = "pieczec" 
ID = 3010
stateno = 3010
pos = 40,-34
postype = p1 
ownpal = 1 
supermovetime = 9999

[State 0, Helper] 
type = Helper 
trigger1 = movehit && numhelper(3011) = 0 && enemy(1),p2dist x > 10 && enemy(1),alive = 1
helpertype = normal
name = "pieczec 2" 
ID = 3011
stateno = 3011
pos = 40,-34
postype = p1 
ownpal = 1 
supermovetime = 9999

[State 0, End]
type = ChangeState
trigger1 = movehit
value = 3001
ctrl = 1

[State 0, End]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;-------------------------
;rozpoczecie
[Statedef 3001]
type    = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 3001
poweradd = -1000
sprpriority = 2

[State 0, VarAdd]
type = VarAdd
trigger1 = time = 0
v = 7
value = 1

[State 0, VarAdd]
type = VarAdd
trigger1 = time = 0 
v = 2  
value = 20

[State 0, SuperPause]
type = SuperPause
trigger1 = time = 0
time = 60
movetime = 0
anim = -1
darken = 0
unhittable = 0

[State 0, SuperPause]
type = SuperPause
trigger1 = time = 1
time = 55
movetime = 55
anim = -1
darken = 0
unhittable = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = F34,0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = F34,1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = F34,2

[State 0, Swiatlo do superpausy]
type = Explod
ownpal = 1
trigger1 = time = 0
anim = 4000
ID = 4000
pos = 190,100
postype = back
bindtime = -1
removetime = 60
supermovetime = 9999
pausemovetime = 9999
scale = 1,1
sprpriority = -100
ownpal = 1
ontop = 0

[State 0, BGPalFX]
type = BGPalFX
triggerall = StageVar(info.name) != "Y" && StageVar(info.name) != "H"
trigger1 = time = 0
time = 60
add = -120,-120,-120

[State 0, BGPalFX]
type = BGPalFX
trigger1 = StageVar(info.name) = "Y" 
trigger2 = StageVar(info.name) = "H"
triggerall = time = 0
time = 60
add = -80,-80,-80

[State 0, NotHitBy]
type = NotHitBy
trigger1 = time >= 0
value = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
value2 = S,NA
time = 1

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 70
anim = 6085
ID = 6085
pos = 3,-54
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 85
removetime = 85
scale = 0.015,0.015
sprpriority = 5
ontop = 0
ownpal = 1
removeongethit = 0
supermovetime = 9999
pausemovetime = 9999

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 70
anim = 6085
ID = 6085
pos = 3,-55
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 85
removetime = 85
scale = 0.015,0.015
sprpriority = 5
ontop = 0
ownpal = 1
removeongethit = 0
supermovetime = 9999
pausemovetime = 9999

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 80
value = S6,15

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 80
anim = 3011
ID = 652
pos = 0,0
postype = back
facing = 1
vfacing = 1
bindtime = -1
removetime = 90
scale = 0.8,0.8
sprpriority = 31
ontop = 0
ownpal = 1
removeongethit = 0
supermovetime = 9999
pausemovetime = 9999

[State 200, 7]
type = ChangeState
trigger1 = time = 140
value = 3002
ctrl = 1

[Statedef 3002]
type    = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 3002
poweradd = -3000
sprpriority = 20

[State 0, VarAdd]
type = VarAdd
trigger1 = time = 0
v = 7
value = 2

[State -3]
type = AfterImage
trigger1 = time = 0
time = 1
length = 1
trans = add

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S3,2

[State 0, PosSet]
type = PosSet
trigger1 = time = 0
x = -300

[State 0, Turn]
type = Turn
trigger1 = facing = -1

[State 0, Trans]
type = Trans
trigger1 = time > 5 && time < 55
trans = addalpha
alpha = 256-((time-5)*5.12),0+((time-5)*5.12)

[State 0, Trans]
type = Trans
trigger1 = time > 54
trans = addalpha
alpha = 0,256

[State 0, NotHitBy]
type = NotHitBy
trigger1 = time >= 0
value = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
value2 = S,NA
time = 1

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 50
trigger2 = time = 100
trigger3 = time = 150
trigger4 = time = 200
trigger5 = time = 250
anim = 9999
ID = 9999
pos = 0,0
postype = back
bindtime = -1
removetime = 10
supermovetime = 9999
pausemovetime = 9999
scale = 4,4
sprpriority = 30
ownpal = 1
ontop = 0

[State 0, Helper]
type = Helper
trigger1 = time = 0
helpertype = normal;player
name = "tlo"
ID = 3008
stateno = 3008
pos = 0,0
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1
size.xscale = 1
size.yscale = 1
supermovetime = 9999
pausemovetime = 9999

[State 0, Helper]
type = Helper
trigger1 = time = 30
helpertype = normal;player
name = "slonce"
ID = 3020
stateno = 3020
pos = -110,-230
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1
size.xscale = 0.35
size.yscale = 0.35
supermovetime = 9999
pausemovetime = 9999

[State 200, 7]
type = ChangeState
trigger1 = time = 307
value = 3004
ctrl = 1

[Statedef 3004]
type    = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 0
poweradd = 0
sprpriority = 20

[State 0, NotHitBy]
type = NotHitBy
trigger1 = time >= 0
value = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
value2 = S,NA
time = 1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S6,16

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 0
anim = 9999
ID = 8872
pos =0,0
postype = back
facing = 1
vfacing = 1
bindtime = -2
removetime = 24
scale = 10,10
sprpriority = 199
ontop = 0
ownpal = 1
removeongethit = 0
trans = sub
supermovetime = 9999
pausemovetime = 9999

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 0
anim = 8872
ID = 8872
pos =0,0
postype = back
facing = 1
vfacing = 1
bindtime =- 2
removetime = -2
scale = 0.4,0.35;1.15,1.15
sprpriority = 200
ontop = 0
ownpal = 1
removeongethit = 0
supermovetime = 9999
pausemovetime = 9999

[State 0, BGPalFX]
type = BGPalFX
trigger1 = time < 10
time = 2
add = -80,-80,-80

[State 1500]
type = SuperPause
trigger1 = time = 0
time = 25
movetime = 25
supermove = 25
anim = 104
sound = F19,1
pos = 3,-35
darken = 0
unhittable = 0

[State 200, 7]
type = ChangeState
trigger1 = time = 5
value = 0
ctrl = 1


[Statedef 3008]
type    = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 3010
poweradd = 0
sprpriority = 20

[State 0, EnvColor]
type = EnvColor
trigger1 = time%5 = 0
value = 0,0,0
time = 6
under = 1

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 0
anim = 3017
ID = 3021
pos = 190,100
postype = left
bindtime = -1
removetime = -1
supermovetime = 9999
pausemovetime = 9999
scale = 0.3,0.35
sprpriority = 29
ownpal = 1
ontop = 0

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 0
anim = 3012
ID = 3021
pos = 190,100
postype = left
bindtime = -1
removetime = -1
supermovetime = 9999
pausemovetime = 9999
scale = 0.3,0.3
sprpriority = 17
ownpal = 1
ontop = 0

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 0
anim = 3015
ID = 6085
pos = 250,0
postype = p1  ;p2,front,back,left,right
facing = -1
vel = -0.5,0
vfacing = 1
bindtime = 1
removetime = -1
scale = 0.35,0.35
sprpriority = 28
ontop = 0
ownpal = 1
removeongethit = 0
supermovetime = 9999
pausemovetime = 9999

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 0
anim = 3016
ID = 6085
pos = -50,30
postype = p1  ;p2,front,back,left,right
facing = 1
vel = 0.5,0
vfacing = 1
bindtime = 1
removetime = -1
scale = 0.35,0.35
sprpriority = 28
ontop = 0
ownpal = 1
removeongethit = 0
supermovetime = 9999
pausemovetime = 9999

[State 0, PosSet]
type = PosSet
trigger1 = time = 0
x = -130

[State 0, EnvShake]
type = EnvShake
trigger1 = time = 50
trigger2 = time = 100
trigger3 = time = 150
trigger4 = time = 200
trigger5 = time = 250
time = 15
freq = 120
ampl = -10
phase = 120

[State 0, EnvShake]
type = EnvShake
trigger1 = time%5 = 0
time = 9
freq = 40
ampl = -3
phase = 40

[State 200, 7]
type = ChangeState
trigger1 = root,stateno = 3004
value = 3009
ctrl = 1

[Statedef 3009]
type    = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 3010
poweradd = 0
sprpriority = 20

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = 1

[State 200, 7]
type = destroyself
trigger1 = time = 1


[StateDef 3010]
type = S
anim = 3010

[State 0, PosAdd] 
type = Posset
trigger1 = 1
x = enemy(0),pos x
y = enemy(0),pos y

[State 0, ChangeState]
type = destroyself
trigger1 = root,stateno != [3000,3004]

[StateDef 3011]
type = S
anim = 3010

[State 0, PosAdd] 
type = Posset
trigger1 = 1
x = enemy(1),pos x
y = enemy(1),pos y

[State 0, ChangeState]
type = destroyself
trigger1 = root,stateno != [3000,3004]

;slonce
[Statedef 3020]
type    = S
movetype= A
physics = S
juggle  = 1
ctrl = 0
anim = 3020
poweradd = 0
sprpriority = 25

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 1
value = F10,2
loop = 1
channel = 10

[State 0, StopSnd]
type = StopSnd
trigger1 = root,stateno = 3004
channel = 10 

[State 0, VelSet]
type = VelSet
trigger1 = time > 0 
x = 0.35
y = 0.15

[State 0, VelAdd]
type = VelAdd
trigger1 = time = 20
trigger2 = time = 70
trigger3 = time = 120
trigger4 = time = 170
trigger5 = time = 220
x = 45+(p2dist x /10)
y = 14.1

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 100
anim = 3021
ID = 3021
pos = 0,0
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = -1
removetime = -1
scale = 0.34,0.34
sprpriority = 26
ontop = 0
ownpal = 1
supermovetime = 9999
pausemovetime = 9999

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = root,stateno = 3004
id = 3021

[State 0, Helper]
type = Helper
trigger1 = time = 20
trigger2 = time = 70
trigger3 = time = 120
trigger4 = time = 170
trigger5 = time = 220
helpertype = normal;player
name = "dym"
ID = 3021
stateno = 3021
pos = 80,0
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1
size.xscale = 1
size.yscale = 0.35
supermovetime = 9999
pausemovetime = 9999

[State 0, Helper]
type = Helper
trigger1 = time = 252
helpertype = normal;player
name = "boom"
ID = 3023
stateno = 3023
pos = 0,0
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1
size.xscale = 0.8
size.yscale = 0.9
supermovetime = 9999
pausemovetime = 9999

[State 200, 7]
type = Destroyself
trigger1 = root,stateno = 3004

[Statedef 3021]
type    = S
movetype= A
physics = S
juggle  = 1
ctrl = 0
anim = 3022
poweradd = 0
sprpriority = 23

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = F15,4

[State 0, PosSet]
type = PosSet
trigger1 = 1
y = 0

[State 200, 7]
type = Destroyself
trigger1 = time = 32

[Statedef 3023]
type    = S
movetype= A
physics = S
juggle  = 1
ctrl = 0
anim = 3023
poweradd = 0
sprpriority = 27

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 1
value = F10,3

[State 0, PosSet]
type = PosSet
trigger1 = 1
y = 0

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 1
anim = F210
ID = 3021
pos = 0,0
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = -1
removetime = 45
scale = 2,2
sprpriority = 26
ontop = 0
ownpal = 1
supermovetime = 9999
pausemovetime = 9999

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = root,stateno = 3004
id = 3021

[State 200, 7]
type = Destroyself
trigger1 = root,stateno = 3004

;--------------------------------------------------
;stany narzucone ulti 1
[Statedef 105270]
type    = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 5000+var(0)*10000
poweradd = 0
sprpriority = 2


[State 0, NotHitBy]
type = NotHitBy
trigger1 = time >= 0
value = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
value2 = S,NA
time = 1

[State 0, ChangeState]
type = ChangeState
trigger1 = enemy,stateno = 3002
value = 105271
ctrl = 0

[Statedef 105271]
type    = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 5000+var(0)*10000
poweradd = 0
sprpriority = 20

[State 0, PosSet]
type = PosSet
trigger1 = time = 0
x = 100
y = 0

[State 0, Turn]
type = Turn
trigger1 = facing = 1

[State 0, NotHitBy]
type = NotHitBy
trigger1 = time >= 0
value = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
value2 = S,NA
time = 1

[State 0, LifeAdd]
type = LifeAdd
trigger1 = enemy,stateno = 3004
trigger2 = enemy,stateno != 3002
value = -2000
kill = 1

[State 200, 7]
type = Selfstate
trigger1 = enemy,stateno = 3004
trigger2 = enemy,stateno != 3002
value = 0
ctrl = 1

;-----------------------------
[StateDef 4500]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 4500
poweradd = -100
sprpriority = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 16
value = S2,24
volume = 255
channel = 2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 3
value = S6,11

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
value = S2,24
volume = 255
channel = 1

[State 0, PosAdd]
type = PosAdd
triggerall = time = 1
trigger1 = command != "holdfwd" && command != "holdback" && command != "holdup"
trigger2 = command = "holdfwd" && command = "holdback"
x = p2bodydist x +70

[State 0, PosAdd]
type = PosAdd
trigger1 = time = 1
triggerall = command = "holdfwd"
x = 150

[State 0, PosAdd]
type = PosAdd
trigger1 = time = 1
triggerall = command = "holdback"
x = -150

[State 0, PosAdd]
type = PosAdd
trigger1 = time = 1
triggerall = command = "holdup"
y = -100


[State 0, Turn]
type = Turn
trigger1 = time = 2
triggerall = p2bodydist x < -20

[State 0, PosSet]
type = PosSet
trigger1 = time = 2
y = 0
;ignorehitpause =
;persistent =


[State 0, Helper]
type = Helper
trigger1 = time = 0
helpertype = normal ;player
name = "kawarimi"
ID = 4501
stateno = 4501
pos = 0,0
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1
ontop = 0
supermove = 9999
pausemove = 9999

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 6
value = F21,2
volume = 255
channel = 9

[State 0, End]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------
;Efekty teleport
[Statedef 4501]
type    = S
juggle  = 4
poweradd = 0
ctrl = 0
velset = 0,0
anim = 4501
sprpriority = 2

[State 0, Explod]
type = Explod
ownpal = 1
triggerall = numexplod(80000) < 20
triggerall = time < 10
trigger1 = timemod = 4,1
trigger2 = timemod = 12,1
anim = 80000
ID = 80000
pos = (random%27-13)*1,-25-(random%27-13)*0.8
random = 30,60
vel = -0.2,-1
accel = 0,0.03
postype = p1
bindtime = 1
removetime = 55
supermovetime = 9999
pausemovetime = 9999
scale = 0.15,0.15
sprpriority = 4
ownpal = 1
ontop = 0

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 0
anim = 4504
ID = 4504
pos = 0,-30
postype = p1  ;p2,front,back,left,right
scale = 0.15,0.15
sprpriority = 4
removetime = 24
supermovetime = 9999
pausemovetime = 9999
ontop = 0
ownpal = 1
bindtime = 1

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 0
anim = 4502
ID = 4502
pos = 0,-30
postype = p1  ;p2,front,back,left,right
scale = 0.15,0.15
sprpriority = 4
removetime = 15
supermovetime = 9999
pausemovetime = 9999
ontop = 0
ownpal = 1
bindtime = 1

[State 20000, 4]
type = Destroyself
trigger1 = time > 10 && numexplod(80000) = 0


;-----------------------------
[StateDef 450001]
type = S
movetype= A
physics = S
juggle  = 1
velset = -5,0
ctrl = 0
anim = 4501
poweradd = 0
sprpriority = 2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 15
value = S6,11

;piora
[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time > 5 && timemod = 4,0
anim = 80000
ID = 80000
pos = (random%27-13)*1,-25-(random%27-13)*0.8
random = 30,60
vel = -0.2,-1
accel = 0,0.03
postype = p1
bindtime = 1
removetime = 95
supermovetime = 9999
pausemovetime = 9999
scale = 0.12,0.12
sprpriority = 3
ownpal = 1
ontop = 0

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time > 5 && timemod = 4,0
anim = 80000
ID = 80000
pos = (random%27-13)*1,-25-(random%27-13)*0.8
random = 30,60
vel = 0.2,-1
accel = 0,0.03
postype = p1
bindtime = 1
removetime = 95
supermovetime = 9999
pausemovetime = 9999
scale = 0.12,0.12
sprpriority = 3
ownpal = 1
ontop = 0

;kruki
[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 31
trigger2 = time = 33
trigger3 = time = 35
anim = 80004
ID = 80004
pos = 25+(random%27-13)*2,5
random = 30,60
vel = -2.3,-1
postype = p1
bindtime = 1
removetime = 87
supermovetime = 9999
pausemovetime = 9999
scale = 0.5,0.5
sprpriority = 3
ownpal = 1
ontop = 0

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 31
trigger2 = time = 33
trigger3 = time = 35
anim = 80003
ID = 80003
pos = -5-(random%27-13)*2,5
random = 30,60
vel = 2.3,-1
postype = p1
bindtime = 1
removetime = 87
supermovetime = 9999
pausemovetime = 9999
scale = 0.7,0.7
sprpriority = 3
ownpal = 1
ontop = 0


[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
value = F21,2
volume = 255
channel = 9

[State 0, End]
type = destroyself
trigger1 = animtime = 0
;-----------------------------
[StateDef 4505]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 4500
poweradd = -100
sprpriority = 0



;piora
[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time > 5 && timemod = 4,0
anim = 80000
ID = 80000
pos = (random%27-13)*1,-25-(random%27-13)*0.8
random = 30,60
vel = -0.2,-1
accel = 0,0.03
postype = p1
bindtime = 1
removetime = 95
supermovetime = 9999
pausemovetime = 9999
scale = 0.12,0.12
sprpriority = 3
ownpal = 1
ontop = 0

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time > 5 && timemod = 4,0
anim = 80000
ID = 80000
pos = (random%27-13)*1,-25-(random%27-13)*0.8
random = 30,60
vel = 0.2,-1
accel = 0,0.03
postype = p1
bindtime = 1
removetime = 95
supermovetime = 9999
pausemovetime = 9999
scale = 0.12,0.12
sprpriority = 3
ownpal = 1
ontop = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 16
value = S2,24
volume = 255
channel = 2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 3
value = S6,11

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
value = S2,24
volume = 255
channel = 1

[State 0, ScreenBound]
type = ScreenBound
trigger1 = 1
value = 0

[State 0, PosAdd]
type = PosAdd
triggerall = time = 1
trigger1 = command != "holdfwd" && command != "holdback" && command != "holdup"
trigger2 = command = "holdfwd" && command = "holdback"
x = p2bodydist x +70

[State 0, PosAdd]
type = PosAdd
trigger1 = time = 1
triggerall = command = "holdfwd"
x = 150

[State 0, PosAdd]
type = PosAdd
trigger1 = time = 1
triggerall = command = "holdback"
x = -150

[State 0, PosAdd]
type = PosAdd
trigger1 = time = 1
triggerall = command = "holdup"
y = -100


[State 0, Turn]
type = Turn
trigger1 = time = 2
triggerall = p2bodydist x < -20

[State 0, PosSet]
type = PosSet
trigger1 = time = 2
y = 0
;ignorehitpause =
;persistent =


[State 0, Helper]
type = Helper
trigger1 = time = 0
helpertype = normal ;player
name = "kawarimi"
ID = 4506
stateno = 4506
pos = 0,0
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1
ontop = 0
supermove = 9999
pausemove = 9999

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 6
value = F21,2
volume = 255
channel = 9

[State 0, End]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;-----------------
[StateDef 4506]
type = S
movetype= A
physics = S
juggle  = 1
velset = 5,0
ctrl = 0
anim = 4506
poweradd = -500
sprpriority = 2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 5
value = F15,2

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 5
anim = F1340
ID = 1340
pos = 0,-20
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
supermovetime = 9999
pausemovetime = 9999
scale = 2,2
sprpriority = 5
ontop = 0
ownpal = 1

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 5
anim = F1190
ID = 1190
pos = 0,0
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
supermovetime = 9999
pausemovetime = 9999
scale = 2.3,2.3
sprpriority = 6
ontop = 0
ownpal = 1


[State 0, ChangeAnim]
type = ChangeAnim
trigger1 = anim != 4507 && pos y < 0
value = 4507


[State 0, AngleDraw]
type = AngleDraw
trigger1 = time > 5
scale = 1.5,1.5

[State 0, Trans]
type = Trans
trigger1 = time > 5
trans = add

[State 0, PosAdd]
type = PosAdd
trigger1 = time = 5
x = 10
y = -10

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 5 && pos y > -10
anim = F1090
ID = 1090
pos = -20,0
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
supermovetime = 9999
pausemovetime = 9999
scale = 1,1
sprpriority = 4
ontop = 0
ownpal = 1

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 5 && pos y > -10
anim = F1090
ID = 1090
pos = 20,0
postype = p1  ;p2,front,back,left,right
facing = -1
vfacing = 1
bindtime = 1
removetime = -2
supermovetime = 9999
pausemovetime = 9999
scale = 1,1
sprpriority = 4
ontop = 0
ownpal = 1

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 5 && pos y > -10
anim = F1060
ID = 1060
pos = 0,0
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
supermovetime = 9999
pausemovetime = 9999
scale = 2,2
sprpriority = 3
ontop = 0
ownpal = 1

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 5 && pos y > -10
anim = F1080
ID = 1080
pos = 0,0
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
supermovetime = 9999
pausemovetime = 9999
scale = 2,2
sprpriority = -1
ontop = 0
ownpal = 1

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 5 && pos y > -10
anim = F570
ID = 570
pos = 0,0
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
vel = 2,-1
bindtime = 1
removetime = -2
supermovetime = 9999
pausemovetime = 9999
scale = 2,2
sprpriority = 1
ontop = 0
ownpal = 1

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 5 && pos y > -10
anim = F570
ID = 570
pos = 0,0
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
vel = -2,-1
bindtime = 1
removetime = -2
supermovetime = 9999
pausemovetime = 9999
scale = 2,2
sprpriority = 1
ontop = 0
ownpal = 1

;efekt tsukyomi ultimate
[State 0, PalFX]
type = PalFX
trigger1 = parent, var(15) = 1
triggerall = time < 25
time = 1
add = 0,0,0
sinadd = -256,-256,-256, 60
invertall = 0
color = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = S1,12

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = S1,12

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = S1,12

[State 0, ChangeAnim]
type = ChangeAnim
trigger1 = time = 0 && pos y < 0
value = 8421

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 =  1
flag = noshadow

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = F9
channel = 9

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 0
anim = 80002
ID = 80002
pos = 8,0
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
supermovetime = 9999
pausemovetime = 9999
scale = 0.8,0.8
sprpriority = 3
ontop = 0
ownpal = 1

[State 0, EnvShake]
type = EnvShake
trigger1 = time = 0
time = 5
freq = 60
ampl = -4
phase = 60

[State 0, EnvShake]
type = EnvShake
trigger1 = time = 25
time = 10
freq = 100
ampl = -8
phase = 100


[State 0, HitDef]
type = HitDef
givepower = 0
getpower = 0
fall.yvelocity = -6
trigger1 = timemod = 5,0
attr = S, NA
damage = 100,20
getpower = 0
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 0, 0
sparkno = 710
sparkxy = -15, -35
hitsound = S1, 2
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -7,-7
airguard.velocity = -7,-7
air.type = High
air.velocity = -7,-7
air.hittime = 12
fall = 1
palfx.time = 30
palfx.add = 240,50,0
palfx.mul = 250,224,120
palfx.sinadd = 110,55,85,10

[State 0, End]
type = destroyself
trigger1 = animtime = 0
;-----------------
[StateDef 4510]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 4510
poweradd = -1000
sprpriority = 0

[State 0, ScreenBound]
type = ScreenBound
trigger1 = 1
value = 0

[State 0, PosSet]
type = PosSet
trigger1 = time = 1
x = -300
y = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
value = S2,19
volume = 255
channel = 2

[State 0, Helper]
type = Helper
trigger1 = time = 0
helpertype = player
name = "bunshin"
ID = 20000
stateno = 20000
pos = 0,0
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1
size.xscale = 1
size.yscale = 1

[State 0, End]
type = ChangeState
trigger1 = time = 200
trigger2 = time > 100 && numhelper(20000) = 0
trigger3 = time > 100 && command = "holdfwd"
value = 104
ctrl = 1
;----------------
[Statedef 9999]
type = S
movetype = I
physics = S
velset = 0,0
sprpriority = 40
anim = 9999
ctrl = 0

[State 0, SprPriority]
type = SprPriority
trigger1 = 1
value = 40

[State 0, Trans]
type = Trans
trigger1 = time < 8
trans = addalpha
alpha = time*32,256-time*32

[State 0, Trans]
type = Trans
trigger1 = time >= 8
trans = addalpha
alpha = 256-(time-8)*32,(time-8)*32

[State 0, DestroySelf]
type = DestroySelf
trigger1 = time = 16

;--------------
;Stan postaci
[StateDef 70649]
type = S
movetype = A
physics = S
juggle = 0
poweradd = 0
anim = 70653
ctrl = 0

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 5
triggerall = var(8) = 1
anim = 70653
ownpal = 1
pos = 5,0
scale = 1.1,1.1
vel = 2,0
accel = -0.1,0
postype = p1
facing = 1
bindtime = 1
removetime = -2
sprpriority = 3
trans = add

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
value = S2,29
volume = 255
channel = 2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
trigger2 = animelem = 5
trigger3 = animelem = 8
trigger4 = animelem = 11
value = F21,6
volume = 255
channel = 8

[State 0, PlaySnd]
type = PlaySnd
trigger1 = anim = 70654
trigger1 = animelem = 1
value = S2,19
volume = 255
channel = 2

[State 0, Turn]
type = Turn
trigger1 =p2bodydist x < 0

[State 0, VarAdd]
type = VarAdd
trigger1 = animelem = 2
trigger2 = animelem = 5
trigger3 = animelem = 8
trigger4 = animelem = 11
triggerall = var(23) <= 19
v = 23
value = 1

[State 1640, X]
Type=VarSet
Trigger1=1
fvar(13)=(EnemyNear(0),Pos X-Pos X)*Facing

[State 1640, Y]
Type=VarSet
trigger1=1
fvar(14)=(EnemyNear(0),pos Y-Pos Y)-40+random%80

[State 1640, Vector Length]
Type=VarSet
trigger1=1
fvar(15)=Exp(0.5*ln((fvar(13)*fvar(13))+(fvar(14)*fvar(14))))

[State 0, Helper]
type = Helper
trigger1 = animelem = 2
trigger2 = animelem = 5
trigger3 = animelem = 8
trigger4 = animelem = 11
triggerall = var(23) <= 19
helpertype = normal;player
name = "shuriken"
ID = 70710
stateno = 70710
pos = 10+random%10,-30-random%10
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1

[State 310, end]
type = ChangeState
trigger1 = var(23) > 19
trigger2 = command = "holdback"
trigger3 = win
trigger4 = lose
trigger5 = life = 0
trigger6 = p2life = 0
trigger7 = drawgame
trigger8 = !ALive
value = 0
ctrl = 1
;--------------
;Stan postaci
[StateDef 70650]
type = S
movetype = A
physics = S
juggle = 0
poweradd = 0
anim = 70650
ctrl = 0

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 5
triggerall = var(8) = 1
anim = 70650
ownpal = 1
pos = 5,0
scale = 1.1,1.1
vel = 1,-1
accel = -0.05,0.05
postype = p1
facing = 1
bindtime = 1
removetime = -2
sprpriority = 3
trans = add

[State 0, VarAdd]
type = VarAdd
trigger1 = animelem = 2
v = 20
value = 1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F21,4
volume = 255
channel = 8

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = S4,2+random%10
volume = 255
channel = 4

[State 0, Helper]
type = Helper
trigger1 = animelem = 2
helpertype = normal;player
name = "kunai"
ID = 70700
stateno = 70700
pos = 15,-35
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1

[State 310, end]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;--------------
;Stan postaci
[StateDef 70651]
type = A
movetype = A
physics = A
juggle = 0
poweradd = 0
anim = 70651
ctrl = 0

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 5
triggerall = var(8) = 1
anim = 70651
ownpal = 1
pos = 5,0
scale = 1.1,1.1
vel = 1,0
accel = -0.05,0
postype = p1
facing = 1
bindtime = 1
removetime = -2
sprpriority = 3
trans = add

[State 0, VarAdd]
type = VarAdd
trigger1 = animelem = 2
v = 20
value = 1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F21,4
volume = 255
channel = 8

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = S4,2+random%10
volume = 255
channel = 4

[State 0, Helper]
type = Helper
trigger1 = animelem = 2
helpertype = normal;player
name = "kunai"
ID = 70701
stateno = 70701
pos = 22,-14
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1

[State 310, end]
type = ChangeState
trigger1 = AnimTime = 0
value = 50
ctrl = 1
;--------------
;Stan postaci
[StateDef 70652]
type = S
movetype = A
physics = S
juggle = 0
poweradd = 0
anim = 70652
ctrl = 0

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 5
triggerall = var(8) = 1
anim = 70652
ownpal = 1
pos = 5,0
scale = 1.1,1.1
vel = 1,0
accel = -0.05,0
postype = p1
facing = 1
bindtime = 1
removetime = -2
sprpriority = 3
trans = add

[State 0, VarAdd]
type = VarAdd
trigger1 = time = 3 && var(23) <= 19
trigger2 = time = 4 && var(23) <= 19
trigger3 = time = 5 && var(23) <= 19
v = 23
value = 1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F21,4
volume = 255
channel = 8

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = S4,2+random%10
volume = 255
channel = 4

[State 1640, X]
Type=VarSet
Trigger1=1
fvar(13)=(EnemyNear(0),Pos X-Pos X)*Facing

[State 1640, Y]
Type=VarSet
trigger1=1
fvar(14)=(EnemyNear(0),pos Y-Pos Y)

[State 1640, Vector Length]
Type=VarSet
trigger1=1
fvar(15)=Exp(0.5*ln((fvar(13)*fvar(13))+(fvar(14)*fvar(14))))

[State 0, Helper]
type = Helper
trigger1 = time = 3
triggerall = var(23) <= 19
helpertype = normal;player
name = "shuriken"
ID = 70710
stateno = 70710
pos = 15,-35
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1

[State 0, Helper]
type = Helper
trigger1 = time = 4
triggerall = var(23) <= 19
helpertype = normal;player
name = "shuriken"
ID = 70710
stateno = 70710
pos = 15,-35
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1

[State 0, Helper]
type = Helper
trigger1 = time = 5
triggerall = var(23) <= 19
helpertype = normal;player
name = "shuriken"
ID = 70710
stateno = 70710
pos = 15,-45
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1

;COMBO ABLE
[State 0, CtrlSet]
type = CtrlSet
trigger1 = time = 5 
value = 1

[State 310, end]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;--------------
;Stan postaci
[StateDef 70654]
type = S
movetype = A
physics = S
juggle = 0
poweradd = -200
anim = 70654
ctrl = 0

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 5
triggerall = var(8) = 1
anim = 70654
ownpal = 1
pos = 5,0
scale = 1.1,1.1
vel = 2,0
accel = -0.1,0
postype = p1
facing = 1
bindtime = 1
removetime = -2
sprpriority = 3
trans = add

;piora
[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time > 5 && timemod = 10,0
trigger1 = anim = 70654
anim = 80000
ID = 80000
pos = (random%27-13)*1,-25-(random%27-13)*0.8
random = 30,60
vel = -0.2,-1
accel = 0,0.03
postype = p1
bindtime = 1
removetime = 95
supermovetime = 9999
pausemovetime = 9999
scale = 0.12,0.12
sprpriority = 3
ownpal = 1
ontop = 0

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time > 5 && timemod = 12,0
trigger1 = anim = 70654
anim = 80000
ID = 80000
pos = (random%27-13)*1,-25-(random%27-13)*0.8
random = 30,60
vel = 0.2,-1
accel = 0,0.03
postype = p1
bindtime = 1
removetime = 95
supermovetime = 9999
pausemovetime = 9999
scale = 0.12,0.12
sprpriority = 3
ownpal = 1
ontop = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
value = S2,29
volume = 255
channel = 2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
trigger1 = anim = 70653
value = F8,0
volume = 255
channel = 8

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 5
trigger1 = anim = 70653
value = F8,1
volume = 255
channel = 8

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 8
trigger1 = anim = 70653
value = F8,2
volume = 255
channel = 8

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 11
trigger1 = anim = 70653
value = F8,3
volume = 255
channel = 8

[State 0, PlaySnd]
type = PlaySnd
trigger1 = anim = 70654
trigger1 = animelem = 1
value = S2,19
volume = 255
channel = 2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = timemod = 20,0
value = S6,11


[State 0, Turn]
type = Turn
trigger1 =p2bodydist x < 0

[State 1640, X]
Type=VarSet
Trigger1=1
fvar(13)=(EnemyNear(0),Pos X-Pos X)*Facing

[State 1640, Y]
Type=VarSet
trigger1=1
fvar(14)=(EnemyNear(0),pos Y-Pos Y)-40+random%80

[State 1640, Vector Length]
Type=VarSet
trigger1=1
fvar(15)=Exp(0.5*ln((fvar(13)*fvar(13))+(fvar(14)*fvar(14))))

[State 0, Helper]
type = Helper
trigger1 = timemod = 5,0
triggerall = power > 50
helpertype = normal;player
name = "kruki shuriken"
ID = 856
stateno = 856
pos = 15-(random%27-13)*2,-35+(random%27-13)*2
postype = p1    ;p2,front,back,left,right
size.xscale = 0.5
size.yscale = 0.5
facing = 1
keyctrl = 0
ownpal = 1

[State 310, end]
type = ChangeState
trigger1 = power < 100
trigger2 = command = "holddown"
trigger3 = win
trigger4 = lose
trigger5 = life = 0
trigger6 = p2life = 0
trigger7 = drawgame
trigger8 = !ALive
trigger9 = time >= 100
value = 0
ctrl = 1
;--------------
;Stan postaci
[StateDef 70656]
type = S
movetype = A
physics = S
juggle = 0
poweradd = 0
anim = 70650
ctrl = 0


[State 0, VarAdd]
type = VarAdd
trigger1 = animelem = 2
v = 21
value = 1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F21,4
volume = 255
channel = 8

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = S4,2+random%10
volume = 255
channel = 4

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 5
triggerall = var(8) = 1
anim = 70650
ownpal = 1
pos = 5,0
scale = 1.1,1.1
vel = 1,-1
accel = -0.05,0.05
postype = p1
facing = 1
bindtime = 1
removetime = -2
sprpriority = 3
trans = add

[State 0, Helper]
type = Helper
trigger1 = animelem = 2
helpertype = normal;player
name = "kunai"
ID = 70730
stateno = 70730
pos = 15,-35
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1

[State 310, end]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;--------------
;Stan postaci
[StateDef 70657]
type = A
movetype = A
physics = A
juggle = 0
poweradd = 0
anim = 70651
ctrl = 0


[State 0, VarAdd]
type = VarAdd
trigger1 = animelem = 2
v = 21
value = 1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F21,4
volume = 255
channel = 8

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = S4,2+random%10
volume = 255
channel = 4

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 5
triggerall = var(8) = 1
anim = 70651
ownpal = 1
pos = 5,0
scale = 1.1,1.1
vel = 1,-1
accel = -0.05,0.05
postype = p1
facing = 1
bindtime = 1
removetime = -2
sprpriority = 3
trans = add

[State 0, Helper]
type = Helper
trigger1 = animelem = 2
helpertype = normal;player
name = "kunai"
ID = 70731
stateno = 70731
pos = 22,-14
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1

[State 310, end]
type = ChangeState
trigger1 = AnimTime = 0
value = 50
ctrl = 1
;---------------------------------------------------------------------------
;Kagemane: Nadanie Vara
[Statedef 104099]
type = S
physics = S
sprpriority = 0

[State 0, VarSet]
type = VarSet
trigger1 = 1
v = 46  
value = 1

[State 0, 1]
type = ChangeAnim
trigger1 = Anim != 5000+var(0)*10000
value = 5000+var(0)*10000

;ANTI CLONE - CLONE DESTROY -----
[State 0, VarSet]
type = VarSet
trigger1 = !ishelper
v = 39
value = 1

[State 0, DestroySelf]
type = DestroySelf
trigger1 = var(39) = 0
triggerall = !ishelper(20000)

[State 0, ChangeState]
type = ChangeState
triggerall = time = 5
trigger1 = !ishelper
trigger2 = ishelper(20000)
value = 104000
;---------------
[Statedef 109990]
type = A
movetype= H
physics = N
velset = 0,0
anim = 5030

[State 0, VarSet]
type = VarSet
trigger1 = !ishelper
v = 39
value = 1

[State 0, ChangeState]
type = ChangeState
trigger1 = ishelper(624)
trigger2 = ishelper(2200)
value = 130

[State 0, ScreenBound]
type = ScreenBound
trigger1 = 1 
value = 0

[State 0, 1]
type = ChangeAnim
trigger1 = var(0) != 0
trigger1 = Anim = 5030
value = 5030+var(0)*10000

[State 210, 2]
type = AfterImage
trigger1 = (!time)
time = 14
length = 15
palcontrast = 160,150,150
paladd = 5,0,0
palmul = 1,1,1
trans = add1

[State 1025, State]
type = ChangeState
trigger1 = HitShakeOver = 1
value = 109991


;---------------------------------------------------------------------------
[Statedef 109991]
type = A
movetype= H
physics = N
anim = 5000

[State 0, VarSet]
type = VarSet
trigger1 = !ishelper
v = 39
value = 1

[State 0, ChangeState]
type = ChangeState
trigger1 = ishelper(624)
trigger2 = ishelper(2200)
value = 130

[State 0, ScreenBound]
type = ScreenBound
trigger1 = 1 
value = 0

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 0
trigger2 = timemod = 6,0
anim = F1391
ID = 380
pos = -20,-25
postype = p1  ;p2,front,back,left,right
facing = -1
vfacing = 1
bindtime = 1
removetime = -2
scale = 0.7,0.7
sprpriority = 3
ontop = 0
angle = atan(vel y/vel x)*180/PI -30

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = F8,9

[State 1027, Sound]
type = PlaySnd
trigger1 = Time = 0
value = F14,6

[State 0, 1]
type = ChangeAnim
trigger1 = var(0) != 0
trigger1 = Anim = 5000
value = 5000+var(0)*10000

[State 210, 2]
type = AfterImage
trigger1 = (!time)
time = 14
length = 15
palcontrast = 160,150,150
paladd = 5,0,0
palmul = 1,1,1
trans = add1

[State 1026, Velocity]
type = HitVelSet
trigger1 = Time = 0
x = 1
y = 1

[State 1026, Gravity]
type = VelAdd
trigger1 = 1
y = .45

[State 1026, Hit wall]
type = ChangeState
triggerall = Pos y < -15
trigger1 = BackEdgeBodyDist <= 10
trigger2 = FrontEdgeBodyDist <= 10
value = 109992

[State 1026, Hit ground]
type = SelfState
trigger1 = (Vel y > 0) && (Pos y >= 0)
value = 5100
;---------------------------------------------------------------------------
[Statedef 109992]
type = A
movetype= H
physics = N
anim = 5030

[State 0, VarSet]
type = VarSet
trigger1 = !ishelper
v = 39
value = 1

[State 0, ChangeState]
type = ChangeState
trigger1 = ishelper(624)
trigger2 = ishelper(2200)
value = 130

[State 0, ScreenBound]
type = ScreenBound
trigger1 = 1 
value = 0

[State 0, 1]
type = ChangeAnim
trigger1 = var(0) != 0
trigger1 = Anim = 5030
value = 5030+var(0)*10000

[State 210, 2]
type = AfterImage
trigger1 = (!time)
time = 14
length = 15
palcontrast = 160,150,150
paladd = 5,0,0
palmul = 1,1,1
trans = add1

[State 1027, Stop moving]
type = PosFreeze
trigger1 = 1
x = 1
y = 1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time= 1
value = F7,1

[State 1027, Sound]
type = PlaySnd
trigger1 = Time = 1
value = F7,0

[State 1027, Sound]
type = PlaySnd
trigger1 = Time = 1
value = F7,2

[State 1027, Sound]
type = PlaySnd
trigger1 = Time = 1
value = F15,2

[State 1027, Sound]
type = PlaySnd
trigger1 = Time = 1
value = F15,4

[State 0, Turn]
type = Turn
trigger1 = frontedgedist<backedgedist
trigger1 = time = 0

[State 1027, Spark]
type = Explod
ownpal = 1
trigger1 = Time = 1
anim = F1190
pos = -15,-25
postype = p1
facing = 1
scale = 1,1
sprpriority = 4
angle = 90

[State 1027, Spark]
type = Explod
ownpal = 1
trigger1 = Time = 1
anim = F1080
pos = -15,-25
postype = p1
facing = 1
sprpriority = -1
angle = 270
scale = 0.7,0.7

[State 1027, Spark]
type = Explod
ownpal = 1
trigger1 = Time = 1
anim = F1200
pos = -15,-25
postype = p1
facing = -1
sprpriority = -1
scale = 1.1,1.1

[State 1027, State]
type = ChangeState
trigger1 = AnimTime = 0
value = 109993

;---------------------------------------------------------------------------
[Statedef 109993]
type = A
movetype= H
physics = N
anim = 5060

[State 0, VarSet]
type = VarSet
trigger1 = !ishelper
v = 39
value = 1

[State 0, ChangeState]
type = ChangeState
trigger1 = ishelper(624)
trigger2 = ishelper(2200)
value = 130

[State 0, AngleDraw]
Type = AngleDraw
Trigger1 = 1
Value = -((ATan(vel y/vel x))*(180.0/PI))

[State 0, ScreenBound]
type = ScreenBound
trigger1 = 1 
value = 0

[State 0, 1]
type = ChangeAnim
trigger1 = var(0) != 0
trigger1 = Anim = 5060
value = 5060+var(0)*10000


[State 210, 2]
type = AfterImage
trigger1 = (!time)
time = 14
length = 15
palcontrast = 160,150,150
paladd = 5,0,0
palmul = 1,1,1
trans = add1

[State 1028, Vel Y]
type = VelSet
trigger1 = Time = 0
y = -6

[State 1028, Vel X]
type = VelSet
trigger1 = Time = 0
x = 1.6

[State 1028, Turn]
type = Turn
trigger1 = (Time = 0) && (BackEdgeDist < 30)

[State 1028, Gravity]
type = VelAdd
trigger1 = 1
y = .35

[State 1028, Anim 5050]
type = ChangeAnim
trigger1 = Time = 0
trigger1 = !SelfAnimExist(5052)
value = 5050

[State 1028, Anim 5050]
type = ChangeAnim
trigger1 = Time = 0
trigger1 = !SelfAnimExist(5052)
trigger1 = var(0) != 0
value = 5050+var(0)*10000

[State 1028, Anim 5052]
type = ChangeAnim
trigger1 = Time = 0
trigger1 = SelfAnimExist(5052)
value = 5052

[State 1028, Anim 5052]
type = ChangeAnim
trigger1 = Time = 0
trigger1 = SelfAnimExist(5052)
trigger1 = var(0) != 0
value = 5052+var(0)*10000

[State 1028, Anim 5060]
type = ChangeAnim
trigger1 = Vel Y > -2
trigger1 = Anim = 5050
trigger1 = SelfAnimExist(5060)
persistent = 0
value = 5060

[State 1028, Anim 5060]
type = ChangeAnim
trigger1 = Vel Y > -2
trigger1 = Anim = 5050
trigger1 = SelfAnimExist(5060)
persistent = 0
trigger1 = var(0) != 0
value = 5060+var(0)*10000

[State 1028, Anim 5062]
type = ChangeAnim
trigger1 = Vel Y > -2
trigger1 = Anim = 5052
trigger1 = SelfAnimExist(5062)
persistent = 0
value = 5062

[State 1028, Anim 5062]
type = ChangeAnim
trigger1 = Vel Y > -2
trigger1 = Anim = 5052
trigger1 = SelfAnimExist(5062)
persistent = 0
trigger1 = var(0) != 0
value = 5062+var(0)*10000

[State 1028, Hit ground]
type = SelfState
trigger1 = (Vel y > 0) && (Pos y >= 0)
value = 5100
;---------------------------------------------------------------------------
[Statedef 109994 ]
type    = A
movetype= H
physics = N
anim = 100022

[State 0, VarSet]
type = VarSet
trigger1 = !ishelper
v = 39
value = 1

[State 0, ChangeState]
type = ChangeState
trigger1 = ishelper(624)
trigger2 = ishelper(2200)
value = 130

[State 0, ScreenBound]
type = ScreenBound
trigger1 = 1 
value = 0

[State 0, ChangeAnim]
type = ChangeAnim
trigger1 = time = 0
trigger1 = var(0) != 0
value = 100022 + var(0)*10000

[State 0, AngleDraw]
Type = AngleDraw
Trigger1 = 1
value = time*20

[State 212, Velocity]
type = HitVelSet
trigger1 = Time = 1
x = 1
y = -1

[State 212, Gravity]
type = VelAdd
trigger1 = time > 1 && 1
y = .3

[State 0, PosAdd]
type = PosAdd
trigger1 = time = 0
y = -20

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 0
trigger2 = timemod = 6,0
anim = F1391
ID = 380
pos = -20,-25
postype = p1  ;p2,front,back,left,right
facing = -1
vfacing = 1
bindtime = 1
removetime = -2
scale = 0.7,0.7
sprpriority = 3
ontop = 0
angle = atan(vel y/vel x)*180/PI -30

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = F8,9

[State 1027, Sound]
type = PlaySnd
trigger1 = Time = 0
value = F14,6

[State 1026, Hit wall]
type = ChangeState
triggerall = Pos y < -15
trigger1 = BackEdgeBodyDist <= 10
trigger2 = FrontEdgeBodyDist <= 10
value = 109992

[State 212, Hit ground]
type = SelfState
trigger1 = (Vel y > 0) && (Pos y >= 0)
value = 5050



;---------------------- Integer variable list ----------------------

; var(0):= 20000
; var(1):= 511, 1000, 1005, 1010, 1015, -3, 20000
; var(2):= 511, 2095, 3001, 602, 622, 651
; var(3):= 22221, 22223
; var(4):= -2, 22223
; var(6):= 500, 515, 2060
; var(7):= 859, 1126, 3001, 3002, 600, 620, 640, 649
; var(8):= 8231, 838, 859, 886, 8861, 887, 1126
; var(9):= 886, 8861, -2
;var(10):= 8231, 838, 853, 8531, 859, 1126, 1406, 1625, 130, 77000, 78000, 77003
;var(11):= 886, 8861, 887, -2
;var(12):= 846, 70500
;var(13):= 5021, 8451
;var(14):= 501, 502, 2060, 2061, 77000, 78000, 77001, 78001, 77003
;var(15):= 650, 668
;var(16):= 665
;var(17):= 1400, 665
;var(18):= 1625, 1626, 2090, 2095, 2100, 2190, 2195, 2196, -2
;var(19):= 887, -2
;var(20):= 70650, 70651, 5900, 270650, 270651, 104097, 104098
;var(21):= 70656, 70657, 5900
;var(22):= 5900
;var(23):= 1120, 70649, 70652, 5900
;var(24):= 60
;var(30):= -2, 5900, 106000
;var(32):= 232
;var(35):= 5900, 106025, 106026, 106027, 106028
;var(36):= -2
;var(39):= 104099, 109990, 109991, 109992, 109993, 109994, -2, 0, 5000, 5001, 5010, 5011, 5020, 5030, 5035, 5040, 5050, 5070, 5071, 5080, 5081, 5100, 5101, 5110
;var(40):= -2, 105251, 105252, 105253, 105254
;var(45):= 1410
;var(46):= 104099, -2, 104000, 104001
;var(48):= -3, -1
;var(49):= -3, -1
;var(50):= 104999, -2, -1
;var(51):= -2, 5900, 70300, 109910, 109911, 109912, 109913, 109914, 109915
;var(52):= -2, 70300, 109920, 109921, 109922, 109923, 109924, 109925
;var(53):= -2, 70300, 109930, 109931, 109932, 109933, 109934, 109935
;var(54):= -2, 70300, 109940, 109941, 109942, 109943, 109944, 109945
;var(55):= -2, 70300, 109950, 109951, 109952, 109953, 109954, 109955
;var(56):= -2, 70300, 109960, 109961, 109962, 109963, 109964, 109965
;var(57):= -2, 70300, 109970, 109971, 109972, 109973, 109974, 109975

;---------------------- Float variable list ----------------------

; fvar(2):= 5900
;fvar(10):= 1300, 2150, 77000, 78000
;fvar(11):= 2151, 77000, 78000
;fvar(12):= 77003
;fvar(13):= 855, 1132, 2140, 2151, 70649, 70652, 70654, 60
;fvar(14):= 855, 1132, 2140, 2151, 70649, 70652, 70654, 60
;fvar(15):= 855, 1132, 2140, 2151, 70649, 70652, 70654, 60





;---------------------------------------------------------------------------
; States that are always executed (use statedef -2)
;---------------------------------------------------------------------------
;vary
;1 - sharingan
;2 - naliczanie genjutsu
;3 - chakra klona
;4 - zycie klona
;5 - kierunek skoku klona
;6 - dmg - amaterasu
;7 - pozycja x (tsukyomi)
;8 - genjutsu mode
;9 - genjutsu mode
;10 - var random - katony, kruki
;11 - var random x - katon housenka air
;12 - naliczanie czasu goukakyu hold
;13 - OFF ----- licznik czasu amaterasu controlled
;14 - amaterasu controlled palfx
;15 - Tsukyomi Mode
;16 - pozycja chmur y
;17 - mozliwosc uzycia KotoAmatsukami (Jesli 1 - nie mozna)
;18 - Susanoo Bones
;19 - Genjutsu
;24 - shuriken kruki
;---------------------------------------------------------------------------
; States that are executed when in self's state file (use statedef -3)
;---------------------------------------------------------------------------
[Statedef -2]

;Susanoo

[State 0, VarSet]
type = VarSet
trigger1 = var(18) = 1 && numhelper(625) = 1 && helper(625), time > 50 && var(50) = 0 && command = "hold_y" && (command = "hold_c" || command = "hold_z")
trigger2 = power = 0
trigger3 = var(18) = 1 && numhelper(625) = 1 && helper(625), time > 50 && var(50) = 1 && random = [0,100-var(49)*(var(49))/100]
trigger4 = win
trigger5 = lose
trigger6 = drawgame
trigger7 = life = 0
trigger8 = !ALive 
trigger9 = var(1) < 2
trigger10 = var(18) = 1 && numhelper(625) = 0
;trigger10 = numhelper(295) = 1 && helper(295), stateno = 2952
triggerall = var(18) = 1
triggerall = stateno != [1630,1660]
triggerall = numhelper(1630) = 0
triggerall = numhelper(1640) = 0
triggerall = numhelper(1650) = 0
triggerall = numhelper(1660) = 0
v = 18
value = 0

[State 0, NotHitBy]
type = NotHitBy
trigger1 = var(18) != 0
;trigger2 = var(18) = 1
value = SCA,NA,SA,HA,NP,SP,HP,ST,HT
time = 2

[State 150, 1]
type = ChangeState
trigger1 = ishelper(624) && stateno != 130
trigger2 = ishelper(2200) && stateno != 130
;trigger3 = ishelper(660) && stateno != 130
value = 130

[State 150, 1]
type = destroyself
trigger1 = ishelper(624) && stateno != 130
trigger2 = ishelper(2200) && stateno != 130
;trigger3 = ishelper(660) && stateno != 130

;----------------

[State 0, PlaySnd]
type = PlaySnd
trigger1 = random = 999
triggerall = Alive
triggerall = life > 0
triggerall = !matchover
triggerall = !win
triggerall = !lose
triggerall = !drawgame
triggerall = stateno != [170,199]
triggerall = stateno != [5000,5300]
triggerall = stateno != [100000,109999]
value = S7,0+random%12
volume = 256
channel = 2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = random = 998
triggerall = Alive
triggerall = life > 0
triggerall = !matchover
triggerall = !win
triggerall = !lose
triggerall = !drawgame
triggerall = stateno != [170,199]
triggerall = stateno != [5000,5300]
triggerall = stateno != [100000,109999]
value = S7,24+random%31
volume = 256
channel = 2

[state 0, Sharingan]
type = RemapPal
trigger1 = var(1) = 0
source = 1,7
dest = 1,10

[state 0, Sharingan]
type = RemapPal
trigger1 = var(1) = 0
source = 1,10
dest = 1,10

[state 0, MSharingan]
type = RemapPal
trigger1 = var(1) = 2
source = 1,10
dest = 1,7

[state 0, MSharingan]
type = RemapPal
trigger1 = var(1) = 2
source = 1,7
dest = 1,7

[state 0, Slepota]
type = RemapPal
trigger1 = var(1) = 3
source = 1,10
dest = 1,11

[state 0, Slepota]
type = RemapPal
trigger1 = var(1) = 3
source = 1,7
dest = 1,11

[State 0, Dla tsukuyomi]
type = ScreenBound
trigger1 = Abs(p2dist x) > 500
trigger1 = var(15) = 1
value = 1
movecamera = 0,1

;SMIERC OSTATECZNA
[State 0, SMIERC OSTATECZNA]
type = ChangeState
triggerall = prevstateno = 5150
triggerall = stateno != 5150
trigger1 = alive = 0
trigger2 = life = 0
value = 5150
ctrl = 0

[State 0, STANIE W POWIETRZU]
type = SelfState
trigger1 = stateno = [0,39]
trigger2 = stateno = 100
triggerall = pos y < 0
value = 50

[State 0, STANIE POD ZIEMIA]
type = PosSet
trigger1 = stateno = [0,39]
trigger2 = stateno = 100
triggerall = pos y > 0
y = 0

[State 0, OGRANICZENIE WYSOKOSCI]
type = PosSet
trigger1 = pos y < -500
y = -500

;----Arena Uchiha-----------

[State 0, PosSet]
type = PosSet
trigger1 = pos y < -300
triggerall = helper(70003), var(10) = 0
triggerall = StageVar(info.name) = "U"
y = -300

;Klony

[State 0, ChangeState]
type = ChangeState
trigger1 = ishelper(20000)
trigger1 = stateno = 0
value = 20000

[State 0, VarSet]
type = VarSet
trigger1 = ishelper(20000)
v = 50
value = 1

[State -2, VarAdd]
type = VarAdd
trigger1 = ishelper(20000)
v = 4
value = gethitvar(damage)

[State 15008, end]
type = changestate
trigger1 = win
trigger2 = lose
trigger3 = root,life = 0
trigger4 = p2life = 0
trigger5 = !root,alive 
trigger6 = var(4) >= 250
triggerall = ishelper(20000)
triggerall = stateno != 22223
triggerall = helper(20000), stateno != 22223
value = 22223
ctrl = 1

;ANTI CLONE - CLONE DESTROY -----
[State 0, VarSet]
type = VarSet
trigger1 = !ishelper
v = 39
value = 1

[State 0, VarAdd]
type = VarAdd
trigger1 = ishelper(20000)
v = 4
value = 0

[State 0, DestroySelf]
type = DestroySelf
triggerall = var(39) = 0
triggerall = !ishelper(20000)
trigger1 = stateno = [0,99]
trigger2 = stateno = [5000,5100]
trigger3 = stateno = [100000,199999]
;--------------------------------

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = stateno != 1300
id = 9998

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = time = 0
id = 80006

[State 0, NotHitBy]
type = NotHitBy
trigger1 = var(15) = 1
value = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
time = 1

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = stateno != 501
id = 50180011

;obrazenia od tsukyomi

[State 0, Obrazenia od Tsukyomi]
type = ChangeState
trigger1 = random = [0,var(2)/5]
trigger1 = pos y = 0 
trigger1 = stateno != [170,799]
trigger1 = stateno != [886,1010]
trigger1 = stateno != [1300,70499]
trigger1 = stateno != [100000,200000]
trigger1 = stateno != 70850
triggerall = var(2) > 0 
value = 699
ctrl = 1

;tsukyomi ultimate

[State 0, SprPriority]
type = SprPriority
trigger1 = var(15) = 1
value = 5

[State 0, DestroySelf]
type = DestroySelf
trigger1 = ishelper(20000) && parent, var(15) = 1

[State 0, ChangeState]
type = ChangeState
triggerall = pos y = 0
trigger1 = var(15) = 0 && numhelper(665) = 1
triggerall = stateno != 651
value = 651
ctrl = 1

[State 0, PalFX]
type = PalFX
trigger1 = var(15) = 1
time = 1
add = 0,0,0
sinadd = -256,-256,-256, 60
invertall = 0
color = 0


; amaterasu usuwanie

[State 0, Trans]
type = Trans
trigger1 =ishelper(500) && root, stateno = 540
trigger2 =ishelper(501) && root, stateno = 540
trigger3 =ishelper(502) && root, stateno = 540
trans = addalpha
alpha = 256-(root, time-60)*9.6,(root, time-60)*9.6

[State 0, DestroySelf]
type = DestroySelf
trigger1 = ishelper(500) && root, stateno = 540 && root, time = 110
trigger2 = ishelper(501) && root, stateno = 540 && root, time = 110
trigger3 = ishelper(502) && root, stateno = 540 && root, time = 110

;amaterasu controlled

[State 0, PalFX]
type = PalFX
triggerall = var(14) = 1
trigger1 = stateno = 501
trigger2 = stateno = 521
trigger3 = stateno = 531
time = 1
add = 0,0,0
sinadd = -256,-256,-256, 60
invertall = 0
color = 0

[State 0, BGPalFX]
type = BGPalFX
triggerall = var(14) = 1
trigger1 = stateno = 501
trigger2 = stateno = 521
trigger3 = stateno = 531
time = 1
add = 0,0,0
sinadd = -256,-256,-256, 60
invertall = 0
color = 0

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = stateno != 500 && stateno != 520 && stateno != 530  && stateno != 600 && stateno != 700 && stateno != 930
id = 502

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = stateno != 500 && stateno != 520 && stateno != 530  && stateno != 600 && stateno != 700 && stateno != 930
id = 501

;Bunshin Daibakuha
[State 20000, 4]
type = ChangeState
trigger1 = parent, stateno = 899
triggerall = ishelper(20000)
triggerall = stateno != 22224
value = 22224

;genjutsu mode
[State -2, VarAdd]
type = VarAdd
trigger1 = var(8) = 1
triggerall = power > 0
v = 9
value = gethitvar(damage)

[State 0, PowerAdd]
type = PowerAdd
trigger1 = var(8) = 1
trigger1 = timemod = 5,0
triggerall = var(15) = 0
triggerall = stateno != [5000,5299]
triggerall = stateno != 70850
triggerall = prevstateno != [190,194]
triggerall = prevstateno != 5900
value = -3

[State -2, VarAdd]
type = VarAdd
trigger1 = var(11) > 0
trigger1 = var(8) = 1
v = 11
value = -1

[State -2, VarAdd]
type = VarAdd
trigger1 = var(19) > 60
trigger1 = var(8) = 0
v = 19
value = -1

[State -2, VarSet]
type = VarSet
trigger1 = var(11) > 0
trigger1 = power = 0
trigger2 = win
trigger3 = lose
trigger4 = drawgame
trigger5 = life = 0
trigger6 = !ALive
trigger7 = matchover
v = 11
value = 0

[State -2, VarSet]
type = VarSet
trigger1 = var(11) <= 0
v = 11
value = 0

[State -2, VarSet]
type = VarSet
trigger1 = var(19) < 61
v = 19
value = 0

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = timemod = 35,0
trigger1 = var(8) = 1
triggerall = power > 0
triggerall = numexplod(80000) < 10
triggerall = 0
anim = 80000
ID = 80000
pos = (random%27-13)*1,-25-(random%47-13)*0.8
random = 30,60
vel = -0.2,-1
accel = 0,0.03
postype = p1
bindtime = 1
removetime = 55
supermovetime = 9999
pausemovetime = 9999
scale = 0.15,0.15
sprpriority = 3
ownpal = 1
ontop = 0

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = timemod = 35,0
trigger1 = var(8) = 1
triggerall = power > 0
triggerall = numexplod(80000) < 10
triggerall = 0
anim = 80000
ID = 80000
pos = (random%27-13)*1,-25-(random%47-13)*0.8
random = 30,60
vel = 0.2,-1
accel = 0,0.03
postype = p1
bindtime = 1
removetime = 55
supermovetime = 9999
pausemovetime = 9999
scale = 0.15,0.15
sprpriority = 3
ownpal = 1
ontop = 0

[State -2, Button C]
type = Explod
triggerall = var(50) = 0
triggerall = stateno = [836,837]
trigger1 = command = "c"
trigger2 = stateno = 836 && time = 5 
triggerall = numexplod(1608) = 0
anim = F1608
ID = 1608
pos = cond(pos y = 0,-16,12),cond(pos y = 0,-60,-70)
postype = p1
facing = facing
vfacing = 1
;vel = 0,2 
;accel = 0,-0.1
bindtime = -1
removetime = -1
scale = 0.7,0.7
sprpriority = 4
ontop = 0
ownpal = 1
removeongethit = 0
supermovetime = 9999
pausemovetime = 9999

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = stateno != [836,837]
id = 1608

[State -2, Button C]
type = Explod
triggerall = var(50) = 0
triggerall = stateno = 858 || stateno = 8581
trigger1 = stateno = 858 && time = 5
trigger2 = command = "c" 
triggerall = numexplod(16082) = 0
anim = F1608
ID = 16082
pos = cond(pos y = 0,-16,12),cond(pos y = 0,-60,-70)
postype = p1
facing = facing
vfacing = 1
;vel = 0,2 
;accel = 0,-0.1
bindtime = -1
removetime = -1
scale = 0.7,0.7
sprpriority = 4
ontop = 0
ownpal = 1
removeongethit = 0
supermovetime = 9999
pausemovetime = 9999

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = stateno != 8581 && stateno != 858
id = 16082

;-------------------------------------------------------------------------
;===================[ Liczniki, Okr¹g i Fatality ]========================
;-------------------------------------------------------------------------

[State -2, Arrow Down]
type = Explod
ownpal = 1
trigger1 = stateno = 70850
trigger2 = prevstateno = 70850 && time < 2
triggerall = command = "holddown"
triggerall = numexplod(1600) = 0
anim = F1600
ID = 1600
pos = cond(pos y = 0,3,10),cond(pos y = 0,-25,-35)
postype = p1
facing = 1
vfacing = 1
vel = 0,2 
accel = 0,-0.1
bindtime = 1
removetime = -2
scale = 0.5,0.5
sprpriority = 4
ontop = 0
ownpal = 1
removeongethit = 0
supermovetime = 9999
pausemovetime = 9999

[State -2, Arrow Up]
type = Explod
ownpal = 1
trigger1 = stateno = 70850
trigger2 = prevstateno = 70850 && time < 2
triggerall = command = "holdup"
triggerall = numexplod(1601) = 0
anim = F1601
ID = 1601
pos = cond(pos y = 0,3,10),cond(pos y = 0,-45,-55)
postype = p1
facing = 1
vfacing = 1
vel = 0,-2 
accel = 0,0.1
bindtime = 1
removetime = -2
scale = 0.5,0.5
sprpriority = 4
ontop = 0
ownpal = 1
removeongethit = 0
supermovetime = 9999
pausemovetime = 9999

[State -2, Arrow Forward]
type = Explod
ownpal = 1
trigger1 = stateno = 70850
trigger2 = prevstateno = 70850 && time < 2
triggerall = command = "holdfwd"
triggerall = numexplod(1602) = 0
anim = F1602
ID = 1602
pos = cond(pos y = 0,13,20),cond(pos y = 0,-35,-40)
postype = p1
facing = 1
vfacing = 1
vel = 2,0
accel = -0.1,0
bindtime = 1
removetime = -2
scale = 0.5,0.5
sprpriority = 4
ontop = 0
ownpal = 1
removeongethit = 0
supermovetime = 9999
pausemovetime = 9999

[State -2, Arrow Back]
type = Explod
ownpal = 1
trigger1 = stateno = 70850
trigger2 = prevstateno = 70850 && time < 2
triggerall = command = "holdback"
triggerall = numexplod(1603) = 0
anim = F1603
ID = 1603
pos = cond(pos y = 0,-7,0),cond(pos y = 0,-35,-40)
postype = p1
facing = 1
vfacing = 1
vel = -2,0
accel = 0.1,0
bindtime = 1
removetime = -2
scale = 0.5,0.5
sprpriority = 4
ontop = 0
ownpal = 1
removeongethit = 0
supermovetime = 9999
pausemovetime = 9999

[State -2, Okr¹g]
type = Helper
trigger1 = numhelper(70300) = 0
trigger1 = alive
helpertype = normal
name = "Okr¹g"
ID = 70300
stateno = 70300
pos = 0,0
postype = p1
facing = 1
ownpal = 1
size.yscale = 0.4

[State -2, Fatality Hit]
type = Helper
trigger1 = !alive && numhelper(70400) = 0
helpertype = normal
name = "Fatality Hit"
ID = 70400
stateno = 70400
pos = 0, 0
postype = p1 ;P2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1
sprpriority = -20
size.xscale = 1
size.yscale = 1
supermovetime = 9999
pausemovetime = 9999

[State -2, Efekty do aren]
type = Helper
triggerall = teamside = 1 || teamside = 2 && numenemy = 0
triggerall = numhelper(70003) = 0
trigger1 = numpartner = 0
trigger2 = partner, ID > ID
trigger3 = teammode = turns && numpartner = 0
helpertype = normal
name = "Efekty do aren"
ID = 70003
stateno = 77003
pos = 0,30
postype = p1
facing = 1
ownpal = 1

[State -2, Licznik Lewa strona]
type = Helper
triggerall = stateno!=5500
triggerall = numenemy != 0
triggerall = teamside = 1
triggerall = numhelper(70000) = 0
trigger1 = numpartner = 0
trigger2 = partner, ID > ID
trigger3 = teammode = turns && numpartner = 0
helpertype = normal
name = "P1 Licznik Lewa strona"
ID = 70000
stateno = 77000
pos = 0,30
postype = p1
facing = 1
ownpal = 1

[State -2, Licznik Lewa strona 2]
type = Helper
triggerall = numenemy != 0
triggerall = teamside = 1
triggerall = numhelper(70001) = 0
trigger1 = numpartner = 1
trigger1 = partner, ID < ID
helpertype = normal
name = "P3 Licznik Lewa strona"
ID = 70001
stateno = 77001
pos = 0,30
postype = p1
facing = 1
ownpal = 1

[State -2, Licznik Prawa strona]
type = Helper
triggerall = stateno!=5500
triggerall = numenemy != 0
triggerall = teamside = 2
triggerall = numhelper(70000) = 0
trigger1 = numpartner = 0
trigger2 = partner, ID > ID
trigger3 = teammode = turns && numpartner = 0
helpertype = normal
name = "P2 Licznik Prawa strona"
ID = 70000
stateno = 78000
pos = 0,30
postype = p1
facing = 1
ownpal = 1

[State -2, Licznik Prawa strona]
type = Helper
triggerall = numenemy != 0
triggerall = teamside = 2
triggerall = numhelper(70001) = 0
trigger1 = numpartner = 1
trigger1 = partner, ID < ID
helpertype = normal
name = "P4 Licznik Prawa strona"
ID = 70001
stateno = 78001
pos = 0,30
postype = p1
facing = 1
ownpal = 1

;-------------------------------------------------------------------------
;==========================[ Vary Wspólne ]===============================
;-------------------------------------------------------------------------

;>>>>>>>>>>>> Byakugan <<<<<<<<<<<<<<<<<
[State 0, PowerSet]
type = PowerSet
trigger1 = power > (PowerMax - enemy, var(34))
value = PowerMax - enemy, var(34)

;>>>>>>>>>>>>>>> Kakashi - Mangekyou Sharingan <<<<<<<<<<<<<<<
[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = alive = 0 && var(36) != 0
flag = invisible

[State 0, VarSet]
type = VarSet
trigger1 = stateno != 100051 && alive = 1
v = 36
value = 0

[State -3]
type = AfterImage
trigger1 = alive = 0 && var(36) != 0
time = 1
length = 1
trans = add


;>>>>>>>>>>>>>>> Kl¹twa Hidana <<<<<<<<<<<<<<<
[State -2, LifeAdd]
type = LifeAdd
trigger1 = var(35) != 0
trigger1 = PlayerID(var(35)),var(0)=1
triggerall = !ishelper
value = -PlayerID(var(35)),var(1)
kill = cond(PlayerID(var(35)),stateno=421 || PlayerID(var(35)),stateno=422 || PlayerID(var(35)),stateno=423 || PlayerID(var(35)),stateno=424 || PlayerID(var(35)),stateno=431 || PlayerID(var(35)),stateno=432 || PlayerID(var(35)),stateno=433 ,1,0)

[State 0, ChangeState]
type = ChangeState
triggerall = var(35) != 0
triggerall = PlayerID(var(35)),var(0)=1
triggerall = !ishelper
trigger1 = PlayerID(var(35)),stateno = [422,429]
trigger1 = PlayerID(var(35)),time < 12
trigger2 = PlayerID(var(35)),stateno = 424
triggerall = PlayerID(var(35)),var(1) != 0
triggerall = stateno != 5050
value = 5050

[State 0, explode]
type = Explod
ownpal = 1
triggerall = var(35) != 0
triggerall = PlayerID(var(35)),stateno = 421
trigger1 = PlayerID(var(35)),time = 5
trigger2 = PlayerID(var(35)),time = 7
anim = F10+random%1
angle = -25+random%50
ID = 4004
pos = cond(statetype != L,10,8),cond(statetype != L,-28,5)
postype = p1
bindtime = 1
removetime = -2
supermovetime = 9999
pausemovetime = 9999
scale = 0.5,0.5
sprpriority = 3
ownpal = 1
ontop = 0

[State 0, explode]
type = Explod
ownpal = 1
triggerall = var(35) != 0
triggerall = PlayerID(var(35)),stateno = 422
trigger1 = PlayerID(var(35)),time = 5
trigger2 = PlayerID(var(35)),time = 7
anim = F10+random%2
angle = -25+random%50
ID = 4004
pos = cond(statetype != L,7,15),cond(statetype != L,-15,-10)
postype = p1
bindtime = 1
removetime = -2
supermovetime = 9999
pausemovetime = 9999
scale = 0.7,0.7
sprpriority = 3
ownpal = 1
ontop = 0

[State 0, explode]
type = Explod
ownpal = 1
triggerall = var(35) != 0
triggerall = PlayerID(var(35)),stateno = 423
trigger1 = PlayerID(var(35)),time = 5
trigger2 = PlayerID(var(35)),time = 7
anim = F11+random%1
angle = -25+random%50
ID = 4004
pos = cond(statetype != L,5,0),cond(statetype != L,-32,-10)
postype = p1
bindtime = 1
removetime = -2
supermovetime = 9999
pausemovetime = 9999
scale = 1,1
sprpriority = 3
ownpal = 1
ontop = 0

[State 0, explode]
type = Explod
ownpal = 1
triggerall = var(35) != 0
triggerall = PlayerID(var(35)),stateno = 431
trigger1 = PlayerID(var(35)),time = 6
anim = F10+random%1
angle = -25+random%50
ID = 4004
pos = cond(statetype != L,10,8),cond(statetype != L,-28,5)
postype = p1
bindtime = 1
removetime = -2
supermovetime = 9999
pausemovetime = 9999
scale = 0.4,0.4
sprpriority = 3
ownpal = 1
ontop = 0

[State 0, explode]
type = Explod
ownpal = 1
triggerall = var(35) != 0
triggerall = PlayerID(var(35)),stateno = 432
trigger1 = PlayerID(var(35)),time = 6
anim = F10+random%2
angle = -25+random%50
ID = 4004
pos = cond(statetype != L,7,15),cond(statetype != L,-15,-10)
postype = p1
bindtime = 1
removetime = -2
supermovetime = 9999
pausemovetime = 9999
scale = 0.5,0.5
sprpriority = 3
ownpal = 1
ontop = 0

[State 0, explode]
type = Explod
ownpal = 1
triggerall = var(35) != 0
triggerall = PlayerID(var(35)),stateno = 433
trigger1 = PlayerID(var(35)),time = 6
anim = F11+random%1
angle = -25+random%50
ID = 4004
pos = cond(statetype != L,5,0),cond(statetype != L,-32,-10)
postype = p1
bindtime = 1
removetime = -2
supermovetime = 9999
pausemovetime = 9999
scale = 0.6,0.6
sprpriority = 3
ownpal = 1
ontop = 0

[State 0, explode]
type = Explod
ownpal = 1
triggerall = var(35) != 0
trigger1 = PlayerID(var(35)),stateno = 424
trigger1 = PlayerID(var(35)),time = 125
anim = F1500
ID = 4004
pos = 0,-30
postype = p1
bindtime = 1
removetime = 25
supermovetime = 9999
pausemovetime = 9999
scale = 0.5,0.5
sprpriority = 6
ownpal = 1
ontop = 0

;>>>>>>>>>>>>>>> Koto Amatsukami <<<<<<<<<<<<<<<
[State 0, CtrlSet]
type = CtrlSet
trigger1 = enemy, var(45) != 0
value = 0

;>>>>>>>>>>>>>>> Pieczec Danzo <<<<<<<<<<<<<<<
[State -2, Varset]
type = VarSet
trigger1 = stateno = 5150
var(40) = 0

[State 0, ChangeState]
type = ChangeState
triggerall = var(40) != 0
triggerall = !ishelper
trigger1 = PlayerID(var(40)),stateno = 630
triggerall = PlayerID(var(40)),var(3) = 2
triggerall = stateno != 5050
value = 105250

;>>>>>>>>>>>>>>> Kagemane Shikamaru <<<<<<<<<<<<<<<
[State 0, CtrlSet]
type = CtrlSet
trigger1 = var(46) = 1
value = 0

[State 0, VarSet]
type = VarSet
trigger1 = enemy, name = "Shikamaru"
trigger1 = enemy, var(10) = 0
trigger1 = var(46) = 1
v = 46
value = 0

[State 0, Changestate]
type = Changestate
trigger1 = var(46) = 1 && (stateno = 0|| stateno = 12 || stateno = 20 || stateno = 52 || stateno = [98,104])
value = 104000

[State 0, Changestate]
type = Changestate
trigger1 = var(46) = 1 && stateno = [10,11]
trigger2 = var(46) = 1 && stateno = 5120
value = 104002

[State 0, Changestate]
type = Changestate
trigger1 = var(46) = 1 && stateno = [40,59]
value = 104008

[State 0, Selfstate]
type = Selfstate
trigger1 = var(46) = 0 && stateno = [104000,104099]
trigger1 = enemy, name = "Shikamaru"
trigger1 = enemy, var(10) = 0
value = cond(pos y = 0,0,50)
ctrl = 1

;>>>>>>>>>>>>>>> Kankuro, Sasori Poison <<<<<<<<<<<<<<<
[State 0, VarAdd]
type = VarAdd
trigger1 = var(30) !=0 && gametime%4 = 0
v = 30
value = -1

[State 0, PalFXWiz]
type = PalFX
trigger1 = var(30) != 0
trigger1 = gametime%18 = 0
trigger1 = !ishelper
time = 18
add = 100,0,100
mul = 220,120,224
sinadd = 80,50,80,18
invertall = 0
color = 256

[State 0, LifeAdd]
type = LifeAdd
trigger1 = gametime%4 = 0
trigger1 = var(30) != 0
trigger1 = !ishelper
value = -1
kill = 0

[State 0, Trucizna]
type = Explod
trigger1 = var(30) > 0
triggerall = stateno != 5500
triggerall = numenemy != 0
triggerall = numexplod(1916) = 0
trigger1 = !ishelper
anim = F1916
ID = 1916
pos = 0*facing,cond(stateno = 5110,-25,cond(statetype = C,-50,-70))
postype = p1
facing = cond(facing = 1,1,-1)
bindtime = -1
removetime = -1
sprpriority = 4
scale = 0.6,0.6
ownpal = 1
ontop = 1
supermovetime = 9999
pausemovetime = 9999

[State 0, Trucizna]
type = ModifyExplod
trigger1 = var(30) > 0
triggerall = numexplod(1916) = 1
trigger1 = !ishelper
ID = 1916
pos = 0*facing,cond(stateno = 5110,-25,cond(statetype = C,-50,-70))
postype = p1
facing = cond(facing = 1,1,-1)
bindtime = -1
removetime = -1
sprpriority = 4
scale = 0.6,0.6
ownpal = 1
ontop = 1
supermovetime = 9999
pausemovetime = 9999

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = var(30) = 0
trigger1 = !ishelper
ID = 1916

;>>>>>>>>>>>>>>> Var Katon <<<<<<<<<<<<<<<

[State 0, - Katon - ]
type = VarAdd
triggerall = var(51) > 0
trigger1 = stateno = [0,199]
trigger2 = stateno = [5000,5299]
v = 51
value = -1

[State 0, VarSet]
type = VarSet
trigger1 = var(51) <= 0
trigger2 = var(53) != 0
trigger3 = ishelper
trigger4 = stateno = [170,194]
trigger5 = stateno = 5150
triggerall = stateno != [109910,109919]
v = 51
value = 0

;~~ Debuff ~~

[State 0, LifeAdd]
type = LifeAdd
trigger1 = timemod = 3,0
triggerall = var(51) > 0
triggerall = var(53) = 0
triggerall = var(54) = 0
value = -1
kill = 1


;~~ Efekty ~~

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time > 0 && timemod = 30,0
triggerall = var(51) > 0
triggerall = var(53) = 0
value = F10,4

[State 0, PalFX]
type = PalFX
trigger1 = time > 0 && timemod = 5,0
triggerall = var(51) > 0
triggerall = var(53) = 0
time = 10
add = 240,50,0
mul = 250,224,120
sinadd = 110,55,85,10
invertall = 0
color = 256

[State 0, Explod]
type = Explod
trigger1 = time > 0 && timemod = 5,0
triggerall = var(51) > 0
triggerall = var(53) = 0
triggerall = var(54) = 0
anim = F1402
pos = cond((statetype = L || stateno = 5110 || stateno = 5150),-20+random%40,-10+random%20),cond((statetype = L || stateno = 5110 || stateno = 5150),5-random%15,cond(statetype = C,-10-random%20,-20-random%30))
postype = p1
facing = 1
bindtime = 10
removetime = -2
sprpriority = -2+random%5
scale = 1,1
ownpal = 1
ontop = 0
supermovetime = 9999
pausemovetime = 9999

;~~ Ikonka ~~

[State 0, Ikonka]
type = Explod
trigger1 = numexplod(1901) = 0
triggerall = stateno != 5500
triggerall = numenemy != 0
triggerall = var(51) > 0
triggerall = var(53) = 0
anim = F1901
ID = 1901
pos = 0,cond(stateno = 5110,0,cond(statetype = C,-15,-30))
postype = p1
facing = 1
bindtime = 2
removetime = -2
sprpriority = 10
accel = 0*facing,-0.04
scale = 0.4,0.4
ownpal = 1
ontop = 1
supermovetime = 9999
pausemovetime = 9999

;Polaczony z Futonem
[State 0, Katon + Futon]
type = LifeAdd
trigger1 = timemod = 4,0
triggerall = var(51) > 0
triggerall = var(54) != 0
value = -3
kill = 1

[State 0, Explod]
type = Explod
trigger1 = time > 0 && timemod = 5,0
triggerall = var(51) > 0
triggerall = var(54) != 0
anim = F1402
pos = cond((statetype = L || stateno = 5110 || stateno = 5150),-20+random%40,-10+random%20),cond((statetype = L || stateno = 5110 || stateno = 5150),5-random%15,cond(statetype = C,-10-random%20,-20-random%30))
postype = p1
facing = 1
bindtime = 10
removetime = -2
sprpriority = -2+random%5
scale = 1.6,1.6
ownpal = 1
ontop = 0
supermovetime = 9999
pausemovetime = 9999

;>>>>>>>>>>>>>>> Var Raiton <<<<<<<<<<<<<<<

[State 0, - Raiton - ]
type = VarAdd
triggerall = var(52) > 0
trigger1 = stateno = [0,199]
trigger2 = stateno = [5000,5299]
v = 52
value = -1

[State 0, VarSet]
type = VarSet
trigger1 = var(52) <= 0
trigger2 = var(54) != 0
trigger3 = ishelper
trigger4 = stateno = [170,194]
trigger5 = stateno = 5150
triggerall = stateno != [109920,109929]
v = 52
value = 0

;~~ Debuff ~~

[State 0, ChangeState]
type = ChangeState
triggerall = var(52) = 100 || var(52) = 200 || var(52) = 300 || var(52) = 400 || var(52) = 500
triggerall = var(52) != 0
triggerall = !ishelper
trigger1 = stateno = [0,199]
trigger2 = stateno = 70500+var(0)*1000 
triggerall = stateno != [10000,199999]
triggerall = stateno != [170,194]
value = 109929

;~~ Efekty ~~

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time > 0 && timemod = 30,0
triggerall = var(52) > 0
triggerall = var(54) = 0
value = F11,3

[State 0, Explod]
type = Explod
trigger1 = time > 0 && timemod = 5,0
triggerall = var(52) > 0
triggerall = var(53) = 0
triggerall = var(54) = 0
anim = F1300+random%3
angle = random
pos = cond((statetype = L || stateno = 5110 || stateno = 5150),-20+random%40,-10+random%20),cond((statetype = L || stateno = 5110 || stateno = 5150),5-random%15,cond(statetype = C,-10-random%20,-20-random%30))
postype = p1
facing = 1
bindtime = 5
removetime = -2
sprpriority = -2+random%5
scale = 0.25,0.25
ownpal = 1
ontop = 0
supermovetime = 9999
pausemovetime = 9999

;~~ Ikonka ~~

[State 0, Ikonka]
type = Explod
trigger1 = numexplod(1902) = 0
triggerall = stateno != 5500
triggerall = numenemy != 0
triggerall = var(52) > 0
triggerall = var(54) = 0
anim = F1902
ID = 1902
pos = 0,cond(stateno = 5110,0,cond(statetype = C,-15,-30))
postype = p1
facing = 1
bindtime = 2
removetime = -2
sprpriority = 10
accel = 0.02*facing,0.03
scale = 0.4,0.4
ownpal = 1
ontop = 1
supermovetime = 9999
pausemovetime = 9999

;Polaczony z Suitonem
[State 0, Raiton + Suiton]
type = LifeAdd
trigger1 = timemod = 3,0
triggerall = var(52) > 0
triggerall = var(53) != 0
value = -1
kill = 1

[State 0, PalFX]
type = PalFX
trigger1 = timemod = 5,0
triggerall = var(52) > 0
triggerall = var(53) != 0
time = 10
add = 50,50,200
mul = 100,200,200
sinadd = 150,150,300,4
invertall = 0
color = 256

[State 0, Explod]
type = Explod
trigger1 = time > 0 && timemod = 3,0
triggerall = var(52) > 0
triggerall = var(53) != 0
anim = F1300+random%3
angle = random
pos = cond((statetype = L || stateno = 5110 || stateno = 5150),-20+random%40,-10+random%20),cond((statetype = L || stateno = 5110 || stateno = 5150),5-random%15,cond(statetype = C,-10-random%20,-20-random%30))
postype = p1
facing = 1
bindtime = 5
removetime = -2
sprpriority = -2+random%5
scale = 0.4,0.4
ownpal = 1
ontop = 0
supermovetime = 9999
pausemovetime = 9999

;>>>>>>>>>>>>>>> Var Suiton <<<<<<<<<<<<<<<

[State 0, - Suiton - ]
type = VarAdd
triggerall = var(53) > 0
trigger1 = stateno = [0,199]
trigger2 = stateno = [5000,5299]
v = 53
value = -1

[State 0, VarSet]
type = VarSet
trigger1 = var(53) <= 0
trigger2 = var(55) != 0
trigger3 = ishelper
trigger4 = stateno = [170,194]
trigger5 = stateno = 5150
triggerall = stateno != [109930,109939]
v = 53
value = 0

;~~ Debuff ~~

[State 0, Atk Break]
type = Explod
trigger1 = var(53) > 0
triggerall = stateno != 5500
triggerall = numenemy != 0
triggerall = numexplod(1910) = 0
anim = F1910
ID = 1910
pos = -10*facing,10
postype = p1
facing = cond(facing = 1,1,-1)
bindtime = -1
removetime = -1
sprpriority = 4
scale = 0.6,0.6
ownpal = 1
ontop = 1
supermovetime = 9999
pausemovetime = 9999

[State 0, Atk Break]
type = ModifyExplod
trigger1 = var(53) > 0
triggerall = numexplod(1910) = 1
ID = 1910
pos = -10*facing,10
postype = p1
facing = cond(facing = 1,1,-1)
bindtime = -1
removetime = -1
sprpriority = 4
scale = 0.6,0.6
ownpal = 1
ontop = 1
supermovetime = 9999
pausemovetime = 9999

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = var(53) = 0
ID = 1910

[State 0, AttackMulSet]
type = AttackMulSet
trigger1 = var(53) = 0
value = 1

[State 0, AttackMulSet]
type = AttackMulSet
trigger1 = var(53) > 0
value = 0.6


;~~ Efekty ~~

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time > 0 && timemod = 30,0
triggerall = var(53) > 0
triggerall = var(55) = 0
value = F12,0

[State 0, Explod]
type = Explod
trigger1 = time > 0 && timemod = 10,0
triggerall = var(53) > 0
triggerall = var(55) = 0
anim = F1550
angle = random
pos = cond((statetype = L || stateno = 5110 || stateno = 5150),-20+random%40,-10+random%20),cond((statetype = L || stateno = 5110 || stateno = 5150),5-random%15,cond(statetype = C,-10-random%20,-20-random%30))
postype = p1
facing = 1
bindtime = 10
removetime = -2
sprpriority = -2+random%5
scale = 0.4,0.4
ownpal = 1
ontop = 0
supermovetime = 9999
pausemovetime = 9999

;~~ Ikonka ~~

[State 0, Ikonka]
type = Explod
trigger1 = numexplod(1903) = 0
triggerall = stateno != 5500
triggerall = numenemy != 0
triggerall = var(53) > 0
triggerall = var(55) = 0
anim = F1903
ID = 1903
pos = 0,cond(stateno = 5110,0,cond(statetype = C,-15,-30))
postype = p1
facing = 1
bindtime = 2
removetime = -2
sprpriority = 10
accel = -0.03*facing,-0.02
scale = 0.4,0.4
ownpal = 1
ontop = 1
supermovetime = 9999
pausemovetime = 9999

;>>>>>>>>>>>>>>> Var Fuuton <<<<<<<<<<<<<<<

[State 0, - Fuuton - ]
type = VarAdd
triggerall = var(54) > 0
trigger1 = stateno = [0,199]
trigger2 = stateno = [5000,5299]
v = 54
value = -1

[State 0, VarSet]
type = VarSet
trigger1 = var(54) <= 0
;trigger2 = var(51) != 0
trigger2 = ishelper
trigger3 = stateno = [170,194]
trigger4 = stateno = 5150
triggerall = stateno != [109940,109949]
v = 54
value = 0

;~~ Debuff ~~

[State 0, Def Break]
type = Explod
trigger1 = var(54) > 0
triggerall = stateno != 5500
triggerall = numenemy != 0
triggerall = numexplod(1912) = 0
anim = F1912
ID = 1912
pos = 10*facing,10
postype = p1
facing = cond(facing = 1,1,-1)
bindtime = -1
removetime = -1
sprpriority = 4
scale = 0.6,0.6
ownpal = 1
ontop = 1
supermovetime = 9999
pausemovetime = 9999

[State 0, Def Break]
type = ModifyExplod
trigger1 = var(54) > 0
triggerall = numexplod(1912) = 1
ID = 1912
pos = 10*facing,10
postype = p1
facing = cond(facing = 1,1,-1)
bindtime = -1
removetime = -1
sprpriority = 4
scale = 0.6,0.6
ownpal = 1
ontop = 1
supermovetime = 9999
pausemovetime = 9999

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = var(54) = 0
ID = 1912

[State 0, DefenceMulSet]
type = DefenceMulSet
trigger1 = var(54) = 0
value = 1

[State 0, DefenceMulSet]
type = DefenceMulSet
trigger1 = var(54) > 0
value = 1.25

;~~ Efekty ~~

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time > 0 && timemod = 40,0
triggerall = var(54) > 0
;triggerall = var(51) = 0
value = F14,6

[State 0, Explod]
type = Explod
trigger1 = time > 0 &&  timemod = 10,0
triggerall = var(54) > 0
;triggerall = var(51) = 0
anim = F643
angle = random
pos = cond((statetype = L || stateno = 5110 || stateno = 5150),-20+random%40,-10+random%20),cond((statetype = L || stateno = 5110 || stateno = 5150),5-random%15,cond(statetype = C,-10-random%20,-20-random%30))
postype = p1
facing = 1
bindtime = 10
removetime = -2
sprpriority = -2+random%5
scale = 0.4,0.4
ownpal = 1
ontop = 0
supermovetime = 9999
pausemovetime = 9999

;~~ Ikonka ~~

[State 0, Ikonka]
type = Explod
trigger1 = numexplod(1904) = 0
triggerall = stateno != 5500
triggerall = numenemy != 0
triggerall = var(54) > 0
;triggerall = var(51) = 0
anim = F1904
ID = 1904
pos = 0,cond(stateno = 5110,0,cond(statetype = C,-15,-30))
postype = p1
facing = 1
bindtime = 2
removetime = -2
sprpriority = 10
accel = 0.03*facing,-0.02
scale = 0.4,0.4
ownpal = 1
ontop = 1
supermovetime = 9999
pausemovetime = 9999

;>>>>>>>>>>>>>>> Var Doton <<<<<<<<<<<<<<<
[State 0, - Doton - ]
type = VarAdd
triggerall = var(55) > 0
trigger1 = stateno = [0,199]
trigger2 = stateno = [5000,5299]
v = 55
value = -1

[State 0, VarSet]
type = VarSet
trigger1 = var(55) <= 0
trigger2 = var(52) != 0
trigger3 = ishelper
trigger4 = stateno = [170,194]
trigger5 = stateno = 5150
triggerall = stateno != [109950,109959]
v = 55
value = 0

;~~ Debuff ~~

[State 0, Slow]
type = Explod
trigger1 = var(55) > 0
triggerall = stateno != 5500
triggerall = numenemy != 0
triggerall = numexplod(1914) = 0
anim = F1914
ID = 1914
pos = -10*facing,10
postype = p1
facing = cond(facing = 1,1,-1)
bindtime = -1
removetime = -1
sprpriority = 4
scale = 0.6,0.6
ownpal = 1
ontop = 1
supermovetime = 9999
pausemovetime = 9999

[State 0, Slow]
type = ModifyExplod
trigger1 = var(55) > 0
triggerall = numexplod(1910) = 1
ID = 1910
pos = -10*facing,10
postype = p1
facing = cond(facing = 1,1,-1)
bindtime = -1
removetime = -1
sprpriority = 4
scale = 0.6,0.6
ownpal = 1
ontop = 1
supermovetime = 9999
pausemovetime = 9999

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = var(55) = 0
ID = 1914

[State 0, SelfState]
type = SelfState
trigger1 = var(55) != 0
trigger1 = stateno = 45 || stateno = 60
value = 50
ctrl = 1

[State 0, VelAdd]
type = VelAdd
trigger1 = var(55) != 0
trigger1 = stateno = 50
y = -(const(velocity.jump.y))/20

[State 0, SelfState]
type = SelfState
trigger1 = var(55) != 0
trigger1 = stateno = 100 || stateno = 101
value = 20
ctrl = 1

[State 0, SelfState]
type = SelfState
trigger1 = var(55) != 0
trigger1 = stateno = 102 || stateno = 103
value = 11
ctrl = 1

[State 0, SelfState]
type = SelfState
trigger1 = var(55) != 0
trigger1 = stateno = 105
value = 0
ctrl = 1

[State 0, SelfState]
type = SelfState
trigger1 = var(55) != 0
trigger1 = stateno = 70600
value = 0
ctrl = 1

;~~ Efekty ~~

[State 0, PalFX]
type = PalFX
trigger1 = timemod = 5,0
triggerall = var(55) > 0
triggerall = var(52) = 0
time = 10
add = 25,20,5
mul = 196,186,166
sinadd = 0,0,0,1
invertall = 0
color = 256

;~~ Ikonka ~~

[State 0, Ikonka]
type = Explod
trigger1 = numexplod(1905) = 0
triggerall = stateno != 5500
triggerall = numenemy != 0
triggerall = var(55) > 0
triggerall = var(52) = 0
anim = F1905
ID = 1905
pos = 0,cond(stateno = 5110,0,cond(statetype = C,-15,-30))
postype = p1
facing = 1
bindtime = 2
removetime = -2
sprpriority = 10
accel = -0.02*facing,0.03
scale = 0.4,0.4
ownpal = 1
ontop = 1
supermovetime = 9999
pausemovetime = 9999

;>>>>>>>>>>>>>>> Var Czarne Plomienie <<<<<<<<<<<<<<<
[State 0, - Amaterasu - ]
type = VarAdd
triggerall = var(56) > 0
trigger1 = stateno = [0,199]
trigger2 = stateno = [5000,5299]
v = 56
value = -1

[State 0, VarSet]
type = VarSet
trigger1 = var(56) <= 0
trigger2 = ishelper
trigger3 = stateno = [170,194]
trigger4 = stateno = 5150
triggerall = stateno != [109960,109969]
v = 56
value = 0

;~~ Debuff ~~

[State 0, LifeAdd]
type = LifeAdd
trigger1 = timemod = 3,0
triggerall = var(56) > 0
value = -2
kill = 1

;~~ Efekty ~~

[State 0, PlaySnd]
type = PlaySnd
trigger1 = timemod = 20,0
triggerall = var(56) > 0
value = F10,2

[State 0, PalFX]
type = PalFX
trigger1 = timemod = 5,0
triggerall = var(56) > 0
time = 10
add = -60,-80,-50
mul = 90,20,120
sinadd = 40,20,50,5
invertall = 0
color = 256

[State 0, Explod]
type = Explod
trigger1 = timemod = 3,0
triggerall = var(56) > 0
anim = F1700
pos = cond((statetype = L || stateno = 5110 || stateno = 5150),-20+random%40,-10+random%20),cond((statetype = L || stateno = 5110 || stateno = 5150),5-random%15,cond(statetype = C,-10-random%20,-10-random%40))
postype = p1
facing = 1
angle = -20+random%40
bindtime = 10
removetime = -2
sprpriority = -2+random%5
scale = 1,1;0.35,0.35
vel = 0,-1-random%2
accel = 0,0.05
ownpal = 1
ontop = 0
supermovetime = 9999
pausemovetime = 9999

;>>>>>>>>>>>>>>> Var Kuroi Kaminari <<<<<<<<<<<<<<<
[State 0, - Kuroi Kaminari - ]
type = VarAdd
triggerall = var(57) > 0
trigger1 = stateno = [0,199]
trigger2 = stateno = [5000,5299]
v = 57
value = -1

[State 0, VarSet]
type = VarSet
trigger1 = var(57) <= 0
trigger2 = ishelper
trigger3 = stateno = [170,194]
trigger4 = stateno = 5150
triggerall = stateno != [109970,109979]
v = 57
value = 0

;~~ Debuff ~~

[State 0, ChangeState]
type = ChangeState
triggerall = timemod = 100,0
triggerall = var(57) != 0
triggerall = !ishelper
trigger1 = stateno = [0,199]
trigger2 = stateno = 70500+var(0)*1000 
;trigger3 = stateno = [5000,5299]
triggerall = stateno != [10000,199999]
triggerall = stateno != [170,194]
value = 109979

;~~ Efekty ~~

[State 0, PlaySnd]
type = PlaySnd
trigger1 = timemod = 30,0
triggerall = var(57) > 0
value = F11,3

[State 0, Explod]
type = Explod
trigger1 = timemod = 5,0
triggerall = var(57) > 0
anim = F1701+random%3
angle = random
pos = cond((statetype = L || stateno = 5110 || stateno = 5150),-20+random%40,-10+random%20),cond((statetype = L || stateno = 5110 || stateno = 5150),5-random%15,cond(statetype = C,-10-random%20,-20-random%30))
postype = p1
facing = 1
bindtime = 5
removetime = -2
sprpriority = -2+random%5
scale = 0.6,0.6
ownpal = 1
ontop = 0
supermovetime = 9999
pausemovetime = 9999

;-------------------------


;--------------------------------------------------
[Statedef -3]

;BUNSHIN

[State -1, BUNSHIN AI]
type = VarSet
trigger1 = ishelper(20000)
v = 49
value = ((Root,Life/100)+(Root,Power/100)+30+MatchNo)/5

[State -1, Exhaust +]
type = VarAdd
trigger1 = 1
triggerall = stateno = [20800,21199]
trigger1 = movecontact
triggerall = ishelper(20000)
v = 48
value = 20

[State -1, Exhaust -]
type = VarAdd
trigger1 = 1
triggerall = stateno != [20800,21199]
triggerall = var(48) > 0
triggerall = ishelper(20000)
v = 48
value = -5-var(48)/100

[State -1, Exhaust]
type = VarSet
triggerall = var(48) > 500
trigger1 = stateno = [20800,21199]
trigger2 = prevstateno = [20800,21199]
triggerall = ishelper(20000)
v = 48   
value = 500





[State -3, PowerAdd]
type = PowerAdd
triggerall = prevstateno != 190+var(0)*10000 
triggerall = stateno = [0,199]
triggerall = stateno != 70500+var(0)*1000 
triggerall = stateno != [5000,5299]
triggerall = stateno != [10000,199999]
triggerall = timemod = 20,0
trigger1 = !ishelper
value = 5

;M Sharingan
[State -3, LifeAdd]
type = LifeAdd
trigger1 = var(1) = 2
trigger1 = timemod = 6,0
triggerall = stateno != [600,699]
triggerall = stateno != [1000,1009]
triggerall = stateno != 70850
triggerall = stateno != [10000,199999]
triggerall = stateno != [2000,2999]
triggerall = prevstateno != [190,194]
triggerall = prevstateno != 5900
value = -1

;M Sharingan
[State -3, LifeAdd]
type = LifeAdd
trigger1 = var(1) = 2
triggerall = stateno = [2000,2999]
value = -1

;M Sharingan
[State -3, PowerAdd]
type = PowerAdd
trigger1 = var(1) = 2
trigger1 = timemod = 5,0
triggerall = stateno != [600,699]
triggerall = stateno != [1000,1009]
triggerall = stateno != 70850
triggerall = stateno != [10000,199999]
triggerall = stateno != [2000,2999]
triggerall = prevstateno != [190,194]
triggerall = prevstateno != 5900
value = -3

[State -3, VarSet - usuniêcie sharingana i MS]
type = VarSet
trigger1 = life = 0
trigger2 = !Alive
trigger3 = power <= 5
trigger4 = lose
v = 1
value = 0

[State -3, Afterimage normal]
type = AfterImage
triggerall = var(1) = 0
trigger1 = time = 0
time = 1

[State -3, EMS]
type = AfterImage
triggerall = var(1) = 2
trigger1 = time = 0
time = -1
length = 7
palcolor = 256
palinvertall = 0
palbright = 0,0,0
palcontrast = 120,40,40
palpostbright = 0,0,0
paladd = 5,2,2
palmul = .65,.15,.15
timegap = 1
framegap = 1
trans = add

[State -3, Landing Sound]
type = PlaySnd
triggerall = Time = 1
trigger1 = stateno = 52 ;Jump land
trigger2 = stateno = 106 ;Run-back land
value = 40, 0


