
;---------------------------------------------------------------------------
;Kazekage Stand
[Statedef 30000]
type = S
physics = S
sprpriority = -1
velset = 0,0
ctrl = 0
anim = 30000

[State 0, PosSet]
type = PosAdd
trigger1 = prevstateno = 30107
trigger1 = time = 0
y = 35

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
trigger1 = prevstateno=5040
value = F4,0

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 0
trigger1 = prevstateno=5040
anim = F290
ID = 23
pos = 2,3
postype = p1  ;p2,front,back,left,right
scale = 1.8,1.5
sprpriority = 2
ontop = 0

[State 0, ParentVarSet]
type = ParentVarSet
trigger1 = time = 0
v = 9
value = 1

[State 0, VarSet]
type = VarSet
trigger1 = time = 0
v = 0
value = 3

[State 0, PowerAdd]
type = PowerAdd
trigger1 = timemod = 5,0
value = -1

[State 0, PosSet]
type = PosSet
trigger1 = pos y > 0
trigger1 = time = 0
y = 0

[State 0, VelSet]
type = Velset
trigger1 = 1
y = 0.35*sin((time*1.8*PI)/40)

[State 0, ChangeState]
type = ChangeState
trigger1 = root, life = 0
trigger2 = lose
value = 30105

[State 0, Turn]
type = Turn
trigger1 = pos x > enemynear(cond((enemynear(0),alive),0,1)), pos x && facing = 1
trigger2 = pos x < enemynear(cond((enemynear(0),alive),0,1)), pos x && facing = -1
;---------------------------------------------------------------------------
;Kazekage Move
[Statedef 30020]
type    = S
physics = S
sprpriority = -1

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = pos y > -6
trigger1 = timemod = 5,0
trigger1 = vel x > 0
anim = F300
ownpal = 1
ownpal = 1
ID = 60
pos = -13,-pos y+3
scale = 1,1
removetime = -2
sprpriority=1
postype = p1

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = pos y > -6
trigger1 = timemod = 5,0
trigger1 = vel x < 0
anim = F300
ownpal = 1
ID = 60
pos = 13,-pos y+3
facing = -1
scale = 1,1
removetime = -2
sprpriority=1
postype = p1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = timemod = 25,0
trigger1 = parent, stateno != 2000
value = S6,1
channel = 8

[State 0, PowerAdd]
type = PowerAdd
trigger1 = timemod = 5,0
value = -2

[State 20, 1]
type = VelSet
trigger1 = root, command = "holdz"
;trigger1 = (rootdist x > -60 && facing = 1 && Ailevel != 0) || (rootdist x < 60 && facing = -1 && Ailevel != 0)
trigger1 = root, var(50) = 0 
trigger2 = p2bodydist x > 40
;trigger2 = (rootdist x > -60 && facing = 1 && Ailevel != 0) || (rootdist x < 60 && facing = -1 && Ailevel != 0)
trigger2 = root, var(50) = 1 
x = 7*cond(root,var(50)=0,facing,1)

[State 20, 1]
type = VelSet
trigger1 = root, command = "holdx"
;trigger1 = (rootdist x < 60 && facing = 1 && Ailevel != 0) || (rootdist x > -60 && facing = -1 && Ailevel != 0)
trigger1 = root, var(50) = 0 
trigger2 = p2bodydist x < -40
;trigger2 = (rootdist x < 60 && facing = 1 && Ailevel != 0) || (rootdist x > -60 && facing = -1 && Ailevel != 0)
trigger2 = root, var(50) = 1
x = -7*cond(root,var(50)=0,facing,1)

[State 20, 1]
type = VelSet
trigger1 = (root, command != "holdb" || pos y < -600) && root, command != "holdy" && Ailevel = 0
trigger3 = (root, command != "holdb" || pos y < -200) && root, command != "holdy" && Ailevel != 0
trigger2 = (root, command != "holdy" || pos y >= -5) && root, command != "holdb"
y = 0

[State 20, 1]
type = VelSet
trigger1 = root, command != "holdb" || root, command != "holdy"
trigger1 = root, var(50) = 0
trigger2 = p2bodydist y = [-20,30]
trigger2 = root, var(50) = 1
y = 0

[State 20, 1]
type = VelSet
trigger1 = root, command = "holdb"
trigger1 = root, var(50) = 0 && pos y > -600 
trigger2 = p2bodydist y < -20
trigger2 = root, var(50) = 1 && pos y > -200
y = -7

[State 20, 1]
type = VelSet
trigger1 = root, command = "holdy"
trigger1 = root, var(50) = 0 
trigger2 = p2bodydist y > 20
trigger2 = root, var(50) = 1
triggerall = pos y < -5
y = 7

[State 20, 4]
type = ChangeAnim
triggerall = vel x > 0
trigger1 = Anim != 30010
value = 30010

[State 20, 4]
type = ChangeAnim
triggerall = vel x < 0
trigger1 = Anim != 30020
value = 30020

[State 20, 4]
type = ChangeAnim
triggerall = vel x = 0
trigger1 = Anim != 30000
value = 30000

[State 0, ChangeState]
type = ChangeState
trigger1 = vel x = 0
trigger1 = vel y = 0
trigger1 = root, var(50) = 0
trigger2 = root, var(50) = 1
trigger2 = p2bodydist x = [-50,50]
trigger2 = p2bodydist y = [-20,30]
value = 30000

;---------------------------------------------------------------------------
;Kazekage No Power
[Statedef 30100]
type    = S
movetype = H
physics = S
anim = 30100
ctrl = 0
sprpriority = 0

[State 0, VarSet]
type = VarSet
trigger1 = time = 0
v = 0
value = 3

[State 0, Veladd]
type=Veladd
trigger1= 1
y= 0.4

[State 0, ChangeState]
type = ChangeState
trigger1 = pos Y >= (5 + var(5))
value = 30105

;---------------------------------------------------------------------------
;Kazekage No Power
[Statedef 30105]
type    = S
movetype = H
physics = S
anim = 30105
ctrl = 0
velset = 0,0
sprpriority = 0

[State 0, ParentVarSet]
type = ParentVarSet
trigger1 = time = 0
v = 9
value = 0

[State 0, dead]
type = destroyself
triggerall = time = 1
;trigger2 = root, life = 0
trigger1 = var(10) > 999

[State 0, Explod]
type = Explod
trigger1 = time = 0
trigger1 = prevstateno =30100
ownpal = 1
anim = F60
ID = 60
pos = 0,3
scale = 1.7,1.7
removetime = -2
postype = p1

[State 0, AngleDraw]
type = Angleset
trigger1 = 1
value = 0

[State 0, HitOverride]
type = HitOverride
trigger1 = 1
attr = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
time = 2
stateno = 30105

[State 0, PosAdd]
type = PosAdd
triggerall = 0;time = 0
trigger1 = var(10) > 999
trigger2 = root, life = 0
y = 5

[State 0, NotHitBy]
type = NotHitBy
trigger1 = var(10) > 999
trigger2 = root, life = 0
value = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
time = 4

[State 0, VarSet]
type = VarSet
trigger1 = time = 0
v = 0
value = 4

[State 0, ChangeState]
type = ChangeState
triggerall = animtime = 0
trigger1 = var(10) > 999
trigger2 = root, life = 0
triggerall = parent, var(9) = 1
value = 30106

[State 0, ChangeState]
type = ChangeState
trigger1 = power != 0
trigger1 = var(10) < 1000
trigger1 = root, life != 0
triggerall = parent, var(9) = 1
value = 30107

;---------------------------------------------------------------------------
;Kazekage Destroy
[Statedef 30106]
type    = S
movetype = H
physics = S
anim = 30106
ctrl = 0
velset = 0,0
sprpriority = 0

[State 0, ChangeState]
type = ChangeState
trigger1 = power != 0
trigger1 = var(10) < 1000
trigger1 = root, life != 0
value = 30107

[State 0, NotHitBy]
type = NotHitBy
trigger1 = time >= 0
value = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
time = 4

[State 0, ParentVarSet]
type = ParentVarSet
trigger1 = time = 1
v = 9
value = 0

[State 0, dead]
type = destroyself
trigger1 = time = 1
trigger1 = var(10) > 999

;---------------------------------------------------------------------------
; Kazekage Get up
[Statedef 30107]
type    = L
movetype= I
physics = N
anim = 30107

[State 0, PosAdd]
type = PosAdd
trigger1 = time = 0
x = 0;-25*facing

[State 0, AngleDraw]
type = AngleDraw
trigger1 = time < 26
value = -time*3.5
scale = 1.05,1.05

[State 0, VelSet]
type = VelSet
trigger1 = time < 26
y = -1.5

[State 0, ChangeState]
type = ChangeState
trigger1 = time = 26
value = 30000

;---------------------------------------------------------------------------
; Kazekage combo 1.1
[Statedef 30200]
type    = S                      ;State-type: S-stand, C-crouch, A-air, L-liedown
movetype= A                      ;Move-type: A-attack, I-idle, H-gethit
physics = S                      ;Physics: S-stand, C-crouch, A-air
juggle  = 1                      ;Number of air juggle points move takes                                ;Commonly-used controllers:
ctrl = 0                         ;Set ctrl (Def: no change)
anim = 30200                       ;Change animation (Def: no change)
poweradd = -20
sprpriority = 2                  ;Set p1's sprite layering priority to 2 (in front)
velset = 4,0

[State 0, Turn]
type = Turn
trigger1 = pos x > enemy(cond((enemy(0),alive),0,1)), pos x && facing = 1
trigger2 = pos x < enemy(cond((enemy(0),alive),0,1)), pos x && facing = -1
triggerall = time = 0

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 9
anim = F1040
scale = 2.6,2.6
pos = 28,-40
angle = 70
postype = p1  ;p2,front,back,left,right
facing = -1
vfacing = 1
bindtime = -1
removetime = -2
sprpriority = 3
ownpal = 1
ontop = 0
supermovetime = 9999
pausemovetime = 9999


[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F8,0+random%5

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F24,0+random%5

[State 0, PlaySnd]
type = PlaySnd
trigger1 =  animelem = 3
value = S1,18

[State 0, PlaySnd]
type = PlaySnd
trigger1 =  animelem = 1
value = S6,1

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = movehit = 1 && p2movetype = H
anim = F10+random%2
angle = -25+random%50
pos = -15,-30-random%10
postype = p2  ;p2,front,back,left,right
facing = 1
bindtime = 1
removetime = -2
sprpriority = 3
scale = 1,1
ownpal = 1
ontop = 0
supermovetime = 9999
pausemovetime = 9999

[State 200, 1]
type = HitDef
fall.yvelocity = -6
trigger1 = AnimElem = 4
attr = S, NA                     ;Attribute: Standing, Normal Attack
damage = 20,4                 ;Damage that move inflicts, guard damage
animtype = Light                 ;Animation type: Light, Medium, Heavy, Back (def: Light)
guardflag = MA                   ;Flags on how move is to be guarded against
hitflag = MAF                    ;Flags of conditions that move can hit
priority = 3, Hit                ;Attack priority: 0 (least) to 7 (most), 4 default                                 ;Hit/Miss/Dodge type (Def: Hit)
pausetime = 1,2                 ;Time attacker pauses, time opponent shakes
sparkno = 0+random%4                 ;Spark anim no (Def: set above)
sparkxy = -15,-30                ;Spark x y
                                ;Y-offset for the spark rel. to p1
hitsound = 24, 2                  ;Sound to play on hit
guardsound = 21, 7                ;Sound to play on guard
ground.type = High               ;Type: High, Low, Trip (def: Normal)
ground.slidetime = 5             ;Time that the opponent slides back
ground.hittime  = 25             ;Time opponent is in hit state
ground.velocity = -3             ;Velocity at which opponent is pushed
airguard.velocity = -2,-.8     ;Guard velocity in air (def: (air.xvel*1.5, air.yvel/2))
air.type = High                  ;Type: High, Low, Trip (def: same as ground.type)
air.velocity = -1.4,-1           ;X-velocity at which opponent is pushed,
                               ;Y-velocity at which opponent is pushed
air.hittime = 25 
envshake.time = 20
envshake.freq = 25
envshake.ampl = -6
envshake.phase = 10                ;Time before opponent regains control in air

[State 200, 1]
type = HitDef
fall.yvelocity = -6
trigger1 = AnimElem = 5
attr = S, NA                     ;Attribute: Standing, Normal Attack
damage = 20,4                ;Damage that move inflicts, guard damage
animtype = Light                 ;Animation type: Light, Medium, Heavy, Back (def: Light)
guardflag = MA                   ;Flags on how move is to be guarded against
hitflag = MAF                    ;Flags of conditions that move can hit
priority = 3, Hit                ;Attack priority: 0 (least) to 7 (most), 4 default                                 ;Hit/Miss/Dodge type (Def: Hit)
pausetime = 1,2                 ;Time attacker pauses, time opponent shakes
sparkno = 0+random%4              ;Spark anim no (Def: set above)
sparkxy = -20,-40                ;Spark x y
                                ;Y-offset for the spark rel. to p1
hitsound = 24, 2                  ;Sound to play on hit
guardsound = 21, 7                ;Sound to play on guard
ground.type = High               ;Type: High, Low, Trip (def: Normal)
ground.slidetime = 5             ;Time that the opponent slides back
ground.hittime  = 25             ;Time opponent is in hit state
ground.velocity = -3             ;Velocity at which opponent is pushed
airguard.velocity = -2,-.8     ;Guard velocity in air (def: (air.xvel*1.5, air.yvel/2))
air.type = High                  ;Type: High, Low, Trip (def: same as ground.type)
air.velocity = -1.4,-1           ;X-velocity at which opponent is pushed,
                               ;Y-velocity at which opponent is pushed
air.hittime = 25
envshake.time = 20
envshake.freq = 25
envshake.ampl = -6
envshake.phase = 10

[State 0, TargetState]
type = TargetState
trigger1 = enemy(cond((enemy(0),alive),0,1)), var(30) = 0
trigger1 = movehit
value = 106000

[State 200, 2]
type = ChangeState
trigger1 = parent, stateno = 3210
triggerall = movecontact
value = 30210

[State 200, 2]
type = ChangeState
trigger1 = AnimTime = 0
value = 30000

;---------------------------------------------------------------------------
; Kazekage combo 1.2
[Statedef 30210]
type    = S                      ;State-type: S-stand, C-crouch, A-air, L-liedown
movetype= A                      ;Move-type: A-attack, I-idle, H-gethit
physics = S                      ;Physics: S-stand, C-crouch, A-air
juggle  = 1                      ;Number of air juggle points move takes                                ;Commonly-used controllers:
ctrl = 0                         ;Set ctrl (Def: no change)
anim = 30210                       ;Change animation (Def: no change)
poweradd = -20
sprpriority = 2                  ;Set p1's sprite layering priority to 2 (in front)
velset = 3,0

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 9
anim = F1040
scale = 2.6,2.6
pos = 23,-37
angle = 180
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = -1
removetime = -2
sprpriority = 3
ownpal = 1
ontop = 0
supermovetime = 9999
pausemovetime = 9999

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F8,0+random%5

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F24,0+random%5

[State 0, PlaySnd]
type = PlaySnd
trigger1 =  animelem = 3
value = S1,18

[State 0, PlaySnd]
type = PlaySnd
trigger1 =  animelem = 1
value = S6,1

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = movehit = 1 && p2movetype = H
anim = F10+random%2
angle = -25+random%50
pos = -25,-35
postype = p2  ;p2,front,back,left,right
facing = 1
bindtime = 1
removetime = -2
sprpriority = 3
scale = 1,1
ownpal = 1
ontop = 0
supermovetime = 9999
pausemovetime = 9999

[State 200, 1]
type = HitDef
fall.yvelocity = -6
trigger1 = AnimElem = 3
attr = S, NA                     ;Attribute: Standing, Normal Attack
damage = 40,8                ;Damage that move inflicts, guard damage
animtype = Light                 ;Animation type: Light, Medium, Heavy, Back (def: Light)
guardflag = MA                   ;Flags on how move is to be guarded against
hitflag = MAF                    ;Flags of conditions that move can hit
priority = 3, Hit                ;Attack priority: 0 (least) to 7 (most), 4 default                                 ;Hit/Miss/Dodge type (Def: Hit)
pausetime = 1,2                 ;Time attacker pauses, time opponent shakes
sparkno = 0+random%4                 ;Spark anim no (Def: set above)
sparkxy = -25,-35                 ;Spark x y
                                ;Y-offset for the spark rel. to p1
hitsound = 24, 2                  ;Sound to play on hit
guardsound = 21, 7             ;Sound to play on guard
ground.type = High               ;Type: High, Low, Trip (def: Normal)
ground.slidetime = 5             ;Time that the opponent slides back
ground.hittime  = 25             ;Time opponent is in hit state
ground.velocity = -3             ;Velocity at which opponent is pushed
airguard.velocity = -2,-.8     ;Guard velocity in air (def: (air.xvel*1.5, air.yvel/2))
air.type = High                  ;Type: High, Low, Trip (def: same as ground.type)
air.velocity = -1.4,-1           ;X-velocity at which opponent is pushed,
                               ;Y-velocity at which opponent is pushed
air.hittime = 25 
envshake.time = 20
envshake.freq = 25
envshake.ampl = -6
envshake.phase = 10                 ;Time before opponent regains control in air

[State 0, TargetState]
type = TargetState
trigger1 = enemy(cond((enemy(0),alive),0,1)), var(30) = 0
trigger1 = movehit
value = 106000

[State 200, 2]
type = ChangeState
trigger1 = parent, stateno = 3220
triggerall = movecontact
value = 30220

[State 200, 2]
type = ChangeState
trigger1 = AnimTime = 0
value = 30000

;---------------------------------------------------------------------------
; Kazekage combo 1.3
[Statedef 30220]
type    = S                      ;State-type: S-stand, C-crouch, A-air, L-liedown
movetype= A                      ;Move-type: A-attack, I-idle, H-gethit
physics = S                      ;Physics: S-stand, C-crouch, A-air
juggle  = 1                      ;Number of air juggle points move takes                                ;Commonly-used controllers:
ctrl = 0                         ;Set ctrl (Def: no change)
anim = 30220                       ;Change animation (Def: no change)
poweradd = -20
sprpriority = 2                  ;Set p1's sprite layering priority to 2 (in front)
velset = 0,-0.5

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F8,0+random%5

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F24,0+random%5

[State 0, PlaySnd]
type = PlaySnd
trigger1 =  animelem = 3
value = S1,18

[State 0, PlaySnd]
type = PlaySnd
trigger1 =  animelem = 1
value = S6,1

[State 0, VelSet]
type = VelSet
trigger1 = time < 20
x = 4

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = movehit = 1 && p2movetype = H
anim = F10+random%3
angle = -25+random%50
pos = -30+random%20,-20-random%20 
postype = p2  ;p2,front,back,left,right
facing = 1
bindtime = 1
removetime = -2
sprpriority = 3
scale = 1,1
ownpal = 1
ontop = 0
supermovetime = 9999
pausemovetime = 9999

[State 200, 1]
type = HitDef
fall.yvelocity = -6
trigger1 = timemod = 3,0
trigger1 = time = [9,17]
attr = S, NA                     ;Attribute: Standing, Normal Attack
damage = 10,2                 ;Damage that move inflicts, guard damage
animtype = Light                 ;Animation type: Light, Medium, Heavy, Back (def: Light)
guardflag = MA                   ;Flags on how move is to be guarded against
hitflag = MAF                    ;Flags of conditions that move can hit
priority = 3, Hit                ;Attack priority: 0 (least) to 7 (most), 4 default                                 ;Hit/Miss/Dodge type (Def: Hit)
pausetime = 1,2                 ;Time attacker pauses, time opponent shakes
sparkno = 0+random%4                ;Spark anim no (Def: set above)
sparkxy = -20+random%20,-20-random%20                 ;Spark x y
                                ;Y-offset for the spark rel. to p1
hitsound = 24, 2                  ;Sound to play on hit
guardsound = 21, 7               ;Sound to play on guard
ground.type = High               ;Type: High, Low, Trip (def: Normal)
ground.slidetime = 5             ;Time that the opponent slides back
ground.hittime  = 25             ;Time opponent is in hit state
ground.velocity = -3             ;Velocity at which opponent is pushed
airguard.velocity = -2,-.8     ;Guard velocity in air (def: (air.xvel*1.5, air.yvel/2))
air.type = High                  ;Type: High, Low, Trip (def: same as ground.type)
air.velocity = -1.4,-1           ;X-velocity at which opponent is pushed,
                               ;Y-velocity at which opponent is pushed
air.hittime = 25 
envshake.time = 30
envshake.freq = 30
envshake.ampl = -7
envshake.phase = 10              ;Time before opponent regains control in air

[State 200, 1]
type = HitDef
fall.yvelocity = -6
trigger1 = time = 17
attr = S, NA                     ;Attribute: Standing, Normal Attack
damage = 20,4                ;Damage that move inflicts, guard damage
animtype = Light                 ;Animation type: Light, Medium, Heavy, Back (def: Light)
guardflag = MA                   ;Flags on how move is to be guarded against
hitflag = MAF                    ;Flags of conditions that move can hit
priority = 3, Hit                ;Attack priority: 0 (least) to 7 (most), 4 default                                 ;Hit/Miss/Dodge type (Def: Hit)
pausetime = 1,2                 ;Time attacker pauses, time opponent shakes
sparkno = 0+random%4              ;Spark anim no (Def: set above)
sparkxy = -20,-50                ;Spark x y
                                ;Y-offset for the spark rel. to p1
hitsound = 24, 2                  ;Sound to play on hit
guardsound = 21, 7               ;Sound to play on guard
ground.type = High               ;Type: High, Low, Trip (def: Normal)
ground.slidetime = 5             ;Time that the opponent slides back
ground.hittime  = 25             ;Time opponent is in hit state
ground.velocity = -5             ;Velocity at which opponent is pushed
airguard.velocity = -2,-.8     ;Guard velocity in air (def: (air.xvel*1.5, air.yvel/2))
air.type = High                  ;Type: High, Low, Trip (def: same as ground.type)
air.velocity = -3,-1           ;X-velocity at which opponent is pushed,
                               ;Y-velocity at which opponent is pushed
air.hittime = 25
envshake.time = 30
envshake.freq = 30
envshake.ampl = -7
envshake.phase = 10               ;Time before opponent regains control in air
fall = 1

[State 0, TargetState]
type = TargetState
trigger1 = enemy(cond((enemy(0),alive),0,1)), var(30) = 0
trigger1 = movehit
value = 106000

[State 200, 2]
type = ChangeState
trigger1 = AnimTime = 0
value = 30000

;---------------------------------------------------------------------------
;Kazekage Iron Swords Rain
[Statedef 30300]
type    = S
movetype= I
physics = S
juggle  = 4
poweradd= 0
velset = 0,0
ctrl = 0                       ;Set ctrl (Def: no change)
anim = 30300

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
value = F8,0+random%5

[State 0, PlaySnd]
type = PlaySnd
trigger1 =  animelem = 1
value = S6,1                        ;Change animation (Def: no change)

[State 0, VarAdd]
type = VarAdd
trigger1 = time = 5
trigger2 = time = 15
v = 2    ;fv =
value = -100

[State 0, VarAdd]
type = VarAdd
trigger1 = time = 10
trigger2 = time = 20
v = 2
value = -50

[State 0, Helper]
type = Helper
trigger1 = time = 15
helpertype = normal ;player
name = "Sword big 1"
ID = 30310
stateno = 30310
pos = 20,0
postype = p2    ;p2,front,back,left,right
facing = 1
ownpal = 1

[State 0, Helper]
type = Helper
trigger1 = time = 5
helpertype = normal ;player
name = "Sword big 2"
ID = 30310
stateno = 30320
pos = 20,0
postype = p2    ;p2,front,back,left,right
facing = 1
ownpal = 1

[State 0, Helper]
type = Helper
trigger1 = time = 10
helpertype = normal ;player
name = "Sword small 1"
ID = 30310
stateno = 30330
pos = 20,0
postype = p2    ;p2,front,back,left,right
facing = 1
ownpal = 1

[State 0, Helper]
type = Helper
trigger1 = time = 20
helpertype = normal ;player
name = "Sword small 2"
ID = 30310
stateno = 30340
pos = 20,0
postype = p2    ;p2,front,back,left,right
facing = 1
ownpal = 1

[State 200, 2]
type = ChangeState
trigger1 = AnimTime = 0
value = 30000

;---------------------------------------------------------------------------
;Sword Big 1
[Statedef 30310]
type    = S
movetype= I
physics = N
juggle  = 4
ctrl = 0                       ;Set ctrl (Def: no change)
anim = 30310                       ;Change animation (Def: no change)
sprpriority= 1

[State 0, VarSet]
type = VarSet
trigger1 = time = 0
v = 13
value = enemynear(0),ID

[State 0, VarSet]
type = VarSet
trigger1 = time = 0
trigger1 = playerID(var(13)),alive=0
v = 13
value = enemynear(1),ID

[State 0, PosSet]
type = PosSet
trigger1 = time = 0
y = -400
x = playerID(var(13)),pos x + 30

[State 0, VelSet]
type = Veladd
trigger1 = pos x - playerID(var(13)),pos x != [27,33]
x = -facing*cond((pos x-playerID(var(13)),pos x)>30,0.1,-0.1)

[State 0, VelSet]
type = Velset
trigger1 = ABS(vel x)>2
x = cond(vel x<0,-2,2)

[State 0, VelSet]
type = VelSet
trigger1 = pos x - playerID(var(13)),pos x = [29,31]
x = 0

[State -2, Explod]
type = Explod
ownpal = 1
trigger1 = timemod = 10,0
trigger1 = time <= 40
anim = 30131
ID = 30131
pos = 0,60-random%40
facing = cond(random%2=0,-1,1)
vel = -0.3,-0.5
accel = 0,0.02
postype = p1
bindtime = 1
removetime = 56
scale = 0.5,0.5
sprpriority = 2
supermovetime = 9999
ownpal = 1
ontop = 0

[State -2, Explod]
type = Explod
ownpal = 1
trigger1 = timemod = 10,5
trigger1 = time <= 40
anim = 30131
ID = 30131
pos = 0,60-random%40
facing = cond(random%2=0,1,-1)
vel = 0.3,-0.5
accel = 0,0.02
postype = p1
bindtime = 1
removetime = 56
scale = 0.5,0.5
sprpriority = 2
ownpal = 1
ontop = 0
supermovetime = 9999

[State 0, AngleDraw]
type = AngleDraw
trigger1 = time <= 40
value = 4*sin(time/10)
scale = 0.1+time*0.005,0.1+time*0.005
ignorehitpause = 1

[State 0, Trans]
type = Trans
trigger1 = time <= 40
trans = addalpha
alpha = time*6.4,256-time*6.4

[State 0, AngleDraw]
type = AngleDraw
trigger1 = time > 40
value = 4*sin(time/10)
scale = 0.3,0.3
ignorehitpause = 1

[State 200, 2]
type = ChangeState
trigger1 = time = 100
value = 30311

;---------------------------------------------------------------------------
;Sword Big 1  Attack
[Statedef 30311]
type    = S
movetype= A
physics = N

[State -2, Explod]
type = Explod
ownpal = 1
trigger1 = anim = 30311
persistent = 0
anim = F1190
pos = 0,-pos y
facing = 1
postype = p1
bindtime = 1
removetime = -2
scale = 0.5,0.8
sprpriority = 2
ownpal = 1
supermovetime = 9999
ontop = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = F14,6

[State 0, PlaySnd]
type = PlaySnd
trigger1 = anim = 30311
persistent = 0
value = F15,4


[State 200, 1]
type = HitDef
givepower = 0
getpower = 0
fall.yvelocity = -6
trigger1 = !movecontact
attr = S, NA                     ;Attribute: Standing, Normal Attack
getpower = 0,0
damage = 125,25                 ;Damage that move inflicts, guard damage
animtype = Light                 ;Animation type: Light, Medium, Heavy, Back (def: Light)
guardflag = MA                   ;Flags on how move is to be guarded against
hitflag = MAF                    ;Flags of conditions that move can hit
priority = 3, Hit                ;Attack priority: 0 (least) to 7 (most), 4 default                                 ;Hit/Miss/Dodge type (Def: Hit)
pausetime = 1,2                 ;Time attacker pauses, time opponent shakes
sparkno = 0+random%4                 ;Spark anim no (Def: set above)
sparkxy = -15,50                ;Spark x y
                                ;Y-offset for the spark rel. to p1
hitsound = 24, 3                  ;Sound to play on hit
guardsound = 21, 7                ;Sound to play on guard
ground.type = High               ;Type: High, Low, Trip (def: Normal)
ground.slidetime = 5             ;Time that the opponent slides back
ground.hittime  = 25             ;Time opponent is in hit state
ground.velocity = -3             ;Velocity at which opponent is pushed
airguard.velocity = -2,0.5     ;Guard velocity in air (def: (air.xvel*1.5, air.yvel/2))
air.type = High                  ;Type: High, Low, Trip (def: same as ground.type)
air.velocity = -1.4,0.5           ;X-velocity at which opponent is pushed,
                               ;Y-velocity at which opponent is pushed
air.hittime = 25

[State 0, TargetState]
type = TargetState
trigger1 = enemy(cond((enemy(0),alive),0,1)), var(30) = 0
trigger1 = movehit
value = 106000

[State 0, AngleDraw]
type = AngleDraw
trigger1 = 1
value = 4*sin(10)
scale = 0.3,0.3
ignorehitpause = 1

[State 0, VelSet]
type = VelSet
trigger1 = time = 0
x = -14*sin(0.038)
y = 14*cos(0.038)

[State 210, 2]
type = AfterImage
trigger1 = time = 0
time = 30
length = 6
palcolor = 256
palinvertall = 0
palbright = 0,0,0
palcontrast = 160,160,160
palpostbright = 0,0,0
paladd = -30,-30,-30
palmul = 1,1,1
timegap = 1
framegap = 1
trans = add1

[State 0, DestroySelf]
type = velset
trigger1 = pos y > -50
x = 0
y = 0

[State 7500, Explod]
type = Explod
ownpal = 1
trigger1 = vel y = 0
trigger1 = anim != 30311
anim = 1015
ID = 1015
pos = -5,50
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
scale = 0.5,0.5
sprpriority = 2
removeongethit = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = vel y = 0
trigger1 = anim != 30311
value = F15,0

[State 0, EnvShake]
type = EnvShake
trigger1 = vel y = 0
trigger1 = anim != 30311
time = 5
freq = 60
ampl = -3
phase = 90

[State 0, ChangeAnim]
type = ChangeAnim
trigger1 = vel y = 0
trigger1 = anim != 30311
value = 30311

[State -2, Explod]
type = Explod
ownpal = 1
trigger1 = anim = 30311
trigger1 = animtime = 0
anim = 30131
ID = 30131
pos = 0,20
facing = -1
vel = -0.3,-0.7
accel = 0,0.02
postype = p1
bindtime = 1
removetime = 56
scale = 0.5,0.5
sprpriority = 2
ownpal = 1
ontop = 0
supermovetime = 9999

[State -2, Explod]
type = Explod
ownpal = 1
trigger1 = anim = 30311
trigger1 = animtime = 0
anim = 30131
ID = 30131
pos = 0,20
facing = 1
vel = 0.3,-0.7
accel = 0,0.02
postype = p1
bindtime = 1
removetime = 56
scale = 0.5,0.5
sprpriority = 2
ownpal = 1
ontop = 0
supermovetime = 9999

[State -2, Explod]
type = Explod
ownpal = 1
trigger1 = anim = 30311
trigger1 = animtime = 0
anim = 30131
ID = 30131
pos = 0,20
facing = -1
vel = -0.3,0
accel = 0,0.02
postype = p1
bindtime = 1
removetime = 56
scale = 0.5,0.5
sprpriority = 2
ownpal = 1
ontop = 0
supermovetime = 9999

[State -2, Explod]
type = Explod
ownpal = 1
trigger1 = anim = 30311
trigger1 = animtime = 0
anim = 30131
ID = 30131
pos = 0,20
facing = 1
vel = 0.3,0
accel = 0,0.02
postype = p1
bindtime = 1
removetime = 56
scale = 0.5,0.5
sprpriority = 2
ownpal = 1
ontop = 0

[State -2, Explod]
type = Explod
ownpal = 1
trigger1 = anim = 30311
trigger1 = animtime = 0
anim = 30131
ID = 30131
pos = 0,40
facing = -1
vel = -0.3,-0.7
accel = 0,0.02
postype = p1
bindtime = 1
removetime = 56
scale = 0.5,0.5
sprpriority = 2
ownpal = 1
ontop = 0

[State -2, Explod]
type = Explod
ownpal = 1
trigger1 = anim = 30311
trigger1 = animtime = 0
anim = 30131
ID = 30131
pos = 0,40
facing = 1
vel = 0.3,-0.7
accel = 0,0.02
postype = p1
bindtime = 1
removetime = 56
scale = 0.5,0.5
sprpriority = 2
ownpal = 1
ontop = 0
supermovetime = 9999

[State -2, Explod]
type = Explod
ownpal = 1
trigger1 = anim = 30311
trigger1 = animtime = 0
anim = 30131
ID = 30131
pos = 0,40
facing = -1
vel = -0.3,0
accel = 0,0.02
postype = p1
bindtime = 1
removetime = 56
scale = 0.5,0.5
sprpriority = 2
ownpal = 1
ontop = 0
supermovetime = 9999

[State -2, Explod]
type = Explod
ownpal = 1
trigger1 = anim = 30311
trigger1 = animtime = 0
anim = 30131
ID = 30131
pos = 0,40
facing = 1
vel = 0.3,0
accel = 0,0.02
postype = p1
bindtime = 1
removetime = 56
scale = 0.5,0.5
sprpriority = 2
ownpal = 1
supermovetime = 9999
ontop = 0

[State 0, DestroySelf]
type = DestroySelf
trigger1 = anim = 30311
trigger1 = animtime = 0
ignorehitpause = 1

;---------------------------------------------------------------------------
;Sword Big 2
[Statedef 30320]
type    = S
movetype= I
physics = N
juggle  = 4
ctrl = 0                       ;Set ctrl (Def: no change)
anim = 30310                       ;Change animation (Def: no change)
sprpriority= 1

[State 0, VarSet]
type = VarSet
trigger1 = time = 0
v = 13
value = enemynear(0),ID

[State 0, VarSet]
type = VarSet
trigger1 = time = 0
trigger1 = playerID(var(13)),alive=0
v = 13
value = enemynear(1),ID

[State 0, PosSet]
type = PosSet
trigger1 = time = 0
y = -415
x = playerID(var(13)),pos x - 10

[State 0, VelSet]
type = Veladd
trigger1 = pos x - playerID(var(13)),pos x != [-12,-8]
x = -facing*cond((pos x-playerID(var(13)),pos x)<-10,-0.1,0.1)

[State 0, VelSet]
type = Velset
trigger1 = ABS(vel x)>2
x = cond(vel x<0,-2,2)

[State 0, VelSet]
type = VelSet
trigger1 = pos x - playerID(var(13)),pos x = [-11,-9]
x = 0

[State -2, Explod]
type = Explod
ownpal = 1
trigger1 = timemod = 10,0
trigger1 = time <= 40
anim = 30131
ID = 30131
pos = 0,60-random%40
facing = cond(random%2=0,-1,1)
vel = -0.3,-0.5
accel = 0,0.02
postype = p1
bindtime = 1
removetime = 56
scale = 0.5,0.5
sprpriority = 2
ownpal = 1
ontop = 0
supermovetime = 9999

[State -2, Explod]
type = Explod
ownpal = 1
trigger1 = timemod = 10,5
trigger1 = time <= 40
anim = 30131
ID = 30131
pos = 0,60-random%40
facing = cond(random%2=0,1,-1)
vel = 0.3,-0.5
accel = 0,0.02
postype = p1
bindtime = 1
removetime = 56
scale = 0.5,0.5
sprpriority = 2
ownpal = 1
ontop = 0
supermovetime = 9999

[State 0, AngleDraw]
type = AngleDraw
trigger1 = time <= 40
value = 4*sin(time/12)
scale = 0.1+time*0.005,0.1+time*0.005
ignorehitpause = 1

[State 0, Trans]
type = Trans
trigger1 = time <= 40
trans = addalpha
alpha = time*6.4,256-time*6.4

[State 0, AngleDraw]
type = AngleDraw
trigger1 = time > 40
value = 4*sin(time/12)
scale = 0.3,0.3
ignorehitpause = 1

[State 200, 2]
type = ChangeState
trigger1 = time = 100
value = 30321

;---------------------------------------------------------------------------
;Sword Big 2  Attack
[Statedef 30321]
type    = S
movetype= A
physics = N

[State -2, Explod]
type = Explod
ownpal = 1
trigger1 = anim = 30311
persistent = 0
anim = F1190
pos = 0,-pos y
facing = 1
postype = p1
bindtime = 1
removetime = -2
scale = 0.5,0.8
sprpriority = 2
ownpal = 1
supermovetime = 9999
ontop = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = F14,6

[State 0, PlaySnd]
type = PlaySnd
trigger1 = anim = 30311
persistent = 0
value = F15,4

[State 200, 1]
type = HitDef
givepower = 0
getpower = 0
fall.yvelocity = -6
trigger1 = !movecontact
attr = S, NA                     ;Attribute: Standing, Normal Attack
getpower = 0,0
damage = 125,25                 ;Damage that move inflicts, guard damage
animtype = Light                 ;Animation type: Light, Medium, Heavy, Back (def: Light)
guardflag = MA                   ;Flags on how move is to be guarded against
hitflag = MAF                    ;Flags of conditions that move can hit
priority = 3, Hit                ;Attack priority: 0 (least) to 7 (most), 4 default                                 ;Hit/Miss/Dodge type (Def: Hit)
pausetime = 1,2                 ;Time attacker pauses, time opponent shakes
sparkno = 0+random%4                  ;Spark anim no (Def: set above)
sparkxy = -15,50               ;Spark x y
                                ;Y-offset for the spark rel. to p1
hitsound = 24, 3                  ;Sound to play on hit
guardsound = 21, 7                ;Sound to play on guard
ground.type = High               ;Type: High, Low, Trip (def: Normal)
ground.slidetime = 5             ;Time that the opponent slides back
ground.hittime  = 25             ;Time opponent is in hit state
ground.velocity = 3             ;Velocity at which opponent is pushed
airguard.velocity = 2,0.5    ;Guard velocity in air (def: (air.xvel*1.5, air.yvel/2))
air.type = High                  ;Type: High, Low, Trip (def: same as ground.type)
air.velocity = 1.4,0.5           ;X-velocity at which opponent is pushed,
                               ;Y-velocity at which opponent is pushed
air.hittime = 25

[State 0, TargetState]
type = TargetState
trigger1 = enemy(cond((enemy(0),alive),0,1)), var(30) = 0
trigger1 = movehit
value = 106000

[State 0, AngleDraw]
type = AngleDraw
trigger1 = 1
value = 4*sin(100/12)
scale = 0.3,0.3
ignorehitpause = 1

[State 210, 2]
type = AfterImage
trigger1 = time = 0
time = 30
length = 6
palcolor = 256
palinvertall = 0
palbright = 0,0,0
palcontrast = 160,160,160
palpostbright = 0,0,0
paladd = -30,-30,-30
palmul = 1,1,1
timegap = 1
framegap = 1
trans = add1

[State 0, VelSet]
type = VelSet
trigger1 = time = 0
x = -13*sin(-0.015)
y = 13*cos(-0.015)

[State 0, DestroySelf]
type = velset
trigger1 = pos y > -47
x = 0
y = 0

[State 7500, Explod]
type = Explod
ownpal = 1
trigger1 = vel y = 0
trigger1 = anim != 30311
anim = 1015
ID = 1015
pos = 5,50
postype = p1  ;p2,front,back,left,right
facing = -1
vfacing = 1
bindtime = 1
removetime = -2
scale = 0.5,0.5
sprpriority = 2
removeongethit = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = vel y = 0
trigger1 = anim != 30311
value = F15,0

[State 0, EnvShake]
type = EnvShake
trigger1 = vel y = 0
trigger1 = anim != 30311
time = 5
freq = 60
ampl = -3
phase = 90

[State 0, ChangeAnim]
type = ChangeAnim
trigger1 = vel y = 0
trigger1 = anim != 30311
value = 30311

[State -2, Explod]
type = Explod
ownpal = 1
trigger1 = anim = 30311
trigger1 = animtime = 0
anim = 30131
ID = 30131
pos = 0,20
facing = -1
vel = -0.3,-0.7
accel = 0,0.02
postype = p1
bindtime = 1
removetime = 56
scale = 0.5,0.5
sprpriority = 2
ownpal = 1
supermovetime = 9999
ontop = 0

[State -2, Explod]
type = Explod
ownpal = 1
trigger1 = anim = 30311
trigger1 = animtime = 0
anim = 30131
ID = 30131
pos = 0,20
facing = 1
vel = 0.3,-0.7
accel = 0,0.02
postype = p1
bindtime = 1
removetime = 56
scale = 0.5,0.5
sprpriority = 2
ownpal = 1
ontop = 0
supermovetime = 9999

[State -2, Explod]
type = Explod
ownpal = 1
trigger1 = anim = 30311
trigger1 = animtime = 0
anim = 30131
ID = 30131
pos = 0,20
facing = -1
vel = -0.3,0
accel = 0,0.02
postype = p1
bindtime = 1
removetime = 56
scale = 0.5,0.5
sprpriority = 2
ownpal = 1
ontop = 0
supermovetime = 9999

[State -2, Explod]
type = Explod
ownpal = 1
trigger1 = anim = 30311
trigger1 = animtime = 0
anim = 30131
ID = 30131
pos = 0,20
facing = 1
vel = 0.3,0
accel = 0,0.02
postype = p1
bindtime = 1
removetime = 56
scale = 0.5,0.5
sprpriority = 2
ownpal = 1
ontop = 0
supermovetime = 9999

[State -2, Explod]
type = Explod
ownpal = 1
trigger1 = anim = 30311
trigger1 = animtime = 0
anim = 30131
ID = 30131
pos = 0,40
facing = -1
vel = -0.3,-0.7
accel = 0,0.02
postype = p1
bindtime = 1
removetime = 56
scale = 0.5,0.5
sprpriority = 2
ownpal = 1
ontop = 0
supermovetime = 9999

[State -2, Explod]
type = Explod
ownpal = 1
trigger1 = anim = 30311
trigger1 = animtime = 0
anim = 30131
ID = 30131
pos = 0,40
facing = 1
vel = 0.3,-0.7
accel = 0,0.02
postype = p1
bindtime = 1
removetime = 56
scale = 0.5,0.5
sprpriority = 2
ownpal = 1
ontop = 0
supermovetime = 9999

[State -2, Explod]
type = Explod
ownpal = 1
trigger1 = anim = 30311
trigger1 = animtime = 0
anim = 30131
ID = 30131
pos = 0,40
facing = -1
vel = -0.3,0
accel = 0,0.02
postype = p1
bindtime = 1
removetime = 56
scale = 0.5,0.5
sprpriority = 2
ownpal = 1
ontop = 0
supermovetime = 9999

[State -2, Explod]
type = Explod
ownpal = 1
trigger1 = anim = 30311
trigger1 = animtime = 0
anim = 30131
ID = 30131
pos = 0,40
facing = 1
vel = 0.3,0
accel = 0,0.02
postype = p1
bindtime = 1
removetime = 56
scale = 0.5,0.5
sprpriority = 2
ownpal = 1
ontop = 0
supermovetime = 9999

[State 0, DestroySelf]
type = DestroySelf
trigger1 = anim = 30311
trigger1 = animtime = 0
ignorehitpause = 1

;---------------------------------------------------------------------------
;Sword Small 1
[Statedef 30330]
type    = S
movetype= I
physics = N
juggle  = 4
ctrl = 0                       ;Set ctrl (Def: no change)
anim = 30320                       ;Change animation (Def: no change)
sprpriority= 1

[State 0, VarSet]
type = VarSet
trigger1 = time = 0
v = 13
value = enemynear(0),ID

[State 0, VarSet]
type = VarSet
trigger1 = time = 0
trigger1 = playerID(var(13)),alive=0
v = 13
value = enemynear(1),ID

[State 0, PosSet]
type = PosSet
trigger1 = time = 0
y = -410
x = playerID(var(13)),pos x + 15

[State 0, VelSet]
type = VelAdd
trigger1 = pos x - playerID(var(13)),pos x != [13,17]
x = -facing*cond((pos x-playerID(var(13)),pos x)>15,0.1,-0.1)

[State 0, VelSet]
type = Velset
trigger1 = ABS(vel x)>2
x = cond(vel x<0,-2,2)

[State 0, VelSet]
type = VelSet
trigger1 = pos x - playerID(var(13)),pos x = [14,16]
x = 0

[State -2, Explod]
type = Explod
ownpal = 1
trigger1 = timemod = 10,0
trigger1 = time <= 40
anim = 30131
ID = 30131
pos = 0,60-random%40
facing = cond(random%2=0,-1,1)
vel = -0.3,-0.5
accel = 0,0.02
postype = p1
bindtime = 1
removetime = 56
scale = 0.5,0.5
sprpriority = 2
ownpal = 1
ontop = 0
supermovetime = 9999

[State -2, Explod]
type = Explod
ownpal = 1
trigger1 = timemod = 10,5
trigger1 = time <= 40
anim = 30131
ID = 30131
pos = 0,60-random%40
facing = cond(random%2=0,1,-1)
vel = 0.3,-0.5
accel = 0,0.02
postype = p1
bindtime = 1
removetime = 56
scale = 0.5,0.5
sprpriority = 2
ownpal = 1
ontop = 0
supermovetime = 9999

[State 0, AngleDraw]
type = AngleDraw
trigger1 = time <= 40
value = 4*sin(time/12)
scale = 0.1+time*0.005,0.1+time*0.005
ignorehitpause = 1

[State 0, Trans]
type = Trans
trigger1 = time <= 40
trans = addalpha
alpha = time*6.4,256-time*6.4

[State 0, AngleDraw]
type = AngleDraw
trigger1 = time > 40
value = 4*sin(time/11)
scale = 0.3,0.3
ignorehitpause = 1

[State 200, 2]
type = ChangeState
trigger1 = time = 100
value = 30331

;---------------------------------------------------------------------------
;Sword Small 1  Attack
[Statedef 30331]
type    = S
movetype= A
physics = N

[State -2, Explod]
type = Explod
ownpal = 1
trigger1 = anim = 30311
persistent = 0
anim = F1190
pos = 0,-pos y
facing = 1
postype = p1
bindtime = 1
removetime = -2
scale = 0.4,0.6
sprpriority = 2
ownpal = 1
supermovetime = 9999
ontop = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = F14,6

[State 0, PlaySnd]
type = PlaySnd
trigger1 = anim = 30311
persistent = 0
value = F15,4

[State 200, 1]
type = HitDef
givepower = 0
getpower = 0
fall.yvelocity = -6
trigger1 = !movecontact
attr = S, NA                     ;Attribute: Standing, Normal Attack
getpower = 0,0
damage = 90,18                 ;Damage that move inflicts, guard damage
animtype = Light                 ;Animation type: Light, Medium, Heavy, Back (def: Light)
guardflag = MA                   ;Flags on how move is to be guarded against
hitflag = MAF                    ;Flags of conditions that move can hit
priority = 3, Hit                ;Attack priority: 0 (least) to 7 (most), 4 default                                 ;Hit/Miss/Dodge type (Def: Hit)
pausetime = 1,2                 ;Time attacker pauses, time opponent shakes
sparkno = 0+random%4                  ;Spark anim no (Def: set above)
sparkxy = -15,50                ;Spark x y
                                ;Y-offset for the spark rel. to p1
hitsound = 24, 3                  ;Sound to play on hit
guardsound = 21, 7                ;Sound to play on guard
ground.type = High               ;Type: High, Low, Trip (def: Normal)
ground.slidetime = 5             ;Time that the opponent slides back
ground.hittime  = 25             ;Time opponent is in hit state
ground.velocity = -3             ;Velocity at which opponent is pushed
airguard.velocity = -2,0.5     ;Guard velocity in air (def: (air.xvel*1.5, air.yvel/2))
air.type = High                  ;Type: High, Low, Trip (def: same as ground.type)
air.velocity = -1.4,0.5           ;X-velocity at which opponent is pushed,
                               ;Y-velocity at which opponent is pushed
air.hittime = 25

[State 0, TargetState]
type = TargetState
trigger1 = enemy(cond((enemy(0),alive),0,1)), var(30) = 0
trigger1 = movehit
value = 106000

[State 0, AngleDraw]
type = AngleDraw
trigger1 = 1
value = 4*sin(100/11)
scale = 0.3,0.3
ignorehitpause = 1

[State 210, 2]
type = AfterImage
trigger1 = time = 0
time = 30
length = 6
palcolor = 256
palinvertall = 0
palbright = 0,0,0
palcontrast = 160,160,160
palpostbright = 0,0,0
paladd = -30,-30,-30
palmul = 1,1,1
timegap = 1
framegap = 1
trans = add1

[State 0, VelSet]
type = VelSet
trigger1 = time = 0
x = -13*sin(-0.006)
y = 13*cos(-0.006)

[State 0, DestroySelf]
type = velset
trigger1 = pos y > -30
x = 0
y = 0

[State 7500, Explod]
type = Explod
ownpal = 1
trigger1 = vel y = 0
trigger1 = anim != 30321
anim = 1015
ID = 1015
pos = 0,25
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
scale = 0.3,0.3
sprpriority = 2
removeongethit = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = vel y = 0
trigger1 = anim != 30321
value = F15,0

[State 0, EnvShake]
type = EnvShake
trigger1 = vel y = 0
trigger1 = anim != 30321
time = 5
freq = 60
ampl = -3
phase = 90

[State 0, ChangeAnim]
type = ChangeAnim
trigger1 = vel y = 0
trigger1 = anim != 30321
value = 30321

[State -2, Explod]
type = Explod
ownpal = 1
trigger1 = anim = 30321
trigger1 = animtime = 0
anim = 30131
ID = 30131
pos = 0,20
facing = -1
vel = -0.3,-0.7
accel = 0,0.02
postype = p1
bindtime = 1
removetime = 56
scale = 0.5,0.5
sprpriority = 2
ownpal = 1
ontop = 0
supermovetime = 9999

[State -2, Explod]
type = Explod
ownpal = 1
trigger1 = anim = 30321
trigger1 = animtime = 0
anim = 30131
ID = 30131
pos = 0,20
facing = 1
vel = 0.3,-0.7
accel = 0,0.02
postype = p1
bindtime = 1
removetime = 56
scale = 0.5,0.5
sprpriority = 2
ownpal = 1
ontop = 0
supermovetime = 9999

[State -2, Explod]
type = Explod
ownpal = 1
trigger1 = anim = 30321
trigger1 = animtime = 0
anim = 30131
ID = 30131
pos = 0,20
facing = -1
vel = -0.3,0
accel = 0,0.02
postype = p1
bindtime = 1
removetime = 56
scale = 0.5,0.5
sprpriority = 2
ownpal = 1
supermovetime = 9999
ontop = 0

[State -2, Explod]
type = Explod
ownpal = 1
trigger1 = anim = 30321
trigger1 = animtime = 0
anim = 30131
ID = 30131
pos = 0,20
facing = 1
vel = 0.3,0
accel = 0,0.02
postype = p1
bindtime = 1
removetime = 56
scale = 0.5,0.5
sprpriority = 2
ownpal = 1
ontop = 0
supermovetime = 9999

[State 0, DestroySelf]
type = DestroySelf
trigger1 = anim = 30321
trigger1 = animtime = 0
ignorehitpause = 1

;---------------------------------------------------------------------------
;Sword Small 2
[Statedef 30340]
type    = S
movetype= I
physics = N
juggle  = 4
ctrl = 0                       ;Set ctrl (Def: no change)
anim = 30320                       ;Change animation (Def: no change)
sprpriority= 2

[State 0, VarSet]
type = VarSet
trigger1 = time = 0
v = 13
value = enemynear(0),ID

[State 0, VarSet]
type = VarSet
trigger1 = time = 0
trigger1 = playerID(var(13)),alive=0
v = 13
value = enemynear(1),ID

[State 0, PosSet]
type = PosSet
trigger1 = time = 0
y = -420
x = playerID(var(13)),pos x - 20

[State 0, VelSet]
type = VelAdd
trigger1 = pos x - playerID(var(13)),pos x != [-22,-18]
x = -facing*cond((pos x-playerID(var(13)),pos x)<-20,-0.1,0.1)

[State 0, VelSet]
type = Velset
trigger1 = ABS(vel x)>2
x = cond(vel x<0,-2,2)

[State 0, VelSet]
type = VelSet
trigger1 = pos x - playerID(var(13)),pos x = [-21,-19]
x = 0

[State -2, Explod]
type = Explod
ownpal = 1
trigger1 = timemod = 10,0
trigger1 = time <= 40
anim = 30131
ID = 30131
pos = 0,60-random%40
facing = cond(random%2=0,-1,1)
vel = -0.3,-0.5
accel = 0,0.02
postype = p1
bindtime = 1
removetime = 56
scale = 0.5,0.5
sprpriority = 2
ownpal = 1
ontop = 0
supermovetime = 9999

[State -2, Explod]
type = Explod
ownpal = 1
trigger1 = timemod = 10,5
trigger1 = time <= 40
anim = 30131
ID = 30131
pos = 0,60-random%40
facing = cond(random%2=0,1,-1)
vel = 0.3,-0.5
accel = 0,0.02
postype = p1
bindtime = 1
removetime = 56
scale = 0.5,0.5
sprpriority = 2
ownpal = 1
ontop = 0
supermovetime = 9999

[State 0, AngleDraw]
type = AngleDraw
trigger1 = time <= 40
value = 4*sin(time/9)
scale = 0.1+time*0.005,0.1+time*0.005
ignorehitpause = 1

[State 0, Trans]
type = Trans
trigger1 = time <= 40
trans = addalpha
alpha = time*6.4,256-time*6.4

[State 0, AngleDraw]
type = AngleDraw
trigger1 = time > 40
value = 4*sin(time/9)
scale = 0.3,0.3
ignorehitpause = 1

[State 200, 2]
type = ChangeState
trigger1 = time = 100
value = 30341

;---------------------------------------------------------------------------
;Sword Small 2  Attack
[Statedef 30341]
type    = S
movetype= A
physics = N

[State -2, Explod]
type = Explod
ownpal = 1
trigger1 = anim = 30311
persistent = 0
anim = F1190
pos = 0,-pos y
facing = 1
postype = p1
bindtime = 1
removetime = -2
scale = 0.4,0.6
sprpriority = 2
ownpal = 1
supermovetime = 9999
ontop = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = F14,6

[State 0, PlaySnd]
type = PlaySnd
trigger1 = anim = 30311
persistent = 0
value = F15,4

[State 200, 1]
type = HitDef
givepower = 0
getpower = 0
fall.yvelocity = -6
trigger1 = !movecontact
attr = S, NA                     ;Attribute: Standing, Normal Attack
getpower = 0,0
damage = 90,18                 ;Damage that move inflicts, guard damage
animtype = Light                 ;Animation type: Light, Medium, Heavy, Back (def: Light)
guardflag = MA                   ;Flags on how move is to be guarded against
hitflag = MAF                    ;Flags of conditions that move can hit
priority = 3, Hit                ;Attack priority: 0 (least) to 7 (most), 4 default                                 ;Hit/Miss/Dodge type (Def: Hit)
pausetime = 1,2                 ;Time attacker pauses, time opponent shakes
sparkno = 0+random%4                  ;Spark anim no (Def: set above)
sparkxy = -15,50                ;Spark x y
                                ;Y-offset for the spark rel. to p1
hitsound = 24, 3                  ;Sound to play on hit
guardsound = 21, 7                ;Sound to play on guard
ground.type = High               ;Type: High, Low, Trip (def: Normal)
ground.slidetime = 5             ;Time that the opponent slides back
ground.hittime  = 25             ;Time opponent is in hit state
ground.velocity = 3             ;Velocity at which opponent is pushed
airguard.velocity = 2,0.5     ;Guard velocity in air (def: (air.xvel*1.5, air.yvel/2))
air.type = High                  ;Type: High, Low, Trip (def: same as ground.type)
air.velocity = 1.4,0.5           ;X-velocity at which opponent is pushed,
                               ;Y-velocity at which opponent is pushed
air.hittime = 25

[State 0, TargetState]
type = TargetState
trigger1 = enemy(cond((enemy(0),alive),0,1)), var(30) = 0
trigger1 = movehit
value = 106000

[State 0, AngleDraw]
type = AngleDraw
trigger1 = 1
value = 4*sin(100/9)
scale = 0.3,0.3
ignorehitpause = 1

[State 210, 2]
type = AfterImage
trigger1 = time = 0
time = 30
length = 6
palcolor = 256
palinvertall = 0
palbright = 0,0,0
palcontrast = 160,160,160
palpostbright = 0,0,0
paladd = -30,-30,-30
palmul = 1,1,1
timegap = 1
framegap = 1
trans = add1

[State 0, VelSet]
type = VelSet
trigger1 = time = 0
x = -15*sin(0.031)
y = 15*cos(0.031)

[State 0, DestroySelf]
type = velset
trigger1 = pos y > -30
x = 0
y = 0

[State 7500, Explod]
type = Explod
ownpal = 1
trigger1 = vel y = 0
trigger1 = anim != 30321
anim = 1015
ID = 1015
pos = 0,25
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
scale = 0.3,0.3
sprpriority = 3
removeongethit = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = vel y = 0
trigger1 = anim != 30321
value = F15,0

[State 0, EnvShake]
type = EnvShake
trigger1 = vel y = 0
trigger1 = anim != 30321
time = 5
freq = 60
ampl = -3
phase = 90

[State 0, ChangeAnim]
type = ChangeAnim
trigger1 = vel y = 0
trigger1 = anim != 30321
value = 30321

[State -2, Explod]
type = Explod
ownpal = 1
trigger1 = anim = 30321
trigger1 = animtime = 0
anim = 30131
ID = 30131
pos = 0,20
facing = -1
vel = -0.3,-0.7
accel = 0,0.02
postype = p1
bindtime = 1
removetime = 56
scale = 0.5,0.5
sprpriority = 2
ownpal = 1
ontop = 0
supermovetime = 9999

[State -2, Explod]
type = Explod
ownpal = 1
trigger1 = anim = 30321
trigger1 = animtime = 0
anim = 30131
ID = 30131
pos = 0,20
facing = 1
vel = 0.3,-0.7
accel = 0,0.02
postype = p1
bindtime = 1
removetime = 56
scale = 0.5,0.5
sprpriority = 2
ownpal = 1
ontop = 0
supermovetime = 9999

[State -2, Explod]
type = Explod
ownpal = 1
trigger1 = anim = 30321
trigger1 = animtime = 0
anim = 30131
ID = 30131
pos = 0,20
facing = -1
vel = -0.3,0
accel = 0,0.02
postype = p1
bindtime = 1
removetime = 56
scale = 0.5,0.5
sprpriority = 2
ownpal = 1
supermovetime = 9999
ontop = 0

[State -2, Explod]
type = Explod
ownpal = 1
trigger1 = anim = 30321
trigger1 = animtime = 0
anim = 30131
ID = 30131
pos = 0,20
facing = 1
vel = 0.3,0
accel = 0,0.02
postype = p1
bindtime = 1
removetime = 56
scale = 0.5,0.5
sprpriority = 2
ownpal = 1
ontop = 0
supermovetime = 9999

[State 0, DestroySelf]
type = DestroySelf
trigger1 = anim = 30321
trigger1 = animtime = 0
ignorehitpause = 1

;---------------------------------------------------------------------------
;Kazekage Iron Swords Aimed
[Statedef 30350]
type    = S
movetype= I
physics = S
juggle  = 4
poweradd= 0
velset = 0,0
ctrl = 0                       ;Set ctrl (Def: no change)
anim = 30300 

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
value = F8,0+random%5

[State 0, PlaySnd]
type = PlaySnd
trigger1 =  animelem = 1
value = S6,1                       ;Change animation (Def: no change)

[State 0, VarAdd]
type = VarAdd
trigger1 = time = 5
trigger2 = time = 10
trigger3 = time = 15
trigger4 = time = 20
v = 2    ;fv =
value = -125

[State 0, Helper]
type = Helper
trigger1 = time = 5
helpertype = normal ;player
name = "Sword Aimed 1"
ID = 30350
stateno = 30360
pos = 30,-50
postype = p2    ;p2,front,back,left,right
facing = 1
ownpal = 1

[State 0, Helper]
type = Helper
trigger1 = time = 10
helpertype = normal ;player
name = "Sword Aimed 2"
ID = 30350
stateno = 30365
pos = -30,-50
postype = p2    ;p2,front,back,left,right
facing = 1
ownpal = 1

[State 0, Helper]
type = Helper
trigger1 = time = 15
helpertype = normal ;player
name = "Sword Aimed 3"
ID = 30350
stateno = 30370
pos = 30,-30
postype = p2    ;p2,front,back,left,right
facing = 1
ownpal = 1

[State 0, Helper]
type = Helper
trigger1 = time = 20
helpertype = normal ;player
name = "Sword Aimed 4"
ID = 30350
stateno = 30375
pos = -30,-30
postype = p2    ;p2,front,back,left,right
facing = 1
ownpal = 1

[State 0, Helper]
type = Helper
trigger1 = time = 25
helpertype = normal ;player
name = "Sword Aimed 5"
ID = 30350
stateno = 30380
pos = 30,-10
postype = p2    ;p2,front,back,left,right
facing = 1
ownpal = 1

[State 0, Helper]
type = Helper
trigger1 = time = 30
helpertype = normal ;player
name = "Sword Aimed 6"
ID = 30350
stateno = 30385
pos = -30,-10
postype = p2    ;p2,front,back,left,right
facing = 1
ownpal = 1

[State 200, 2]
type = ChangeState
trigger1 = time = 35
value = 30000

;---------------------------------------------------------------------------
;Sword Aimed 1
[Statedef 30360]
type    = S
movetype= I
physics = N
juggle  = 4
ctrl = 0                       ;Set ctrl (Def: no change)
anim = 30350                       ;Change animation (Def: no change)
sprpriority= 1

[State -2, Explod]
type = Explod
ownpal = 1
trigger1 = pos y >= 0
persistent = 0
anim = F1200
pos = 0,0
facing = 1
postype = p1
bindtime = 1
removetime = -2
scale = 0.8,0.8
sprpriority = 2
ownpal = 1
supermovetime = 9999
ontop = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = pos y >= 0
persistent = 0 
value = F15,4

[State 0, Turn]
type = Turn
trigger1 = facing = 1

[State 0, VarSet]
type = VarSet
trigger1 = time = 0
v = 13
value = enemynear(0),ID

[State 0, VarSet]
type = VarSet
trigger1 = time = 0
trigger1 = playerID(var(13)),alive=0
v = 13
value = enemynear(1),ID

[State 0, PosSet]
type = PosSet
trigger1 = time < 100
x = playerID(var(13)),pos x + 70

[State 0, VelSet]
type = Veladd
trigger1 = pos y - playerID(var(13)),pos y != [-54,-46]
triggerall = time < 100
y = cond((pos y-playerID(var(13)),pos y)<-50,0.2,-0.2)

[State 0, VelSet]
type = Velset
trigger1 = ABS(vel y)>2.5
triggerall = time < 100
y = cond(vel y<0,-2.5,2.5)

[State 0, VelSet]
type = VelSet
trigger1 = pos y - playerID(var(13)),pos y = [-53,-47]
triggerall = time < 100
y = 0

[State -2, Explod]
type = Explod
ownpal = 1
trigger1 = timemod = 10,0
trigger1 = time <= 40
anim = 30131
ID = 30131
pos = 20-random%40,0
facing = cond(random%2=0,-1,1)
vel = -0.3,-0.5
accel = 0,0.02
postype = p1
bindtime = 1
removetime = 56
scale = 0.5,0.5
sprpriority = 2
ownpal = 1
ontop = 0
supermovetime = 9999

[State -2, Explod]
type = Explod
ownpal = 1
trigger1 = timemod = 10,5
trigger1 = time <= 40
anim = 30131
ID = 30131
pos = 20-random%40,0
facing = cond(random%2=0,1,-1)
vel = 0.3,-0.5
accel = 0,0.02
postype = p1
bindtime = 1
removetime = 56
scale = 0.5,0.5
sprpriority = 2
ownpal = 1
supermovetime = 9999
ontop = 0

[State 0, AngleDraw]
type = AngleDraw
trigger1 = time <= 40
value = 80
scale = 0.15+time*0.005,0.15+time*0.005
ignorehitpause = 1

[State 0, Trans]
type = Trans
trigger1 = time <= 40
trans = addalpha
alpha = time*6.4,256-time*6.4

[State 0, AngleDraw]
type = AngleDraw
trigger1 = time > 40
value = 80
scale = 0.35,0.35
ignorehitpause = 1

[State 0, StateTypeSet]
type = StateTypeSet
trigger1 = time = 110
movetype = A

[State 200, 1]
type = HitDef
givepower = 0
getpower = 0
fall.yvelocity = -6
trigger1 = !movecontact
attr = S, NA                     ;Attribute: Standing, Normal Attack
getpower = 0,0
damage = 100,20                 ;Damage that move inflicts, guard damage
animtype = Light                 ;Animation type: Light, Medium, Heavy, Back (def: Light)
guardflag = MA                   ;Flags on how move is to be guarded against
hitflag = MAF                    ;Flags of conditions that move can hit
priority = 3, Hit                ;Attack priority: 0 (least) to 7 (most), 4 default                                 ;Hit/Miss/Dodge type (Def: Hit)
pausetime = 1,2                 ;Time attacker pauses, time opponent shakes
sparkno = 0+random%4                  ;Spark anim no (Def: set above)
sparkxy = -random%21,-15                 ;Spark x y
                                ;Y-offset for the spark rel. to p1
hitsound = 24, 3                  ;Sound to play on hit
guardsound = 21, 7                ;Sound to play on guard
ground.type = High               ;Type: High, Low, Trip (def: Normal)
ground.slidetime = 5             ;Time that the opponent slides back
ground.hittime  = 25             ;Time opponent is in hit state
ground.velocity = -3             ;Velocity at which opponent is pushed
airguard.velocity = -2,0.5     ;Guard velocity in air (def: (air.xvel*1.5, air.yvel/2))
air.type = High                  ;Type: High, Low, Trip (def: same as ground.type)
air.velocity = -1.4,0.5           ;X-velocity at which opponent is pushed,
                               ;Y-velocity at which opponent is pushed
air.hittime = 25

[State 0, TargetState]
type = TargetState
trigger1 = enemy(cond((enemy(0),alive),0,1)), var(30) = 0
trigger1 = movehit
value = 106000

[State 0, VelSet]
type = VelSet
trigger1 = time = 110
x = 11*sin(1.4)
y = 11*cos(1.4)

[State 210, 2]
type = AfterImage
trigger1 = time = 110
time = 30
length = 6
palcolor = 256
palinvertall = 0
palbright = 0,0,0
palcontrast = 160,160,160
palpostbright = 0,0,0
paladd = -30,-30,-30
palmul = 1,1,1
timegap = 1
framegap = 1
trans = add1

[State -2, Explod]
type = Explod
ownpal = 1
trigger1 = pos y > 0
trigger2 = time = 160
anim = 30131
ID = 30131
pos = 0,0
facing = -1
vel = -0.3,-0.7
accel = 0,0.02
postype = p1
bindtime = 1
removetime = 56
scale = 0.5,0.5
sprpriority = 2
ownpal = 1
supermovetime = 9999
ontop = 0

[State -2, Explod]
type = Explod
ownpal = 1
trigger1 = pos y > 0
trigger2 = time = 160
anim = 30131
ID = 30131
pos = 0,0
facing = 1
vel = 0.3,-0.7
accel = 0,0.02
postype = p1
bindtime = 1
removetime = 56
scale = 0.5,0.5
sprpriority = 2
ownpal = 1
ontop = 0
supermovetime = 9999

[State -2, Explod]
type = Explod
ownpal = 1
trigger1 = pos y > 0
trigger2 = time = 160
anim = 30131
ID = 30131
pos = 0,0
facing = -1
vel = -0.3,0
accel = 0,0.02
postype = p1
bindtime = 1
removetime = 56
scale = 0.5,0.5
sprpriority = 2
ownpal = 1
supermovetime = 9999
ontop = 0

[State -2, Explod]
type = Explod
ownpal = 1
trigger1 = pos y > 0
trigger2 = time = 160
anim = 30131
ID = 30131
pos = 0,0
facing = 1
vel = 0.3,0
accel = 0,0.02
postype = p1
bindtime = 1
removetime = 56
scale = 0.5,0.5
sprpriority = 2
ownpal = 1
ontop = 0
supermovetime = 9999

[State 0, DestroySelf]
type = DestroySelf
trigger1 = frontedgedist < -40
trigger2 = pos y > 0
trigger3 = time = 160
ignorehitpause = 1

;---------------------------------------------------------------------------
;Sword Aimed 2
[Statedef 30365]
type    = S
movetype= I
physics = N
juggle  = 4
ctrl = 0                       ;Set ctrl (Def: no change)
anim = 30350                       ;Change animation (Def: no change)
sprpriority= 1

[State -2, Explod]
type = Explod
ownpal = 1
trigger1 = pos y >= 0
persistent = 0
anim = F1200
pos = 0,0
facing = 1
postype = p1
bindtime = 1
removetime = -2
scale = 0.8,0.8
sprpriority = 2
ownpal = 1
supermovetime = 9999
ontop = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = pos y >= 0
persistent = 0 
value = F15,4

[State 0, Turn]
type = Turn
trigger1 = facing = 1

[State 0, VarSet]
type = VarSet
trigger1 = time = 0
v = 13
value = enemynear(0),ID

[State 0, VarSet]
type = VarSet
trigger1 = time = 0
trigger1 = playerID(var(13)),alive=0
v = 13
value = enemynear(1),ID

[State 0, PosSet]
type = PosSet
trigger1 = time < 100
x = playerID(var(13)),pos x - 70

[State 0, VelSet]
type = Veladd
trigger1 = pos y - playerID(var(13)),pos y != [-54,-46]
triggerall = time < 100
y = cond((pos y-playerID(var(13)),pos y)<-50,0.2,-0.2)

[State 0, VelSet]
type = Velset
trigger1 = ABS(vel y)>2.5
triggerall = time < 100
y = cond(vel y<0,-2.5,2.5)

[State 0, VelSet]
type = VelSet
trigger1 = pos y - playerID(var(13)),pos y = [-53,-47]
triggerall = time < 100
y = 0

[State -2, Explod]
type = Explod
ownpal = 1
trigger1 = timemod = 10,0
trigger1 = time <= 40
anim = 30131
ID = 30131
pos = 20-random%40,0
facing = cond(random%2=0,-1,1)
vel = -0.3,-0.5
accel = 0,0.02
postype = p1
bindtime = 1
removetime = 56
scale = 0.5,0.5
sprpriority = 2
ownpal = 1
supermovetime = 9999
ontop = 0

[State -2, Explod]
type = Explod
ownpal = 1
trigger1 = timemod = 10,5
trigger1 = time <= 40
anim = 30131
ID = 30131
pos = 20-random%40,0
facing = cond(random%2=0,1,-1)
vel = 0.3,-0.5
accel = 0,0.02
postype = p1
bindtime = 1
removetime = 56
scale = 0.5,0.5
sprpriority = 2
ownpal = 1
supermovetime = 9999
ontop = 0

[State 0, AngleDraw]
type = AngleDraw
trigger1 = time <= 40
value = -80
scale = 0.15+time*0.005,0.15+time*0.005
ignorehitpause = 1

[State 0, Trans]
type = Trans
trigger1 = time <= 40
trans = addalpha
alpha = time*6.4,256-time*6.4

[State 0, AngleDraw]
type = AngleDraw
trigger1 = time > 40
value = -80
scale = 0.35,0.35
ignorehitpause = 1

[State 0, StateTypeSet]
type = StateTypeSet
trigger1 = time = 110
movetype = A

[State 200, 1]
type = HitDef
givepower = 0
getpower = 0
fall.yvelocity = -6
trigger1 = !movecontact
attr = S, NA                     ;Attribute: Standing, Normal Attack
getpower = 0,0
damage = 100,20                  ;Damage that move inflicts, guard damage
animtype = Light                 ;Animation type: Light, Medium, Heavy, Back (def: Light)
guardflag = MA                   ;Flags on how move is to be guarded against
hitflag = MAF                    ;Flags of conditions that move can hit
priority = 3, Hit                ;Attack priority: 0 (least) to 7 (most), 4 default                                 ;Hit/Miss/Dodge type (Def: Hit)
pausetime = 1,2                 ;Time attacker pauses, time opponent shakes
sparkno = 0+random%4                  ;Spark anim no (Def: set above)
sparkxy = -random%21,-15                 ;Spark x y
                                ;Y-offset for the spark rel. to p1
hitsound = 24, 3                  ;Sound to play on hit
guardsound = 21, 7                ;Sound to play on guard
ground.type = High               ;Type: High, Low, Trip (def: Normal)
ground.slidetime = 5             ;Time that the opponent slides back
ground.hittime  = 25             ;Time opponent is in hit state
ground.velocity = -3             ;Velocity at which opponent is pushed
airguard.velocity = -2,0.5     ;Guard velocity in air (def: (air.xvel*1.5, air.yvel/2))
air.type = High                  ;Type: High, Low, Trip (def: same as ground.type)
air.velocity = -1.4,0.5           ;X-velocity at which opponent is pushed,
                               ;Y-velocity at which opponent is pushed
air.hittime = 25

[State 0, TargetState]
type = TargetState
trigger1 = enemy(cond((enemy(0),alive),0,1)), var(30) = 0
trigger1 = movehit
value = 106000

[State 0, VelSet]
type = VelSet
trigger1 = time = 110
x = 11*sin(-1.4)
y = 11*cos(-1.4)

[State 210, 2]
type = AfterImage
trigger1 = time = 110
time = 30
length = 6
palcolor = 256
palinvertall = 0
palbright = 0,0,0
palcontrast = 160,160,160
palpostbright = 0,0,0
paladd = -30,-30,-30
palmul = 1,1,1
timegap = 1
framegap = 1
trans = add1

[State -2, Explod]
type = Explod
ownpal = 1
trigger1 = pos y > 0
trigger2 = time = 160
anim = 30131
ID = 30131
pos = 0,0
facing = -1
vel = -0.3,-0.7
accel = 0,0.02
postype = p1
bindtime = 1
removetime = 56
scale = 0.5,0.5
sprpriority = 2
ownpal = 1
ontop = 0
supermovetime = 9999

[State -2, Explod]
type = Explod
ownpal = 1
trigger1 = pos y > 0
trigger2 = time = 160
anim = 30131
ID = 30131
pos = 0,0
facing = 1
vel = 0.3,-0.7
accel = 0,0.02
postype = p1
bindtime = 1
removetime = 56
scale = 0.5,0.5
sprpriority = 2
ownpal = 1
ontop = 0
supermovetime = 9999

[State -2, Explod]
type = Explod
ownpal = 1
trigger1 = pos y > 0
trigger2 = time = 160
anim = 30131
ID = 30131
pos = 0,0
facing = -1
vel = -0.3,0
accel = 0,0.02
postype = p1
bindtime = 1
removetime = 56
scale = 0.5,0.5
sprpriority = 2
ownpal = 1
ontop = 0
supermovetime = 9999

[State -2, Explod]
type = Explod
ownpal = 1
trigger1 = pos y > 0
trigger2 = time = 160
anim = 30131
ID = 30131
pos = 0,0
facing = 1
vel = 0.3,0
accel = 0,0.02
postype = p1
bindtime = 1
removetime = 56
scale = 0.5,0.5
sprpriority = 2
ownpal = 1
ontop = 0
supermovetime = 9999

[State 0, DestroySelf]
type = DestroySelf
trigger1 = backedgedist < -40
trigger2 = pos y > 0
trigger3 = time = 160
ignorehitpause = 1

;---------------------------------------------------------------------------
;Sword Aimed 3
[Statedef 30370]
type    = S
movetype= I
physics = N
juggle  = 4
ctrl = 0                       ;Set ctrl (Def: no change)
anim = 30350                       ;Change animation (Def: no change)
sprpriority= 1

[State -2, Explod]
type = Explod
ownpal = 1
trigger1 = pos y >= 0
persistent = 0
anim = F1200
pos = 0,0
facing = 1
postype = p1
bindtime = 1
removetime = -2
scale = 0.8,0.8
sprpriority = 2
ownpal = 1
supermovetime = 9999
ontop = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = pos y >= 0
persistent = 0 
value = F15,4

[State 0, Turn]
type = Turn
trigger1 = facing = 1

[State 0, VarSet]
type = VarSet
trigger1 = time = 0
v = 13
value = enemynear(0),ID

[State 0, VarSet]
type = VarSet
trigger1 = time = 0
trigger1 = playerID(var(13)),alive=0
v = 13
value = enemynear(1),ID

[State 0, PosSet]
type = PosSet
trigger1 = time < 100
x = playerID(var(13)),pos x - 70

[State 0, VelSet]
type = Veladd
trigger1 = pos y - playerID(var(13)),pos y != [-34,-26]
triggerall = time < 100
y = cond((pos y-playerID(var(13)),pos y)<-30,0.2,-0.2)

[State 0, VelSet]
type = Velset
trigger1 = ABS(vel y)>2.5
triggerall = time < 100
y = cond(vel y<0,-2.5,2.5)

[State 0, VelSet]
type = VelSet
trigger1 = pos y - playerID(var(13)),pos y = [-33,-27]
triggerall = time < 100
y = 0

[State -2, Explod]
type = Explod
ownpal = 1
trigger1 = timemod = 10,0
trigger1 = time <= 40
anim = 30131
ID = 30131
pos = 20-random%40,0
facing = cond(random%2=0,-1,1)
vel = -0.3,-0.5
accel = 0,0.02
postype = p1
bindtime = 1
removetime = 56
scale = 0.5,0.5
sprpriority = 2
ownpal = 1
ontop = 0
supermovetime = 9999

[State -2, Explod]
type = Explod
ownpal = 1
trigger1 = timemod = 10,5
trigger1 = time <= 40
anim = 30131
ID = 30131
pos = 20-random%40,0
facing = cond(random%2=0,1,-1)
vel = 0.3,-0.5
accel = 0,0.02
postype = p1
bindtime = 1
removetime = 56
scale = 0.5,0.5
sprpriority = 2
ownpal = 1
ontop = 0
supermovetime = 9999

[State 0, AngleDraw]
type = AngleDraw
trigger1 = time <= 40
value = -90
scale = 0.15+time*0.005,0.15+time*0.005
ignorehitpause = 1

[State 0, Trans]
type = Trans
trigger1 = time <= 40
trans = addalpha
alpha = time*6.4,256-time*6.4

[State 0, AngleDraw]
type = AngleDraw
trigger1 = time > 40
value = -90
scale = 0.35,0.35
ignorehitpause = 1

[State 0, StateTypeSet]
type = StateTypeSet
trigger1 = time = 110
movetype = A

[State 200, 1]
type = HitDef
givepower = 0
getpower = 0
fall.yvelocity = -6
trigger1 = !movecontact
attr = S, NA                     ;Attribute: Standing, Normal Attack
getpower = 0,0
damage = 100,20                  ;Damage that move inflicts, guard damage
animtype = Light                 ;Animation type: Light, Medium, Heavy, Back (def: Light)
guardflag = MA                   ;Flags on how move is to be guarded against
hitflag = MAF                    ;Flags of conditions that move can hit
priority = 3, Hit                ;Attack priority: 0 (least) to 7 (most), 4 default                                 ;Hit/Miss/Dodge type (Def: Hit)
pausetime = 1,2                 ;Time attacker pauses, time opponent shakes
sparkno = 0+random%4                  ;Spark anim no (Def: set above)
sparkxy = -random%21,-15                  ;Spark x y
                                ;Y-offset for the spark rel. to p1
hitsound = 24, 3                  ;Sound to play on hit
guardsound = 21, 7                ;Sound to play on guard
ground.type = High               ;Type: High, Low, Trip (def: Normal)
ground.slidetime = 5             ;Time that the opponent slides back
ground.hittime  = 25             ;Time opponent is in hit state
ground.velocity = -3             ;Velocity at which opponent is pushed
airguard.velocity = -2,0.5     ;Guard velocity in air (def: (air.xvel*1.5, air.yvel/2))
air.type = High                  ;Type: High, Low, Trip (def: same as ground.type)
air.velocity = -1.4,0.5           ;X-velocity at which opponent is pushed,
                               ;Y-velocity at which opponent is pushed
air.hittime = 25

[State 0, TargetState]
type = TargetState
trigger1 = enemy(cond((enemy(0),alive),0,1)), var(30) = 0
trigger1 = movehit
value = 106000

[State 0, VelSet]
type = VelSet
trigger1 = time = 110
x = -11

[State 210, 2]
type = AfterImage
trigger1 = time = 110
time = 30
length = 6
palcolor = 256
palinvertall = 0
palbright = 0,0,0
palcontrast = 160,160,160
palpostbright = 0,0,0
paladd = -30,-30,-30
palmul = 1,1,1
timegap = 1
framegap = 1
trans = add1

[State -2, Explod]
type = Explod
ownpal = 1
trigger1 = pos y > 0
trigger2 = time = 160
anim = 30131
ID = 30131
pos = 0,0
facing = -1
vel = -0.3,-0.7
accel = 0,0.02
postype = p1
bindtime = 1
removetime = 56
scale = 0.5,0.5
sprpriority = 2
ownpal = 1
ontop = 0
supermovetime = 9999

[State -2, Explod]
type = Explod
ownpal = 1
trigger1 = pos y > 0
trigger2 = time = 160
anim = 30131
ID = 30131
pos = 0,0
facing = 1
vel = 0.3,-0.7
accel = 0,0.02
postype = p1
bindtime = 1
removetime = 56
scale = 0.5,0.5
sprpriority = 2
ownpal = 1
ontop = 0
supermovetime = 9999

[State -2, Explod]
type = Explod
ownpal = 1
trigger1 = pos y > 0
trigger2 = time = 160
anim = 30131
ID = 30131
pos = 0,0
facing = -1
vel = -0.3,0
accel = 0,0.02
postype = p1
bindtime = 1
removetime = 56
scale = 0.5,0.5
sprpriority = 2
ownpal = 1
ontop = 0
supermovetime = 9999

[State -2, Explod]
type = Explod
ownpal = 1
trigger1 = pos y > 0
trigger2 = time = 160
anim = 30131
ID = 30131
pos = 0,0
facing = 1
vel = 0.3,0
accel = 0,0.02
postype = p1
bindtime = 1
removetime = 56
scale = 0.5,0.5
sprpriority = 2
ownpal = 1
ontop = 0
supermovetime = 9999

[State 0, DestroySelf]
type = DestroySelf
trigger1 = backedgedist < -40
trigger2 = pos y > 0
trigger3 = time = 160
ignorehitpause = 1

;---------------------------------------------------------------------------
;Sword Aimed 4
[Statedef 30375]
type    = S
movetype= I
physics = N
juggle  = 4
ctrl = 0                       ;Set ctrl (Def: no change)
anim = 30350                       ;Change animation (Def: no change)
sprpriority= 1

[State -2, Explod]
type = Explod
ownpal = 1
trigger1 = pos y >= 0
persistent = 0
anim = F1200
pos = 0,0
facing = 1
postype = p1
bindtime = 1
removetime = -2
scale = 0.8,0.8
sprpriority = 2
ownpal = 1
supermovetime = 9999
ontop = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = pos y >= 0
persistent = 0 
value = F15,4

[State 0, Turn]
type = Turn
trigger1 = facing = 1

[State 0, VarSet]
type = VarSet
trigger1 = time = 0
v = 13
value = enemynear(0),ID

[State 0, VarSet]
type = VarSet
trigger1 = time = 0
trigger1 = playerID(var(13)),alive=0
v = 13
value = enemynear(1),ID

[State 0, PosSet]
type = PosSet
trigger1 = time < 100
x = playerID(var(13)),pos x + 70

[State 0, VelSet]
type = Veladd
trigger1 = pos y - playerID(var(13)),pos y != [-34,-26]
triggerall = time < 100
y = cond((pos y-playerID(var(13)),pos y)<-30,0.2,-0.2)

[State 0, VelSet]
type = Velset
trigger1 = ABS(vel y)>2.5
triggerall = time < 100
y = cond(vel y<0,-2.5,2.5)

[State 0, VelSet]
type = VelSet
trigger1 = pos y - playerID(var(13)),pos y = [-33,-27]
triggerall = time < 100
y = 0

[State -2, Explod]
type = Explod
ownpal = 1
trigger1 = timemod = 10,0
trigger1 = time <= 40
anim = 30131
ID = 30131
pos = 20-random%40,0
facing = cond(random%2=0,-1,1)
vel = -0.3,-0.5
accel = 0,0.02
postype = p1
bindtime = 1
removetime = 56
scale = 0.5,0.5
sprpriority = 2
ownpal = 1
ontop = 0
supermovetime = 9999

[State -2, Explod]
type = Explod
ownpal = 1
trigger1 = timemod = 10,5
trigger1 = time <= 40
anim = 30131
ID = 30131
pos = 20-random%40,0
facing = cond(random%2=0,1,-1)
vel = 0.3,-0.5
accel = 0,0.02
postype = p1
bindtime = 1
removetime = 56
scale = 0.5,0.5
sprpriority = 2
ownpal = 1
ontop = 0
supermovetime = 9999

[State 0, AngleDraw]
type = AngleDraw
trigger1 = time <= 40
value = 90
scale = 0.15+time*0.005,0.15+time*0.005
ignorehitpause = 1

[State 0, Trans]
type = Trans
trigger1 = time <= 40
trans = addalpha
alpha = time*6.4,256-time*6.4

[State 0, AngleDraw]
type = AngleDraw
trigger1 = time > 40
value = 90
scale = 0.35,0.35
ignorehitpause = 1

[State 0, StateTypeSet]
type = StateTypeSet
trigger1 = time = 110
movetype = A

[State 200, 1]
type = HitDef
givepower = 0
getpower = 0
fall.yvelocity = -6
trigger1 = !movecontact
attr = S, NA                     ;Attribute: Standing, Normal Attack
getpower = 0,0
damage = 100,20                  ;Damage that move inflicts, guard damage
animtype = Light                 ;Animation type: Light, Medium, Heavy, Back (def: Light)
guardflag = MA                   ;Flags on how move is to be guarded against
hitflag = MAF                    ;Flags of conditions that move can hit
priority = 3, Hit                ;Attack priority: 0 (least) to 7 (most), 4 default                                 ;Hit/Miss/Dodge type (Def: Hit)
pausetime = 1,2                 ;Time attacker pauses, time opponent shakes
sparkno = 0+random%4                  ;Spark anim no (Def: set above)
sparkxy = -random%21,-15                  ;Spark x y
                                ;Y-offset for the spark rel. to p1
hitsound = 24, 3                  ;Sound to play on hit
guardsound = 21, 7                ;Sound to play on guard
ground.type = High               ;Type: High, Low, Trip (def: Normal)
ground.slidetime = 5             ;Time that the opponent slides back
ground.hittime  = 25             ;Time opponent is in hit state
ground.velocity = -3             ;Velocity at which opponent is pushed
airguard.velocity = -2,0.5     ;Guard velocity in air (def: (air.xvel*1.5, air.yvel/2))
air.type = High                  ;Type: High, Low, Trip (def: same as ground.type)
air.velocity = -1.4,0.5           ;X-velocity at which opponent is pushed,
                               ;Y-velocity at which opponent is pushed
air.hittime = 25

[State 0, TargetState]
type = TargetState
trigger1 = enemy(cond((enemy(0),alive),0,1)), var(30) = 0
trigger1 = movehit
value = 106000

[State 0, VelSet]
type = VelSet
trigger1 = time = 110
x = 11

[State 210, 2]
type = AfterImage
trigger1 = time = 110
time = 30
length = 6
palcolor = 256
palinvertall = 0
palbright = 0,0,0
palcontrast = 160,160,160
palpostbright = 0,0,0
paladd = -30,-30,-30
palmul = 1,1,1
timegap = 1
framegap = 1
trans = add1

[State -2, Explod]
type = Explod
ownpal = 1
trigger2 = time = 160
trigger1 = pos y > 0
anim = 30131
ID = 30131
pos = 0,0
facing = -1
vel = -0.3,-0.7
accel = 0,0.02
postype = p1
bindtime = 1
removetime = 56
scale = 0.5,0.5
sprpriority = 2
ownpal = 1
ontop = 0
supermovetime = 9999

[State -2, Explod]
type = Explod
ownpal = 1
trigger1 = pos y > 0
trigger2 = time = 160
anim = 30131
ID = 30131
pos = 0,0
facing = 1
vel = 0.3,-0.7
accel = 0,0.02
postype = p1
bindtime = 1
removetime = 56
scale = 0.5,0.5
sprpriority = 2
ownpal = 1
ontop = 0
supermovetime = 9999

[State -2, Explod]
type = Explod
ownpal = 1
trigger1 = pos y > 0
trigger2 = time = 160
anim = 30131
ID = 30131
pos = 0,0
facing = -1
vel = -0.3,0
accel = 0,0.02
postype = p1
bindtime = 1
removetime = 56
scale = 0.5,0.5
sprpriority = 2
ownpal = 1
ontop = 0
supermovetime = 9999

[State -2, Explod]
type = Explod
ownpal = 1
trigger1 = pos y > 0
trigger2 = time = 160
anim = 30131
ID = 30131
pos = 0,0
facing = 1
vel = 0.3,0
accel = 0,0.02
postype = p1
bindtime = 1
removetime = 56
scale = 0.5,0.5
sprpriority = 2
ownpal = 1
ontop = 0
supermovetime = 9999

[State 0, DestroySelf]
type = DestroySelf
trigger1 = frontedgedist < -40
trigger2 = pos y > 0
trigger3 = time = 160
ignorehitpause = 1

;---------------------------------------------------------------------------
;Sword Aimed 5
[Statedef 30380]
type    = S
movetype= I
physics = N
juggle  = 4
ctrl = 0                       ;Set ctrl (Def: no change)
anim = 30350                       ;Change animation (Def: no change)
sprpriority= 1

[State -2, Explod]
type = Explod
ownpal = 1
trigger1 = pos y >= 0
persistent = 0
anim = F1200
pos = 0,0
facing = 1
postype = p1
bindtime = 1
removetime = -2
scale = 0.8,0.8
sprpriority = 2
ownpal = 1
supermovetime = 9999
ontop = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = pos y >= 0
persistent = 0 
value = F15,4

[State 0, Turn]
type = Turn
trigger1 = facing = 1

[State 0, VarSet]
type = VarSet
trigger1 = time = 0
v = 13
value = enemynear(0),ID

[State 0, VarSet]
type = VarSet
trigger1 = time = 0
trigger1 = playerID(var(13)),alive=0
v = 13
value = enemynear(1),ID

[State 0, PosSet]
type = PosSet
trigger1 = time < 100
x = playerID(var(13)),pos x - 70

[State 0, VelSet]
type = Veladd
trigger1 = pos y - playerID(var(13)),pos y != [-14,-6]
triggerall = time < 100
y = cond((pos y-playerID(var(13)),pos y)<-10,0.2,-0.2)

[State 0, VelSet]
type = Velset
trigger1 = ABS(vel y)>2.5
triggerall = time < 100
y = cond(vel y<0,-2.5,2.5)

[State 0, VelSet]
type = VelSet
trigger1 = pos y - playerID(var(13)),pos y = [-13,-7]
triggerall = time < 100
y = 0

[State -2, Explod]
type = Explod
ownpal = 1
trigger1 = timemod = 10,0
trigger1 = time <= 40
anim = 30131
ID = 30131
pos = 20-random%40,0
facing = cond(random%2=0,-1,1)
vel = -0.3,-0.5
accel = 0,0.02
postype = p1
bindtime = 1
removetime = 56
scale = 0.5,0.5
sprpriority = 2
ownpal = 1
supermovetime = 9999
ontop = 0

[State -2, Explod]
type = Explod
ownpal = 1
trigger1 = timemod = 10,5
trigger1 = time <= 40
anim = 30131
ID = 30131
pos = 20-random%40,0
facing = cond(random%2=0,1,-1)
vel = 0.3,-0.5
accel = 0,0.02
postype = p1
bindtime = 1
removetime = 56
scale = 0.5,0.5
sprpriority = 2
ownpal = 1
supermovetime = 9999
ontop = 0

[State 0, AngleDraw]
type = AngleDraw
trigger1 = time <= 40
value = -100
scale = 0.15+time*0.005,0.15+time*0.005
ignorehitpause = 1

[State 0, Trans]
type = Trans
trigger1 = time <= 40
trans = addalpha
alpha = time*6.4,256-time*6.4

[State 0, AngleDraw]
type = AngleDraw
trigger1 = time > 40
value = -100
scale = 0.35,0.35
ignorehitpause = 1

[State 0, StateTypeSet]
type = StateTypeSet
trigger1 = time = 110
movetype = A

[State 200, 1]
type = HitDef
givepower = 0
getpower = 0
fall.yvelocity = -6
trigger1 = !movecontact
attr = S, NA                     ;Attribute: Standing, Normal Attack
getpower = 0,0
damage = 100,20                  ;Damage that move inflicts, guard damage
animtype = Light                 ;Animation type: Light, Medium, Heavy, Back (def: Light)
guardflag = MA                   ;Flags on how move is to be guarded against
hitflag = MAF                    ;Flags of conditions that move can hit
priority = 3, Hit                ;Attack priority: 0 (least) to 7 (most), 4 default                                 ;Hit/Miss/Dodge type (Def: Hit)
pausetime = 1,2                 ;Time attacker pauses, time opponent shakes
sparkno = 0+random%4                  ;Spark anim no (Def: set above)
sparkxy = -random%21,-15                  ;Spark x y
                                ;Y-offset for the spark rel. to p1
hitsound = 24, 3                  ;Sound to play on hit
guardsound = 21, 7                ;Sound to play on guard
ground.type = High               ;Type: High, Low, Trip (def: Normal)
ground.slidetime = 5             ;Time that the opponent slides back
ground.hittime  = 25             ;Time opponent is in hit state
ground.velocity = -3             ;Velocity at which opponent is pushed
airguard.velocity = -2,0.5     ;Guard velocity in air (def: (air.xvel*1.5, air.yvel/2))
air.type = High                  ;Type: High, Low, Trip (def: same as ground.type)
air.velocity = -1.4,0.5           ;X-velocity at which opponent is pushed,
                               ;Y-velocity at which opponent is pushed
air.hittime = 25

[State 0, TargetState]
type = TargetState
trigger1 = enemy(cond((enemy(0),alive),0,1)), var(30) = 0
trigger1 = movehit
value = 106000

[State 0, VelSet]
type = VelSet
trigger1 = time = 110
x = 11*sin(-1.74)
y = 11*cos(-1.74)

[State 210, 2]
type = AfterImage
trigger1 = time = 110
time = 30
length = 6
palcolor = 256
palinvertall = 0
palbright = 0,0,0
palcontrast = 160,160,160
palpostbright = 0,0,0
paladd = -30,-30,-30
palmul = 1,1,1
timegap = 1
framegap = 1
trans = add1

[State -2, Explod]
type = Explod
ownpal = 1
trigger1 = pos y > 0
trigger2 = time = 160
anim = 30131
ID = 30131
pos = 0,0
facing = -1
vel = -0.3,-0.7
accel = 0,0.02
postype = p1
bindtime = 1
removetime = 56
scale = 0.5,0.5
sprpriority = 2
ownpal = 1
ontop = 0
supermovetime = 9999

[State -2, Explod]
type = Explod
ownpal = 1
trigger1 = pos y > 0
trigger2 = time = 160
anim = 30131
ID = 30131
pos = 0,0
facing = 1
vel = 0.3,-0.7
accel = 0,0.02
postype = p1
bindtime = 1
removetime = 56
scale = 0.5,0.5
sprpriority = 2
ownpal = 1
supermovetime = 9999
ontop = 0

[State -2, Explod]
type = Explod
ownpal = 1
trigger1 = pos y > 0
trigger2 = time = 160
anim = 30131
ID = 30131
pos = 0,0
facing = -1
vel = -0.3,0
accel = 0,0.02
postype = p1
bindtime = 1
removetime = 56
scale = 0.5,0.5
sprpriority = 2
ownpal = 1
ontop = 0
supermovetime = 9999

[State -2, Explod]
type = Explod
ownpal = 1
trigger1 = pos y > 0
trigger2 = time = 160
anim = 30131
ID = 30131
pos = 0,0
facing = 1
vel = 0.3,0
accel = 0,0.02
postype = p1
bindtime = 1
removetime = 56
scale = 0.5,0.5
sprpriority = 2
ownpal = 1
ontop = 0
supermovetime = 9999

[State 0, DestroySelf]
type = DestroySelf
trigger1 = backedgedist < -40
trigger2 = pos y > 0
trigger3 = time = 160
ignorehitpause = 1

;---------------------------------------------------------------------------
;Sword Aimed 6
[Statedef 30385]
type    = S
movetype= I
physics = N
juggle  = 4
ctrl = 0                       ;Set ctrl (Def: no change)
anim = 30350                       ;Change animation (Def: no change)
sprpriority= 1

[State -2, Explod]
type = Explod
ownpal = 1
trigger1 = pos y >= 0
persistent = 0
anim = F1200
pos = 0,0
facing = 1
postype = p1
bindtime = 1
removetime = -2
scale = 0.8,0.8
sprpriority = 2
ownpal = 1
supermovetime = 9999
ontop = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = pos y >= 0
persistent = 0 
value = F15,4

[State 0, Turn]
type = Turn
trigger1 = facing = 1

[State 0, VarSet]
type = VarSet
trigger1 = time = 0
v = 13
value = enemynear(0),ID

[State 0, VarSet]
type = VarSet
trigger1 = time = 0
trigger1 = playerID(var(13)),alive=0
v = 13
value = enemynear(1),ID

[State 0, PosSet]
type = PosSet
trigger1 = time < 100
x = playerID(var(13)),pos x + 70

[State 0, VelSet]
type = Veladd
trigger1 = pos y - playerID(var(13)),pos y != [-14,-6]
triggerall = time < 100
y = cond((pos y-playerID(var(13)),pos y)<-10,0.2,-0.2)

[State 0, VelSet]
type = Velset
trigger1 = ABS(vel y)>2.5
triggerall = time < 100
y = cond(vel y<0,-2.5,2.5)

[State 0, VelSet]
type = VelSet
trigger1 = pos y - playerID(var(13)),pos y = [-13,-7]
triggerall = time < 100
y = 0

[State -2, Explod]
type = Explod
ownpal = 1
trigger1 = timemod = 10,0
trigger1 = time <= 40
anim = 30131
ID = 30131
pos = 20-random%40,0
facing = cond(random%2=0,-1,1)
vel = -0.3,-0.5
accel = 0,0.02
postype = p1
bindtime = 1
removetime = 56
scale = 0.5,0.5
sprpriority = 2
ownpal = 1
ontop = 0
supermovetime = 9999

[State -2, Explod]
type = Explod
ownpal = 1
trigger1 = timemod = 10,5
trigger1 = time <= 40
anim = 30131
ID = 30131
pos = 20-random%40,0
facing = cond(random%2=0,1,-1)
vel = 0.3,-0.5
accel = 0,0.02
postype = p1
bindtime = 1
removetime = 56
scale = 0.5,0.5
sprpriority = 2
ownpal = 1
ontop = 0
supermovetime = 9999

[State 0, AngleDraw]
type = AngleDraw
trigger1 = time <= 40
value = 100
scale = 0.15+time*0.005,0.15+time*0.005
ignorehitpause = 1

[State 0, Trans]
type = Trans
trigger1 = time <= 40
trans = addalpha
alpha = time*6.4,256-time*6.4

[State 0, AngleDraw]
type = AngleDraw
trigger1 = time > 40
value = 100
scale = 0.35,0.35
ignorehitpause = 1

[State 0, StateTypeSet]
type = StateTypeSet
trigger1 = time = 110
movetype = A

[State 200, 1]
type = HitDef
givepower = 0
getpower = 0
fall.yvelocity = -6
trigger1 = !movecontact
attr = S, NA                     ;Attribute: Standing, Normal Attack
getpower = 0,0
damage = 100,20                 ;Damage that move inflicts, guard damage
animtype = Light                 ;Animation type: Light, Medium, Heavy, Back (def: Light)
guardflag = MA                   ;Flags on how move is to be guarded against
hitflag = MAF                    ;Flags of conditions that move can hit
priority = 3, Hit                ;Attack priority: 0 (least) to 7 (most), 4 default                                 ;Hit/Miss/Dodge type (Def: Hit)
pausetime = 1,2                 ;Time attacker pauses, time opponent shakes
sparkno = 0+random%4                  ;Spark anim no (Def: set above)
sparkxy = -random%21,-15                ;Spark x y
                                ;Y-offset for the spark rel. to p1
hitsound = 24, 3                  ;Sound to play on hit
guardsound = 21, 7                ;Sound to play on guard
ground.type = High               ;Type: High, Low, Trip (def: Normal)
ground.slidetime = 5             ;Time that the opponent slides back
ground.hittime  = 25             ;Time opponent is in hit state
ground.velocity = -3             ;Velocity at which opponent is pushed
airguard.velocity = -2,0.5     ;Guard velocity in air (def: (air.xvel*1.5, air.yvel/2))
air.type = High                  ;Type: High, Low, Trip (def: same as ground.type)
air.velocity = -1.4,0.5           ;X-velocity at which opponent is pushed,
                               ;Y-velocity at which opponent is pushed
air.hittime = 25

[State 0, TargetState]
type = TargetState
trigger1 = enemy(cond((enemy(0),alive),0,1)), var(30) = 0
trigger1 = movehit
value = 106000

[State 0, VelSet]
type = VelSet
trigger1 = time = 110
x = 11*sin(1.74)
y = 11*cos(1.74)

[State 210, 2]
type = AfterImage
trigger1 = time = 110
time = 30
length = 6
palcolor = 256
palinvertall = 0
palbright = 0,0,0
palcontrast = 160,160,160
palpostbright = 0,0,0
paladd = -30,-30,-30
palmul = 1,1,1
timegap = 1
framegap = 1
trans = add1

[State -2, Explod]
type = Explod
ownpal = 1
trigger1 = pos y > 0
trigger2 = time = 160
anim = 30131
ID = 30131
pos = 0,0
facing = -1
vel = -0.3,-0.7
accel = 0,0.02
postype = p1
bindtime = 1
removetime = 56
scale = 0.5,0.5
sprpriority = 2
ownpal = 1
ontop = 0
supermovetime = 9999

[State -2, Explod]
type = Explod
ownpal = 1
trigger1 = pos y > 0
trigger2 = time = 160
anim = 30131
ID = 30131
pos = 0,0
facing = 1
vel = 0.3,-0.7
accel = 0,0.02
postype = p1
bindtime = 1
removetime = 56
scale = 0.5,0.5
sprpriority = 2
ownpal = 1
ontop = 0
supermovetime = 9999

[State -2, Explod]
type = Explod
ownpal = 1
trigger1 = pos y > 0
trigger2 = time = 160
anim = 30131
ID = 30131
pos = 0,0
facing = -1
vel = -0.3,0
accel = 0,0.02
postype = p1
bindtime = 1
removetime = 56
scale = 0.5,0.5
sprpriority = 2
ownpal = 1
ontop = 0
supermovetime = 9999

[State -2, Explod]
type = Explod
ownpal = 1
trigger1 = pos y > 0
trigger2 = time = 160
anim = 30131
ID = 30131
pos = 0,0
facing = 1
vel = 0.3,0
accel = 0,0.02
postype = p1
bindtime = 1
removetime = 56
scale = 0.5,0.5
sprpriority = 2
ownpal = 1
supermovetime = 9999
ontop = 0

[State 0, DestroySelf]
type = DestroySelf
trigger1 = frontedgedist < -40
trigger2 = pos y > 0
trigger3 = time = 160
ignorehitpause = 1

;---------------------------------------------------------------------------
;Kazekage Iron Swords Ground
[Statedef 30390]
type    = S
movetype= I
physics = S
juggle  = 4
poweradd= 0
velset = 0,0
ctrl = 0                       ;Set ctrl (Def: no change)
anim = 30390                       ;Change animation (Def: no change)

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
value = F8,0+random%5

[State 0, PlaySnd]
type = PlaySnd
trigger1 =  animelem = 1
value = S6,1 

[State 0, VarAdd]
type = VarAdd
trigger1 = time = 5
v = 2    ;fv =
value = -200

[State 0, Helper]
type = Helper
trigger1 = time = 5
helpertype = normal ;player
name = "Sword Ground 1"
ID = 30390
stateno = 30391
pos = 30,0
postype = p2    ;p2,front,back,left,right
facing = -1
ownpal = 1
size.xscale = 0.7
size.yscale = 0.7

[State 200, 2]
type = ChangeState
trigger1 = animtime = 0
value = 30000

;---------------------------------------------------------------------------
;Sword Ground 1
[Statedef 30391]
type    = S
movetype= A
physics = N
juggle  = 4
ctrl = 0                       ;Set ctrl (Def: no change)
anim = 30391                       ;Change animation (Def: no change)
sprpriority= 1

[State -2, Explod]
type = Explod
ownpal = 1
trigger1 = time = 0
anim = F305
pos = -5,5
facing = 1
postype = p1
bindtime = 1
removetime = -2
scale = 2.2,2.2
sprpriority = 4
ownpal = 1
supermovetime = 9999
ontop = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0 
value = F15,4

[State 0, PosSet]
type = PosSet
trigger1 = 1
y = 3

[State -2, Explod]
type = Explod
ownpal = 1
trigger1 = timemod = 10,0
trigger1 = time != [21,48]
anim = 30131
ID = 30131
pos = 0,-random%40
facing = cond(random%2=0,-1,1)
vel = -0.3,-0.5
accel = 0,0.02
postype = p1
bindtime = 1
removetime = 56
scale = 0.5,0.5
sprpriority = 2
ownpal = 1
ontop = 0
supermovetime = 9999

[State -2, Explod]
type = Explod
ownpal = 1
trigger1 = timemod = 10,5
trigger1 = time != [21,48]
anim = 30131
ID = 30131
pos = 0,-random%40
facing = cond(random%2=0,1,-1)
vel = 0.3,-0.5
accel = 0,0.02
postype = p1
bindtime = 1
removetime = 56
scale = 0.5,0.5
sprpriority = 2
ownpal = 1
ontop = 0
supermovetime = 9999

[State 200, 1]
type = HitDef
givepower = 0
getpower = 0
fall.yvelocity = -6
trigger1 = animelem = 5
trigger2 = animelem = 6
attr = S, NA                     ;Attribute: Standing, Normal Attack
getpower = 0,0
damage = 25,5               ;Damage that move inflicts, guard damage
animtype = Light                 ;Animation type: Light, Medium, Heavy, Back (def: Light)
guardflag = MA                   ;Flags on how move is to be guarded against
hitflag = MAF                    ;Flags of conditions that move can hit
priority = 3, Hit                ;Attack priority: 0 (least) to 7 (most), 4 default                                 ;Hit/Miss/Dodge type (Def: Hit)
pausetime = 1,2                 ;Time attacker pauses, time opponent shakes
sparkno = 0+random%4                  ;Spark anim no (Def: set above)
sparkxy = -10,-30                ;Spark x y
                                ;Y-offset for the spark rel. to p1
hitsound = 24, 3                  ;Sound to play on hit
guardsound = 21, 7                ;Sound to play on guard
ground.type = High               ;Type: High, Low, Trip (def: Normal)
ground.slidetime = 5             ;Time that the opponent slides back
ground.hittime  = 27             ;Time opponent is in hit state
ground.velocity = -3             ;Velocity at which opponent is pushed
airguard.velocity = -1,0.5    ;Guard velocity in air (def: (air.xvel*1.5, air.yvel/2))
air.type = High                  ;Type: High, Low, Trip (def: same as ground.type)
air.velocity = -1.5,0.5           ;X-velocity at which opponent is pushed,
                               ;Y-velocity at which opponent is pushed
air.hittime = 27

[State 0, TargetState]
type = TargetState
trigger1 = enemy(cond((enemy(0),alive),0,1)), var(30) = 0
trigger1 = movehit
value = 106000

[State 0, Helper]
type = Helper
trigger1 = animelem = 6
trigger1 = helper(30000), stateno = 30390
helpertype = normal ;player
name = "Sword Ground 2"
ID = 30390
stateno = 30392
pos = 35,-2
postype = p1
facing = 1
ownpal = 1
size.xscale = 0.7
size.yscale = 0.7

[State 200, 2]
type = destroyself
trigger1 = animtime = 0

;---------------------------------------------------------------------------
;Sword Ground 2
[Statedef 30392]
type    = S
movetype= A
physics = N
juggle  = 4
ctrl = 0                       ;Set ctrl (Def: no change)
anim = 30392                       ;Change animation (Def: no change)
sprpriority= 1

[State -2, Explod]
type = Explod
ownpal = 1
trigger1 = time = 0
anim = F305
pos = -5,5
facing = 1
postype = p1
bindtime = 1
removetime = -2
scale = 1.8,1.8
sprpriority = 4
ownpal = 1
supermovetime = 9999
ontop = 0


[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0 
value = F15,4

[State 0, BindToParent]
type = BindToParent
trigger1 = 1
time = 2
pos = 35,-2
ignorehitpause = 1

[State -2, Explod]
type = Explod
ownpal = 1
trigger1 = timemod = 10,0
trigger1 = time != [21,48]
anim = 30131
ID = 30131
pos = 0,-random%40
facing = cond(random%2=0,-1,1)
vel = -0.3,-0.5
accel = 0,0.02
postype = p1
bindtime = 1
removetime = 56
scale = 0.5,0.5
sprpriority = 2
ownpal = 1
ontop = 0
supermovetime = 9999

[State -2, Explod]
type = Explod
ownpal = 1
trigger1 = timemod = 10,5
trigger1 = time != [21,48]
anim = 30131
ID = 30131
pos = 0,-random%40
facing = cond(random%2=0,1,-1)
vel = 0.3,-0.5
accel = 0,0.02
postype = p1
bindtime = 1
removetime = 56
scale = 0.5,0.5
sprpriority = 2
ownpal = 1
ontop = 0
supermovetime = 9999

[State 200, 1]
type = HitDef
givepower = 0
getpower = 0
fall.yvelocity = -6
trigger1 = animelem = 3
trigger2 = animelem = 4
attr = S, NA                     ;Attribute: Standing, Normal Attack
getpower = 0,0
damage = 25,5                ;Damage that move inflicts, guard damage
animtype = Light                 ;Animation type: Light, Medium, Heavy, Back (def: Light)
guardflag = MA                   ;Flags on how move is to be guarded against
hitflag = MAF                    ;Flags of conditions that move can hit
priority = 3, Hit                ;Attack priority: 0 (least) to 7 (most), 4 default                                 ;Hit/Miss/Dodge type (Def: Hit)
pausetime = 1,2                 ;Time attacker pauses, time opponent shakes
sparkno = 0+random%4                  ;Spark anim no (Def: set above)
sparkxy = -15,-35               ;Spark x y
                                ;Y-offset for the spark rel. to p1
hitsound = 24, 3                  ;Sound to play on hit
guardsound = 21, 7                ;Sound to play on guard
ground.type = High               ;Type: High, Low, Trip (def: Normal)
ground.slidetime = 15             ;Time that the opponent slides back
ground.hittime  = 27             ;Time opponent is in hit state
ground.velocity = -2,-3             ;Velocity at which opponent is pushed
airguard.velocity = -0.7,-1.5    ;Guard velocity in air (def: (air.xvel*1.5, air.yvel/2))
air.type = High                  ;Type: High, Low, Trip (def: same as ground.type)
air.velocity = -1,-1.5           ;X-velocity at which opponent is pushed,
                               ;Y-velocity at which opponent is pushed
air.hittime = 27

[State 0, Helper]
type = Helper
trigger1 = animelem = 4
trigger1 = helper(30000), stateno = 30390
helpertype = normal ;player
name = "Sword Ground 3"
ID = 30390
stateno = 30393
pos = 25,0
postype = p1
facing = 1
ownpal = 1
size.xscale = 0.7
size.yscale = 0.7

[State 200, 2]
type = destroyself
trigger1 = animtime = 0

;---------------------------------------------------------------------------
;Sword Ground 3
[Statedef 30393]
type    = S
movetype= A
physics = N
juggle  = 4
ctrl = 0                       ;Set ctrl (Def: no change)
anim = 30393                       ;Change animation (Def: no change)
sprpriority= 1

[State -2, Explod]
type = Explod
ownpal = 1
trigger1 = time = 0
anim = F305
pos = -5,5
facing = 1
postype = p1
bindtime = 1
removetime = -2
scale = 1.3,1.3
sprpriority = 4
ownpal = 1
supermovetime = 9999
ontop = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0 
value = F15,4


[State 0, BindToParent]
type = BindToParent
trigger1 = 1
time = 2
pos = 25,0
ignorehitpause = 1

[State -2, Explod]
type = Explod
ownpal = 1
trigger1 = timemod = 10,0
trigger1 = time != [21,48]
anim = 30131
ID = 30131
pos = 0,-random%40
facing = cond(random%2=0,-1,1)
vel = -0.3,-0.5
accel = 0,0.02
postype = p1
bindtime = 1
removetime = 56
scale = 0.5,0.5
sprpriority = 2
ownpal = 1
ontop = 0
supermovetime = 9999


[State -2, Explod]
type = Explod
ownpal = 1
trigger1 = timemod = 10,5
trigger1 = time != [21,48]
anim = 30131
ID = 30131
pos = 0,-random%40
facing = cond(random%2=0,1,-1)
vel = 0.3,-0.5
accel = 0,0.02
postype = p1
bindtime = 1
removetime = 56
scale = 0.5,0.5
sprpriority = 2
ownpal = 1
ontop = 0
supermovetime = 9999

[State 200, 1]
type = HitDef
givepower = 0
getpower = 0
fall.yvelocity = -6
trigger1 = animelem = 3
attr = S, NA                     ;Attribute: Standing, Normal Attack
getpower = 0,0
damage = 25,5                ;Damage that move inflicts, guard damage
animtype = Light                 ;Animation type: Light, Medium, Heavy, Back (def: Light)
guardflag = MA                   ;Flags on how move is to be guarded against
hitflag = MAF                    ;Flags of conditions that move can hit
priority = 3, Hit                ;Attack priority: 0 (least) to 7 (most), 4 default                                 ;Hit/Miss/Dodge type (Def: Hit)
pausetime = 1,2                 ;Time attacker pauses, time opponent shakes
sparkno = 0+random%4                  ;Spark anim no (Def: set above)
sparkxy = -20,-45                ;Spark x y
                                ;Y-offset for the spark rel. to p1
hitsound = 24, 3                  ;Sound to play on hit
guardsound = 21, 7                ;Sound to play on guard
ground.type = High               ;Type: High, Low, Trip (def: Normal)
ground.slidetime = 15             ;Time that the opponent slides back
ground.hittime  = 27             ;Time opponent is in hit state
ground.velocity = 0,-6             ;Velocity at which opponent is pushed
airguard.velocity = 0,-3    ;Guard velocity in air (def: (air.xvel*1.5, air.yvel/2))
air.type = High                  ;Type: High, Low, Trip (def: same as ground.type)
air.velocity = 0,-3           ;X-velocity at which opponent is pushed,
fall = 1                               ;Y-velocity at which opponent is pushed
fall.recover = 0
air.hittime = 27

[State 200, 1]
type = HitDef
givepower = 0
getpower = 0
fall.yvelocity = -6
trigger1 = animelem = 4
attr = S, NA                     ;Attribute: Standing, Normal Attack
getpower = 0,0
damage = 50,6               ;Damage that move inflicts, guard damage
animtype = Light                 ;Animation type: Light, Medium, Heavy, Back (def: Light)
guardflag = MA                   ;Flags on how move is to be guarded against
hitflag = MAF                    ;Flags of conditions that move can hit
priority = 3, Hit                ;Attack priority: 0 (least) to 7 (most), 4 default                                 ;Hit/Miss/Dodge type (Def: Hit)
pausetime = 1,2                 ;Time attacker pauses, time opponent shakes
sparkno = 0+random%4                  ;Spark anim no (Def: set above)
sparkxy = -20,-45                ;Spark x y
                                ;Y-offset for the spark rel. to p1
hitsound = 24, 3                  ;Sound to play on hit
guardsound = 21, 7                ;Sound to play on guard
ground.type = High               ;Type: High, Low, Trip (def: Normal)
ground.slidetime = 15             ;Time that the opponent slides back
ground.hittime  = 27             ;Time opponent is in hit state
ground.velocity = 0,-8            ;Velocity at which opponent is pushed
airguard.velocity = 0,-4    ;Guard velocity in air (def: (air.xvel*1.5, air.yvel/2))
air.type = High                  ;Type: High, Low, Trip (def: same as ground.type)
air.velocity = 0,-8           ;X-velocity at which opponent is pushed,
fall = 1                               ;Y-velocity at which opponent is pushed
fall.recover = 0
air.hittime = 27

[State 200, 2]
type = destroyself
trigger1 = animtime = 0

;---------------------------------------------------------------------------
;Kazekage 4 Hands
[Statedef 30400]
type    = S
movetype= I
physics = S
juggle  = 4
poweradd= 0
velset = 0,0
ctrl = 0                       ;Set ctrl (Def: no change)
anim = 30400 

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
value = F8,0+random%5

[State 0, PlaySnd]
type = PlaySnd
trigger1 =  animelem = 1
value = S6,1                       ;Change animation (Def: no change)

[State 0, Helper]
type = Helper
trigger1 = time = 6
trigger1 = parent,fvar(15)<0.5
helpertype = normal ;player
name = "Hands 4"
ID = 30410
stateno = 30410
pos = 44,-48
postype = p1    ;p2,front,back,left,right
facing = 1
ownpal = 1

[State 0, Helper]
type = Helper
trigger1 = time = 6
trigger1 = parent,fvar(15)>=0.5
helpertype = normal ;player
name = "Hands 8"
ID = 30420
stateno = 30420
pos = 51,-48
postype = p1    ;p2,front,back,left,right
facing = 1
ownpal = 1

[State 200, 2]
type = ChangeState
triggerall = time > 6
trigger1 = helper(30410), stateno = 30415
trigger2 = helper(30420), stateno = 30425
value = 30000



;---------------------------------------------------------------------------
;4 Hands
[Statedef 30410]
type    = S
movetype= A
physics = S
juggle  = 4
ctrl = 0                       ;Set ctrl (Def: no change)
anim = 30410                       ;Change animation (Def: no change)
sprpriority= -2

[State 0, PlaySnd]
type = PlaySnd
trigger1 =  time = [13,30]
trigger1 = timemod = 6,2
value = S1,17
ignorehitpause = 1

[State 0, PlaySnd]
type = PlaySnd
trigger1 =  time = [13,30]
trigger1 = timemod = 6,2
value = S1,17
ignorehitpause = 1

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = invisible
ignorehitpause = 1

[State 0, BindToParent]
type = BindToParent
trigger1 = 1
time = 2
pos = 44,-48
ignorehitpause = 1

[State 0, VarSet]
type = VarSet
trigger1 = var(13) <40
v = 13
value = time

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 13
postype = p1
anim = 30415
ID = 30415
pos = 16,0
scale = 0.25,0.25
facing = 1
removetime = -1
bindtime = -1
sprpriority=-1
supermovetime=9999

[State 0, SuperPause]
type = SuperPause
trigger1 = time = 13
time = 60
anim = -1
sound = -1
darken = 1
unhittable = 0

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 0
postype = p1
anim = 30410
ID = 30410
pos = 0,0
scale = 1,1
facing = 1
removetime = -1
bindtime = -1
sprpriority=-2

[State 200, 1]
type = HitDef
givepower = 0
getpower = 0
fall.yvelocity = -6
trigger1 = animelem = 2
attr = S, NA                     ;Attribute: Standing, Normal Attack
getpower = 0,0
damage = 20,3                 ;Damage that move inflicts, guard damage
animtype = Light                 ;Animation type: Light, Medium, Heavy, Back (def: Light)
guardflag = MA                   ;Flags on how move is to be guarded against
hitflag = MAF                    ;Flags of conditions that move can hit
priority = 3, Hit                ;Attack priority: 0 (least) to 7 (most), 4 default                                 ;Hit/Miss/Dodge type (Def: Hit)
pausetime = 0,0                 ;Time attacker pauses, time opponent shakes
sparkno = 0+random%4                  ;Spark anim no (Def: set above)
sparkxy = -15,0             ;Spark x y
                                ;Y-offset for the spark rel. to p1
hitsound = 24, 3                  ;Sound to play on hit
guardsound = 21, 7               ;Sound to play on guard
ground.type = High               ;Type: High, Low, Trip (def: Normal)
ground.slidetime = 5             ;Time that the opponent slides back
ground.hittime  = 10             ;Time opponent is in hit state
ground.velocity = -4             ;Velocity at which opponent is pushed
airguard.velocity = -4,-.8     ;Guard velocity in air (def: (air.xvel*1.5, air.yvel/2))
air.type = High                  ;Type: High, Low, Trip (def: same as ground.type)
air.velocity = -4,-1           ;X-velocity at which opponent is pushed,
                               ;Y-velocity at which opponent is pushed
air.hittime = 10               ;Time before opponent regains control in air

[State 200, 1]
type = HitDef
givepower = 0
getpower = 0
fall.yvelocity = -6
trigger1 = time > 16
trigger1 = timemod = 4,0
attr = S, NA                     ;Attribute: Standing, Normal Attack
getpower = 0,0
damage = 75,10                 ;Damage that move inflicts, guard damage
animtype = Light                 ;Animation type: Light, Medium, Heavy, Back (def: Light)
guardflag = MA                   ;Flags on how move is to be guarded against
hitflag = MAF                    ;Flags of conditions that move can hit
priority = 3, Hit                ;Attack priority: 0 (least) to 7 (most), 4 default                                 ;Hit/Miss/Dodge type (Def: Hit)
pausetime = 0,2                 ;Time attacker pauses, time opponent shakes
sparkno = 0+random%4                  ;Spark anim no (Def: set above)
sparkxy = -15,-10               ;Spark x y
                                ;Y-offset for the spark rel. to p1
hitsound = 5, 21+random%5                 ;Sound to play on hit
guardsound = 21, 7               ;Sound to play on guard
ground.type = High               ;Type: High, Low, Trip (def: Normal)
ground.slidetime = 5             ;Time that the opponent slides back
ground.hittime  = 25             ;Time opponent is in hit state
ground.velocity = -7             ;Velocity at which opponent is pushed
airguard.velocity = -4,-.8     ;Guard velocity in air (def: (air.xvel*1.5, air.yvel/2))
air.type = High                  ;Type: High, Low, Trip (def: same as ground.type)
air.velocity = -7,-1           ;X-velocity at which opponent is pushed,
                               ;Y-velocity at which opponent is pushed
air.hittime = 25               ;Time before opponent regains control in air
fall = 1

[State 0, Explod]
type = RemoveExplod
trigger1 = parent, stateno !=30400
trigger1 = time <= 16
ID = 30410

[State 0, Explod]
type = RemoveExplod
trigger1 = parent, stateno !=30400
trigger1 = time <= 16
ID = 30415

[State 0, DestroySelf]
type = DestroySelf
trigger1 = parent, stateno !=30400
trigger1 = time <= 16

[State 200, 2]
type = ChangeState
trigger1 = time = 50
trigger2 = parent, stateno !=30400
trigger2 = time > 16
value = 30415

;---------------------------------------------------------------------------
;4 Hands destroy
[Statedef 30415]
sprpriority= -2
movetype = I

[State 0, Explod]
type = RemoveExplod
trigger1 = time = 1
ID = 30410

[State 0, ChangeAnim]
type = ChangeAnim
trigger1 = var(13)<40
value = 30410
elem = 1+var(13)/4

[State 0, Gravity]
type = Gravity
trigger1 = pos y < 0

[State 0, PosSet]
type = PosSet
trigger1 = pos y >= 0
y = 0

[State 0, Explod]
type = RemoveExplod
trigger1 = pos y = 0
ID = 30415

[State 0, PlaySnd]
type = PlaySnd
trigger1 = pos y = 0
value = S1,11

[State 0, PlaySnd]
type = PlaySnd
trigger1 = pos y = 0
value = S1,11

[State 0, EnvShake]
type = EnvShake
trigger1 = pos y = 0
trigger1 = var(13)>26
time = 8
freq = 70
ampl = -4
phase = 90

[State -2, Explod]
type = Explod
ownpal = 1
trigger1 = pos y = 0
anim = F60
ID = 60
pos = 40,5
facing = 1
postype = p1
bindtime = 1
removetime = -2
sprpriority = 0
scale = 2,1.5
ownpal = 1
ontop = 0

[State -2, Explod]
type = Explod
ownpal = 1
trigger1 = pos y = 0
trigger1 = var(13)>20
anim = F60
ID = 60
pos = 120,5
facing = 1
postype = p1
bindtime = 1
removetime = -2
sprpriority = 0
scale = 2,1.5
ownpal = 1
ontop = 0

[State -2, Explod]
type = Explod
ownpal = 1
trigger1 = pos y = 0
trigger1 = var(13)>28
anim = F60
ID = 60
pos = 200,5
facing = 1
postype = p1
bindtime = 1
removetime = -2
sprpriority = 0
scale = 2,1.5
ownpal = 1
ontop = 0

[State -2, Explod]
type = Explod
ownpal = 1
trigger1 = pos y = 0
anim = 30420
ID = 30420
pos = 18,0
facing = 1
vel = -1,-3
accel = 0,0.06
postype = p1
bindtime = 1
removetime = 28
sprpriority = 0
ownpal = 1
ontop = 0

[State -2, Explod]
type = Explod
ownpal = 1
trigger1 = pos y = 0
anim = 30420
ID = 30420
pos = 29,0
facing = -1
vel = 2,-1
accel = 0,0.08
postype = p1
bindtime = 1
removetime = 28
sprpriority = 0
ownpal = 1
ontop = 0

[State -2, Explod]
type = Explod
ownpal = 1
trigger1 = pos y = 0
trigger1 = var(13)>16
anim = 30420
ID = 30420
pos = 45,0
facing = 1
vel = -3.5,-2.5
accel = 0,0.04
postype = p1
bindtime = 1
removetime = 28
sprpriority = 0
ownpal = 1
ontop = 0

[State -2, Explod]
type = Explod
ownpal = 1
trigger1 = pos y = 0
trigger1 = var(13)>16
anim = 30420
ID = 30420
pos = 39,0
facing = -1
vel = 2,-2
accel = 0,0.06
postype = p1
bindtime = 1
removetime = 28
sprpriority = 0
ownpal = 1
ontop = 0

[State -2, Explod]
type = Explod
ownpal = 1
trigger1 = pos y = 0
trigger1 = var(13)>16
anim = 30420
ID = 30420
pos = 65,0
facing = 1
vel = -1.5,-3
accel = 0,0.06
postype = p1
bindtime = 1
removetime = 28
sprpriority = 0
ownpal = 1
ontop = 0

[State -2, Explod]
type = Explod
ownpal = 1
trigger1 = pos y = 0
trigger1 = var(13)>16
anim = 30420
ID = 30420
pos = 65,0
facing = -1
vel = 0,-2
accel = 0,0.06
postype = p1
bindtime = 1
removetime = 28
sprpriority = 0
ownpal = 1
ontop = 0

[State -2, Explod]
type = Explod
ownpal = 1
trigger1 = pos y = 0
trigger1 = var(13)>20
anim = 30420
ID = 30420
pos = 85,0
facing = 1
vel = -3,-3
accel = 0,0.09
postype = p1
bindtime = 1
removetime = 28
sprpriority = 0
ownpal = 1
ontop = 0

[State -2, Explod]
type = Explod
ownpal = 1
trigger1 = pos y = 0
trigger1 = var(13)>20
anim = 30420
ID = 30420
pos = 85,0
facing = -1
vel = 2,-2.5
accel = 0,0.09
postype = p1
bindtime = 1
removetime = 28
sprpriority = 0
ownpal = 1
ontop = 0

[State -2, Explod]
type = Explod
ownpal = 1
trigger1 = pos y = 0
trigger1 = var(13)>24
anim = 30420
ID = 30420
pos = 105,0
facing = 1
vel = -0.5,-3
accel = 0,0.08
postype = p1
bindtime = 1
removetime = 28
sprpriority = 0
ownpal = 1
ontop = 0

[State -2, Explod]
type = Explod
ownpal = 1
trigger1 = pos y = 0
trigger1 = var(13)>24
anim = 30420
ID = 30420
pos = 105,0
facing = -1
vel = 3,-2
accel = 0,0.06
postype = p1
bindtime = 1
removetime = 28
sprpriority = 0
ownpal = 1
ontop = 0

[State -2, Explod]
type = Explod
ownpal = 1
trigger1 = pos y = 0
trigger1 = var(13)>24
anim = 30420
ID = 30420
pos = 125,0
facing = 1
vel = -1.5,-1
accel = 0,0.04
postype = p1
bindtime = 1
removetime = 28
sprpriority = 0
ownpal = 1
ontop = 0

[State -2, Explod]
type = Explod
ownpal = 1
trigger1 = pos y = 0
trigger1 = var(13)>24
anim = 30420
ID = 30420
pos = 125,0
facing = -1
vel = 3,-2.5
accel = 0,0.06
postype = p1
bindtime = 1
removetime = 28
sprpriority = 0
ownpal = 1
ontop = 0

[State -2, Explod]
type = Explod
ownpal = 1
trigger1 = pos y = 0
trigger1 = var(13)>28
anim = 30420
ID = 30420
pos = 145,0
facing = 1
vel = 1,-3
accel = 0,0.07
postype = p1
bindtime = 1
removetime = 28
sprpriority = 0
ownpal = 1
ontop = 0

[State -2, Explod]
type = Explod
ownpal = 1
trigger1 = pos y = 0
trigger1 = var(13)>28
anim = 30420
ID = 30420
pos = 145,0
facing = -1
vel = 3,-1
accel = 0,0.04
postype = p1
bindtime = 1
removetime = 28
sprpriority = 0
ownpal = 1
ontop = 0

[State -2, Explod]
type = Explod
ownpal = 1
trigger1 = pos y = 0
trigger1 = var(13)>32
anim = 30420
ID = 30420
pos = 165,0
facing = 1
vel = -3,-1.5
accel = 0,0.06
postype = p1
bindtime = 1
removetime = 28
sprpriority = 0
ownpal = 1
ontop = 0

[State -2, Explod]
type = Explod
ownpal = 1
trigger1 = pos y = 0
trigger1 = var(13)>32
anim = 30420
ID = 30420
pos = 165,0
facing = -1
vel = 2,-1.5
accel = 0,0.07
postype = p1
bindtime = 1
removetime = 28
sprpriority = 0
ownpal = 1
ontop = 0

[State -2, Explod]
type = Explod
ownpal = 1
trigger1 = pos y = 0
trigger1 = var(13)>32
anim = 30420
ID = 30420
pos = 185,0
facing = 1
vel = -3,-2.5
accel = 0,0.08
postype = p1
bindtime = 1
removetime = 28
sprpriority = 0
ownpal = 1
ontop = 0

[State -2, Explod]
type = Explod
ownpal = 1
trigger1 = pos y = 0
trigger1 = var(13)>32
anim = 30420
ID = 30420
pos = 185,0
facing = -1
vel = 1,-2
accel = 0,0.06
postype = p1
bindtime = 1
removetime = 28
sprpriority = 0
ownpal = 1
ontop = 0

[State -2, Explod]
type = Explod
ownpal = 1
trigger1 = pos y = 0
trigger1 = var(13)>36
anim = 30420
ID = 30420
pos = 205,0
facing = 1
vel = -3,-3
accel = 0,0.08
postype = p1
bindtime = 1
removetime = 28
sprpriority = 0
ownpal = 1
ontop = 0

[State -2, Explod]
type = Explod
ownpal = 1
trigger1 = pos y = 0
trigger1 = var(13)>36
anim = 30420
ID = 30420
pos = 205,0
facing = -1
vel = 2,-1
accel = 0,0.06
postype = p1
bindtime = 1
removetime = 28
sprpriority = 0
ownpal = 1
ontop = 0

[State -2, Explod]
type = Explod
ownpal = 1
trigger1 = pos y = 0
anim = 30430
ID = 30430
pos = 27+(var(13)/4)*22.2,0
facing = 1
vel = -1.6,-1.9
accel = 0,0.05
postype = p1
bindtime = 1
removetime = 28
sprpriority = 0
ownpal = 1
ontop = 0

[State -2, Explod]
type = Explod
ownpal = 1
trigger1 = pos y = 0
anim = 30430
ID = 30430
pos = 15+(var(13)/4)*22.2,0
facing = -1
vel = 1.5,-2
accel = 0,0.06
postype = p1
bindtime = 1
removetime = 28
sprpriority = 0
ownpal = 1
ontop = 0

[State 0, DestroySelf]
type = DestroySelf
trigger1 = pos y = 0

;---------------------------------------------------------------------------
;8 Hands
[Statedef 30420]
type    = S
movetype= A
physics = S
juggle  = 4
ctrl = 0                       ;Set ctrl (Def: no change)
anim = 30411                       ;Change animation (Def: no change)
sprpriority= -2

[State 0, PlaySnd]
type = PlaySnd
trigger1 =  time = [13,30]
trigger1 = timemod = 6,2
value = S1,17
ignorehitpause = 1

[State 0, PlaySnd]
type = PlaySnd
trigger1 =  time = [13,30]
trigger1 = timemod = 6,2
value = S1,17
ignorehitpause = 1

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = invisible
ignorehitpause = 1

[State 0, BindToParent]
type = BindToParent
trigger1 = 1
time = 2
pos = 51,-48
ignorehitpause = 1

[State 0, VarSet]
type = VarSet
trigger1 = var(13) <40
v = 13
value = time

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 13
anim = 30415
postype = p1
ID = 30415
pos = 16,0
scale = 0.25,0.25
facing = 1
removetime = -1
bindtime = -1
sprpriority=-1
supermovetime=9999

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 13
postype = p1
anim = 30415
ID = 30415
pos = 2,0
scale = 0.25,0.25
facing = 1
removetime = -1
bindtime = -1
sprpriority=-1
supermovetime=9999

[State 0, SuperPause]
type = SuperPause
trigger1 = time = 13
time = 60
anim = -1
sound = -1
darken = 1
unhittable = 0

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 0
anim = 30411
postype = p1
ID = 30411
pos = 0,0
scale = 1,1
facing = 1
removetime = -1
bindtime = -1
sprpriority=-2
removeongethit = 1

[State 200, 1]
type = HitDef
givepower = 0
getpower = 0
fall.yvelocity = -6
trigger1 = animelem = 2
attr = S, NA                     ;Attribute: Standing, Normal Attack
getpower = 0,0
damage = 20,3                 ;Damage that move inflicts, guard damage
animtype = Light                 ;Animation type: Light, Medium, Heavy, Back (def: Light)
guardflag = MA                   ;Flags on how move is to be guarded against
hitflag = MAF                    ;Flags of conditions that move can hit
priority = 3, Hit                ;Attack priority: 0 (least) to 7 (most), 4 default                                 ;Hit/Miss/Dodge type (Def: Hit)
pausetime = 0,0                 ;Time attacker pauses, time opponent shakes
sparkno = 0+random%4                  ;Spark anim no (Def: set above)
sparkxy = -15,0             ;Spark x y
                                ;Y-offset for the spark rel. to p1
hitsound = 24, 3                  ;Sound to play on hit
guardsound = 21, 7               ;Sound to play on guard
ground.type = High               ;Type: High, Low, Trip (def: Normal)
ground.slidetime = 5             ;Time that the opponent slides back
ground.hittime  = 10             ;Time opponent is in hit state
ground.velocity = -4             ;Velocity at which opponent is pushed
airguard.velocity = -4,-.8     ;Guard velocity in air (def: (air.xvel*1.5, air.yvel/2))
air.type = High                  ;Type: High, Low, Trip (def: same as ground.type)
air.velocity = -4,-1           ;X-velocity at which opponent is pushed,
                               ;Y-velocity at which opponent is pushed
air.hittime = 10               ;Time before opponent regains control in air

[State 200, 1]
type = HitDef
givepower = 0
getpower = 0
fall.yvelocity = -6
trigger1 = time > 16
trigger1 = timemod = 4,0
attr = S, NA                     ;Attribute: Standing, Normal Attack
getpower = 0,0
damage = 150,18                 ;Damage that move inflicts, guard damage
animtype = Light                 ;Animation type: Light, Medium, Heavy, Back (def: Light)
guardflag = MA                   ;Flags on how move is to be guarded against
hitflag = MAF                    ;Flags of conditions that move can hit
priority = 3, Hit                ;Attack priority: 0 (least) to 7 (most), 4 default                                 ;Hit/Miss/Dodge type (Def: Hit)
pausetime = 0,2                 ;Time attacker pauses, time opponent shakes
sparkno = 0+random%4                  ;Spark anim no (Def: set above)
sparkxy = -15,-10               ;Spark x y
                                ;Y-offset for the spark rel. to p1
hitsound = 5, 21+random%5                  ;Sound to play on hit
guardsound = 21, 7               ;Sound to play on guard
ground.type = High               ;Type: High, Low, Trip (def: Normal)
ground.slidetime = 5             ;Time that the opponent slides back
ground.hittime  = 25             ;Time opponent is in hit state
ground.velocity = -7             ;Velocity at which opponent is pushed
airguard.velocity = -4,-.8     ;Guard velocity in air (def: (air.xvel*1.5, air.yvel/2))
air.type = High                  ;Type: High, Low, Trip (def: same as ground.type)
air.velocity = -7,-1           ;X-velocity at which opponent is pushed,
                               ;Y-velocity at which opponent is pushed
air.hittime = 25               ;Time before opponent regains control in air
fall = 1

[State 0, Explod]
type = RemoveExplod
trigger1 = parent, stateno !=30400
trigger1 = time <= 16
ID = 30411

[State 0, Explod]
type = RemoveExplod
trigger1 = parent, stateno !=30400
trigger1 = time <= 16
ID = 30415

[State 0, DestroySelf]
type = DestroySelf
trigger1 = parent, stateno !=30400
trigger1 = time <= 16

[State 200, 2]
type = ChangeState
trigger1 = time = 50
trigger2 = parent, stateno !=30400
trigger2 = time > 16
value = 30425

;---------------------------------------------------------------------------
;8 Hands destroy
[Statedef 30425]
sprpriority= -2
movetype = I

[State 0, Explod]
type = RemoveExplod
trigger1 = time = 1
ID = 30411

[State 0, ChangeAnim]
type = ChangeAnim
trigger1 = var(13)<40
value = 30411
elem = 1+var(13)/4

[State 0, Gravity]
type = Gravity
trigger1 = pos y < 0

[State 0, PosSet]
type = PosSet
trigger1 = pos y >= 0
y = 0

[State 0, Explod]
type = RemoveExplod
trigger1 = pos y = 0
ID = 30415

[State 0, PlaySnd]
type = PlaySnd
trigger1 = pos y = 0
value = S1,11

[State 0, PlaySnd]
type = PlaySnd
trigger1 = pos y = 0
value = S1,11

[State 0, EnvShake]
type = EnvShake
trigger1 = pos y = 0
trigger1 = var(13)>26
time = 8
freq = 70
ampl = -4
phase = 90

[State -2, Explod]
type = Explod
ownpal = 1
trigger1 = pos y = 0
anim = F60
ID = 60
pos = 40,5
facing = 1
postype = p1
bindtime = 1
removetime = -2
sprpriority = 0
scale = 2,1.5
ownpal = 1
ontop = 0

[State -2, Explod]
type = Explod
ownpal = 1
trigger1 = pos y = 0
trigger1 = var(13)>20
anim = F60
ID = 60
pos = 120,5
facing = 1
postype = p1
bindtime = 1
removetime = -2
sprpriority = 0
scale = 2,1.5
ownpal = 1
ontop = 0

[State -2, Explod]
type = Explod
ownpal = 1
trigger1 = pos y = 0
trigger1 = var(13)>28
anim = F60
ID = 60
pos = 200,5
facing = 1
postype = p1
bindtime = 1
removetime = -2
sprpriority = 0
scale = 2,1.5
ownpal = 1
ontop = 0

[State -2, Explod]
type = Explod
ownpal = 1
trigger1 = pos y = 0
anim = 30420
ID = 30420
pos = 18,0
facing = 1
vel = -1,-3
accel = 0,0.06
postype = p1
bindtime = 1
removetime = 28
sprpriority = 0
ownpal = 1
ontop = 0

[State -2, Explod]
type = Explod
ownpal = 1
trigger1 = pos y = 0
anim = 30420
ID = 30420
pos = 29,0
facing = -1
vel = 2,-1
accel = 0,0.08
postype = p1
bindtime = 1
removetime = 28
sprpriority = 0
ownpal = 1
ontop = 0

[State -2, Explod]
type = Explod
ownpal = 1
trigger1 = pos y = 0
trigger1 = var(13)>16
anim = 30420
ID = 30420
pos = 45,0
facing = 1
vel = -3.5,-2.5
accel = 0,0.04
postype = p1
bindtime = 1
removetime = 28
sprpriority = 0
ownpal = 1
ontop = 0

[State -2, Explod]
type = Explod
ownpal = 1
trigger1 = pos y = 0
trigger1 = var(13)>16
anim = 30420
ID = 30420
pos = 39,0
facing = -1
vel = 2,-2
accel = 0,0.06
postype = p1
bindtime = 1
removetime = 28
sprpriority = 0
ownpal = 1
ontop = 0

[State -2, Explod]
type = Explod
ownpal = 1
trigger1 = pos y = 0
trigger1 = var(13)>16
anim = 30420
ID = 30420
pos = 65,0
facing = 1
vel = -1.5,-3
accel = 0,0.06
postype = p1
bindtime = 1
removetime = 28
sprpriority = 0
ownpal = 1
ontop = 0

[State -2, Explod]
type = Explod
ownpal = 1
trigger1 = pos y = 0
trigger1 = var(13)>16
anim = 30420
ID = 30420
pos = 65,0
facing = -1
vel = 0,-2
accel = 0,0.06
postype = p1
bindtime = 1
removetime = 28
sprpriority = 0
ownpal = 1
ontop = 0

[State -2, Explod]
type = Explod
ownpal = 1
trigger1 = pos y = 0
trigger1 = var(13)>20
anim = 30420
ID = 30420
pos = 85,0
facing = 1
vel = -3,-3
accel = 0,0.09
postype = p1
bindtime = 1
removetime = 28
sprpriority = 0
ownpal = 1
ontop = 0

[State -2, Explod]
type = Explod
ownpal = 1
trigger1 = pos y = 0
trigger1 = var(13)>20
anim = 30420
ID = 30420
pos = 85,0
facing = -1
vel = 2,-2.5
accel = 0,0.09
postype = p1
bindtime = 1
removetime = 28
sprpriority = 0
ownpal = 1
ontop = 0

[State -2, Explod]
type = Explod
ownpal = 1
trigger1 = pos y = 0
trigger1 = var(13)>24
anim = 30420
ID = 30420
pos = 105,0
facing = 1
vel = -0.5,-3
accel = 0,0.08
postype = p1
bindtime = 1
removetime = 28
sprpriority = 0
ownpal = 1
ontop = 0

[State -2, Explod]
type = Explod
ownpal = 1
trigger1 = pos y = 0
trigger1 = var(13)>24
anim = 30420
ID = 30420
pos = 105,0
facing = -1
vel = 3,-2
accel = 0,0.06
postype = p1
bindtime = 1
removetime = 28
sprpriority = 0
ownpal = 1
ontop = 0

[State -2, Explod]
type = Explod
ownpal = 1
trigger1 = pos y = 0
trigger1 = var(13)>24
anim = 30420
ID = 30420
pos = 125,0
facing = 1
vel = -1.5,-1
accel = 0,0.04
postype = p1
bindtime = 1
removetime = 28
sprpriority = 0
ownpal = 1
ontop = 0

[State -2, Explod]
type = Explod
ownpal = 1
trigger1 = pos y = 0
trigger1 = var(13)>24
anim = 30420
ID = 30420
pos = 125,0
facing = -1
vel = 3,-2.5
accel = 0,0.06
postype = p1
bindtime = 1
removetime = 28
sprpriority = 0
ownpal = 1
ontop = 0

[State -2, Explod]
type = Explod
ownpal = 1
trigger1 = pos y = 0
trigger1 = var(13)>28
anim = 30420
ID = 30420
pos = 145,0
facing = 1
vel = 1,-3
accel = 0,0.07
postype = p1
bindtime = 1
removetime = 28
sprpriority = 0
ownpal = 1
ontop = 0

[State -2, Explod]
type = Explod
ownpal = 1
trigger1 = pos y = 0
trigger1 = var(13)>28
anim = 30420
ID = 30420
pos = 145,0
facing = -1
vel = 3,-1
accel = 0,0.04
postype = p1
bindtime = 1
removetime = 28
sprpriority = 0
ownpal = 1
ontop = 0

[State -2, Explod]
type = Explod
ownpal = 1
trigger1 = pos y = 0
trigger1 = var(13)>32
anim = 30420
ID = 30420
pos = 165,0
facing = 1
vel = -3,-1.5
accel = 0,0.06
postype = p1
bindtime = 1
removetime = 28
sprpriority = 0
ownpal = 1
ontop = 0

[State -2, Explod]
type = Explod
ownpal = 1
trigger1 = pos y = 0
trigger1 = var(13)>32
anim = 30420
ID = 30420
pos = 165,0
facing = -1
vel = 2,-1.5
accel = 0,0.07
postype = p1
bindtime = 1
removetime = 28
sprpriority = 0
ownpal = 1
ontop = 0

[State -2, Explod]
type = Explod
ownpal = 1
trigger1 = pos y = 0
trigger1 = var(13)>32
anim = 30420
ID = 30420
pos = 185,0
facing = 1
vel = -3,-2.5
accel = 0,0.08
postype = p1
bindtime = 1
removetime = 28
sprpriority = 0
ownpal = 1
ontop = 0

[State -2, Explod]
type = Explod
ownpal = 1
trigger1 = pos y = 0
trigger1 = var(13)>32
anim = 30420
ID = 30420
pos = 185,0
facing = -1
vel = 1,-2
accel = 0,0.06
postype = p1
bindtime = 1
removetime = 28
sprpriority = 0
ownpal = 1
ontop = 0

[State -2, Explod]
type = Explod
ownpal = 1
trigger1 = pos y = 0
trigger1 = var(13)>36
anim = 30420
ID = 30420
pos = 205,0
facing = 1
vel = -3,-3
accel = 0,0.08
postype = p1
bindtime = 1
removetime = 28
sprpriority = 0
ownpal = 1
ontop = 0

[State -2, Explod]
type = Explod
ownpal = 1
trigger1 = pos y = 0
trigger1 = var(13)>36
anim = 30420
ID = 30420
pos = 205,0
facing = -1
vel = 2,-1
accel = 0,0.06
postype = p1
bindtime = 1
removetime = 28
sprpriority = 0
ownpal = 1
ontop = 0

[State -2, Explod]
type = Explod
ownpal = 1
trigger1 = pos y = 0
anim = 30430
ID = 30430
pos = 27+(var(13)/4)*22.2,0
facing = 1
vel = -1.6,-1.9
accel = 0,0.05
postype = p1
bindtime = 1
removetime = 28
sprpriority = 0
ownpal = 1
ontop = 0

[State -2, Explod]
type = Explod
ownpal = 1
trigger1 = pos y = 0
anim = 30430
ID = 30430
pos = 15+(var(13)/4)*22.2,0
facing = -1
vel = 1.5,-2
accel = 0,0.06
postype = p1
bindtime = 1
removetime = 28
sprpriority = 0
ownpal = 1
ontop = 0

[State 0, DestroySelf]
type = DestroySelf
trigger1 = pos y = 0

;---------------------------------------------------------------------------
;Kazekage Poison Fog
[Statedef 30500]
type    = S
movetype= A
physics = S
juggle  = 4
poweradd= 0
velset = 0,0
ctrl = 0                       ;Set ctrl (Def: no change)
anim = 30500  

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
value = F8,0+random%5

[State 0, PlaySnd]
type = PlaySnd
trigger1 =  animelem = 1
value = S6,1                      ;Change animation (Def: no change)

[State 200, 1]
type = HitDef
givepower = 0
getpower = 0
fall.yvelocity = -6
trigger1 = animelem = 3
trigger1 = anim = 30500
attr = S, NA                     ;Attribute: Standing, Normal Attack
getpower = 0,0
damage = 20,3                 ;Damage that move inflicts, guard damage
animtype = Light                 ;Animation type: Light, Medium, Heavy, Back (def: Light)
guardflag = MA                   ;Flags on how move is to be guarded against
hitflag = MAF                    ;Flags of conditions that move can hit
priority = 3, Hit                ;Attack priority: 0 (least) to 7 (most), 4 default                                 ;Hit/Miss/Dodge type (Def: Hit)
pausetime = 0,0                 ;Time attacker pauses, time opponent shakes
sparkno = 0+random%4                  ;Spark anim no (Def: set above)
sparkxy = -15,-45             ;Spark x y
                                ;Y-offset for the spark rel. to p1
hitsound = 24, 3                  ;Sound to play on hit
guardsound = 21, 7               ;Sound to play on guard
ground.type = High               ;Type: High, Low, Trip (def: Normal)
ground.slidetime = 5             ;Time that the opponent slides back
ground.hittime  = 10             ;Time opponent is in hit state
ground.velocity = -5             ;Velocity at which opponent is pushed
airguard.velocity = -5,-.8     ;Guard velocity in air (def: (air.xvel*1.5, air.yvel/2))
air.type = High                  ;Type: High, Low, Trip (def: same as ground.type)
air.velocity = -5,-1           ;X-velocity at which opponent is pushed,
                               ;Y-velocity at which opponent is pushed
air.hittime = 10               ;Time before opponent regains control in air

[State 0, Helper]
type = Helper
trigger1 = time >= 16
trigger1 = numhelper(30505) = 0
helpertype = normal
name = "fog create"
pos = 65,-55
ID = 30505
stateno = 30505
facing = 1
ownpal = 1

[State 0, ChangeAnim]
type = ChangeAnim
triggerall = anim != 30510
trigger1 = parent, stateno != 3500
trigger2 = parent, anim = 13000
value = 30510

[State 0, ChangeState]
type = ChangeState
trigger1 = anim = 30510
trigger1 = animtime = 0
value = 30000
ctrl = 1

[State 0, PowerAdd]
type = PowerAdd
trigger1 = timemod = 2,1
trigger1 = vel x!=0 || vel y != 0
value = -2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = vel x != 0
triggerall = timemod = 25,0
value = S6,1
channel = 8

[State 0, stop terkot]
type = StopSnd
trigger1 = vel x =0
channel = 8

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = pos y > -6
trigger1 = timemod = 8,0
trigger1 = vel x > 0
anim = F300
ownpal = 1
ID = 60
pos = -13,-pos y+3
scale = 1,1
removetime = -2
sprpriority=1
postype = p1

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = pos y > -6
trigger1 = timemod = 8,0
trigger1 = vel x < 0
anim = F300
ownpal = 1
ID = 60
pos = 13,-pos y+3
facing = -1
scale = 1,1
removetime = -2
sprpriority=1
postype = p1


[State 20, 1]
type = VelSet
trigger1 = root, command = "holdz"
;trigger1 = (rootdist x > -60 && facing = 1 && Ailevel != 0) || (rootdist x < 60 && facing = -1 && Ailevel != 0)
trigger1 = root, var(50) = 0 
trigger2 = p2bodydist x > 40*facing
;trigger2 = (rootdist x > -60 && facing = 1 && Ailevel != 0) || (rootdist x < 60 && facing = -1 && Ailevel != 0)
trigger2 = root, var(50) = 1 
x = 2*cond(root,var(50)=0,facing,1)

[State 20, 1]
type = VelSet
trigger1 = root, command = "holdx"
;trigger1 = (rootdist x < 60 && facing = 1 && Ailevel != 0) || (rootdist x > -60 && facing = -1 && Ailevel != 0)
trigger1 = root, var(50) = 0 
trigger2 = p2bodydist x < -40*facing
;trigger2 = (rootdist x < 60 && facing = 1 && Ailevel != 0) || (rootdist x > -60 && facing = -1 && Ailevel != 0)
trigger2 = root, var(50) = 1
x = -2*cond(root,var(50)=0,facing,1)

;---------------------------------------------------------------------------
; Fog Create
[Statedef 30505]
type    = S                     ;State-type: S-stand, C-crouch, A-air, L-liedown
movetype= A                     ;Move-type: A-attack, I-idle, H-gethit
physics = N                      ;Physics: S-stand, C-crouch, A-air
juggle  = 1                      ;Number of air juggle points move takes                                ;Commonly-used controllers:
ctrl = 0                         ;Set ctrl (Def: no change)
anim = 515                       ;Change animation (Def: no change)

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = invisible

[State 0, PalFXWiz]
type = PalFX
trigger1 = 1
time = 2
add = 100,0,50
mul = 120,20,160
sinadd = 0,0,0,10
invertall = 0
color = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = timemod = 16,0
value = F9,0

[State 0, Helper]
type = Helper
trigger1 = timemod = 8,0
trigger1 = parent,stateno = 30500
trigger1 = parent,time >= 16
helpertype = normal
name = "fog"
pos = 0,0
ID = 30510
stateno = 30510
facing = 1
ownpal = 0

[State 0, BindToParent]
type = BindToParent
trigger1 = 1
time = 2
facing = 1
pos = 65,-55

[State 0, DestroySelf]
type = DestroySelf
trigger1 = numhelper(30510) = 0

;---------------------------------------------------------------------------
; Fog Air
[Statedef 30510]
type    = S                     ;State-type: S-stand, C-crouch, A-air, L-liedown
movetype= A                     ;Move-type: A-attack, I-idle, H-gethit
physics = N                      ;Physics: S-stand, C-crouch, A-air
juggle  = 1                      ;Number of air juggle points move takes                                ;Commonly-used controllers:
ctrl = 0                         ;Set ctrl (Def: no change)
anim = 515                       ;Change animation (Def: no change)
poweradd = -6                     ;Power to add (Def: 0)
sprpriority = 2                  ;Set p1's sprite layering priority to 2 (in front)
velset = 3+(parent,vel x)/2,2+(parent,vel y)/2

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = time<2
flag = invisible

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = target, ishelper = 0
flag = unguardable

[State 200, 1]
type = HitDef
givepower = 0
getpower = 0
fall.yvelocity = -6
trigger1 = time%3 = 0
trigger1 = enemynear, var(30) = 0
attr =  C,HP
damage = 0, 0
getpower = 0
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 0, 0
sparkno = -1
sparkxy = 0, -40
hitsound = 0, 3
guardsound = 6, 0
ground.type = High
ground.slidetime = 0
ground.hittime  = 0
ground.velocity = 0
airguard.velocity = 0,0
air.type = High
air.velocity = 0,0
air.hittime = 0
palfx.time = 30
palfx.mul = 120,20,160
palfx.add = 100,0,50

[State 0, TargetState]
type = TargetState
trigger1 = enemynear, var(30) = 0
value = 106000

[State 0, VelAdd]
type = VelAdd
trigger1 = 1
y = -0.07

[State 0, AngleDraw]
type = AngleDraw
trigger1 = 1
scale = 0.025+time*0.005,0.03+time*0.005
ignorehitpause = 1

[State 0, Trans]
type = Trans
trigger1 = time<=20
trans = addalpha
alpha = 256,256
ignorehitpause = 1

[State 0, Trans]
type = Trans
trigger1 = time>20
trans = addalpha
alpha = 256-(time-20)*12.8,256
ignorehitpause = 1

[State 0, DestroySelf]
type = DestroySelf
trigger1 = time = 40
;---------------------------------------------------------------------------
;Kazekage Come back
[Statedef 30600]
type    = S
movetype= I
physics = S
juggle  = 4
poweradd= -80
velset = 0,0
ctrl = 0
anim = 30600

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 1
value = F3,2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 1
value = F31

[State 0, AfterImage]
type = AfterImage
trigger1 = time = 0
time = 25
length = 10
palcolor = 256
palinvertall = 0
palbright = 0,0,0
palcontrast = 160,150,150
palpostbright = 0,0,0
paladd = 5,0,0
palmul = .65,.65,.75
timegap = 1
framegap = 1
trans = add

[State 0, Explod]
type = Explod
trigger1 = 1
anim = F20
ID = 20
pos = 10-random%20,-10-random%50
postype = p1  ;P2,front,back,left,right
scale = 0.8,0.4
vel = 2,0
sprpriority = 0
bindtime = 1
ownpal = 1
ontop = 0
supermovetime = 9999
pausemovetime = 9999

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 0 && pos y > -5
anim = F676
ID = 24
pos = -15,4
postype = p1  ;P2,front,back,left,right
scale = 0.4,0.25
vel = 1,0
sprpriority = 2
bindtime = 1
facing = -1
ownpal = 1
ontop = 0
supermovetime = 9999
pausemovetime = 9999

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = animelem = 5
anim = F401
ID = 24
pos = -20,0
postype = p1  ;P2,front,back,left,right
scale = 0.7,0.7
vel = 0.1,0
sprpriority = 2
bindtime = 5
facing = 1
ownpal = 1
ontop = 0
supermovetime = 9999
pausemovetime = 9999

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S6,1

[State 0, Turn]
type = Turn
triggerall = animelem = 3
trigger1 = facing != parent, facing

[State 0, VelSet]
type = VelSet
trigger1 = time = 0
x = -5

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 0
postype = p1
anim = F220
ID = 60
pos = 10,2
scale = 1,1
facing = 1
removetime = -2

[State 0, PosSet]
type = PosSet
trigger1 = animelem = 3
x = parent, pos x + 70*facing
y = parent, pos y

[State 0, VelSet]
type = VelSet
trigger1 = animelem = 4
x = -5

[State 200, 2]
type = ChangeState
trigger1 = AnimTime = 0
value = 130

;---------------------------------------------------------------------------
;Kazekage Come forward
[Statedef 30650]
type    = S
movetype= A
physics = S
juggle  = 4
poweradd= -80
ctrl = 0
anim = 30650

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 1
value = F3,2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 1
value = F31

[State 0, AfterImage]
type = AfterImage
trigger1 = time = 0
time = 25
length = 10
palcolor = 256
palinvertall = 0
palbright = 0,0,0
palcontrast = 160,150,150
palpostbright = 0,0,0
paladd = 5,0,0
palmul = .65,.65,.75
timegap = 1
framegap = 1
trans = add

[State 0, Explod]
type = Explod
trigger1 = 1
anim = F20
ID = 20
pos = -10+random%20,-10-random%50
postype = p1  ;P2,front,back,left,right
scale = 0.8,0.4
vel = -2,0
sprpriority = 0
bindtime = 1
ownpal = 1
ontop = 0
supermovetime = 9999
pausemovetime = 9999

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 0 && pos y > -5
anim = F676
ID = 24
pos = 15,4
postype = p1  ;P2,front,back,left,right
scale = 0.4,0.25
vel = -1,0
sprpriority = 2
bindtime = 1
ownpal = 1
ontop = 0
supermovetime = 9999
pausemovetime = 9999

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = animelem = 5
anim = F401
ID = 24
pos = 20,0
postype = p1  ;P2,front,back,left,right
scale = 0.7,0.7
vel = 0.1,0
sprpriority = 2
bindtime = 5
facing = -1
ownpal = 1
ontop = 0
supermovetime = 9999
pausemovetime = 9999

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S6,1

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[State 0, VelSet]
type = VelSet
trigger1 = time = 0
x = 8

[State 200, 1]
type = HitDef
givepower = 0
getpower = 0
fall.yvelocity = -6
trigger1 = AnimElem = 5
attr = S, NA                     ;Attribute: Standing, Normal Attack
getpower = 0,0
damage = 40,5                 ;Damage that move inflicts, guard damage
animtype = Light                 ;Animation type: Light, Medium, Heavy, Back (def: Light)
guardflag = MA                   ;Flags on how move is to be guarded against
hitflag = MAF                    ;Flags of conditions that move can hit
priority = 3, Hit                ;Attack priority: 0 (least) to 7 (most), 4 default                                 ;Hit/Miss/Dodge type (Def: Hit)
pausetime = 4,2                 ;Time attacker pauses, time opponent shakes
sparkno = 0+random%4               ;Spark anim no (Def: set above)
sparkxy = -15,-42                 ;Spark x y
hitsound = 5, 21+random%6
guardsound = 6, 0               ;Sound to play on guard
ground.type = High               ;Type: High, Low, Trip (def: Normal)
ground.slidetime = 5             ;Time that the opponent slides back
ground.hittime  = 25             ;Time opponent is in hit state
ground.velocity = -5             ;Velocity at which opponent is pushed
airguard.velocity = -3,-.8     ;Guard velocity in air (def: (air.xvel*1.5, air.yvel/2))
air.type = High                  ;Type: High, Low, Trip (def: same as ground.type)
air.velocity = -1,-1           ;X-velocity at which opponent is pushed,
                                 ;Y-velocity at which opponent is pushed
air.hittime = 0                 ;Time before opponent regains control in air

[State 0, VarSet]
type = VarSet
trigger1 = time = 0
v = 1
value = Abs(enemy(cond((enemy(0),alive),0,1)), pos x - pos x)

[State 0, PosSet]
type = PosSet
trigger1 = animelem = 3
trigger1 = var(1) < 400
x = enemy(cond((enemy(0),alive),0,1)), pos x - 70*facing
y = enemy(cond((enemy(0),alive),0,1)), pos y

[State 0, PosSet]
type = PosSet
trigger1 = animelem = 3
trigger1 = var(1) >= 400
x = pos x + 400*facing
y = enemy(cond((enemy(0),alive),0,1)), pos y

[State 0, VelSet]
type = VelSet
trigger1 = animelem = 4
x = 6

[State 200, 2]
type = ChangeState
trigger1 = AnimTime = 0
value = 30000

;---------------------------------------------------------------------------
;Kazekage Counter
[Statedef 30700]
type    = S                      ;State-type: S-stand, C-crouch, A-air, L-liedown
movetype= A                      ;Move-type: A-attack, I-idle, H-gethit
physics = S                      ;Physics: S-stand, C-crouch, A-air
juggle  = 1                      ;Number of air juggle points move takes                                ;Commonly-used controllers:
ctrl = 0                         ;Set ctrl (Def: no change)
anim = 30700                       ;Change animation (Def: no change)
poweradd = -250
velset = 0,0                    ;Power to add (Def: 0)
sprpriority = -1                  ;Set p1's sprite layering priority to 2 (in front)


[State 0, PlaySnd]
type = PlaySnd
triggerall = root,stateno = [5000,5099]
trigger1 = time = 1
value = F14,4

[State 0, PlaySnd]
type = PlaySnd
triggerall = root,stateno = [5000,5099]
trigger1 = time = 1
value = F3,2

[State 0, PlaySnd]
type = PlaySnd
triggerall = root,stateno = [5000,5099]
trigger1 = time = 1
value = F9,1

[State 0, PosSet]
type = PosSet
triggerall = root,stateno = [5000,5099]
trigger1 = time = 1
x = parent, pos x + 70*facing
y = parent, pos y

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F8,0+random%5

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = S6,1
volume = 255
channel = 6

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = S4,8
volume = 255
channel = 6

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 0 && pos y >= -20
anim = F290
ID = 290
pos = 0,-pos y+5
postype = p1
facing = 1
bindtime = 1
removetime = -2
sprpriority = 4
scale = 1.5,1.5

[State 0, NotHitBy]
type = NotHitBy
trigger1 = time >= 0
value = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
time = 1

[State 200, 1]
type = HitDef
givepower = 0
getpower = 0
fall.yvelocity = -6
trigger1 = AnimElem = 2
attr = S, NA                     ;Attribute: Standing, Normal Attack
getpower = 0,0
damage = 15,3                 ;Damage that move inflicts, guard damage
animtype = Light                 ;Animation type: Light, Medium, Heavy, Back (def: Light)
guardflag = MA                   ;Flags on how move is to be guarded against
hitflag = MAF                    ;Flags of conditions that move can hit
priority = 3, Hit                ;Attack priority: 0 (least) to 7 (most), 4 default                                 ;Hit/Miss/Dodge type (Def: Hit)
pausetime = 4,2                 ;Time attacker pauses, time opponent shakes
sparkno = 0+random%4
sparkxy = -12+random%5,-27+random%8                                  ;Y-offset for the spark rel. to p1
               ;Spark anim no (Def: set above)
hitsound = 5, 21+random%6
guardsound = 6, 0               ;Sound to play on guard
ground.type = High               ;Type: High, Low, Trip (def: Normal)
ground.slidetime = 5             ;Time that the opponent slides back
ground.hittime  = 15             ;Time opponent is in hit state
ground.velocity = 0            ;Velocity at which opponent is pushed
airguard.velocity = 0,-.8     ;Guard velocity in air (def: (air.xvel*1.5, air.yvel/2))
air.type = High                  ;Type: High, Low, Trip (def: same as ground.type)
air.velocity = 0,-1           ;X-velocity at which opponent is pushed,
                                 ;Y-velocity at which opponent is pushed
air.hittime = 0                 ;Time before opponent regains control in air

[State 220, 1]
type = HitDef
givepower = 0
getpower = 0
fall.yvelocity = -6
trigger1 = AnimElem = 3
attr = S, NA
damage = 15,3
animtype = Heavy
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 4, 4
sparkno = 0+random%4
sparkxy = -12+random%5,-27+random%8                                  ;Y-offset for the spark rel. to p1
               ;Spark anim no (Def: set above)
hitsound = 5, 21+random%6
guardsound = 6, 0 
ground.type = High
ground.slidetime = 5
ground.hittime  = 20
ground.velocity = -10
airguard.velocity = -1.9,-4
air.type = High
air.velocity = -1.4,-4
air.hittime = 15
fall = 1
fall.recover = 0
getpower = 0

[State 200, 2]
type = ChangeState
trigger1 = AnimTime = 0
value = 30000

;---------------------------------------------------------------------------
;Kazekage Rope Bind
[Statedef 30750]
type    = S
movetype= A
physics = S
juggle  = 4
poweradd= 0
velset = 0,0
ctrl = 0                       ;Set ctrl (Def: no change)
anim = 30750 

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
value = F8,0+random%5

[State 0, PlaySnd]
type = PlaySnd
trigger1 =  animelem = 1
value = S6,1                      ;Change animation (Def: no change)

[State 200, 1]
type = HitDef
givepower = 0
getpower = 0
fall.yvelocity = -6
trigger1 = animelem = 2
trigger1 = anim = 30750
attr = S, NA                     ;Attribute: Standing, Normal Attack
getpower = 0,0
damage = 20,3                 ;Damage that move inflicts, guard damage
animtype = Light                 ;Animation type: Light, Medium, Heavy, Back (def: Light)
guardflag = MA                   ;Flags on how move is to be guarded against
hitflag = MAF                    ;Flags of conditions that move can hit
priority = 3, Hit                ;Attack priority: 0 (least) to 7 (most), 4 default                                 ;Hit/Miss/Dodge type (Def: Hit)
pausetime = 0,0                 ;Time attacker pauses, time opponent shakes
sparkno = 0+random%4                  ;Spark anim no (Def: set above)
sparkxy = -15,-40             ;Spark x y
                                ;Y-offset for the spark rel. to p1
hitsound = 24, 3                  ;Sound to play on hit
guardsound = 21, 7               ;Sound to play on guard
ground.type = High               ;Type: High, Low, Trip (def: Normal)
ground.slidetime = 5             ;Time that the opponent slides back
ground.hittime  = 10             ;Time opponent is in hit state
ground.velocity = -4             ;Velocity at which opponent is pushed
airguard.velocity = -4,-.8     ;Guard velocity in air (def: (air.xvel*1.5, air.yvel/2))
air.type = High                  ;Type: High, Low, Trip (def: same as ground.type)
air.velocity = -4,-1           ;X-velocity at which opponent is pushed,
                               ;Y-velocity at which opponent is pushed
air.hittime = 10               ;Time before opponent regains control in air

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 8
value = F21,4

[State 0, Helper]
type = Helper
trigger1 = time = 8
helpertype = normal
name = "kunai"
pos = 60,-50
ID = 30755
stateno = 30755
facing = 1
ownpal = 1

[State 0, Helper]
type = Helper
trigger1 = time = 8
helpertype = normal
name = "rope"
pos = 60,-50
ID = 30760
stateno = 30760
facing = 1
ownpal = 1

[State 0, ChangeAnim]
type = ChangeAnim
triggerall = anim != 30510
triggerall = time > 12
trigger1 = numhelper(30760) = 0
value = 30510
elem = 2

[State 0, ChangeState]
type = ChangeState
trigger1 = anim = 30510
trigger1 = animtime = 0
value = 30000
ctrl = 1

;------------------------------------------------------------------
;Kunai
[Statedef 30755]
type = S
movetype= A
physics = N
juggle  = 3
velset = 0,0
anim = 70700 ; do podstawienia animacja poziomo (state 70700 i 70705)
sprpriority = 2

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[State 0, VelSet]
type = VelSet
trigger1 = 1
x = 11

[State 0, 1]
type = HitDef
givepower = 0
getpower = 0
fall.yvelocity = -6
trigger1 = !time
attr = C,HP
damage = 50,7
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 3, 15
sparkno = -1
sparkxy = -10, 0
hitsound = 5,6
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -2
airguard.velocity = -1.9,-.8
air.type = High
air.velocity = -2,-3
air.hittime = 12
p2stateno = 106024

[State 0, PlaySnd]
type = PlaySnd
trigger1 = movehit
value = F21,3

[State 0, PlaySnd]
type = PlaySnd
trigger1 = moveguarded
value = F21,2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = moveguarded
value = F21,1

[State 0, ChangeState]
type = ChangeState
trigger1 = movehit
value = 30758

[State 0, HitOverride]
type = HitOverride
trigger1 = 1
attr = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
stateno = 70705
time = 9999

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 50
trigger2 = frontedgebodydist < -50
value = S1,19

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 50
trigger2 = frontedgebodydist < -50
value = S1,19

[State 0, DestroySelf]
type = DestroySelf
trigger1 = frontedgebodydist < -50
ignorehitpause = 1

[State 0, ChangeState]
type = ChangeState
trigger1 = time = 50
value = 70700

[State 0, ChangeState]
type = ChangeState
trigger1 = moveguarded
value = 70705
ctrl = 0

;------------------------------------------------------------------
;Kunai
[Statedef 30758]
type = S
movetype= A
physics = N
juggle  = 3
velset = 0,0
anim = 30770 ; do podstawienia animacja poziomo (state 70700 i 70705)
sprpriority = 3

[State 0, VarSet]
type = VarSet
trigger1 = time = 0
v = 4
value = enemynear, ID

[State 0, PosSet]
type = PosSet
trigger1 = 1
x = playerID(var(4)), pos x
y = playerID(var(4)), pos y -30

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 0
anim = 30775
ID = 30775
pos = 0,0
postype = p1
facing = 1
vfacing = 1
bindtime = -1
removetime = -1
scale = 1,1
sprpriority = -1

[State 0, TargetState]
type = TargetState
trigger1 = playerID(var(4)), stateno != 106024
trigger2 = parent, stateno != 30750
value = 5050
ID = -1

[State 0, Explod]
type = removeExplod
trigger1 = playerID(var(4)), stateno != 106024
trigger2 = parent, stateno != 30750
ID = 30775

[State 0, DestroySelf]
type = DestroySelf
trigger1 = playerID(var(4)), stateno != 106024
trigger2 = parent, stateno != 30750

;------------------------------------------------------------------
;Rope
[Statedef 30760]
type = S
movetype= A
physics = N
juggle  = 3
velset = 0,0
anim = 30760
sprpriority = -2

[State 0, ChangeAnim]
type = ChangeAnim
trigger1 = helper(30755), stateno = 30758
trigger1 = anim != 30765
value = 30765

[State 0, BindToParent]
type = BindToParent
trigger1 = 1
time = 2
facing = 1
pos = 55,-50

[State 0, DestroySelf]
type = DestroySelf
trigger1 = helper(30755), stateno != 30755
trigger1 = helper(30755), stateno != 30758

[State 0, VarSet]
type = VarSet
trigger1 = 1
fv = 4
value = pos x - helper(30755),pos x

[State 0, VarSet]
type = VarSet
trigger1 = 1
fv = 5
value = pos y - helper(30755),pos y

[State 0, VarSet]
type = VarSet
trigger1 = 1
fv = 6
value = Exp(0.5*ln((fvar(4)*fvar(4))+(fvar(5)*fvar(5))))/150

[State 1640, X]
Type=VarSet
Trigger1=1
fvar(13)=(helper(30755),Pos X-Pos X)*Facing

[State 1640, Y]
Type=VarSet
trigger1=1
fvar(14)=-(helper(30755),pos Y-Pos Y)

[State 1640, alfa]
Type=VarSet
trigger1=fvar(13)!=0
fvar(15)= Atan(fvar(14)/fvar(13))*180/PI +cond(fvar(13)<0,180,00)

[State 1640, alfa]
Type=VarSet
trigger1=fvar(13)=0
fvar(15)=cond(fvar(14)>0,90,-90)

[State 0, AngleDraw]
type = AngleDraw
trigger1 = 1
value = fvar(15)
scale = fvar(6),1
;---------------------------------------------------------------------------
; Kazekage Iron Gun Shot
[Statedef 30800]
type    = S                      ;State-type: S-stand, C-crouch, A-air, L-liedown
movetype= A                      ;Move-type: A-attack, I-idle, H-gethit
physics = S                      ;Physics: S-stand, C-crouch, A-air
juggle  = 1                      ;Number of air juggle points move takes                                ;Commonly-used controllers:
ctrl = 0                         ;Set ctrl (Def: no change)
anim = 30800                       ;Change animation (Def: no change)
poweradd = 0
velset=0,0

[State 0, VarRandom]
type = VarRandom
trigger1 = timemod = 6,0
v = 3
range = 0,100

[State 0, VarRandom]
type = VarRandom
trigger1 = timemod = 6,0
v = 4
range = 0,60

[State 0, VarAdd]
type = VarAdd
trigger1 = timemod = 6,1
trigger1 = time >5
v = 2    ;fv =
value = -15

[State 0, VarAdd]
type = Varset
trigger1 = var(2) < 0
v = 2
value = 0

[State 0, Helper]
type = Helper
trigger1 = timemod = 6,1
trigger1 = time >5
helpertype = normal ;player
name = "shot"
ID = 30810
stateno = 30810
pos = -30+var(3),-20-var(4)
postype = p1
facing = 1
ownpal = 1

[State 200, 2]
type = ChangeState
trigger1 = var(2) <30
trigger2 = AnimTime = 0
value = 30000

;---------------------------------------------------------------------------
; Iron Shot
[Statedef 30810]
type    = S                      ;State-type: S-stand, C-crouch, A-air, L-liedown
movetype= A                      ;Move-type: A-attack, I-idle, H-gethit
physics = N                      ;Physics: S-stand, C-crouch, A-air
juggle  = 1                      ;Number of air juggle points move takes                                ;Commonly-used controllers:
ctrl = 0                         ;Set ctrl (Def: no change)
anim = 30810                       ;Change animation (Def: no change)
poweradd = 0
sprpriority=1

[State 0, PlaySnd]
type = PlaySnd
trigger1 =  time = 11
value = S1,10

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 =  time=0
anim = 30811
ID = 30811
pos = 0,0
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
removetime = 10
scale = 1,1
sprpriority = 0

[State 0, ModifyExplod]
type = ModifyExplod
trigger1 = time<=10
ID = 30811
scale = 0.5-time*0.04,0.5-time*0.04

[State 0, AngleDraw]
type = AngleDraw
trigger1 = time<10
scale = 0.001+time*0.02,0.001+time*0.02
ignorehitpause = 1

[State 0, AngleDraw]
type = AngleDraw
trigger1 = time>=10
scale = 0.2,0.2
ignorehitpause = 1

[State 0, alive]
type = VarSet
trigger1 = 1
var(12) = cond((enemynear(0),alive),0,1)

[State 1640, X]
Type=VarSet
Trigger1=time=10
fvar(13)=(enemynear(var(12)),Pos X-Pos X)*Facing

[State 1640, Y]
Type=VarSet
trigger1=time=10
fvar(14)=(enemynear(var(12)),pos Y-Pos Y+20-random%100)

[State 1640, alfa]
Type=VarSet
trigger1= time = 10
fvar(15)= Atan(fvar(14)/fvar(13))

[State 0, VelSet]
type=VelSet
trigger1= time=11
x= 18*cos(fvar(15))
y= 18*sin(fvar(15))

[State 210, 2]
type = AfterImage
trigger1 = time = 0
time = 30
length = 5
palcolor = 256
palinvertall = 0
palbright = 0,0,0
palcontrast = 160,160,160
palpostbright = 0,0,0
paladd = -30,-30,-30
palmul = 1,1,1
timegap = 1
framegap = 1
trans = add1

[State -1,hit]
type = HitOverride
trigger1 = 1
time = 20
attr = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
stateno = 30811

[State 200, 1]
type = HitDef
givepower = 0
getpower = 0
fall.yvelocity = -6
trigger1 = 1
attr = S, NA                     ;Attribute: Standing, Normal Attack
getpower = 0,0
damage = 30,4                 ;Damage that move inflicts, guard damage
animtype = Light                 ;Animation type: Light, Medium, Heavy, Back (def: Light)
guardflag = MA                   ;Flags on how move is to be guarded against
hitflag = MAF                    ;Flags of conditions that move can hit
priority = 3, Hit                ;Attack priority: 0 (least) to 7 (most), 4 default                                 ;Hit/Miss/Dodge type (Def: Hit)
pausetime = 1,2                 ;Time attacker pauses, time opponent shakes
sparkno = -1                 ;Spark anim no (Def: set above)
sparkxy = -15,0                ;Spark x y
                                ;Y-offset for the spark rel. to p1
hitsound = 5, 27                  ;Sound to play on hit
guardsound = 21, 7                ;Sound to play on guard
ground.type = High               ;Type: High, Low, Trip (def: Normal)
ground.slidetime = 5             ;Time that the opponent slides back
ground.hittime  = 10             ;Time opponent is in hit state
ground.velocity = -0.5             ;Velocity at which opponent is pushed
airguard.velocity = -0.5,0     ;Guard velocity in air (def: (air.xvel*1.5, air.yvel/2))
air.type = High                  ;Type: High, Low, Trip (def: same as ground.type)
air.velocity = -0.5,0           ;X-velocity at which opponent is pushed,
                               ;Y-velocity at which opponent is pushed
air.hittime = 10

[State 0, DestroySelf]
type = DestroySelf
trigger1 = frontedgedist < -20
ignorehitpause = 1

[State 0, PosSet]
type = PosSet
trigger1 = pos y > 0
y = 0

[State 200, 2]
type = ChangeState
trigger1 = pos y = 0
trigger2 = movecontact
value = 30811

;---------------------------------------------------------------------------
; Iron Shot destroy
[Statedef 30811]
type    = S                      ;State-type: S-stand, C-crouch, A-air, L-liedown
movetype= A                      ;Move-type: A-attack, I-idle, H-gethit
physics = N                      ;Physics: S-stand, C-crouch, A-air
juggle  = 1                      ;Number of air juggle points move takes                                ;Commonly-used controllers:
ctrl = 0                     ;Set ctrl (Def: no change)

[State -2, Explod]
type = Explod
ownpal = 1
trigger1 = time = 0
trigger1 = pos y = 0
anim = 30815
ID = 30815
pos = 0,-3
facing = 1
postype = p1
bindtime = 1
removetime = -2
scale = 0.6,0.6
sprpriority = 1

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = invisible
ignorehitpause = 1

[State -2, Explod]
type = Explod
ownpal = 1
trigger1 = time = 0
anim = 30131
ID = 30131
pos = 0,0
facing = -1
vel = -0.3,-0.7
accel = 0,0.02
postype = p1
bindtime = 1
removetime = 56
scale = 0.3,0.3
sprpriority = 1
ownpal = 1
ontop = 0
supermovetime = 9999

[State -2, Explod]
type = Explod
ownpal = 1
trigger1 = time = 0
anim = 30131
ID = 30131
pos = 0,0
facing = 1
vel = 0.3,-0.7
accel = 0,0.02
postype = p1
bindtime = 1
removetime = 56
scale = 0.3,0.3
sprpriority = 1
ownpal = 1
ontop = 0
supermovetime = 9999

[State -2, Explod]
type = Explod
ownpal = 1
trigger1 = time = 0
anim = 30131
ID = 30131
pos = 0,0
facing = -1
vel = -0.3,0
accel = 0,0.02
postype = p1
bindtime = 1
removetime = 56
scale = 0.3,0.3
sprpriority = 1
ownpal = 1
ontop = 0
supermovetime = 9999

[State -2, Explod]
type = Explod
ownpal = 1
trigger1 = time = 0
anim = 30131
ID = 30131
pos = 0,0
facing = 1
vel = 0.3,0
accel = 0,0.02
postype = p1
bindtime = 1
removetime = 56
scale = 0.3,0.3
sprpriority = 1
ownpal = 1
ontop = 0
supermovetime = 9999

[State 0, DestroySelf]
type = DestroySelf
trigger1 = time = 1
ignorehitpause = 1


;---------------------------------------------------------------------------
;Kazekage Iron Sand Charge
[Statedef 30900]
type    = S
movetype= I
physics = S
juggle  = 4
poweradd= 0
velset = 0,0
ctrl = 0
anim = 30900

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S1,9
loop = 1
channel = 3

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = timemod = 20,5
anim = 30910
id = 30910
pos = -10,10
scale = 0.5,0.5
postype = p1
facing = 1
removetime = -2
vel = 0,-1.5
sprpriority = 0
removeongethit = 1
ownpal = 1
supermovetime = 9999

[State 0, ModifyExplod]
type = ModifyExplod
trigger1 = 1
ID = 30910
scale = 0.5+(time%20)*0.02,0.5+(time%20)*0.02
trans = addalpha
alpha = 256,((time%20)-5)*17.07

[State 0, VarAdd]
type = VarAdd
trigger1 = time>5
v = 2
value = 5

[State 0, VarAdd]
type = Varset
trigger1 = var(2)>999
v = 2
value = 999

[State 0, VarRandom]
type = VarRandom
trigger1 = timemod = 10,0
v = 3
range = 0,60

[State 0, VarRandom]
type = VarRandom
trigger1 = timemod = 10,0
v = 4
range = 0,60

[State -2, Explod]
type = Explod
ownpal = 1
trigger1 = timemod = 20,0
anim = 30131
ID = 30131
pos = -30+random%60,-var(4)
facing = cond(random%2=0,-1,1)
vel = -0.3,-0.5
accel = 0,0.02
postype = p1
bindtime = 1
removetime = 56
scale = 0.5,0.5
sprpriority = 2
ownpal = 1
ontop = 0
supermovetime = 9999

[State -2, Explod]
type = Explod
ownpal = 1
trigger1 = timemod = 20,10
anim = 30131
ID = 30131
pos = -30+random%60,-var(3)
facing = cond(random%2=0,1,-1)
vel = 0.3,-0.5
accel = 0,0.02
postype = p1
bindtime = 1
removetime = 56
scale = 0.5,0.5
sprpriority = 2
ownpal = 1
ontop = 0
supermovetime = 9999

[State 0, ModifyExplod]
type = removeExplod
trigger1 = parent,stateno !=3900
trigger2 = var(2) = 999
ID = 30910

[State 200, 2]
type = ChangeState
trigger1 = parent,stateno !=3900
trigger2 = var(2) = 999
value = 30000

;---------------------------------------------------------------------------
;Kazekage Cube&Piramid
[Statedef 31000]
type    = S
movetype= I
physics = S
juggle  = 4
poweradd= 0
velset = 0,0
ctrl = 0
anim = 31000

[State 0, SuperPause]
type = SuperPause
trigger1 = time = 0
time = 200
movetime = 200
anim = -1
darken = 1
unhittable = 0

[State 0, VarAdd]
type = VarAdd
trigger1 = time = 20
v = 2    ;fv =
value = -700

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = timemod = 20,5
anim = 30910
id = 30910
pos = -10,10
scale = 0.5,0.5
postype = p1
facing = 1
removetime = -2
vel = 0,-1.5
sprpriority = 0
removeongethit = 1
ownpal = 1
supermovetime = 9999

[State 0, ModifyExplod]
type = ModifyExplod
trigger1 = 1
ID = 30910
scale = 0.5+(time%20)*0.02,0.5+(time%20)*0.02
trans = addalpha
alpha = 256,((time%20)-5)*17.07

[State 0, VarRandom]
type = VarRandom
trigger1 = timemod = 20,0
v = 3
range = 0,60

[State 0, VarRandom]
type = VarRandom
trigger1 = timemod = 20,0
v = 4
range = 0,60

[State -2, Explod]
type = Explod
ownpal = 1
trigger1 = timemod = 20,0
anim = 30131
ID = 30131
pos = -30+random%60,-var(4)
facing = cond(random%2=0,-1,1)
vel = -0.3,-0.5
accel = 0,0.02
postype = p1
bindtime = 1
removetime = 56
scale = 0.5,0.5
sprpriority = 2
supermovetime = 9999
ownpal = 1

[State -2, Explod]
type = Explod
ownpal = 1
trigger1 = timemod = 20,10
anim = 30131
ID = 30131
pos = -30+random%60,-var(3)
facing = cond(random%2=0,1,-1)
vel = 0.3,-0.5
accel = 0,0.02
postype = p1
bindtime = 1
removetime = 56
scale = 0.5,0.5
sprpriority = 2
supermovetime = 9999
ownpal = 1

[State 0, Helper]
type = Helper
trigger1 = time = 20
helpertype = normal ;player
name = "cube"
ID = 31100
stateno = 31099
pos = 0,0
postype = p1    ;p2,front,back,left,right
facing = 1
ownpal = 1
supermovetime = 180
size.xscale = 0.75
size.yscale = 0.6

[State 0, Helper]
type = Helper
trigger1 = time = 20
helpertype = normal ;player
name = "piramid"
ID = 31200
stateno = 31199
pos = 0,0
postype = p1    ;p2,front,back,left,right
facing = 1
ownpal = 1
supermovetime = 180
size.xscale = 0.7
size.yscale = 0.7

[State 200, 2]
type = ChangeState
trigger1 = time = 200
value = 30000

;---------------------------------------------------------------------------
;Kazekage Cube Attack
[Statedef 31010]
type    = S
movetype= I
physics = S
juggle  = 4
poweradd= 0
velset = 0,0
ctrl = 0
anim = 31010

[State 0, VarRandom]
type = VarRandom
trigger1 = timemod = 20,0
v = 3
range = 0,60

[State 0, VarRandom]
type = VarRandom
trigger1 = timemod = 20,0
v = 4
range = 0,60

[State -2, Explod]
type = Explod
ownpal = 1
trigger1 = timemod = 20,0
anim = 30131
ID = 30131
pos = -30+random%60,-var(4)
facing = cond(random%2=0,-1,1)
vel = -0.3,-0.5
accel = 0,0.02
postype = p1
bindtime = 1
removetime = 56
scale = 0.5,0.5
sprpriority = 2
supermovetime = 9999
ownpal = 1

[State -2, Explod]
type = Explod
ownpal = 1
trigger1 = timemod = 20,10
anim = 30131
ID = 30131
pos = -30+random%60,-var(3)
facing = cond(random%2=0,1,-1)
vel = 0.3,-0.5
accel = 0,0.02
postype = p1
bindtime = 1
removetime = 56
scale = 0.5,0.5
sprpriority = 2
supermovetime = 9999
ownpal = 1

[State 200, 2]
type = ChangeState
trigger1 = animtime = 0
value = 30000

;---------------------------------------------------------------------------
;Kazekage Piramid Attack1
[Statedef 31020]
type    = S
movetype= I
physics = S
juggle  = 4
poweradd= 0
velset = 0,0
ctrl = 0
anim = 31010

[State 0, VarRandom]
type = VarRandom
trigger1 = timemod = 20,0
v = 3
range = 0,60

[State 0, VarRandom]
type = VarRandom
trigger1 = timemod = 20,0
v = 4
range = 0,60

[State -2, Explod]
type = Explod
ownpal = 1
trigger1 = timemod = 20,0
anim = 30131
ID = 30131
pos = -30+random%60,-var(4)
facing = cond(random%2=0,-1,1)
vel = -0.3,-0.5
accel = 0,0.02
postype = p1
bindtime = 1
removetime = 56
scale = 0.5,0.5
sprpriority = 2
supermovetime = 9999
ownpal = 1

[State -2, Explod]
type = Explod
ownpal = 1
trigger1 = timemod = 20,10
anim = 30131
ID = 30131
pos = -30+random%60,-var(3)
facing = cond(random%2=0,1,-1)
vel = 0.3,-0.5
accel = 0,0.02
postype = p1
bindtime = 1
removetime = 56
scale = 0.5,0.5
sprpriority = 2
supermovetime = 9999
ownpal = 1

[State 200, 2]
type = ChangeState
trigger1 = animtime = 0
value = 30000

;---------------------------------------------------------------------------
;Kazekage Piramid Attack2
[Statedef 31025]
type    = S
movetype= I
physics = S
juggle  = 4
poweradd= 0
velset = 0,0
ctrl = 0
anim = 31010

[State 0, VarRandom]
type = VarRandom
trigger1 = timemod = 20,0
v = 3
range = 0,60

[State 0, VarRandom]
type = VarRandom
trigger1 = timemod = 20,0
v = 4
range = 0,60

[State -2, Explod]
type = Explod
ownpal = 1
trigger1 = timemod = 20,0
anim = 30131
ID = 30131
pos = -30+random%60,-var(4)
facing = cond(random%2=0,-1,1)
vel = -0.3,-0.5
accel = 0,0.02
postype = p1
bindtime = 1
removetime = 56
scale = 0.5,0.5
sprpriority = 2
supermovetime = 9999
ownpal = 1

[State -2, Explod]
type = Explod
ownpal = 1
trigger1 = timemod = 20,10
anim = 30131
ID = 30131
pos = -30+random%60,-var(3)
facing = cond(random%2=0,1,-1)
vel = 0.3,-0.5
accel = 0,0.02
postype = p1
bindtime = 1
removetime = 56
scale = 0.5,0.5
sprpriority = 2
supermovetime = 9999
ownpal = 1

[State 200, 2]
type = ChangeState
trigger1 = animtime = 0
value = 30000

;---------------------------------------------------------------------------
;Iron Cube Create
[Statedef 31099]
type    = S
movetype= I
physics = S
juggle  = 4
poweradd= 0
sprpriority = 1
ctrl = 0
anim = 31099

[State 0, VarRandom]
type = VarRandom
trigger1 = timemod = 10,0
v = 3
range = -60,60

[State 0, VarRandom]
type = VarRandom
trigger1 = timemod = 10,0
v = 4
range = -60,60

[State -2, Explod]
type = Explod
ownpal = 1
trigger1 = timemod = 10,0
anim = 30131
ID = 30131
pos = -30+random%60,-var(4)
facing = cond(random%2=0,-1,1)
vel = -0.3,-0.5
accel = 0,0.02
postype = p1
bindtime = 1
removetime = 56
scale = 0.5,0.5
sprpriority = 2
supermovetime = 9999
ownpal = 1

[State -2, Explod]
type = Explod
ownpal = 1
trigger1 = timemod = 10,5
anim = 30131
ID = 30131
pos = -30+random%60,-var(3)
facing = cond(random%2=0,1,-1)
vel = 0.3,-0.5
accel = 0,0.02
postype = p1
bindtime = 1
removetime = 56
scale = 0.5,0.5
sprpriority = 2
supermovetime = 9999
ownpal = 1

[State 0, PosSet]
type = PosSet
trigger1 = time = 0
x = 70
y = -350

[State 0, AngleDraw]
type = AngleDraw
trigger1 = 1
scale = 0.5+time*0.0083,0.5+time*0.0083

[State 200, 2]
type = ChangeState
trigger1 = animtime = 0
value = 31100

;---------------------------------------------------------------------------
;Iron Cube
[Statedef 31100]
type    = S
movetype= I
physics = S
juggle  = 4
poweradd= 0
sprpriority = 1
ctrl = 0
anim = 31100

[State 0, ChangeState]
type = ChangeState
trigger1 = root, stateno = 4500
value = 31510

[State 0, VelSet]
type = VelSet
trigger1 = 1
y = 0.1*sin(time*PI/60)

[State 0, VelSet]
type = VelSet
trigger1 = pos x > 72
x = -1*facing

[State 0, VelSet]
type = VelSet
trigger1 = pos x < 68
x = 1*facing

[State 0, ChangeState]
type = ChangeState
trigger1 = parent, stateno = 31010
value = 31150

;---------------------------------------------------------------------------
;Iron Cube Attack
[Statedef 31150]
type    = S
movetype= I
physics = S
juggle  = 4
poweradd= -750
sprpriority = 1
ctrl = 0
anim = 31150

[State 0, VelSet]
type = VelSet
trigger1 = p2dist x < -4
x = -8

[State 0, VelSet]
type = VelSet
trigger1 = p2dist x > 4
x = 8

[State 0, VelSet]
type = VelSet
trigger1 = p2dist x = [-4,4]
x = 0

[State 0, ChangeState]
type = ChangeState
trigger1 = p2dist x = [-4,4]
value = 31151

;---------------------------------------------------------------------------
;Iron Cube Attack
[Statedef 31151]
type    = S
movetype= A
physics = A
velset = 0,0.5

[State 0, HitDef]
type = HitDef
fall.yvelocity = -6
trigger1 = timemod = 3,0
trigger1 = pos y <= -80
trigger1 = !movecontact
attr = S,NA
getpower = 0,0
givepower = 0,0
animtype = Light                 ;Animation type: Light, Medium, Heavy, Back (def: Light)
guardflag = MA                   ;Flags on how move is to be guarded against
hitflag = MAF                    ;Flags of conditions that move can hit
priority = 3, Hit                ;Attack priority: 0 (least) to 7 (most), 4 default                                 ;Hit/Miss/Dodge type (Def: Hit)
pausetime = 1,2                 ;Time attacker pauses, time opponent shakes
sparkno = 625                  ;Spark anim no (Def: set above)
sparkxy = -15,40                ;Spark x y
damage = 500,100                                ;Y-offset for the spark rel. to p1
hitsound = 24, 3                  ;Sound to play on hit
guardsound = 21, 7                ;Sound to play on guard
ground.type = High
ground.type = High      ;Low,Trip,None
air.hittime = 20
ground.velocity = 0,5
air.velocity = 0,5
fall = 0
fall.recover = 0

[State 0, HitDef]
type = HitDef
fall.yvelocity = -6
trigger1 = timemod = 3,0
trigger1 = pos y <= -80
trigger1 = movecontact
attr = S,NA
getpower = 0,0
givepower = 0,0
animtype = Light                 ;Animation type: Light, Medium, Heavy, Back (def: Light)
guardflag = MA                   ;Flags on how move is to be guarded against
hitflag = MAF                    ;Flags of conditions that move can hit
priority = 3, Hit                ;Attack priority: 0 (least) to 7 (most), 4 default                                 ;Hit/Miss/Dodge type (Def: Hit)
pausetime = 1,2                 ;Time attacker pauses, time opponent shakes
sparkno = 257                  ;Spark anim no (Def: set above)
sparkxy = -15,40                ;Spark x y
damage = 200,40                               ;Y-offset for the spark rel. to p1
hitsound = 24, 3                  ;Sound to play on hit
guardsound = 21, 7                ;Sound to play on guard
ground.type = High
ground.type = High      ;Low,Trip,None
air.hittime = 20
ground.velocity = 0,5
air.velocity = 0,5
fall = 1
fall.recover = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = pos y > -80
trigger1 = vel y != 0
value = F15,3

[State 0, PlaySnd]
type = PlaySnd
trigger1 = pos y > -80
trigger1 = vel y != 0
value = F15,2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = pos y > -80
trigger1 = vel y != 0
value = F15,4

[State 0, EnvShake]
type = EnvShake
trigger1 = pos y > -80
trigger1 = vel y != 0
time = 20
freq = 100
ampl = -10
phase = 90

[State -2, Explod]
type = Explod
ownpal = 1
trigger1 = pos y > -80
trigger1 = vel y != 0
anim = F210
ID = 210
pos = 0,90
facing = 1
postype = p1
bindtime = 1
removetime = -2
scale = 1.4,1.4
sprpriority = 3

[State -2, Explod]
type = Explod
ownpal = 1
trigger1 = pos y > -80
trigger1 = vel y != 0
anim = F540
id = 580
pos = 0,90
postype = p1
bindtime = 1
removetime = -2
sprpriority = 2
scale = 2.1,1.7

[State -2, Explod]
type = Explod
ownpal = 1
trigger1 = pos y > -80
trigger1 = vel y != 0
anim = F1190
id = 580
pos = 0,90
postype = p1
bindtime = 1
removetime = -2
sprpriority = 2
scale = 2,2

[State 0, StateTypeSet]
type = StateTypeSet
trigger1 = pos y > -80
trigger1 = vel y != 0
physics = S

[State 0, VelSet]
type = VelSet
trigger1 = pos y > -80
y = 0

[State 0, ChangeState]
type = ChangeState
trigger1 = time = 60
value = 31152

;---------------------------------------------------------------------------
;Iron Cube back
[Statedef 31152]
type    = S
movetype= A
physics = S
velset = 0,0

[State 0, VelSet]
type = Veladd
trigger1 = pos y > -350
trigger1 = vel y > -2
y = -0.3

[State 0, PosSet]
type = velSet
trigger1 = pos y <= -350
y = 0

[State 0, PosSet]
type = PosSet
trigger1 = pos y <= -350
y = -350

[State 0, ChangeState]
type = ChangeState
trigger1 = pos y = -350
value = 31100

;---------------------------------------------------------------------------
;Iron Piramid Create
[Statedef 31199]
type    = S
movetype= I
physics = S
juggle  = 4
poweradd= 0
sprpriority = 1
ctrl = 0
anim = 31199

[State 0, VarRandom]
type = VarRandom
trigger1 = timemod = 10,0
v = 3
range = -40,40

[State 0, VarRandom]
type = VarRandom
trigger1 = timemod = 10,0
v = 4
range = -40,40

[State -2, Explod]
type = Explod
ownpal = 1
trigger1 = timemod = 10,0
anim = 30131
ID = 30131
pos = -25+random%50,-var(4)
facing = cond(random%2=0,-1,1)
vel = -0.3,-0.5
accel = 0,0.02
postype = p1
bindtime = 1
removetime = 56
scale = 0.5,0.5
sprpriority = 2
supermovetime = 9999
ownpal = 1

[State -2, Explod]
type = Explod
ownpal = 1
trigger1 = timemod = 10,5
anim = 30131
ID = 30131
pos = -25+random%50,-var(3)
facing = cond(random%2=0,1,-1)
vel = 0.3,-0.5
accel = 0,0.02
postype = p1
bindtime = 1
removetime = 56
scale = 0.5,0.5
sprpriority = 2
supermovetime = 9999
ownpal = 1

[State 0, PosSet]
type = PosSet
trigger1 = time = 0
x = -70
y = -350

[State 0, AngleDraw]
type = AngleDraw
trigger1 = 1
scale = 0.5+time*0.01,0.5+time*0.01

[State 200, 2]
type = ChangeState
trigger1 = animtime = 0
value = 31200

;---------------------------------------------------------------------------
;Iron Piramid
[Statedef 31200]
type    = S
movetype= I
physics = S
juggle  = 4
poweradd= 0
sprpriority = 1
ctrl = 0
anim = 31200

[State 0, ChangeState]
type = ChangeState
trigger1 = root, stateno = 4500
value = 31520

[State 0, VelSet]
type = VelSet
trigger1 = 1
y = -0.1*sin(time*PI/60)

[State 0, VelSet]
type = VelSet
trigger1 = pos x > -68
x = -1*facing

[State 0, VelSet]
type = VelSet
trigger1 = pos x < -72
x = 1*facing

[State 0, ChangeState]
type = ChangeState
trigger1 = parent, stateno = 31025
value = 31270

[State 0, ChangeState]
type = ChangeState
trigger1 = parent, stateno = 31020
value = 31250

;---------------------------------------------------------------------------
;Iron Piramid Attack1
[Statedef 31250]
type    = S
movetype= I
physics = S
juggle  = 4
poweradd= -1000
sprpriority = 1
anim = 31250

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
trigger2 = animelem = 3
trigger3 = animelem = 5
trigger4 = animelem = 7
trigger5 = animelem = 9
trigger6 = animelem = 11
trigger7 = time > 58
trigger7 = timemod = 8,0
value = F8,2

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = animelem = 5
trigger2 = animelem = 9
trigger3 = time > 58
trigger3 = timemod = 16,0
anim = 31255
pos = 5,0
scale = 0.8,0.7
postype = p1
facing = 1
bindtime = 1
removetime = -2
sprpriority = 2

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = animelem = 5
trigger2 = animelem = 9
trigger3 = time > 58
trigger3 = timemod = 16,0
anim = F1391
pos = 5,0
scale = 1,1
angle = 250
postype = p1
facing = 1
bindtime = 1
removetime = -2
sprpriority = 2

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = animelem = 7
trigger2 = animelem = 11
trigger3 = time > 58
trigger3 = timemod = 16,8
anim = 31255
pos = 5,0
scale = 0.8,0.7
postype = p1
facing = -1
bindtime = 1
removetime = -2
sprpriority = 2

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = animelem = 7
trigger2 = animelem = 11
trigger3 = time > 58
trigger3 = timemod = 16,8
anim = F1391
pos = 5,0
scale = 1,1
angle = 250
postype = p1
facing = 1
bindtime = 1
removetime = -2
sprpriority = 2

[State 200, 1]
type = HitDef
givepower = 0
getpower = 0
fall.yvelocity = -6
trigger1 = timemod = 4,0
attr = S, NA                     ;Attribute: Standing, Normal Attack
getpower = 0,0
damage = 75,15                ;Damage that move inflicts, guard damage
animtype = Light                 ;Animation type: Light, Medium, Heavy, Back (def: Light)
guardflag = MA                   ;Flags on how move is to be guarded against
hitflag = MAF                    ;Flags of conditions that move can hit
priority = 3, Hit                ;Attack priority: 0 (least) to 7 (most), 4 default                                 ;Hit/Miss/Dodge type (Def: Hit)
pausetime = 0,0                 ;Time attacker pauses, time opponent shakes
sparkno = 272                ;Spark anim no (Def: set above)
sparkxy = -15,-25               ;Spark x y
                                ;Y-offset for the spark rel. to p1
hitsound = F24, 14                  ;Sound to play on hit
guardsound = 21, 7                ;Sound to play on guard
ground.type = High               ;Type: High, Low, Trip (def: Normal)
ground.slidetime = 5             ;Time that the opponent slides back
ground.hittime  = 15             ;Time opponent is in hit state
ground.velocity = 5*cond((enemynear(0),pos x - pos x) > 0,-1,1)*facing,-1             ;Velocity at which opponent is pushed
airguard.velocity = 5*cond((enemynear(0),pos x - pos x) > 0,-1,1)*facing,-0.5     ;Guard velocity in air (def: (air.xvel*1.5, air.yvel/2))
air.type = High                  ;Type: High, Low, Trip (def: same as ground.type)
air.velocity = 5*cond((enemynear(0),pos x - pos x) > 0,-1,1)*facing,-1         ;X-velocity at which opponent is pushed,                                 ;Y-velocity at which opponent is pushed
air.hittime = 16

[State 0, VelSet]
type = VelSet
trigger1 = pos y > -45
y = 0

[State 0, AngleDraw]
type = AngleDraw
trigger1 = time > 70
value = 0
scale = 0.8,1

[State 0, StateTypeSet]
type = StateTypeSet
trigger1 = time = 70
movetype = A
physics = A         ;A,C,S,N

[State 0, ChangeState]
type = ChangeState
trigger1 = pos y > -45
value = 31251

;---------------------------------------------------------------------------
;Iron Piramid Attack1
[Statedef 31251]
type    = S
movetype= A
physics = N

[State -2, Explod]
type = Explod
ownpal = 1
trigger1 = time = 0
anim = F1190
id = 580
pos = 0,50
postype = p1
bindtime = 1
removetime = -2
sprpriority = 2
scale = 2,2

[State -2, Explod]
type = Explod
ownpal = 1
trigger1 = timemod = 2,0
trigger1 = vel x > 0
anim = 30815
ID = 30815
pos = 4,57
facing = -1
postype = p1
bindtime = 1
removetime = -2
scale = 0.9,0.9
sprpriority = 2

[State -2, Explod]
type = Explod
ownpal = 1
trigger1 = timemod = 2,0
trigger1 = vel x < 0
anim = 30815
ID = 30815
pos = 4,57
facing = 1
postype = p1
bindtime = 1
removetime = -2
scale = 0.9,0.9
sprpriority = 2

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = timemod = 8,0
trigger1 = vel x > 0
anim = F1391
pos = 25,-10
facing = -1
scale = 1,1
angle = 250
postype = p1
facing = 1
bindtime = 1
removetime = -2
sprpriority = 2

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = timemod = 8,0
trigger1 = vel x < 0
anim = F1391
pos = -25,-10
facing = 1
scale = 1,1
angle = 250
postype = p1
facing = 1
bindtime = 1
removetime = -2
sprpriority = 2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = F15,0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = F15,2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = F15,4

[State 7500, Explod]
type = Explod
ownpal = 1
trigger1 = time = 0
anim = 1015
ID = 1015
pos = 4,57
postype = p1  ;p2,front,back,left,right
facing = -1
vfacing = 1
bindtime = 1
removetime = -2
scale = 0.7,0.5
sprpriority = 2
removeongethit = 1
ownpal = 1

[State 0, EnvShake]
type = EnvShake
trigger1 = time = 0
time = 10
freq = 80
ampl = -6
phase = 90

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = timemod = 8,0
anim = 31255
pos = 5,0
scale = 0.8,0.7
postype = p1
facing = -1
bindtime = 1
removetime = -2
sprpriority = 2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 10
value = F14,4

[State 0, PlaySnd]
type = PlaySnd
trigger1 = timemod = 8,0
value = F8,2

[State 200, 1]
type = HitDef
givepower = 0
getpower = 0
fall.yvelocity = -6
trigger1 = timemod = 4,0
attr = S, NA                     ;Attribute: Standing, Normal Attack
getpower = 0,0
damage = 75,15                ;Damage that move inflicts, guard damage
animtype = Light                 ;Animation type: Light, Medium, Heavy, Back (def: Light)
guardflag = MA                   ;Flags on how move is to be guarded against
hitflag = MAF                    ;Flags of conditions that move can hit
priority = 3, Hit                ;Attack priority: 0 (least) to 7 (most), 4 default                                 ;Hit/Miss/Dodge type (Def: Hit)
pausetime = 0,0                 ;Time attacker pauses, time opponent shakes
sparkno = 2742               ;Spark anim no (Def: set above)
sparkxy = -15,-25               ;Spark x y
                                ;Y-offset for the spark rel. to p1
hitsound = F24, 14                  ;Sound to play on hit
guardsound = 21, 7                ;Sound to play on guard
ground.type = High               ;Type: High, Low, Trip (def: Normal)
ground.slidetime = 5             ;Time that the opponent slides back
ground.hittime  = 15             ;Time opponent is in hit state
ground.velocity = (vel x-1.5)*cond((enemynear(0),pos x - pos x) > 0,-1,1)*facing,-1             ;Velocity at which opponent is pushed
airguard.velocity = (vel x-1.5)*cond((enemynear(0),pos x - pos x) > 0,-1,1)*facing,-0.5     ;Guard velocity in air (def: (air.xvel*1.5, air.yvel/2))
air.type = High                  ;Type: High, Low, Trip (def: same as ground.type)
air.velocity = (vel x-1.5)*cond((enemynear(0),pos x - pos x) > 0,-1,1)*facing,-1         ;X-velocity at which opponent is pushed,                                 ;Y-velocity at which opponent is pushed
air.hittime = 16

[State 0, TargetState]
type = TargetState
trigger1 = enemy(cond((enemy(0),alive),0,1)), var(30) = 0
trigger1 = movehit
value = 106000

[State 0, VarSet]
type = VarSet
trigger1 = p2dist x < 0
trigger1 = time = 0
v = 11
value = -1

[State 0, VarSet]
type = VarSet
trigger1 = p2dist x >= 0
trigger1 = time = 0
v = 11
value = 1

[State 0, VelSet]
type = VelAdd
trigger1 = Abs(vel x) < 10
x = 0.2*var(11)

[State 0, AngleDraw]
type = AngleDraw
trigger1 = time < 10
value = -time*var(11)*1.5
scale = 0.8,1
ignorehitpause = 1

[State 0, AngleDraw]
type = AngleDraw
trigger1 = time >= 10
value = -15*var(11)
scale = 0.8,1
ignorehitpause = 1

[State 0, ChangeState]
type = ChangeState
trigger1 = frontedgedist < -50 && var(11) = 1
trigger2 = backedgedist < -50 && var(11) = -1
value = 31252

;---------------------------------------------------------------------------
;Iron Piramid back
[Statedef 31252]
type    = S
movetype= A
physics = S
velset = 0,0
anim = 31200

[State 0, VelSet]
type = Veladd
trigger1 = pos y > -350
trigger1 = vel y > -2
y = -0.3

[State 0, PosSet]
type = velSet
trigger1 = pos y <= -350
y = 0

[State 0, PosSet]
type = PosSet
trigger1 = pos y <= -350
y = -350

[State 0, ChangeState]
type = ChangeState
trigger1 = pos y = -350
value = 31200

;---------------------------------------------------------------------------
;Iron Piramid Attack2
[Statedef 31270]
type    = S
movetype= I
physics = S
velset = 0,0
poweradd = -500
;anim = 31270

[State 0, alive]
type = Varset
trigger1 = time = 0
var(11) = 0

[State 0, alive]
type = VarSet
trigger1 = 1
var(12) = cond((enemynear(0),alive),0,1)

[State 1640, X]
Type=VarSet
Trigger1=1
fvar(13)=(enemynear(var(12)),Pos X-Pos X)*Facing

[State 1640, Y]
Type=VarSet
trigger1=1
fvar(14)=-(enemynear(var(12)),pos Y-Pos Y-40)

[State 1640, alfa]
Type=VarSet
trigger1=fvar(13)!=0
fvar(15)= Atan(fvar(14)/fvar(13))*180/PI +cond(fvar(13)<0,270,90)

[State 1640, alfa]
Type=VarSet
trigger1=fvar(13)=0
fvar(15)=cond(fvar(14)>0,180,0)

[State 0, AngleDraw]
type = AngleDraw
trigger1 = 1
value = var(11)

[State 0, ChangeState]
type = ChangeState
trigger1 = var(11) > fvar(15)
trigger1 = fvar(15) = [0,180]
trigger2 = 360+var(11) < fvar(15)
trigger2 = fvar(15) = [180,360]
value = 31271

[State 0, alive]
type = VarAdd
trigger1 = fvar(15) = [0,180]
var(11) = 3

[State 0, alive]
type = VarAdd
trigger1 = fvar(15) = [180,360]
var(11) = -3

;---------------------------------------------------------------------------
;Iron Piramid Attack2
[Statedef 31271]
type    = S
movetype= I
physics = N
velset = 0,0
anim = 31270

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = F14,6

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = F14,6

[State 0, AngleDraw]
type = AngleDraw
trigger1 = 1
value = var(11)

[State 0, Helper]
type = Helper
trigger1 = time = 0
helpertype = normal ;player
name = "atak"
ID = 31270
stateno = 31272
pos = 0,0
postype = p1    ;p2,front,back,left,right
facing = 1

[State 0, VelSet]
type = VelSet
trigger1 = time = 18
trigger1 = helper(31270), pos y < 3
x = 16*sin(var(11)*PI/180)
y = 16*cos(var(11)*PI/180)

[State 0, VelSet]
type = VelSet
trigger1 = time >= 18
trigger1 = helper(31270), pos y >= 3
x = 0
y = 0

[State 0, ChangeState]
type = ChangeState
trigger1 = helper(31270), pos y >= 3
value = 31273

[State 0, ChangeState]
type = ChangeState
trigger1 = frontedgedist < -30
trigger2 = backedgedist < -30
trigger3 = pos y < -500
value = 31274

;---------------------------------------------------------------------------
;Iron Piramid Attack2
[Statedef 31272]
type    = S
movetype= A
physics = S
velset = 0,0
anim = 31271

[State 0, BindToParent]
type = BindToParent
trigger1 = time < 18
time = 100
pos = 6+(time*11.1+50)*sin(parent,var(11)*PI/180),(time*11.1+50)*cos(parent,var(11)*PI/180)
ignorehitpause = 1

[State 0, BindToParent]
type = BindToParent
trigger1 = time = 18
time = 100
pos = 6+255*sin(parent,var(11)*PI/180),255*cos(parent,var(11)*PI/180)
ignorehitpause = 1

[State 200, 1]
type = HitDef
givepower = 0
getpower = 0
fall.yvelocity = -6
trigger1 = timemod = 4,0
attr = S, NA                     ;Attribute: Standing, Normal Attack
getpower = 0,0
damage = 125,25               ;Damage that move inflicts, guard damage
animtype = Light                 ;Animation type: Light, Medium, Heavy, Back (def: Light)
guardflag = MA                   ;Flags on how move is to be guarded against
hitflag = MAF                    ;Flags of conditions that move can hit
priority = 3, Hit                ;Attack priority: 0 (least) to 7 (most), 4 default                                 ;Hit/Miss/Dodge type (Def: Hit)
pausetime = 0,0                 ;Time attacker pauses, time opponent shakes
sparkno = 10+random%3                 ;Spark anim no (Def: set above)
sparkxy = -15,0              ;Spark x y
                                ;Y-offset for the spark rel. to p1
hitsound = F24, 11+random%2                  ;Sound to play on hit
guardsound = 21, 7                ;Sound to play on guard
ground.type = High               ;Type: High, Low, Trip (def: Normal)
ground.slidetime = 5             ;Time that the opponent slides back
ground.hittime  = 15             ;Time opponent is in hit state
ground.velocity = -5*cond((parent,pos x - pos x) > 0,-1,1)*facing,1             ;Velocity at which opponent is pushed
airguard.velocity = -5*cond((parent,pos x - pos x) > 0,-1,1)*facing,0.5     ;Guard velocity in air (def: (air.xvel*1.5, air.yvel/2))
air.type = High                  ;Type: High, Low, Trip (def: same as ground.type)
air.velocity = -5*cond((parent,pos x - pos x) > 0,-1,1)*facing,1         ;X-velocity at which opponent is pushed,                                 ;Y-velocity at which opponent is pushed
air.hittime = 16

[State 0, TargetState]
type = TargetState
trigger1 = enemy(cond((enemy(0),alive),0,1)), var(30) = 0
trigger1 = movehit
value = 106000

[State 0, PlaySnd]
type = PlaySnd
trigger1 = parent, stateno = 31273
value = F15,0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = parent, stateno = 31273
value = F15,2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = parent, stateno = 31273
value = F15,4

[State 7500, Explod]
type = Explod
ownpal = 1
trigger1 = parent, stateno = 31273
anim = 1015
ID = 1015
pos = 0,10-pos y
postype = p1  ;p2,front,back,left,right
facing = -1
vfacing = 1
bindtime = 1
removetime = -2
scale = 0.8,0.8
sprpriority = 2
removeongethit = 1
ownpal = 1

[State 0, EnvShake]
type = EnvShake
trigger1 = parent, stateno = 31273
time = 10
freq = 80
ampl = -6
phase = 90

[State 0, DestroySelf]
type = DestroySelf
trigger1 = parent, stateno = 31273

;---------------------------------------------------------------------------
;Iron Piramid back
[Statedef 31273]
type    = S
movetype= I
physics = N

[State 0, AngleDraw]
type = AngleDraw
trigger1 = 1
value = var(11)

[State 0, ChangeState]
type = ChangeState
trigger1 = time = 20
value = 31274

;---------------------------------------------------------------------------
;Iron Piramid back
[Statedef 31274]
type    = S
movetype= A
physics = S
velset = 0,0
anim = 31275

[State 0, AngleDraw]
type = AngleDraw
trigger1 = var(11) > 0
trigger1 = time < var(11)/3
value = var(11)-time*3

[State 0, AngleDraw]
type = AngleDraw
trigger1 = var(11) < 0
trigger1 = time < -var(11)/3
value = var(11)+time*3

[State 0, VelSet]
type = Veladd
trigger1 = pos y > -348
trigger1 = vel y > -2
y = -0.3

[State 0, VelSet]
type = Veladd
trigger1 = pos y < -352
trigger1 = vel y < 2
y = 0.3

[State 0, PosSet]
type = velSet
trigger1 = pos y = [-352,-348]
y = 0

[State 0, PosSet]
type = PosSet
trigger1 = pos y = [-352,-348]
y = -350

[State 0, ChangeState]
type = ChangeState
triggerall = pos y = -350
triggerall = time > 36
trigger1 = var(11) > 0
trigger1 = time >= var(11)/3
trigger2 = var(11) < 0
trigger2 = time >= -var(11)/3
value = 31200

;---------------------------------------------------------------------------
;Kazekage Iron Forest
[Statedef 31500]
type = S
physics = S
ctrl = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
value = F8,0+random%5

[State 0, PlaySnd]
type = PlaySnd
trigger1 =  animelem = 1
value = S6,1 

[State 0, SuperPause]
type = SuperPause
trigger1 = time = 0
time = 60
movetime = 0
anim = -1
darken = 0
unhittable = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 1
value = S1,9
loop = 1
channel = 3

[State 0, SuperPause]
type = SuperPause
trigger1 = time = 1
time = 300
movetime = 300
anim = -1
darken = 0
unhittable = 0

[State 0, VelSet]
type = Velset
trigger1 = 1
y = 0.35*sin((time*1.8*PI)/40)

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = parent, anim = 14500
trigger1 = parent, animelem = 1
anim = 31500
ID = 31500
pos = 0,-50
postype = p1  ;p2,front,back,left,right
facing = 1
bindtime = -1
removetime = -1
supermovetime = 99999
scale = 0.7,0.8
sprpriority = -2
ownpal = 1

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = parent, anim = 14500
trigger1 = parent, animelem = 1
anim = 31500
ID = 31500
pos = 25,-50
postype = p1  ;p2,front,back,left,right
facing = -1
bindtime = -1
removetime = -1
supermovetime = 99999
scale = 0.7,0.8
sprpriority = -2
ownpal = 1

[State 0, ChangeAnim]
type = ChangeAnim
trigger1 = parent, anim = 14500
trigger1 = parent, animelem = 10
trigger1 = anim != 31000
value = 31000

[State 0, ChangeState]
type = ChangeState
trigger1 = helper(31550),stateno = 31560
value = 31505

;---------------------------------------------------------------------------
;Kazekage Iron Forest end
[Statedef 31505]
type = S
physics = S
ctrl = 0
anim = 31555

[State 0, VarSet]
type = VarSet
trigger1 = 1
v = 19 
value = 1


[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = time = 0
ID = 31500

[State 0, ChangeState]
type = ChangeState
trigger1 = animtime = 0
value = 30000

;---------------------------------------------------------------------------
;Iron Cube
[Statedef 31510]
type    = S
movetype= I
physics = S

[State 0, SuperPause]
type = SuperPause
trigger1 = time = 0
time = 60
movetime = 0
anim = -1
darken = 0
unhittable = 0

[State 0, SuperPause]
type = SuperPause
trigger1 = time = 1
time = 300
movetime = 300
anim = -1
darken = 0
unhittable = 0

[State 0, VelSet]
type = VelSet
trigger1 = root,anim = 14500
trigger1 = root,animelem = 8
y = -10

[State 0, VelSet]
type = VelSet
trigger1 = vel y > -10
y = -0.1*cos(time*PI/60)

[State 0, VarSet]
type = VarSet
trigger1 = root,time = 120
fv = 5
value = (frontedgedist+backedgedist)*0.0025

[State 0, ChangeState]
type = ChangeState
trigger1 = root, time = 120
value = 31511

;---------------------------------------------------------------------------
;Iron Cube
[Statedef 31511]
type    = S
movetype= I
physics = N
sprpriority = 42
velset = 0,-10*fvar(5)

[State 0, PlaySnd]
type = PlaySnd
trigger1 =  time = 0
value = S4,3

[State 0, PlaySnd]
type = PlaySnd
trigger1 =  time = 0
value = S4,3

[State 0, Turn]
type = Turn
trigger1 = time = 0
trigger1 = facing = -1

[State 0, PosSet]
type = PosSet
trigger1 = time = 0
y = 50*fvar(5)
x = 70*fvar(5)

[State 0, VelAdd]
type = VelAdd
trigger1 = vel y < 0
trigger1 = time < 40
y = 0.45*fvar(5);Exp(0.5*ln(fvar(5)))

[State 0, VelAdd]
type = VelSet
trigger1 = vel y > 0
trigger1 = time < 40
y = 0

[State 0, VelAdd]
type = VelSet
trigger1 = time = 40
x = -3.5*fvar(5)
y = -1.9*fvar(5)

[State 0, EnvShake]
type = EnvShake
trigger1 = time = 45
time = 30
freq = 80
ampl = -3
phase = 90

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 45
value = F15,1
channel = 2

[State 0, PlaySnd]
type = StopSnd
trigger1 = time = 75
channel = 2

[State 0, VelAdd]
type = VelSet
trigger1 = pos x < 5
trigger1 = time < 65
y = 0
x = 0

[State 0, AngleDraw]
type = AngleDraw
trigger1 = time <=65
value = 90
scale= fvar(5),fvar(5)

[State -2, Explod]
type = Explod
ownpal = 1
trigger1 = time > 45 && timemod = 2,0
anim = 30131
ID = 30131
pos = -100+random%200,-40+random%50
facing = cond(random%2=0,-1,1)
vel = 0,0
accel = 0,0
postype = p1
bindtime = 1
removetime = 40
scale = 1,1
sprpriority = 45
ownpal = 1
ontop = 0
supermovetime = 9999

[State 0, Helper]
type = Helper
trigger1 = time = 95
helpertype = normal ;player
name = "forest"
ID = 31550
stateno = 31550
pos = 0,-5
postype = p1    ;p2,front,back,left,right
facing = 1
supermovetime = 120
size.xscale = 1.1
size.yscale = 1.1

[State 0, AngleDraw]
type = AngleDraw
trigger1 = time > 65
value = 90
scale = (1-(time-65)*0.010)*fvar(5),(1-(time-65)*0.010)*fvar(5)

[State 0, VelAdd]
type = VelSet
trigger1 = time > 65
y = -0.15*fvar(5)

[State 0, Trans]
type = Trans
trigger1 = time > 1000
trans = addalpha
alpha = 256-(time-100)*6.4,(time-100)*6.4

[State 0, DestroySelf]
type = DestroySelf
trigger1 = time = 170

;---------------------------------------------------------------------------
;Iron Piramid
[Statedef 31520]
type    = S
movetype= I
physics = S

[State 0, SuperPause]
type = SuperPause
trigger1 = time = 0
time = 60
movetime = 0
anim = -1
darken = 0
unhittable = 0

[State 0, SuperPause]
type = SuperPause
trigger1 = time = 1
time = 300
movetime = 300
anim = -1
darken = 0
unhittable = 0

[State 0, VelSet]
type = VelSet
trigger1 = root,anim = 14500
trigger1 = root,animelem = 8
y = -10

[State 0, VelSet]
type = VelSet
trigger1 = vel y > -10
y = -0.1*sin(time*PI/60)

[State 0, VarSet]
type = VarSet
trigger1 = root,time = 120
fv = 5
value = (frontedgedist+backedgedist)*0.0025

[State 0, ChangeState]
type = ChangeState
trigger1 = root, time = 120
value = 31521

;---------------------------------------------------------------------------
;Iron Piramid
[Statedef 31521]
type    = S
movetype= I
physics = N
anim = 31520
sprpriority = 42
velset = 0,-10*fvar(5)

[State 0, Turn]
type = Turn
trigger1 = time = 0
trigger1 = facing = -1

[State 0, PosSet]
type = PosSet
trigger1 = time = 0
y = 50*fvar(5)
x = -70*fvar(5)

[State 0, VelAdd]
type = VelAdd
trigger1 = vel y < 0
trigger1 = time < 40
y = 0.255*fvar(5)

[State 0, VelAdd]
type = VelSet
trigger1 = vel y > 0
trigger1 = time < 40
y = 0

[State -2, Explod]
type = Explod
ownpal = 1
trigger1 = time = 55
anim = 31548
ID = 30131
pos = 0,0
facing = 1
vel = 0,0
accel = 0,0
postype = p1
bindtime = 1
removetime = 48
scale = 1,1
sprpriority = 46
ownpal = 1
ontop = 0
supermovetime = 9999

[State -2, Explod]
type = Explod
ownpal = 1
trigger1 = time = 60
anim = 31548
ID = 30131
pos = 20,10
facing = 1
vel = 0,0
accel = 0,0
postype = p1
bindtime = 1
removetime = 48
scale = 1,1
sprpriority = 46
ownpal = 1
ontop = 0
supermovetime = 9999

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 0
anim = 31525
ID = 31525
pos = 0,0
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = -1
removetime = -1
supermovetime = 9999
scale = 0.7*fvar(5),0.7*fvar(5)
sprpriority = 43

[State 0, VelAdd]
type = VelSet
trigger1 = time = 40
x = 3.5*fvar(5)
y = 0.6*fvar(5)

[State 0, VelAdd]
type = VelSet
trigger1 = pos x > 0
trigger1 = time <= 65
y = 0
x = 0

[State 0, VelAdd]
type = VelSet
trigger1 = time > 65
y = 0.3*fvar(5)

[State 0, AngleDraw]
type = AngleDraw
trigger1 = time <= 65
scale = fvar(5),fvar(5)

[State 0, AngleDraw]
type = AngleDraw
trigger1 = time > 65
scale = (1-(time-65)*0.010)*fvar(5),(1-(time-65)*0.010)*fvar(5)

[State 0, Trans]
type = Trans
trigger1 = time > 1000
trans = addalpha
alpha = 256-(time-100)*6.4,(time-100)*6.4

[State 0, Explod]
type = ModifyExplod
trigger1 = time = [65,100]
ID = 31525
scale = (0.7-0.7*(time-65)*0.010)*fvar(5),(0.7-0.7*(time-65)*0.010)*fvar(5)

[State 0, Explod]
type = ModifyExplod
trigger1 = time = [100,140]
ID = 31525
scale = (0.7-0.7*(time-65)*0.010)*fvar(5),(0.7-0.7*(time-65)*0.010)*fvar(5)
;alpha = 256-(time-100)*6.4,(time-100)*6.4

[State 0, Explod]
type = removeExplod
trigger1 = time = 170
ID = 31525

[State 0, DestroySelf]
type = DestroySelf
trigger1 = time = 170

;---------------------------------------------------------------------------
;Iron Forest
[Statedef 31550]
type    = S
movetype= I
physics = N
anim = 31549
sprpriority = 43

[State 0, VarSet]
type = VarSet
trigger1 = root,time = 0
fv = 5
value = (frontedgedist+backedgedist)*0.0025

[State 0, AngleDraw]
type = AngleDraw
trigger1 = time <= 180
scale = 0.8,0.8


[State -2, Explod]
type = Explod
ownpal = 1
trigger1 = time = 0
anim = 31550
ID = 31550
pos = -190,80
postype = front
bindtime = 1
removetime = -1
scale = 0.8,0.8
sprpriority = 44
ownpal = 1
ontop = 0
supermovetime = 9999

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S6,2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S6,2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S6,2

[State 0, ChangeState]
type = ChangeState
trigger1 = root, time = 295
value = 31555

;---------------------------------------------------------------------------
;Iron Forest
[Statedef 31555]
type    = S
movetype= A
physics = N
sprpriority = 13

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = time = 0
id = 31550

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
trigger2 = timemod = 40,1
value = S1,9
channel = 18

[State 0, ChangeAnim]
type = ChangeAnim
trigger1 = time = 0
value = 31550
elem = 17

[State 0, PosSet]
type = PosSet
trigger1 = time = 0
x = 0
y = -315

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = target, ishelper = 0
flag = unguardable

[State 200, 1]
type = HitDef
givepower = 0
getpower = 0
fall.yvelocity = -6
trigger1 = timemod = 4,0
trigger1 = time < 30
attr = C, HP                    ;Attribute: Standing, Normal Attack
getpower = 0,0
damage = 250,250               ;Damage that move inflicts, guard damage
animtype = Light                 ;Animation type: Light, Medium, Heavy, Back (def: Light)
guardflag = MA                   ;Flags on how move is to be guarded against
hitflag = MAF                    ;Flags of conditions that move can hit
priority = 3, Hit                ;Attack priority: 0 (least) to 7 (most), 4 default                                 ;Hit/Miss/Dodge type (Def: Hit)
pausetime = 0,0                 ;Time attacker pauses, time opponent shakes
sparkno = 45625                ;Spark anim no (Def: set above)
sparkxy = -15,-25               ;Spark x y
                                ;Y-offset for the spark rel. to p1
hitsound = 24,10+random%4                   ;Sound to play on hit
guardsound = 21, 7                ;Sound to play on guard
ground.type = High               ;Type: High, Low, Trip (def: Normal)
ground.slidetime = 5             ;Time that the opponent slides back
ground.hittime  = 15             ;Time opponent is in hit state
ground.velocity = 2*cond(random%2=0,1,-1),0             ;Velocity at which opponent is pushed
airguard.velocity = 2*cond(random%2=0,1,-1),0    ;Guard velocity in air (def: (air.xvel*1.5, air.yvel/2))
air.type = High                  ;Type: High, Low, Trip (def: same as ground.type)
air.velocity = 2*cond(random%2=0,1,-1),0       ;X-velocity at which opponent is pushed,                                 ;Y-velocity at which opponent is pushed
air.hittime = 16
p2stateno = 106023

[State 200, 1]
type = HitDef
givepower = 0
getpower = 0
fall.yvelocity = -6
trigger1 = time = 32
attr = C, HP                  ;Attribute: Standing, Normal Attack
getpower = 0,0
damage = 400,400               ;Damage that move inflicts, guard damage
animtype = Light                 ;Animation type: Light, Medium, Heavy, Back (def: Light)
guardflag = MA                   ;Flags on how move is to be guarded against
hitflag = MAF                    ;Flags of conditions that move can hit
priority = 3, Hit                ;Attack priority: 0 (least) to 7 (most), 4 default                                 ;Hit/Miss/Dodge type (Def: Hit)
pausetime = 0,0                 ;Time attacker pauses, time opponent shakes
sparkno = 562642               ;Spark anim no (Def: set above)
sparkxy = -15,-25               ;Spark x y
                                ;Y-offset for the spark rel. to p1
hitsound = 24,10+random%4                  ;Sound to play on hit
guardsound = 21, 7                ;Sound to play on guard
ground.type = High               ;Type: High, Low, Trip (def: Normal)
ground.slidetime = 5             ;Time that the opponent slides back
ground.hittime  = 15             ;Time opponent is in hit state
ground.velocity = 0,0             ;Velocity at which opponent is pushed
airguard.velocity = 0,0    ;Guard velocity in air (def: (air.xvel*1.5, air.yvel/2))
air.type = High                  ;Type: High, Low, Trip (def: same as ground.type)
air.velocity = 0,0       ;X-velocity at which opponent is pushed,                                 ;Y-velocity at which opponent is pushed
air.hittime = 16
p2stateno = 106023
fall = 1
fall.recover = 0

[State 0, TargetState]
type = TargetState
trigger1 = enemy(cond((enemy(0),alive),0,1)), var(30) = 0
trigger1 = movehit
value = 106000

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = F15,2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = F15,4

[State -2, Explod]
type = Explod
ownpal = 1
trigger1 = time = 0
anim = 31554
ID = 30131
pos = 0,30
facing = 1
postype = p1
bindtime = 1
removetime = 185
scale = 1,1
sprpriority = 16
ownpal = 1
ontop = 0
supermovetime = 9999

[State 0, ChangeState]
type = ChangeState
trigger1 = time = 70
value = 31560

;---------------------------------------------------------------------------
;Iron Forest destroy
[Statedef 31560]
type    = S
movetype= A
physics = N
sprpriority = 13

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
trigger2 = timemod = 40,1
value = S1,9
channel = 18

[State 0, StopSnd]
type = StopSnd
trigger1 = time = 90
channel = 18

[State 0, ChangeAnim]
type = ChangeAnim
trigger1 = time = 0 && anim != 31551
value = 31551

[State -2, Explod]
type = Explod
ownpal = 1
trigger1 = timemod = 2,0
anim = 30131
ID = 30131
pos = -400+random%800,80+random%150
facing = cond(random%2=0,-1,1)
vel = 0,2
accel = 0,0.02
postype = p1
bindtime = 1
removetime = 40
scale = 1,1
sprpriority = 15
ownpal = 1
ontop = 0
supermovetime = 9999

[State -2, Explod]
type = Explod
ownpal = 1
trigger1 = time = 0
anim = 31552
ID = 31552
pos = 0,-40
vel = 0,0
accel = 0,0
postype = p1
bindtime = 1
removetime = 72
scale = 1.1,1
sprpriority = 14
ownpal = 1
ontop = 0
supermovetime = 9999

[State -2, Explod]
type = Explod
ownpal = 1
trigger1 = time = 15
anim = 31553
ID = 31553
pos = 0,133
postype = p1
bindtime = 1
removetime = -1
scale = 1,0.45
sprpriority = -5
ownpal = 1
ontop = 0
supermovetime = 9999

[State 0, ChangeState]
type = destroyself
trigger1 = time = 100

;---------------------- Integer variable list ----------------------

; var(0):= 191, 190, 1900, 30000, 30100, 30105
; var(1):= -2, 30650
; var(2):= -2, 30300, 30350, 30390, 30800, 30900, 31000
; var(3):= 1200, -2, 130, 30800, 30900, 31000, 31010, 31020, 31025, 31099, 31199
; var(4):= 800, -2, 130, 30758, 30800, 30900, 31000, 31010, 31020, 31025, 31099, 31199
; var(5):= 750, 770, 771, 830
; var(9):= 2000, 3100, 3105, 3150, 3155, 30000, 30105, 30106
;var(10):= 106022, -2, 77000, 78000
;var(11):= 31251, 31270
;var(12):= 30810, 31270
;var(13):= 30310, 30320, 30330, 30340, 30360, 30365, 30370, 30375, 30380, 30385, 30410, 30420
;var(14):= 77000, 78000, 77001, 78001, 77003
;var(15):= 60
;var(18):= 70500
;var(20):= 104097, 104098
;var(30):= 106000, -2
;var(35):= -2
;var(36):= -2
;var(39):= -2, 0
;var(40):= 105251, 105252, 105253, 105254, -2
;var(46):= -2, 104099, 104000, 104001
;var(48):= -1
;var(49):= -1
;var(50):= -1

;---------------------- Float variable list ----------------------

; fvar(4):= 1048, 30760
; fvar(5):= 1048, 30760, 31510, 31520, 31550
; fvar(6):= 30760
;fvar(10):= 1000, 77000, 78000
;fvar(11):= 77000, 78000
;fvar(12):= 77003
;fvar(13):= 60, 30760, 30810, 31270
;fvar(14):= 60, 30760, 30810, 31270
;fvar(15):= 60, 2400, 3400, 30760, 30810, 31270


