
[Data]
life = 3000	
power = 5000	
attack = 100	
defence = 100	
fall.defence_up = 50	
liedown.time = 60		
airjuggle = 15	
sparkno = 1	
guard.sparkno = 40
KO.echo = 0	
volume = 0		
IntPersistIndex = 0	
FloatPersistIndex = 0

[Size]
xscale = 0.85
yscale = 0.85			
ground.back = 15	
ground.front = 15	
air.back = 10	
air.front = 10		
height = 60	
attack.dist = 160
proj.attack.dist = 90
proj.doscale = 0	
head.pos = 2, -52	
mid.pos = 0, -29	
shadowoffset = 0	
draw.offset = 0,0

[Velocity]
walk.fwd  = 1.5
walk.back = -1.5		
run.fwd  = 8, 0		
run.back = -5,-4.5	
jump.neu = 0,-8.5		
jump.back = -3.3		
jump.fwd = 3.3		
runjump.back = -2.65,-8.6
runjump.fwd = 5.7,-8.6	
airjump.neu = 0,-8.5	
airjump.back = -2.65	
airjump.fwd = 2.6

[Movement]
airjump.num = 1
airjump.height = 35
yaccel = .44
stand.friction = .85
crouch.friction = .82	


;---------------------------------------------------------------------------
; Lose by Time Over
[Statedef 170]
type = S
ctrl = 0
anim = 170+var(0)*10000
velset = 0,0

[State 0, VarSet]
type = VarSet
trigger1 = var(0) = 1
trigger1 = animelem = 2
v = 0 
value = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 5
value = S2,51
channel = 7

[State 170, 1]
type = NotHitBy
trigger1 = time >= 0
value = SCA
time = 1

;---------------------------------------------------------------------------
; Win state decider
[Statedef 180]
type = S

[State 180, 1]
type = ChangeState
trigger1 = Time = 0 && var(0) < 1
value = 181

[State 180, 1]
type = ChangeState
trigger1 = Time = 0 && var(0) = 1
value = 182

[State 180, 1]
type = ChangeState
trigger1 = Time = 0 && var(0) = 2
value = 2005

;---------------------------------------------------------------------------
; Win pose 1
[Statedef 181]
type = S
ctrl = 0
anim = 180
velset = 0,0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
value = S2,29
channel = 7

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 8
value = F8,0+random%4

[State 181, 1]
type = NotHitBy
trigger1 = time >= 0
value = SCA
time = 1
;---------------------------------------------------------------------------
; Win pose 2
[Statedef 182]
type = S
ctrl = 0
anim = 10180
velset = 0,0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
value = S2,33
channel = 7

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 8
value = F8,0+random%4

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 20
value = S6,10
loop = 1

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time >= 20 && timemod = 10,0
triggerall = numexplod(10183) < 20
anim = 10183+random%7
id = 10183 
pos = -20,50+random%100
scale = 0.7,0.7
postype = back
vel = 4+random%2,0
facing = 1
bindtime = 1
removetime = -1
sprpriority = -2+random%6

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 20
triggerall = P1name != "Jiraiya" && P2name != "Jiraiya" && P3name != "Jiraiya" && P4name != "Jiraiya"
anim = 10181
id = 10181 
pos = 20,0
scale = 1,1
postype = p1
facing = 1
bindtime = -1
removetime = -1
sprpriority = -1

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 20
triggerall = P1name != "Minato" && P2name != "Minato" && P3name != "Minato" && P4name != "Minato"
anim = 10182
id = 10182 
pos = -20,0
scale = 1,1
postype = p1
facing = 1
bindtime = -1
removetime = -1
sprpriority = -1

[State 0, Explod]
type = modifyExplod
trigger1 = time = [20,100]
ID = 10181 
trans = addalpha
alpha = (time-20)*1,256-(time-20)*1

[State 0, Explod]
type = modifyExplod
trigger1 = time = [20,100]
ID = 10182 
trans = addalpha
alpha = (time-20)*1,256-(time-20)*1

[State 181, 1]
type = NotHitBy
trigger1 = time >= 0
value = SCA
time = 1
;---------------------------------------------------------------------------
; Introduction
[Statedef 190]
type = S
ctrl = 0
velset = 0,0

[State 0, VarSet]
type = VarSet
trigger1 = random < 200
trigger1 = time = 0
persistent = 0
v = 0 
value = 1

;Normal

[State 0, ChangeAnim]
type = ChangeAnim
trigger1 = var(0) = 0 && anim != 190
triggerall = RoundState = 0
value = 190

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
trigger1 = var(0) = 0
value = S2,28+random%10
channel = 7

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 8
trigger1 = var(0) = 0
value = F8,0+random%4

;Sage

[State 0, ChangeAnim]
type = ChangeAnim
trigger1 = var(0) = 1 && anim != 10190
triggerall = RoundState = 0
value = 10190

[State 0, VarSet]
type = VarSet
trigger1 = var(0) = 1
trigger1 = time = 0
v = 2
value = 435

[State 0, VarSet]
type = VarAdd
trigger1 = var(0) = 1
trigger1 = var(2) < 600
trigger1 = time < 55
v = 2
value = 3

[State 0, VarSet]
type = VarSet
trigger1 = var(0) = 1
trigger1 = animelem = 3
v = 2 
value = 600

[State 0, Explod Postac]
type = Explod
ownpal = 1
trigger1 = time = 0 || time = 40
trigger1 = var(0) = 1
anim = 1984
id = 1984
pos = 0,0
postype = p1
facing = 1
bindtime = 1
removetime = -2
sprpriority = 2
removeongethit = 1
scale = 1*0.85,1*0.85
ownpal = 1
supermovetime = 9999
pausemovetime = 9999

[State 200, 1]
type = PlaySnd
trigger1 = time = 0
trigger1 = var(0) = 1
value = F30,0

[State 0]
type = Explod
trigger1 = time = 0 || time = 25
trigger1 = var(0) = 1
anim = F290
ID = 403
pos = 0,2
postype = p1
name = "dym przód"
scale = 1,1
ownpal = 1
ontop = 0
facing = -1
ignorehitpause = 1
sprpriority = 2
bindtime = 1
removetime = -2
removeongethit = 1
pausemovetime = 9999
supermovetime = 9999
trans = addalpha
alpha = 256,256

[State 0]
type = Explod
trigger1 = time = 0 || time = 25
trigger1 = var(0) = 1
anim = F401
ID = 401
pos = -7,2
postype = p1
name = "dym lewa"
scale = 0.4,0.4
ownpal = 1
ontop = 0
ignorehitpause = 1
sprpriority = 3
bindtime=1
removetime= -2
removeongethit= 1
pausemovetime = 9999
supermovetime = 9999

[State 0]
type = Explod
trigger1 = time = 0 || time = 25
trigger1 = var(0) = 1
anim = F401
ID = 4011
pos = 7,2
postype = p1
facing = -1
name = "dym prawa"
scale = 0.4,0.4
ownpal = 1
ontop = 0
ignorehitpause = 1
sprpriority = 3
bindtime=1
removetime= -2
removeongethit= 1
pausemovetime = 9999
supermovetime = 9999

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 0 || time = 25
trigger1 = var(0) = 1
anim = F1070
ID = 1070
pos = 0,-8*0.85
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
supermovetime = 99999
scale = 1,1
sprpriority = 3
ownpal = 1
removeongethit = 1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
trigger1 = var(0) = 1
value = S2,2
volume = 255
channel = 2

[State 0, Sage Explod]
type = Explod
ownpal = 1
trigger1 = time < 50
trigger1 = var(0) = 1
anim = 1983
ID = 1983
pos = 0,0
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = -1
removetime = 1
supermovetime = 999
scale = 0.85,0.85
sprpriority = 1
ownpal = 1
removeongethit = 1
trans = addalpha
alpha = time*5.12,256-time*5.12

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
trigger1 = var(0) = 1
value = F19,6

[State 0, Oczy]
type = Explod
ownpal = 1
trigger1 = animelem = 3
trigger1 = var(0) = 1
anim = 1996
ID = 1996
pos = 0,-28*0.85
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
supermovetime = 999
scale = .2,.2
sprpriority = 3
ownpal = 1
removeongethit = 1

[State 0, PowerSet]
type = PowerSet
trigger1 = Time = 0
value = 2000

[State 0, PowerSet]
type = PowerAdd
trigger1 = Time = 1
value = 500

[State 190, 2] ;Assert this until you want "round 1, fight" to begin
type = AssertSpecial
trigger1 = 1
flag = Intro

[State 190, 4] ;Change to stand state
type = ChangeState
trigger1 = AnimTime = 0
value = 0
;---------------------------------------------------------------------------
; Taunt
[Statedef 195]
type = S
ctrl = 1
anim = 195+var(0)*10000
velset = 0,0
movetype = I
physics = S
sprpriority = 1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 10
value = S2,28+random%10
channel = 7

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 75
value = F8,0+random%4

[State 195, 2]
type = ChangeState
trigger1 = animtime = 0
value = 0
ctrl = 1
;-----------------
;Klon Destroy
[StateDef 199]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
poweradd = 0

[State 0, ChangeState]
type = ChangeState
trigger1 = !ishelper 
value = prevstateno
ctrl = 1

;---------------------
;Aura KCM

[State 0, Explod]
type = RemoveExplod
trigger1 = time = 0
ID = 30222

[State 0, Explod]
type = RemoveExplod
trigger1 = time = 0
ID = 32221

[State 0, Explod]
type = RemoveExplod
trigger1 = time = 0
ID = 30227

[State 0, Explod]
type = RemoveExplod
trigger1 = time = 0
ID = 30228

[State 0, Explod]
type = RemoveExplod
trigger1 = time = 0
ID = 30244

[State 0, Explod]
type = RemoveExplod
trigger1 = time = 0
ID = 30246

[State 0, Explod]
type = RemoveExplod
trigger1 = time = 0
ID = 32111

[State 0, Explod]
type = RemoveExplod
trigger1 = time = 0
ID = 30247

[State 0, Explod]
type = RemoveExplod
trigger1 = time = 0
ID = 30252

[State 0, Explod]
type = RemoveExplod
trigger1 = time = 0
ID = 30263

[State 0, Explod]
type = RemoveExplod
trigger1 = time = 0
ID = 32251

[State 0, Explod]
type = RemoveExplod
trigger1 = time = 0
ID = 30267

[State 0, Explod]
type = RemoveExplod
trigger1 = time = 0
ID = 30268

[State 0, Explod]
type = RemoveExplod
trigger1 = time = 0
ID = 30281

[State 0, Explod]
type = RemoveExplod
trigger1 = time = 0
ID = 30282

[State 0, Explod]
type = RemoveExplod
trigger1 = time = 0
ID = 30321

[State 0, Explod]
type = RemoveExplod
trigger1 = time = 0
ID = 30322

;---------------------

[State 0, NotHitBy]
type = NotHitBy
trigger1 = ishelper
value = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
time = 9999

[State 0, Prawa]
type = Explod
trigger1 = time = 1
anim = F696
ownpal = 1
ID = 900
pos = 10+random%10,-30-random%20
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
supermovetime = 9999
pausemovetime = 9999
vel = 0+random%2,-1-random%3
scale = 0.6,0.6
sprpriority = 5
ontop = 0

[State 0, Srodek]
type = Explod
trigger1 = time = 1
anim = F696
ownpal = 1
ID = 900
pos = -5+random%10,-20-random%10
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
supermovetime = 9999
pausemovetime = 9999
vel = -1+random%3,-1-random%2
scale = 1,1
sprpriority = 5
ontop = 0

[State 0, Lewa]
type = Explod
trigger1 = time = 1
anim = F696
ownpal = 1
ID = 900
pos = -10-random%10,-30-random%20
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
supermovetime = 9999
pausemovetime = 9999
vel = 0-random%2,-1-random%3
scale = 0.6,0.6
sprpriority = 5
ontop = 0

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = invisible

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 1
value = F9,0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 1
value = F9,2

[State 0, End]
type = Destroyself
trigger1 = Time = 2
;-----------------
;Combo 1
[StateDef 200]
type = S
movetype= A
physics = S
juggle  = 1
velset = 2,0
ctrl = 0
anim = 200
poweradd = 20
sprpriority = 2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F8,0+random%4
volume = 255
channel = 8

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = S4,0+random%16
volume = 255
channel = 4

[State 0, HitDef]
type = HitDef
fall.yvelocity = -6
trigger1 = AnimElem = 3
attr = S, NA
damage = 35,7
animtype = Light
guardflag = MA
hitflag = MAF
priority = cond(var(0) < 2, 3, 1)
pausetime = 0, 5
sparkno = 0+random%4
sparkxy = -15, -45*0.85
hitsound = 35, 0+random%15;5, 21+random%5
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -2
airguard.velocity = -2,-.8
air.type = High
air.velocity = -2,-2
air.hittime = 12
envshake.time = 10
envshake.freq = 20
envshake.ampl = -5
envshake.phase = 10

[State 0, End]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;-----------------
;Combo 1
[StateDef 201]
type = S
movetype= A
physics = S
juggle  = 1
velset = 2,0
ctrl = 0
anim = 201
poweradd = 20
sprpriority = 2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F8,0+random%4
volume = 255
channel = 8

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = S4,0+random%16
volume = 255
channel = 4

[State 0, HitDef]
type = HitDef
fall.yvelocity = -6
trigger1 = AnimElem = 3
attr = S, NA
damage = 35,7
animtype = Light
guardflag = MA
hitflag = MAF
priority = cond(var(0) < 2, 3, 1)
pausetime = 0, 5
sparkno = 0+random%4
sparkxy = -15, -43*0.85
hitsound = 35, 0+random%15;5, 21+random%5
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -2
airguard.velocity = -2,-.8
air.type = High
air.velocity = -2,-2
air.hittime = 12
envshake.time = 10
envshake.freq = 20
envshake.ampl = -5
envshake.phase = 10

[State 0, End]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;-----------------
;Combo 1
[StateDef 202]
type = S
movetype= A
physics = S
juggle  = 1
velset = 2,0
ctrl = 0
anim = 202
poweradd = 20
sprpriority = 2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F8,0+random%4
volume = 255
channel = 8

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = S4,0+random%16
volume = 255
channel = 4

[State 0, HitDef]
type = HitDef
fall.yvelocity = -6
trigger1 = AnimElem = 3
attr = S, NA
damage = 35,7
animtype = Light
guardflag = MA
hitflag = MAF
priority = cond(var(0) < 2, 3, 1)
pausetime = 0, 5
sparkno = 0+random%4
sparkxy = -15, -46*0.85
hitsound = 35, 0+random%15;5, 21+random%5
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -3
airguard.velocity = -3,-.8
air.type = High
air.velocity = -3,-2
air.hittime = 12
envshake.time = 10
envshake.freq = 20
envshake.ampl = -5
envshake.phase = 10

[State 0, End]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;-----------------
;Combo 1
[StateDef 203]
type = S
movetype= A
physics = S
juggle  = 1
velset = 3,0
ctrl = 0
anim = 203
poweradd = 20
sprpriority = 2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F8,0+random%4
volume = 255
channel = 8

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = S4,0+random%16
volume = 255
channel = 4

[State 0, HitDef]
type = HitDef
fall.yvelocity = -6
trigger1 = AnimElem = 3
attr = S, NA
damage = 35,7
animtype = Light
guardflag = MA
hitflag = MAF
priority = cond(var(0) < 2, 3, 1)
pausetime = 0, 5
sparkno = 0+random%4
sparkxy = -15, -54*0.85
hitsound = 35, 0+random%15;5, 21+random%5
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -3,1
airguard.velocity = -3,-.8
air.type = High
air.velocity = -3,1
air.hittime = 12
envshake.time = 10
envshake.freq = 20
envshake.ampl = -5
envshake.phase = 10

[State 0, End]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;-----------------
;Combo 1
[StateDef 204]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 204
poweradd = 0
sprpriority = 2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F8,0+random%4
volume = 255
channel = 8

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = F17,0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = S3,5+random%2
volume = 255
channel = 3

[State 0, Helper]
type = Helper
trigger1 = animelem = 3
helpertype = normal;player
name = "Klon"
ID = 200
stateno = 205
pos = 20,0
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1
size.xscale = 0.85
size.yscale = 0.85

[State 0, End]
type = ChangeState
trigger1 = time > 10 && numhelper(200) = 0
value = 0
ctrl = 1
;-----------------
;Combo 1
[StateDef 205]
type = S
movetype= A
physics = S
juggle  = 1
velset = 3,0
ctrl = 0
anim = 205
poweradd = 20
sprpriority = 2

[State 0, Prawa]
type = Explod
trigger1 = time = 0
anim = F696
ownpal = 1
ID = 900
pos = 10+random%10,-30-random%20
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
supermovetime = 9999
pausemovetime = 9999
vel = 0+random%2,-1-random%3
scale = 0.6,0.6
sprpriority = 5
ontop = 0

[State 0, Srodek]
type = Explod
trigger1 = time = 0
anim = F696
ownpal = 1
ID = 900
pos = -5+random%10,-20-random%10
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
supermovetime = 9999
pausemovetime = 9999
vel = -1+random%3,-1-random%2
scale = 1,1
sprpriority = 5
ontop = 0

[State 0, Lewa]
type = Explod
trigger1 = time = 0
anim = F696
ownpal = 1
ID = 900
pos = -10-random%10,-30-random%20
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
supermovetime = 9999
pausemovetime = 9999
vel = 0-random%2,-1-random%3
scale = 0.6,0.6
sprpriority = 5
ontop = 0

[State 0, HitOverride]
type = HitOverride
trigger1 = 1
attr = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
stateno = 199
time = 10

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = F9,0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = F9,2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F8,0+random%4
volume = 255
channel = 8

[State 0, HitDef]
type = HitDef
fall.yvelocity = -6
trigger1 = AnimElem = 3
attr = S, NA
damage = 35,7
animtype = Light
guardflag = MA
hitflag = MAF
priority = cond(var(0) < 2, 3, 1)
pausetime = 0, 5
sparkno = 0+random%4
sparkxy = -15, -48*0.85
hitsound = 35, 0+random%15;5, 21+random%5
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -2,-1
airguard.velocity = -2,-.8
air.type = High
air.velocity = -2,-2
air.hittime = 12
envshake.time = 10
envshake.freq = 20
envshake.ampl = -5
envshake.phase = 10

[State 0, End]
type = ChangeState
trigger1 = AnimTime = 0
value = 199
ctrl = 1

;Combo 1
[State -1, Combo 1.6]
type = ChangeState
value = 206
;PLAYER
trigger1 = root, command = "a"
trigger1 = root, var(50) = 0
;AI RANDOM
trigger2 = p2dist x = [0,100]
trigger2 = p2dist y = [-50,100]
trigger2 = random = [100,105+root, var(49)*(root, var(49)/10)+10+root, var(48)/40]
trigger2 = root, var(50) = 1
trigger2 = p2stateno != [5110,5150]
;WARUNEK
triggerall = time > 6 && movecontact
;-----------------
;Combo 1
[StateDef 206]
type = S
movetype= A
physics = S
juggle  = 1
velset = 4,0
ctrl = 0
anim = 206
poweradd = 20
sprpriority = 2

[State 0, HitOverride]
type = HitOverride
trigger1 = 1
attr = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
stateno = 199
time = 10

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F8,0+random%4
volume = 255
channel = 8

[State 0, HitDef]
type = HitDef
fall.yvelocity = -6
trigger1 = AnimElem = 4
attr = S, NA
damage = 35,7
animtype = Light
guardflag = MA
hitflag = MAF
priority = cond(var(0) < 2, 3, 1)
pausetime = 0, 5
sparkno = 0+random%4
sparkxy = -15, -41*0.85
hitsound = 35, 0+random%15;5, 21+random%5
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -4,-2
airguard.velocity = -4,-.8
air.type = High
air.velocity = -4,-2
air.hittime = 12
envshake.time = 20
envshake.freq = 25
envshake.ampl = -6
envshake.phase = 10

[State 0, End]
type = ChangeState
trigger1 = AnimTime = 0
value = 199
ctrl = 1

;Combo 1
[State -1, Combo 1.7]
type = ChangeState
value = 207
;PLAYER
trigger1 = root, command = "a"
trigger1 = root, var(50) = 0
;AI RANDOM
trigger2 = p2dist x = [0,100]
trigger2 = p2dist y = [-50,100]
trigger2 = random = [100,105+root, var(49)*(root, var(49)/10)+10+root, var(48)/40]
trigger2 = root, var(50) = 1
trigger2 = p2stateno != [5110,5150]
;WARUNEK
triggerall = time > 9 && movecontact
;-----------------
;Combo 1
[StateDef 207]
type = S
movetype= A
physics = S
juggle  = 1
velset = 8,0
ctrl = 0
anim = 207
poweradd = 20
sprpriority = 2

[State 0, HitOverride]
type = HitOverride
trigger1 = 1
attr = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
stateno = 199
time = 10

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = F8,0+random%4
volume = 255
channel = 8

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 4
value = S1,0+random%7
volume = 255
channel = 4

[State 0, HitDef]
type = HitDef
fall.yvelocity = -6
trigger1 = AnimElem = 4
attr = S, NA
damage = 40,8
animtype = Light
guardflag = MA
hitflag = MAF
priority = cond(var(0) < 2, 3, 1)
pausetime = 0, 5
sparkno = 0+random%4
sparkxy = -15, -34*0.85
hitsound = 35, 0+random%15;5, 21+random%5
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -7,-3
airguard.velocity = -5,-.8
air.type = High
air.velocity = -7,-3
air.hittime = 12
envshake.time = 30
envshake.freq = 30
envshake.ampl = -7
envshake.phase = 10
fall = 1

[State 0, End]
type = ChangeState
trigger1 = AnimTime = 0
value = 199
ctrl = 1
;-----------------
;Combo 1
[StateDef 208]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 208
poweradd =0
sprpriority = 2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 4
value = S1,0+random%7
volume = 255
channel = 4

[State 0, Helper]
type = Helper
trigger1 = animelem = 2
helpertype = normal;player
name = "Klon"
ID = 200
stateno = 209
pos = 20,-20
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1
size.xscale = 0.85
size.yscale = 0.85

[State 0, End]
type = ChangeState
trigger1 = animtime = 0
value = 0
ctrl = 1
;--------------
;Combo 1
[StateDef 209]
type = S
movetype = A
physics = A
juggle = 0
poweradd = 0
anim = 209
ctrl = 0
velset = -3,-6

[State 0, Prawa]
type = Explod
trigger1 = time = 0
anim = F696
ownpal = 1
ID = 900
pos = 10+random%10,-30-random%20
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
supermovetime = 9999
pausemovetime = 9999
vel = 0+random%2,-1-random%3
scale = 0.6,0.6
sprpriority = 5
ontop = 0

[State 0, Srodek]
type = Explod
trigger1 = time = 0
anim = F696
ownpal = 1
ID = 900
pos = -5+random%10,-20-random%10
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
supermovetime = 9999
pausemovetime = 9999
vel = -1+random%3,-1-random%2
scale = 1,1
sprpriority = 5
ontop = 0

[State 0, Lewa]
type = Explod
trigger1 = time = 0
anim = F696
ownpal = 1
ID = 900
pos = -10-random%10,-30-random%20
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
supermovetime = 9999
pausemovetime = 9999
vel = 0-random%2,-1-random%3
scale = 0.6,0.6
sprpriority = 5
ontop = 0

[State 0, HitOverride]
type = HitOverride
trigger1 = 1
attr = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
stateno = 199
time = 10

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = F9,0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = F9,2


[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 1 && pos y >= -10
value = F3

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 0 && pos y >= -10
anim = F370
pos = 0,-pos y
scale = 1,1
postype = p1
facing = -1
bindtime = 1
removetime = -2
sprpriority = 3
ownpal = 1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F21,4
volume = 255
channel = 8

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = S4,0+random%16
volume = 255
channel = 4

[State 0, Helper]
type = Helper
trigger1 = animelem = 2
helpertype = normal;player
name = "kunai"
ID = 209
stateno = 70731
pos = 7*0.85,-42*0.85
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1

[State 310, end]
type = ChangeState
trigger1 = AnimTime = 0
value = 199
ctrl = 1
;-----------------
;Combo 2
[StateDef 210]
type = C
movetype= A
physics = S
juggle  = 1
velset = 2,0
ctrl = 0
anim = 210
poweradd = 20
sprpriority = 2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = F8,0+random%4
volume = 255
channel = 8

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 4
value = S4,0+random%16
volume = 255
channel = 4

[State 0, HitDef]
type = HitDef
fall.yvelocity = -6
trigger1 = AnimElem = 4
attr = S, NA
damage = 35,7
animtype = Light
guardflag = MA
hitflag = MAF
priority = cond(var(0) < 2, 3, 1)
pausetime = 0, 5
sparkno = 0+random%4
sparkxy = -15, -42*0.85
hitsound = 35, 0+random%15;5, 21+random%5
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -2
airguard.velocity = -2,-.8
air.type = High
air.velocity = -2,-2
air.hittime = 12
envshake.time = 10
envshake.freq = 20
envshake.ampl = -5
envshake.phase = 10

[State 0, End]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;-----------------
;Combo 2
[StateDef 211]
type = C
movetype = A
physics = S
juggle  = 1
velset = 2,0
ctrl = 0
anim = 211
poweradd = 20
sprpriority = 2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F3

[State 0, Explod]
type = Explod
trigger1 = animelem = 2
anim = F360
pos = 0,0
scale = 1,1
postype = p1
facing = 1
bindtime = 1
removetime = -2
sprpriority = 3
ownpal = 1

[State 0, VelSet]
type = VelSet
trigger1 = animelem = 3
y = -4

[State 0, VelSet]
type = VelSet
trigger1 = time > 6 && pos y < 0
x = 3

[State 0, Gravity]
type = Gravity
trigger1 = time > 6 && pos y < 0

[State 0, ChangeAnim]
type = ChangeAnim
trigger1 = time > 6 && pos y >= 0
triggerall = anim = 211
value = 2111

[State 0, PosSet]
type = PosSet
trigger1 = time > 6 && pos y >= 0
y = 0

[State 0, VelSet]
type = VelSet
trigger1 = time > 6 && pos y >= 0
x = 0
y = 0

[State 0, StateTypeSet]
type = StateTypeSet
trigger1 = time > 6 && pos y >= 0
statetype = S
movetype = A
physics = S

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time > 6 && pos y >= 0
persistent = 0
value = F4

[State 0, Explod]
type = Explod
trigger1 = time > 6 && pos y >= 0
persistent = 0
anim = F290
ID = 23
pos = -1,3
postype = p1  ;p2,front,back,left,right
scale = 1.8,1.5
sprpriority = 2
ontop = 0
ownpal = 1


[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F8,0+random%4
volume = 255
channel = 8

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = S4,0+random%16
volume = 255
channel = 4

[State 0, HitDef]
type = HitDef
fall.yvelocity = -6
trigger1 = !time
attr = S, NA
damage = 35,7
animtype = Light
guardflag = MA
hitflag = MAF
priority = cond(var(0) < 2, 3, 1)
pausetime = 0, 5
sparkno = 0+random%4
sparkxy = -15, -34*0.85
hitsound = 35, 0+random%15;5, 21+random%5
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -3,-1
airguard.velocity = -3,-1
air.type = High
air.velocity = -3,-1
air.hittime = 12
envshake.time = 10
envshake.freq = 20
envshake.ampl = -5
envshake.phase = 10

[State 0, End]
type = ChangeState
trigger1 = anim = 2111 && AnimTime = 0
value = 0
ctrl = 1
;-----------------
;Combo 2
[StateDef 212]
type = C
movetype= A
physics = S
juggle  = 1
velset = 6,0
ctrl = 0
anim = 212
poweradd = 20
sprpriority = 2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 4
value = F8,0+random%4
volume = 255
channel = 8

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 5
value = S4,0+random%16
volume = 255
channel = 4

[State 0, HitDef]
type = HitDef
fall.yvelocity = -6
trigger1 = animelem = 5
attr = S, NA
damage = 35,7
animtype = Light
guardflag = MA
hitflag = MAF
priority = cond(var(0) < 2, 3, 1)
pausetime = 0, 5
sparkno = 0+random%4
sparkxy = -15, -33*0.85
hitsound = 35, 0+random%15;5, 21+random%5
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -4,3
airguard.velocity = -3,3
air.type = High
air.velocity = -4,3
air.hittime = 12
envshake.time = 10
envshake.freq = 20
envshake.ampl = -5
envshake.phase = 10

[State 0, End]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;-----------------
;Combo 2
[StateDef 213]
type = C
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 213
poweradd = 0
sprpriority = 2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F8,0+random%4
volume = 255
channel = 8

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = F17,0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = S3,5+random%2
volume = 255
channel = 3

[State 0, Helper]
type = Helper
trigger1 = animelem = 3
helpertype = normal;player
name = "Klon"
ID = 200
stateno = 214
pos = 100,0
postype = p1    ;p2,front,back,left,right
facing = -1
keyctrl = 0
ownpal = 1
size.xscale = 0.85
size.yscale = 0.85

[State 0, End]
type = ChangeState
trigger1 = time > 10 && numhelper(200) = 0
value = 0
ctrl = 1
;-----------------
;Combo 2
[StateDef 214]
type = C
movetype= A
physics = S
juggle  = 1
velset = 5,0
ctrl = 0
anim = 214
poweradd = 20
sprpriority = 2

[State 0, Prawa]
type = Explod
trigger1 = time = 0
anim = F696
ownpal = 1
ID = 900
pos = 10+random%10,-30-random%20
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
supermovetime = 9999
pausemovetime = 9999
vel = 0+random%2,-1-random%3
scale = 0.6,0.6
sprpriority = 5
ontop = 0

[State 0, Srodek]
type = Explod
trigger1 = time = 0
anim = F696
ownpal = 1
ID = 900
pos = -5+random%10,-20-random%10
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
supermovetime = 9999
pausemovetime = 9999
vel = -1+random%3,-1-random%2
scale = 1,1
sprpriority = 5
ontop = 0

[State 0, Lewa]
type = Explod
trigger1 = time = 0
anim = F696
ownpal = 1
ID = 900
pos = -10-random%10,-30-random%20
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
supermovetime = 9999
pausemovetime = 9999
vel = 0-random%2,-1-random%3
scale = 0.6,0.6
sprpriority = 5
ontop = 0

[State 0, HitOverride]
type = HitOverride
trigger1 = 1
attr = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
stateno = 199
time = 10

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = F9,0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = F9,2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F8,0+random%4
volume = 255
channel = 8

[State 0, HitDef]
type = HitDef
fall.yvelocity = -6
trigger1 = AnimElem = 4
attr = S, NA
damage = 35,7
animtype = Light
guardflag = MA
hitflag = MAF
priority = cond(var(0) < 2, 3, 1)
pausetime = 0, 5
sparkno = 0+random%4
sparkxy = -15, -15*0.85
hitsound = 35, 0+random%15;5, 21+random%5
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -4,-2
airguard.velocity = -4,-2
air.type = High
air.velocity = -4,-2
air.hittime = 12
envshake.time = 10
envshake.freq = 20
envshake.ampl = -5
envshake.phase = 10
fall = 1

[State 0, End]
type = ChangeState
trigger1 = AnimTime = 0
value = 199
ctrl = 1
;-----------------
;Combo 2
[StateDef 215]
type = C
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 215
poweradd = 20
sprpriority = 2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = F3

[State 0, Explod]
type = Explod
trigger1 = animelem = 3
anim = F360
pos = 0,0
scale = 1,1
postype = p1
facing = 1
bindtime = 1
removetime = -2
sprpriority = 3
ownpal = 1

[State 0, VelSet]
type = VelSet
trigger1 = animelem = 3
x = 1
y = -7

[State 0, StateTypeSet]
type = StateTypeSet
trigger1 = animelem = 3
statetype = A
movetype = A
physics = A

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = F8,0+random%4
volume = 255
channel = 8

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 4
value = S4,0+random%16
volume = 255
channel = 4

[State 0, HitDef]
type = HitDef
fall.yvelocity = -6
trigger1 = !time
attr = S, NA
damage = 35,7
animtype = Light
guardflag = MA
hitflag = MAF
priority = cond(var(0) < 2, 3, 1)
pausetime = 0, 0
sparkno = 0+random%4
sparkxy = -15, -70*0.85
hitsound = 35, 0+random%15;5, 21+random%5
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -2,-9
airguard.velocity = -2,-9
air.type = High
air.velocity = -2,-9
air.hittime = 12
envshake.time = 20
envshake.freq = 25
envshake.ampl = -6
envshake.phase = 10
fall = 1

[State 0, End]
type = ChangeState
trigger1 = AnimTime = 0
value = 50
ctrl = 1
;-----------------
;Combo 2
[StateDef 216]
type = A
movetype= A
physics = A
juggle  = 1
velset = 2,-5
ctrl = 0
anim = 216
poweradd = 20
sprpriority = 2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = F8,0+random%4
volume = 255
channel = 8

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 4
value = S4,0+random%16
volume = 255
channel = 4

[State 0, HitDef]
type = HitDef
fall.yvelocity = -6
trigger1 = !time
attr = S, NA
damage = 40,8
animtype = Light
guardflag = MA
hitflag = MAF
priority = cond(var(0) < 2, 3, 1)
pausetime = 0, 5
sparkno = 0+random%4
sparkxy = -15, -35*0.85
hitsound = 35, 0+random%15;5, 21+random%5
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -2,8
airguard.velocity = -2,8
air.type = High
air.velocity = -2,8
air.hittime = 12
envshake.time = 30
envshake.freq = 30
envshake.ampl = -7
envshake.phase = 10
fall = 1

[State 0, End]
type = ChangeState
trigger1 = AnimTime = 0
value = 50
ctrl = 1
;-----------------
;Combo 2
[StateDef 217]
type = A
movetype= A
physics = A
juggle  = 1
velset = -3,-4
ctrl = 0
anim = 217
poweradd = 0
sprpriority = 2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F8,0+random%4
volume = 255
channel = 8

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = F17,0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = S3,5+random%2
volume = 255
channel = 3

[State 0, Helper]
type = Helper
trigger1 = time = 5 || time = 10 || time = 15 || time = 20
helpertype = normal;player
name = "Klon"
ID = 200
stateno = 218
pos = 20+random%30,-20+random%60
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1
size.xscale = 0.85
size.yscale = 0.85

[State 0, End]
type = ChangeState
trigger1 = animtime = 0
value = 50
ctrl = 1
;-----------------
;Combo 2
[StateDef 218]
type = A
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 218
poweradd = 0
sprpriority = 2

[State 0, VelSet]
type = VelSet
trigger1 = 1
x = 9
y = 7

[State 0, Prawa]
type = Explod
trigger1 = time = 0
anim = F696
ownpal = 1
ID = 900
pos = 10+random%10,-30-random%20
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
supermovetime = 9999
pausemovetime = 9999
vel = 0+random%2,-1-random%3
scale = 0.6,0.6
sprpriority = 5
ontop = 0

[State 0, Srodek]
type = Explod
trigger1 = time = 0
anim = F696
ownpal = 1
ID = 900
pos = -5+random%10,-20-random%10
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
supermovetime = 9999
pausemovetime = 9999
vel = -1+random%3,-1-random%2
scale = 1,1
sprpriority = 5
ontop = 0

[State 0, Lewa]
type = Explod
trigger1 = time = 0
anim = F696
ownpal = 1
ID = 900
pos = -10-random%10,-30-random%20
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
supermovetime = 9999
pausemovetime = 9999
vel = 0-random%2,-1-random%3
scale = 0.6,0.6
sprpriority = 5
ontop = 0

[State 0, HitOverride]
type = HitOverride
trigger1 = 1
attr = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
stateno = 199
time = 10

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = F9,0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = F9,2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
value = F14,5
volume = 255
channel = 8

[State 0, HitDef]
type = HitDef
fall.yvelocity = -6
trigger1 = !time
attr = S, NA
damage = 35,7
animtype = Light
guardflag = MA
hitflag = MAF
priority = cond(var(0) < 2, 3, 1)
pausetime = 0, 5
sparkno = 0+random%4
sparkxy = -15, -25*0.85
hitsound = 35, 0+random%15;5, 21+random%5
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -8,6
airguard.velocity = -8,6
air.type = High
air.velocity = -8,6
air.hittime = 12
envshake.time = 30
envshake.freq = 30
envshake.ampl = -7
envshake.phase = 10
fall = 1

[State 0, End]
type = ChangeState
trigger1 = pos y >= 15
value = 199
ctrl = 1
;-----------------
;Combo 3
[StateDef 220]
type = S
movetype= A
physics = S
juggle  = 1
velset = 7,0
ctrl = 0
anim = 220
poweradd = 20
sprpriority = 2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F8,0+random%4
volume = 255
channel = 8

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = S4,0+random%16
volume = 255
channel = 4

[State 0, HitDef]
type = HitDef
fall.yvelocity = -6
trigger1 = AnimElem = 2
attr = S, NA
damage = 35,7
animtype = Light
guardflag = MA
hitflag = MAF
priority = cond(var(0) < 2, 3, 1)
pausetime = 0, 5
sparkno = 0+random%4
sparkxy = -15, -47*0.85
hitsound = 35, 0+random%15;5, 21+random%5
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -2
airguard.velocity = -2,-.8
air.type = High
air.velocity = -2,-2
air.hittime = 12
envshake.time = 10
envshake.freq = 20
envshake.ampl = -5
envshake.phase = 10

[State 0, End]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;-----------------
;Combo 3
[StateDef 221]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 221
poweradd = 0
sprpriority = 2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F8,0+random%4
volume = 255
channel = 8

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = F17,0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = S3,5+random%2
volume = 255
channel = 3

[State 0, Helper]
type = Helper
trigger1 = animelem = 3
helpertype = normal;player
name = "Klon"
ID = 200
stateno = 222
pos = -20,0
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1
size.xscale = 0.85
size.yscale = 0.85

[State 0, End]
type = ChangeState
trigger1 = time > 10 && numhelper(200) = 0
value = 0
ctrl = 1
;-----------------
;Combo 3
[StateDef 222]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 222
poweradd = 20
sprpriority = 2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
value = F3

[State 0, Explod]
type = Explod
trigger1 = animelem = 1
anim = F360
pos = 0,0
scale = 1,1
postype = p1
facing = 1
bindtime = 1
removetime = -2
sprpriority = 3
ownpal = 1

[State 0, VelSet]
type = VelSet
trigger1 = animelem = 2
y = -4

[State 0, VelSet]
type = VelSet
trigger1 = time > 3 && pos y < 0
x = 6

[State 0, Gravity]
type = Gravity
trigger1 = time > 3 && pos y < 0

[State 0, ChangeAnim]
type = ChangeAnim
trigger1 = time > 3 && pos y >= 0
triggerall = anim = 222
value = 2221

[State 0, VelSet]
type = VelSet
trigger1 = anim = 2221 && time < 10
x = 4

[State 0, PosSet]
type = PosSet
trigger1 = time > 6 && pos y >= 0
y = 0

[State 0, VelSet]
type = VelSet
trigger1 = time > 3 && pos y >= 0
x = 0
y = 0

[State 0, StateTypeSet]
type = StateTypeSet
trigger1 = time > 3 && pos y >= 0
statetype = S
movetype = A
physics = S

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time > 3 && pos y >= 0
persistent = 0
value = F4

[State 0, Explod]
type = Explod
trigger1 = time > 3 && pos y >= 0
persistent = 0
anim = F290
ID = 23
pos = -1,3
postype = p1  ;p2,front,back,left,right
scale = 1.8,1.5
sprpriority = 2
ontop = 0
ownpal = 1

[State 0, Prawa]
type = Explod
trigger1 = time = 0
anim = F696
ownpal = 1
ID = 900
pos = 10+random%10,-30-random%20
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
supermovetime = 9999
pausemovetime = 9999
vel = 0+random%2,-1-random%3
scale = 0.6,0.6
sprpriority = 5
ontop = 0

[State 0, Srodek]
type = Explod
trigger1 = time = 0
anim = F696
ownpal = 1
ID = 900
pos = -5+random%10,-20-random%10
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
supermovetime = 9999
pausemovetime = 9999
vel = -1+random%3,-1-random%2
scale = 1,1
sprpriority = 5
ontop = 0

[State 0, Lewa]
type = Explod
trigger1 = time = 0
anim = F696
ownpal = 1
ID = 900
pos = -10-random%10,-30-random%20
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
supermovetime = 9999
pausemovetime = 9999
vel = 0-random%2,-1-random%3
scale = 0.6,0.6
sprpriority = 5
ontop = 0

[State 0, HitOverride]
type = HitOverride
trigger1 = 1
attr = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
stateno = 199
time = 10

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = F9,0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = F9,2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F8,0+random%4
volume = 255
channel = 8

[State 0, PlayerPush]
type = PlayerPush
trigger1 = 1
value = 0

[State 0, HitDef]
type = HitDef
fall.yvelocity = -6
trigger1 = AnimElem = 2
attr = S, NA
damage = 35,7
animtype = Light
guardflag = MA
hitflag = MAF
priority = cond(var(0) < 2, 3, 1)
pausetime = 0, 5
sparkno = 0+random%4
sparkxy = -15, -30*0.85
hitsound = 35, 0+random%15;5, 21+random%5
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -3,0
airguard.velocity = -3,0
air.type = High
air.velocity = -3,0
air.hittime = 12
envshake.time = 10
envshake.freq = 20
envshake.ampl = -5
envshake.phase = 10

[State 0, End]
type = ChangeState
trigger1 = anim = 2221 && AnimTime = 0
value = 199
ctrl = 1
;-----------------
;Combo 3
[StateDef 223]
type = S
movetype= A
physics = S
juggle  = 1
velset = 7,0
ctrl = 0
anim = 223
poweradd = 20
sprpriority = 2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F8,0+random%4
volume = 255
channel = 8

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = S4,0+random%16
volume = 255
channel = 4

[State 0, HitDef]
type = HitDef
fall.yvelocity = -6
trigger1 = AnimElem = 2
attr = S, NA
damage = 35,7
animtype = Light
guardflag = MA
hitflag = MAF
priority = cond(var(0) < 2, 3, 1)
pausetime = 0, 5
sparkno = 0+random%4
sparkxy = -15, -47*0.85
hitsound = 35, 0+random%15;5, 21+random%5
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -2,-6
airguard.velocity = -2,-6
air.type = High
air.velocity = -2,-6
air.hittime = 12
envshake.time = 10
envshake.freq = 20
envshake.ampl = -5
envshake.phase = 10

[State 0, End]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;-----------------
;Combo 3
[StateDef 224]
type = S
movetype = A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 224
poweradd = 20
sprpriority = 2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
value = F3

[State 0, Explod]
type = Explod
trigger1 = animelem = 1
anim = F360
pos = 0,0
scale = 1,1
postype = p1
facing = 1
bindtime = 1
removetime = -2
sprpriority = 3
ownpal = 1

[State 0, VelSet]
type = VelSet
trigger1 = animelem = 2
y = -5

[State 0, VelSet]
type = VelSet
trigger1 = time > 3 && pos y < 0
x = 3

[State 0, Gravity]
type = Gravity
trigger1 = time > 3 && pos y < 0

[State 0, ChangeAnim]
type = ChangeAnim
trigger1 = time > 3 && pos y >= 0
triggerall = anim = 224
value = 2241

[State 0, PosSet]
type = PosSet
trigger1 = time > 3 && pos y >= 0
y = 0

[State 0, VelSet]
type = VelSet
trigger1 = time > 3 && pos y >= 0
x = 0
y = 0

[State 0, StateTypeSet]
type = StateTypeSet
trigger1 = time > 3 && pos y >= 0
statetype = S
movetype = A
physics = S

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time > 3 && pos y >= 0
persistent = 0
value = F4

[State 0, Explod]
type = Explod
trigger1 = time > 3 && pos y >= 0
persistent = 0
anim = F290
ID = 23
pos = -1,3
postype = p1  ;p2,front,back,left,right
scale = 1.8,1.5
sprpriority = 2
ontop = 0
ownpal = 1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F8,0+random%4
volume = 255
channel = 8

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = S4,0+random%16
volume = 255
channel = 4

[State 0, HitDef]
type = HitDef
fall.yvelocity = -6
trigger1 = animelem = 4
attr = S, NA
damage = 50,10
animtype = Light
guardflag = MA
hitflag = MAF
priority = cond(var(0) < 2, 3, 1)
pausetime = 0, 10
sparkno = 0+random%4
sparkxy = -15, -15*0.85
hitsound = 35, 0+random%15;5, 21+random%5
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -4,6
airguard.velocity = -4,6
air.type = High
air.velocity = -4,6
air.hittime = 12
envshake.time = 10
envshake.freq = 20
envshake.ampl = -5
envshake.phase = 10

[State 0, End]
type = ChangeState
trigger1 = anim = 2241 && AnimTime = 0
value = 0
ctrl = 1
;-----------------
;Combo 3
[StateDef 225]
type = S
movetype = A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 225
poweradd = 20
sprpriority = 2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
trigger2 = animelem = 4
trigger3 = animelem = 5
triggerall = anim = 225
value = S6,0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
value = F3

[State 0, Explod]
type = Explod
trigger1 = animelem = 1
anim = F360
pos = 0,0
scale = 1,1
postype = p1
facing = 1
bindtime = 1
removetime = -2
sprpriority = 3
ownpal = 1

[State 0, VelSet]
type = VelSet
trigger1 = animelem = 1
y = -5

[State 0, VelSet]
type = VelSet
trigger1 = time > 0 && pos y < 0
x = 2

[State 0, Gravity]
type = Gravity
trigger1 = time > 0 && pos y < 0

[State 0, ChangeAnim]
type = ChangeAnim
trigger1 = time > 0 && pos y >= 0
triggerall = anim = 225
value = 2251

[State 0, PosSet]
type = PosSet
trigger1 = time > 0 && pos y >= 0
y = 0

[State 0, VelSet]
type = VelSet
trigger1 = time > 0 && pos y >= 0
x = 0
y = 0

[State 0, StateTypeSet]
type = StateTypeSet
trigger1 = time > 0 && pos y >= 0
statetype = S
movetype = A
physics = S

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time > 0 && pos y >= 0
persistent = 0
value = F4

[State 0, Explod]
type = Explod
trigger1 = time > 0 && pos y >= 0
persistent = 0
anim = F290
ID = 23
pos = -1,3
postype = p1  ;p2,front,back,left,right
scale = 1.8,1.5
sprpriority = 2
ontop = 0
ownpal = 1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 7
value = F8,0+random%4
volume = 255
channel = 8

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 8
value = S4,0+random%16
volume = 255
channel = 4

[State 0, HitDef]
type = HitDef
fall.yvelocity = -6
trigger1 = !time
attr = S, NA
damage = 50,10
animtype = Light
guardflag = MA
hitflag = MAF
priority = cond(var(0) < 2, 3, 1)
pausetime = 0, 5
sparkno = 0+random%4
sparkxy = -15, -15*0.85
hitsound = 35, 0+random%15;5, 21+random%5
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -2,6
airguard.velocity = -2,6
air.type = High
air.velocity = -3,6
air.hittime = 12
envshake.time = 10
envshake.freq = 20
envshake.ampl = -5
envshake.phase = 10
fall = 1

[State 0, End]
type = ChangeState
trigger1 = anim = 2251 && AnimTime = 0
value = 0
ctrl = 1
;-----------------
;Combo 3
[StateDef 226]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 226
poweradd = 0
sprpriority = 2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F8,0+random%4
volume = 255
channel = 8

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = F17,0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = S3,5+random%2
volume = 255
channel = 3

[State 0, Helper]
type = Helper
trigger1 = animelem = 3
helpertype = normal;player
name = "Klon"
ID = 200
stateno = 227
pos = 20,0
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1
size.xscale = 0.85
size.yscale = 0.85

[State 0, End]
type = ChangeState
trigger1 = time > 10 && numhelper(200) = 0
value = 0
ctrl = 1
;-----------------
;Combo 3
[StateDef 227]
type = S
movetype= A
physics = S
juggle  = 1
velset = 5,0
ctrl = 0
anim = 227
poweradd = 20
sprpriority = 2

[State 0, Prawa]
type = Explod
trigger1 = time = 0
anim = F696
ownpal = 1
ID = 900
pos = 10+random%10,-30-random%20
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
supermovetime = 9999
pausemovetime = 9999
vel = 0+random%2,-1-random%3
scale = 0.6,0.6
sprpriority = 5
ontop = 0

[State 0, Srodek]
type = Explod
trigger1 = time = 0
anim = F696
ownpal = 1
ID = 900
pos = -5+random%10,-20-random%10
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
supermovetime = 9999
pausemovetime = 9999
vel = -1+random%3,-1-random%2
scale = 1,1
sprpriority = 5
ontop = 0

[State 0, Lewa]
type = Explod
trigger1 = time = 0
anim = F696
ownpal = 1
ID = 900
pos = -10-random%10,-30-random%20
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
supermovetime = 9999
pausemovetime = 9999
vel = 0-random%2,-1-random%3
scale = 0.6,0.6
sprpriority = 5
ontop = 0

[State 0, HitOverride]
type = HitOverride
trigger1 = 1
attr = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
stateno = 199
time = 10

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = F9,0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = F9,2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F8,0+random%4
volume = 255
channel = 8

[State 0, HitDef]
type = HitDef
fall.yvelocity = -6
trigger1 = AnimElem = 3
attr = S, NA
damage = 40,8
animtype = Light
guardflag = MA
hitflag = MAF
priority = cond(var(0) < 2, 3, 1)
pausetime = 0, 5
sparkno = 0+random%4
sparkxy = -15, -45*0.85
hitsound = 35, 0+random%15;5, 21+random%5
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = 0,-8
airguard.velocity = 0,-8
air.type = High
air.velocity = 0,-8
air.hittime = 12
envshake.time = 20
envshake.freq = 25
envshake.ampl = -7
envshake.phase = 10
fall = 1

[State 0, End]
type = ChangeState
trigger1 = AnimTime = 0
value = 199
ctrl = 1

;Combo 3
[State -1, Combo 3.7]
type = ChangeState
value = 228
;PLAYER
trigger1 = root, command = "a"
trigger1 = root, var(50) = 0
;AI RANDOM
trigger2 = p2dist x = [0,70]
trigger2 = p2dist y = [-80,50]
trigger2 = random = [140,145+root, var(49)*(root, var(49)/10)+10+root, var(48)/40]
trigger2 = root, var(50) = 1
trigger2 = p2stateno != [5110,5150]
;WARUNEK
triggerall = time > 6 && movecontact
;-----------------
;Combo 3
[StateDef 228]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 228
poweradd = 0
sprpriority = 2

[State 0, VelSet]
type = VelSet
trigger1 = animelem = 2
x = 2
y = -6

[State 0, StateTypeSet]
type = StateTypeSet
trigger1 = animelem = 2
statetype = A
movetype = A
physics = A


[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 1
value = F3

[State 0, Explod]
type = Explod
trigger1 = time = 0
anim = F360
pos = 0,0
scale = 1,1
postype = p1
facing = 1
bindtime = 1
removetime = -2
sprpriority = 3
ownpal = 1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F8,0+random%4
volume = 255
channel = 8

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = S1,0+random%7
volume = 255
channel = 4

[State 0, HitDef]
type = HitDef
fall.yvelocity = -6
trigger1 = !time
attr = S, NA
damage = 40,8
animtype = Light
guardflag = MA
hitflag = MAF
priority = cond(var(0) < 2, 3, 1)
pausetime = 0, 5
sparkno = 0+random%4
sparkxy = -15, -35*0.85
hitsound = 35, 0+random%15;5, 21+random%5
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -1,-5
airguard.velocity = -1,-5
air.type = High
air.velocity = -1,-5
air.hittime = 12
envshake.time = 20
envshake.freq = 25
envshake.ampl = -6
envshake.phase = 10
fall = 1

[State 0, End]
type = ChangeState
trigger1 = animtime = 0
value = 50
ctrl = 1
;-----------------
;Combo 3
[StateDef 229]
type = A
movetype= A
physics = A
juggle  = 1
velset = 3,-8
ctrl = 0
anim = 229
poweradd = 20
sprpriority = 2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 1
value = F3

[State 0, Explod]
type = Explod
trigger1 = time = 0
anim = F360
pos = 0,0
scale = 1,1
postype = p1
facing = 1
bindtime = 1
removetime = -2
sprpriority = 3
ownpal = 1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = F8,0+random%4
volume = 255
channel = 8

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 4
value = S1,0+random%7
volume = 255
channel = 4

[State 0, HitDef]
type = HitDef
fall.yvelocity = -6
trigger1 = !time
attr = S, NA
damage = 50,10
animtype = Light
guardflag = MA
hitflag = MAF
priority = cond(var(0) < 2, 3, 1)
pausetime = 5, 10
sparkno = 2010
sparkxy = -15, -35*0.85
hitsound = 35, 0+random%15;5, 21+random%5
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -2,9
airguard.velocity = -2,9
air.type = High
air.velocity = -2,9
air.hittime = 12
envshake.time = 30
envshake.freq = 30
envshake.ampl = -7
envshake.phase = 10
fall = 1

[State 0, End]
type = ChangeState
trigger1 = AnimTime = 0
value = 50
ctrl = 1
;-----------------
;Combo 4
[StateDef 230]
type = A
movetype= A
physics = A
juggle  = 1
ctrl = 0
anim = 230
poweradd = 20
sprpriority = 2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F8,0+random%4
volume = 255
channel = 8

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = S4,0+random%16
volume = 255
channel = 4

[State 0, HitDef]
type = HitDef
fall.yvelocity = -6
trigger1 = !time
attr = S, NA
damage = 35,7
animtype = Light
guardflag = MA
hitflag = MAF
priority = cond(var(0) < 2, 3, 1)
pausetime = 0, 5
sparkno = 0+random%4
sparkxy = -15, -38*0.85
hitsound = 35, 0+random%15;5, 21+random%5
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -2,0
airguard.velocity = -2,-.8
air.type = High
air.velocity = -2,0
air.hittime = 12
envshake.time = 10
envshake.freq = 20
envshake.ampl = -5
envshake.phase = 10

[State 0, End]
type = ChangeState
trigger1 = AnimTime = 0
value = 50
ctrl = 1
;-----------------
;Combo 4
[StateDef 231]
type = A
movetype= A
physics = A
juggle  = 1
velset = 3,-1
ctrl = 0
anim = 231
poweradd = 20
sprpriority = 2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F8,0+random%4
volume = 255
channel = 8

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = S4,0+random%16
volume = 255
channel = 4

[State 0, HitDef]
type = HitDef
fall.yvelocity = -6
trigger1 = AnimElem = 3
attr = S, NA
damage = 35,7
animtype = Light
guardflag = MA
hitflag = MAF
priority = cond(var(0) < 2, 3, 1)
pausetime = 0, 5
sparkno = 0+random%4
sparkxy = -15, -28*0.85
hitsound = 35, 0+random%15;5, 21+random%5
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -2,0
airguard.velocity = -2,0
air.type = High
air.velocity = -2,0
air.hittime = 12
envshake.time = 10
envshake.freq = 20
envshake.ampl = -5
envshake.phase = 10

[State 0, End]
type = ChangeState
trigger1 = AnimTime = 0
value = 50
ctrl = 1
;-----------------
;Combo 4
[StateDef 232]
type = A
movetype= A
physics = A
juggle  = 1
velset = 3,-1
ctrl = 0
anim = 232
poweradd = 20
sprpriority = 2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F8,0+random%4
volume = 255
channel = 8

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = S4,0+random%16
volume = 255
channel = 4

[State 0, HitDef]
type = HitDef
fall.yvelocity = -6
trigger1 = !time
attr = S, NA
damage = 35,7
animtype = Light
guardflag = MA
hitflag = MAF
priority = cond(var(0) < 2, 3, 1)
pausetime = 0, 5
sparkno = 0+random%4
sparkxy = -15, -50*0.85
hitsound = 35, 0+random%15;5, 21+random%5
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -2,-1
airguard.velocity = -2,-1
air.type = High
air.velocity = -2,-1
air.hittime = 12
envshake.time = 10
envshake.freq = 20
envshake.ampl = -5
envshake.phase = 10

[State 0, End]
type = ChangeState
trigger1 = AnimTime = 0
value = 50
ctrl = 1
;-----------------
;Combo 4
[StateDef 233]
type = A
movetype= A
physics = A
juggle  = 1
velset = 3,-1
ctrl = 0
anim = 233
poweradd = 20
sprpriority = 2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = F8,0+random%4
volume = 255
channel = 8

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 4
value = S4,0+random%16
volume = 255
channel = 4

[State 0, HitDef]
type = HitDef
fall.yvelocity = -6
trigger1 = !time
attr = S, NA
damage = 50,10
animtype = Light
guardflag = MA
hitflag = MAF
priority = cond(var(0) < 2, 3, 1)
pausetime = 0, 0
sparkno = 0+random%4
sparkxy = -15, -15*0.85
hitsound = 35, 0+random%15;5, 21+random%5
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -3,8
airguard.velocity = -2,7
air.type = High
air.velocity = -3,8
air.hittime = 12
envshake.time = 20
envshake.freq = 25
envshake.ampl = -6
envshake.phase = 10
fall = 1

[State 0, End]
type = ChangeState
trigger1 = AnimTime = 0
value = 50
ctrl = 1
;-----------------
;Combo 4
[StateDef 234]
type = A
movetype= A
physics = A
juggle  = 1
velset = -4,-3
ctrl = 0
anim = 217
poweradd = 0
sprpriority = 2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F8,0+random%4
volume = 255
channel = 8

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = F17,0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = S3,5+random%2
volume = 255
channel = 3

[State 0, Helper]
type = Helper
trigger1 = time = 5 || time = 10 || time = 15 || time = 20
helpertype = normal;player
name = "Klon"
ID = 200
stateno = 218
pos = 20+random%30,-20+random%60
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1
size.xscale = 0.85
size.yscale = 0.85

[State 0, End]
type = ChangeState
trigger1 = animtime = 0
value = 50
ctrl = 1
;-----------------
;Combo 5
[StateDef 240]
type = S
movetype= A
physics = S
juggle  = 1
velset = 2,0
ctrl = 0
anim = 240
poweradd = 20
sprpriority = 2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = F8,0+random%4
volume = 255
channel = 8

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 4
value = S4,0+random%16
volume = 255
channel = 4

[State 0, HitDef]
type = HitDef
fall.yvelocity = -6
trigger1 = AnimElem = 4
attr = S, NA
damage = 35,7
animtype = Light
guardflag = MA
hitflag = MAF
priority = cond(var(0) < 2, 3, 1)
pausetime = 0, 5
sparkno = 0+random%4
sparkxy = -15, -42*0.85
hitsound = 35, 0+random%15;5, 21+random%5
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -2
airguard.velocity = -2,-.8
air.type = High
air.velocity = -2,-2
air.hittime = 12
envshake.time = 10
envshake.freq = 20
envshake.ampl = -5
envshake.phase = 10

[State 0, End]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;-----------------
;Combo 5
[StateDef 241]
type = S
movetype= A
physics = S
juggle  = 1
velset = 3,0
ctrl = 0
anim = 241
poweradd = 20
sprpriority = 2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F8,0+random%4
volume = 255
channel = 8

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = S4,0+random%16
volume = 255
channel = 4

[State 0, HitDef]
type = HitDef
fall.yvelocity = -6
trigger1 = AnimElem = 3
attr = S, NA
damage = 35,7
animtype = Light
guardflag = MA
hitflag = MAF
priority = cond(var(0) < 2, 3, 1)
pausetime = 0, 5
sparkno = 0+random%4
sparkxy = -15, -54*0.85
hitsound = 35, 0+random%15;5, 21+random%5
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -2,1
airguard.velocity = -2,-.8
air.type = High
air.velocity = -2,1
air.hittime = 12
envshake.time = 10
envshake.freq = 20
envshake.ampl = -5
envshake.phase = 10

[State 0, End]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;-----------------
;Combo 5
[StateDef 242]
type = S
movetype= A
physics = S
juggle  = 1
velset = 5,0
ctrl = 0
anim = 242
poweradd = 20
sprpriority = 2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F8,0+random%4
volume = 255
channel = 8

[State 0, HitDef]
type = HitDef
fall.yvelocity = -6
trigger1 = AnimElem = 3
attr = S, NA
damage = 35,7
animtype = Light
guardflag = MA
hitflag = MAF
priority = cond(var(0) < 2, 3, 1)
pausetime = 0, 5
sparkno = 0+random%4
sparkxy = -15, -48*0.85
hitsound = 35, 0+random%15;5, 21+random%5
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -2,-1
airguard.velocity = -2,-.8
air.type = High
air.velocity = -2,-2
air.hittime = 12
envshake.time = 10
envshake.freq = 20
envshake.ampl = -5
envshake.phase = 10

[State 0, End]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;-----------------
;Combo 5
[StateDef 243]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 243
poweradd = 0
sprpriority = 2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F8,0+random%4
volume = 255
channel = 8

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = F17,0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = S3,5+random%2
volume = 255
channel = 3

[State 0, Helper]
type = Helper
trigger1 = animelem = 3
helpertype = normal;player
name = "Klon"
ID = 200
stateno = 244
pos = 10,0
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1
size.xscale = 0.85
size.yscale = 0.85

[State 0, End]
type = ChangeState
trigger1 = time > 10 && numhelper(200) = 0
value = 0
ctrl = 1
;-----------------
;Combo 5
[StateDef 244]
type = S
movetype= A
physics = S
juggle  = 1
velset = 4,0
ctrl = 0
anim = 244
poweradd = 20
sprpriority = 2

[State 0, Prawa]
type = Explod
trigger1 = time = 0
anim = F696
ownpal = 1
ID = 900
pos = 10+random%10,-30-random%20
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
supermovetime = 9999
pausemovetime = 9999
vel = 0+random%2,-1-random%3
scale = 0.6,0.6
sprpriority = 5
ontop = 0

[State 0, Srodek]
type = Explod
trigger1 = time = 0
anim = F696
ownpal = 1
ID = 900
pos = -5+random%10,-20-random%10
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
supermovetime = 9999
pausemovetime = 9999
vel = -1+random%3,-1-random%2
scale = 1,1
sprpriority = 5
ontop = 0

[State 0, Lewa]
type = Explod
trigger1 = time = 0
anim = F696
ownpal = 1
ID = 900
pos = -10-random%10,-30-random%20
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
supermovetime = 9999
pausemovetime = 9999
vel = 0-random%2,-1-random%3
scale = 0.6,0.6
sprpriority = 5
ontop = 0

[State 0, HitOverride]
type = HitOverride
trigger1 = 1
attr = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
stateno = 199
time = 10

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = F9,0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = F9,2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F8,0+random%4
volume = 255
channel = 8

[State 0, HitDef]
type = HitDef
fall.yvelocity = -6
trigger1 = AnimElem = 4
attr = S, NA
damage = 35,7
animtype = Light
guardflag = MA
hitflag = MAF
priority = cond(var(0) < 2, 3, 1)
pausetime = 0, 5
sparkno = 0+random%4
sparkxy = -15, -41*0.85
hitsound = 35, 0+random%15;5, 21+random%5
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -5,-2
airguard.velocity = -5,-.8
air.type = High
air.velocity = -5,-2
air.hittime = 12
envshake.time = 20
envshake.freq = 25
envshake.ampl = -6
envshake.phase = 10

[State 0, End]
type = ChangeState
trigger1 = AnimTime = 0
value = 199
ctrl = 1

;Combo 5
[State -1, Combo 5.6]
type = ChangeState
value = 247
;PLAYER
trigger1 = root, command = "x"
trigger1 = root, var(50) = 0
;AI RANDOM
trigger2 = p2dist x = [0,100]
trigger2 = p2dist y = [-50,100]
trigger2 = random = [180,185+root, var(49)*(root, var(49)/10)+10+root, var(48)/40]
trigger2 = root, var(50) = 1
trigger2 = p2stateno != [5110,5150]
;WARUNEK
triggerall = time > 9 && movecontact && parent, stateno = 245 && parent, time > 10
;-----------------
;Combo 5
[StateDef 245]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 245
poweradd = 0
sprpriority = 2

[State 0, Helper]
type = Helper
trigger1 = animelem = 1
helpertype = normal;player
name = "Klon"
ID = 200
stateno = 246
pos = 130,0
postype = p1    ;p2,front,back,left,right
facing = -1
keyctrl = 0
ownpal = 1
size.xscale = 0.85
size.yscale = 0.85

[State 0, End]
type = ChangeState
trigger1 = time > 10 && numhelper(200) = 0
value = 0
ctrl = 1
;-----------------
;Combo 5
[StateDef 246]
type = S
movetype = A
physics = S
juggle  = 1
velset = 3,0
ctrl = 0
anim = 246
poweradd = 20
sprpriority = 2

[State 0, Prawa]
type = Explod
trigger1 = time = 0
anim = F696
ownpal = 1
ID = 900
pos = 10+random%10,-30-random%20
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
supermovetime = 9999
pausemovetime = 9999
vel = 0+random%2,-1-random%3
scale = 0.6,0.6
sprpriority = 5
ontop = 0

[State 0, Srodek]
type = Explod
trigger1 = time = 0
anim = F696
ownpal = 1
ID = 900
pos = -5+random%10,-20-random%10
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
supermovetime = 9999
pausemovetime = 9999
vel = -1+random%3,-1-random%2
scale = 1,1
sprpriority = 5
ontop = 0

[State 0, Lewa]
type = Explod
trigger1 = time = 0
anim = F696
ownpal = 1
ID = 900
pos = -10-random%10,-30-random%20
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
supermovetime = 9999
pausemovetime = 9999
vel = 0-random%2,-1-random%3
scale = 0.6,0.6
sprpriority = 5
ontop = 0

[State 0, HitOverride]
type = HitOverride
trigger1 = 1
attr = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
stateno = 199
time = 10

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = F9,0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = F9,2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F3

[State 0, Explod]
type = Explod
trigger1 = animelem = 2
anim = F360
pos = 0,0
scale = 1,1
postype = p1
facing = 1
bindtime = 1
removetime = -2
sprpriority = 3
ownpal = 1

[State 0, VelSet]
type = VelSet
trigger1 = animelem = 3
y = -4

[State 0, VelSet]
type = VelSet
trigger1 = time > 6 && pos y < 0
x = 3

[State 0, Gravity]
type = Gravity
trigger1 = time > 6 && pos y < 0

[State 0, ChangeAnim]
type = ChangeAnim
trigger1 = time > 6 && pos y >= 0
triggerall = anim = 246
value = 2111

[State 0, PosSet]
type = PosSet
trigger1 = time > 6 && pos y >= 0
y = 0

[State 0, VelSet]
type = VelSet
trigger1 = time > 6 && pos y >= 0
x = 0
y = 0

[State 0, StateTypeSet]
type = StateTypeSet
trigger1 = time > 6 && pos y >= 0
statetype = S
movetype = A
physics = S

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time > 6 && pos y >= 0
persistent = 0
value = F4

[State 0, Explod]
type = Explod
trigger1 = time > 6 && pos y >= 0
persistent = 0
anim = F290
ID = 23
pos = -1,3
postype = p1  ;p2,front,back,left,right
scale = 1.8,1.5
sprpriority = 2
ontop = 0
ownpal = 1


[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F8,0+random%4
volume = 255
channel = 8

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = S4,0+random%16
volume = 255
channel = 4

[State 0, HitDef]
type = HitDef
fall.yvelocity = -6
trigger1 = !time
attr = S, NA
damage = 40,8
animtype = Light
guardflag = MA
hitflag = MAF
priority = cond(var(0) < 2, 3, 1)
pausetime = 0, 5
sparkno = 0+random%4
sparkxy = -15, -34*0.85
hitsound = 35, 0+random%15;5, 21+random%5
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -3,-1
airguard.velocity = -3,-1
air.type = High
air.velocity = -3,-1
air.hittime = 12
envshake.time = 10
envshake.freq = 20
envshake.ampl = -5
envshake.phase = 10

[State 0, End]
type = ChangeState
trigger1 = anim = 2111 && AnimTime = 0
value = 0
ctrl = 1
;-----------------
;Combo 5
[StateDef 247]
type = S
movetype= A
physics = S
juggle  = 1
velset = 3,0
ctrl = 0
anim = 247
poweradd = 20
sprpriority = 2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F8,0+random%4
volume = 255
channel = 8

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = S4,0+random%16
volume = 255
channel = 4

[State 0, HitDef]
type = HitDef
fall.yvelocity = -6
trigger1 = animelem = 2
attr = S, NA
damage = 50,10
animtype = Light
guardflag = MA
hitflag = MAF
priority = cond(var(0) < 2, 3, 1)
pausetime = 0, 5
sparkno = 0+random%4
sparkxy = -15, -33*0.85
hitsound = 35, 0+random%15;5, 21+random%5
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -3,-1
airguard.velocity = -3,-1
air.type = High
air.velocity = -3,-1
air.hittime = 12
envshake.time = 20
envshake.freq = 25
envshake.ampl = -6
envshake.phase = 10

[State 0, End]
type = ChangeState
trigger1 = AnimTime = 0
value = 199
ctrl = 1
;-----------------
;Combo 5
[StateDef 248]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 248
poweradd = 0
sprpriority = 2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F8,0+random%4
volume = 255
channel = 8

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F17,0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = S1,0+random%7
volume = 255
channel = 3

[State 0, Helper]
type = Helper
trigger1 = animelem = 1
helpertype = normal;player
name = "Klon"
ID = 200
stateno = 249
pos = -9*0.85,-11*0.85
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1
size.xscale = 0.85
size.yscale = 0.85

[State 0, End]
type = ChangeState
trigger1 = animtime = 0
value = 0
ctrl = 1
;-----------------
;Combo 5
[StateDef 249]
type = S
movetype = A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 249
poweradd = 20
sprpriority = -2

[State 0, BindToParent]
type = BindToParent
trigger1 = time <= 10
time = 1
pos = -9*0.85,-11*0.85

[State 0, SprPriority]
type = SprPriority
trigger1 = time <= 10
value = -2

[State 0, SprPriority]
type = SprPriority
trigger1 = time > 10
value = 2

[State 0, AngleDraw]
type = AngleDraw
trigger1 = time > 10 && pos y < 0
value = -atan(vel y/vel x)*180/PI

[State 0, AngleDraw]
type = AngleDraw
trigger1 = time > 10 && pos y >= 0
value = 0

[State 0, Prawa]
type = Explod
trigger1 = time = 0
anim = F696
ownpal = 1
ID = 900
pos = 10+random%10,-30-random%20
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
supermovetime = 9999
pausemovetime = 9999
vel = 0+random%2,-1-random%3
scale = 0.6,0.6
sprpriority = 5
ontop = 0

[State 0, Srodek]
type = Explod
trigger1 = time = 0
anim = F696
ownpal = 1
ID = 900
pos = -5+random%10,-20-random%10
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
supermovetime = 9999
pausemovetime = 9999
vel = -1+random%3,-1-random%2
scale = 1,1
sprpriority = 5
ontop = 0

[State 0, Lewa]
type = Explod
trigger1 = time = 0
anim = F696
ownpal = 1
ID = 900
pos = -10-random%10,-30-random%20
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
supermovetime = 9999
pausemovetime = 9999
vel = 0-random%2,-1-random%3
scale = 0.6,0.6
sprpriority = 5
ontop = 0

[State 0, HitOverride]
type = HitOverride
trigger1 = 1
attr = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
stateno = 199
time = 10

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = F9,0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = F9,2

[State 0, VelSet]
type = VelSet
trigger1 = animelem = 3
y = -4

[State 0, VelSet]
type = VelSet
trigger1 = time > 10 && pos y < 0
x = 10

[State 0, Gravity]
type = Gravity
trigger1 = time > 10 && pos y < 0

[State 0, ChangeAnim]
type = ChangeAnim
trigger1 = time > 10 && pos y >= 0
triggerall = anim = 249
value = 2241

[State 0, PosSet]
type = PosSet
trigger1 = time > 10 && pos y >= 0
y = 0

[State 0, VelSet]
type = VelSet
trigger1 = time > 10 && pos y >= 0
x = 0
y = 0

[State 0, StateTypeSet]
type = StateTypeSet
trigger1 = time > 10 && pos y >= 0
statetype = S
movetype = A
physics = S

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time > 10 && pos y >= 0
persistent = 0
value = F4

[State 0, Explod]
type = Explod
trigger1 = time > 10 && pos y >= 0
persistent = 0
anim = F290
ID = 23
pos = -1,3
postype = p1  ;p2,front,back,left,right
scale = 1.8,1.5
sprpriority = 2
ontop = 0
ownpal = 1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = F8,0+random%4
volume = 255
channel = 8

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = S4,0+random%16
volume = 255
channel = 4

[State 0, HitDef]
type = HitDef
fall.yvelocity = -6
trigger1 = !time
attr = S, NA
damage = 75,15
animtype = Light
guardflag = MA
hitflag = MAF
priority = cond(var(0) < 2, 3, 1)
pausetime = 0, 0
sparkno = 0+random%4
sparkxy = -15, -15*0.85
hitsound = 35, 0+random%15;5, 21+random%5
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -5,7
airguard.velocity = -5,7
air.type = High
air.velocity = -5,7
air.hittime = 12
envshake.time = 30
envshake.freq = 30
envshake.ampl = -7
envshake.phase = 10
fall = 1

[State 0, End]
type = ChangeState
trigger1 = anim = 2241 && AnimTime = 0
value = 0
ctrl = 1
;-----------------
;Combo 6
[StateDef 250]
type = C
movetype= A
physics = S
juggle  = 1
velset = 4,0
ctrl = 0
anim = 250
poweradd = 20
sprpriority = 2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F8,0+random%4
volume = 255
channel = 8

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = S4,0+random%16
volume = 255
channel = 4

[State 0, HitDef]
type = HitDef
fall.yvelocity = -6
trigger1 = AnimElem = 2
attr = S, NA
damage = 35,7
animtype = Light
guardflag = MA
hitflag = MAF
priority = cond(var(0) < 2, 3, 1)
pausetime = 0, 5
sparkno = 0+random%4
sparkxy = -15, -47*0.85
hitsound = 35, 0+random%15;5, 21+random%5
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -2,-6
airguard.velocity = -2,-6
air.type = High
air.velocity = -2,-6
air.hittime = 12
envshake.time = 10
envshake.freq = 20
envshake.ampl = -5
envshake.phase = 10

[State 0, End]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;-----------------
;Combo 6
[StateDef 251]
type = C
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 251
poweradd = 0
sprpriority = 2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F8,0+random%4
volume = 255
channel = 8

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F17,0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = S3,5+random%2
volume = 255
channel = 3

[State 0, Helper]
type = Helper
trigger1 = animelem = 3
helpertype = normal;player
name = "Klon"
ID = 200
stateno = 252
pos = 60*0.85,0
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1
size.xscale = 0.85
size.yscale = 0.85

[State 0, End]
type = ChangeState
trigger1 = time > 10 && numhelper(200) = 0
value = 0
ctrl = 1
;-----------------
;Combo 6
[StateDef 252]
type = C
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 252
poweradd = 0
sprpriority = 2

[State 0, VelSet]
type = VelSet
trigger1 = animelem = 4
x = 2
y = -7

[State 0, StateTypeSet]
type = StateTypeSet
trigger1 = animelem = 4
statetype = A
movetype = A
physics = A

[State 1533,excplod ]
type = Explod
ownpal = 1
trigger1 = animelem = 2
anim = F540
ID = 6074
postype = p1
pos = 0,0
bindtime = 1
sprpriority = 3
ownpal = 1
ontop = 0
pausemovetime = 9999
removetime = -2
scale = 1.5,1.5

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F15,2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F15,4

[State 0, Explod]
type = Explod
trigger1 = animelem = 2
anim = F550
pos = 0,0
scale = 0.8,0.8
postype = p1
facing = 1
bindtime = 1
removetime = -2
sprpriority = 5

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time > 3 && time < 13 && time%2
anim = F591
ID = 591
pos = -20+random%40,0-random%20
vel = -1+random%3,-2
accel = 0,0.05
angle = random
postype = p1
bindtime = 1
removetime = -2
supermovetime = 9999
pausemovetime = 9999
scale = 1,1
sprpriority = 4
ownpal = 1
ontop = 0

[State 1533,excplod ]
type = Explod
ownpal = 1
trigger1 = animelem = 2
anim = F1190
ID = 6074
postype = p1
pos = 0,0
bindtime = 1
sprpriority = 4
ownpal = 1
ontop = 0
pausemovetime = 9999
removetime = 57

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 4
value = F8,0+random%4
volume = 255
channel = 8

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 4
value = S1,0+random%7
volume = 255
channel = 4

[State 0, HitDef]
type = HitDef
fall.yvelocity = -6
trigger1 = !time
attr = S, NA
damage = 40,8
animtype = Light
guardflag = MA
hitflag = MAF
priority = cond(var(0) < 2, 3, 1)
pausetime = 0, 5
sparkno = 0+random%4
sparkxy = -15, -35*0.85
hitsound = 35, 0+random%15;5, 21+random%5
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -1,-8
airguard.velocity = -1,-8
air.type = High
air.velocity = -1,-8
air.hittime = 12
envshake.time = 20
envshake.freq = 25
envshake.ampl = -6
envshake.phase = 10
fall = 1

[State 0, End]
type = ChangeState
trigger1 = animtime = 0
value = 50
ctrl = 1
;-----------------
;Combo 6
[StateDef 253]
type = C
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 253
poweradd = 0
sprpriority = 2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = S4,0+random%16

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F3

[State 0, Explod]
type = Explod
trigger1 = animelem = 2
anim = F360
pos = 0,0
scale = 1,1
postype = p1
facing = 1
bindtime = 1
removetime = -2
sprpriority = 3
ownpal = 1

[State 0, VelSet]
type = VelSet
trigger1 = animelem = 2
x = const(velocity.jump.fwd.x)/2
y = const(velocity.jump.y)-1

[State 0, StateTypeSet]
type = StateTypeSet
trigger1 = animelem = 2
statetype = A
movetype = A
physics = A

[State 0, End]
type = ChangeState
trigger1 = AnimTime = 0
value = 50
ctrl = 1

[State 0, End]
type = ChangeState
trigger1 = time > 10
trigger1 = p2bodydist y = [-50,0]
trigger1 = p2bodydist x = [0,60]
value = 254
ctrl = 1
;-----------------
;Combo 6
[StateDef 254]
type = A
movetype= A
physics = A
juggle  = 1
velset = 3,-4
ctrl = 0
anim = 254
poweradd = 20
sprpriority = 2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = F8,0+random%4
volume = 255
channel = 8

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 4
value = S4,0+random%16
volume = 255
channel = 4

[State 0, HitDef]
type = HitDef
fall.yvelocity = -6
trigger1 = !time
attr = S, NA
damage = 35,7
animtype = Light
guardflag = MA
hitflag = MAF
priority = cond(var(0) < 2, 3, 1)
pausetime = 0, 5
sparkno = 0+random%4
sparkxy = -15, -38*0.85
hitsound = 35, 0+random%15;5, 21+random%5
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -2,-1
airguard.velocity = -2,-.8
air.type = High
air.velocity = -2,-1
air.hittime = 12
envshake.time = 10
envshake.freq = 20
envshake.ampl = -5
envshake.phase = 10

[State 0, End]
type = ChangeState
trigger1 = AnimTime = 0
value = 50
ctrl = 1
;-----------------
;Combo 6
[StateDef 255]
type = A
movetype= A
physics = A
juggle  = 1
velset = 2,-3
ctrl = 0
anim = 255
poweradd = 20
sprpriority = 2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = F8,0+random%4
volume = 255
channel = 8

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 4
value = S4,0+random%16
volume = 255
channel = 4

[State 0, HitDef]
type = HitDef
fall.yvelocity = -6
trigger1 = AnimElem = 4
attr = S, NA
damage = 35,7
animtype = Light
guardflag = MA
hitflag = MAF
priority = cond(var(0) < 2, 3, 1)
pausetime = 0, 5
sparkno = 0+random%4
sparkxy = -15, -28*0.85
hitsound = 35, 0+random%15;5, 21+random%5
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -2,-2
airguard.velocity = -2,-2
air.type = High
air.velocity = -2,-2
air.hittime = 12
envshake.time = 10
envshake.freq = 20
envshake.ampl = -5
envshake.phase = 10

[State 0, End]
type = ChangeState
trigger1 = AnimTime = 0
value = 50
ctrl = 1
;-----------------
;Combo 6
[StateDef 256]
type = A
movetype= A
physics = A
juggle  = 1
velset = 3,-2
ctrl = 0
anim = 256
poweradd = 20
sprpriority = 2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = F8,0+random%4
volume = 255
channel = 8

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 4
value = S4,0+random%16
volume = 255
channel = 4

[State 0, HitDef]
type = HitDef
fall.yvelocity = -6
trigger1 = AnimElem = 3
attr = S, NA
damage = 35,7
animtype = Light
guardflag = MA
hitflag = MAF
priority = cond(var(0) < 2, 3, 1)
pausetime = 0, 5
sparkno = 0+random%4
sparkxy = -15, -25*0.85
hitsound = 35, 0+random%15;5, 21+random%5
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -4,6
airguard.velocity = -4,6
air.type = High
air.velocity = -4,6
air.hittime = 12
envshake.time = 20
envshake.freq = 25
envshake.ampl = -6
envshake.phase = 10
fall = 1

[State 0, End]
type = ChangeState
trigger1 = AnimTime = 0
value = 50
ctrl = 1
;-----------------
;Combo 6 Rasengan
[StateDef 257]
type = A
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 257
poweradd = 0
sprpriority = 2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F8,0+random%4
volume = 255
channel = 8

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F17,0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
value = S3,5+random%2
volume = 255
channel = 3

[State 0, Helper]
type = Helper
trigger1 = animelem = 3
helpertype = normal;player
name = "Klon"
ID = 200
stateno = 274
pos = 35*0.85,27*0.85
size.xscale = 0.85
size.yscale = 0.85
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1

[State 0, End]
type = ChangeState
trigger1 = time = 25
value = 50
ctrl = 1
;-----------------
;Combo 7
[StateDef 260]
type = S
movetype= A
physics = S
juggle  = 1
velset = 6,0
ctrl = 0
anim = 260
poweradd = 20
sprpriority = 2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F8,0+random%4
volume = 255
channel = 8

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = S4,0+random%16
volume = 255
channel = 4

[State 0, HitDef]
type = HitDef
fall.yvelocity = -6
trigger1 = AnimElem = 2
attr = S, NA
damage = 35,7
animtype = Light
guardflag = MA
hitflag = MAF
priority = cond(var(0) < 2, 3, 1)
pausetime = 0, 5
sparkno = 0+random%4
sparkxy = -15, -41*0.85
hitsound = 35, 0+random%15;5, 21+random%5
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -2,-1
airguard.velocity = -2,-.8
air.type = High
air.velocity = -2,-1
air.hittime = 12
envshake.time = 20
envshake.freq = 25
envshake.ampl = -6
envshake.phase = 10

[State 0, End]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;-----------------
;Combo 7
[StateDef 261]
type = S
movetype= A
physics = S
juggle  = 1
velset = 5,0
ctrl = 0
anim = 261
poweradd = 20
sprpriority = 2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 4
value = F8,0+random%4
volume = 255
channel = 8

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 5
value = S4,0+random%16
volume = 255
channel = 4

[State 0, HitDef]
type = HitDef
fall.yvelocity = -6
trigger1 = AnimElem = 4
attr = S, NA
damage = 35,7
animtype = Light
guardflag = MA
hitflag = MAF
priority = cond(var(0) < 2, 3, 1)
pausetime = 0, 5
sparkno = 0+random%4
sparkxy = -15, -15*0.85
hitsound = 35, 0+random%15;5, 21+random%5
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -2,-2
airguard.velocity = -2,-2
air.type = High
air.velocity = -2,-2
air.hittime = 12
envshake.time = 10
envshake.freq = 20
envshake.ampl = -5
envshake.phase = 10

[State 0, End]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;-----------------
;Combo 7
[StateDef 262]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 262
poweradd = 0
sprpriority = 2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F8,0+random%4
volume = 255
channel = 8

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F17,0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = S3,5+random%2
volume = 255
channel = 3

[State 0, Helper]
type = Helper
trigger1 = animelem = 3
helpertype = normal;player
name = "Klon"
ID = 200
stateno = 263
pos = 20*0.85,0
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1
size.xscale = 0.85
size.yscale = 0.85

[State 0, End]
type = ChangeState
trigger1 = time > 10 && numhelper(200) = 0
value = 0
ctrl = 1
;-----------------
;Combo 7
[StateDef 263]
type = S
movetype= A
physics = S
juggle  = 1
velset = 4,0
ctrl = 0
anim = 263
poweradd = 20
sprpriority = 2

[State 0, Prawa]
type = Explod
trigger1 = time = 0
anim = F696
ownpal = 1
ID = 900
pos = 10+random%10,-30-random%20
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
supermovetime = 9999
pausemovetime = 9999
vel = 0+random%2,-1-random%3
scale = 0.6,0.6
sprpriority = 5
ontop = 0

[State 0, Srodek]
type = Explod
trigger1 = time = 0
anim = F696
ownpal = 1
ID = 900
pos = -5+random%10,-20-random%10
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
supermovetime = 9999
pausemovetime = 9999
vel = -1+random%3,-1-random%2
scale = 1,1
sprpriority = 5
ontop = 0

[State 0, Lewa]
type = Explod
trigger1 = time = 0
anim = F696
ownpal = 1
ID = 900
pos = -10-random%10,-30-random%20
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
supermovetime = 9999
pausemovetime = 9999
vel = 0-random%2,-1-random%3
scale = 0.6,0.6
sprpriority = 5
ontop = 0

[State 0, HitOverride]
type = HitOverride
trigger1 = 1
attr = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
stateno = 199
time = 10

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = F9,0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = F9,2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F8,0+random%4
volume = 255
channel = 8

[State 0, HitDef]
type = HitDef
fall.yvelocity = -6
trigger1 = AnimElem = 3
attr = S, NA
damage = 35,7
animtype = Light
guardflag = MA
hitflag = MAF
priority = cond(var(0) < 2, 3, 1)
pausetime = 0, 5
sparkno = 0+random%4
sparkxy = -15, -45*0.85
hitsound = 35, 0+random%15;5, 21+random%5
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -2
airguard.velocity = -2,-.8
air.type = High
air.velocity = -2,-2
air.hittime = 12
envshake.time = 10
envshake.freq = 20
envshake.ampl = -5
envshake.phase = 10

[State 0, End]
type = ChangeState
trigger1 = AnimTime = 0
value = 199
ctrl = 1

;Combo 7
[State -1, Combo 7.6]
type = ChangeState
value = 265
;PLAYER
trigger1 = root, command = "x"
trigger1 = root, var(50) = 0
;AI RANDOM
trigger2 = p2dist x = [0,100]
trigger2 = p2dist y = [-50,100]
trigger2 = random = [220,225+root, var(49)*(root, var(49)/10)+10+root, var(48)/40]
trigger2 = root, var(50) = 1
trigger2 = p2stateno != [5110,5150]
;WARUNEK
triggerall = time > 9 && parent, stateno = 264 && parent, time > 3 && parent, movecontact
;-----------------
;Combo 7
[StateDef 264]
type = S
movetype= A
physics = S
juggle  = 1
velset = 10,0
ctrl = 0
anim = 264
poweradd = 20
sprpriority = 2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = F8,0+random%4
volume = 255
channel = 8

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 4
value = S4,0+random%16
volume = 255
channel = 4

[State 0, HitDef]
type = HitDef
fall.yvelocity = -6
trigger1 = AnimElem = 2
attr = S, NA
damage = 35,7
animtype = Light
guardflag = MA
hitflag = MAF
priority = cond(var(0) < 2, 3, 1)
pausetime = 0, 5
sparkno = 0+random%4
sparkxy = -15, -47*0.85
hitsound = 35, 0+random%15;5, 21+random%5
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -5,-2
airguard.velocity = -5,-2
air.type = High
air.velocity = -5,-2
air.hittime = 12
envshake.time = 20
envshake.freq = 25
envshake.ampl = -6
envshake.phase = 10

[State 0, End]
type = ChangeState
trigger1 = time > 10 && numhelper(200) = 0
value = 0
ctrl = 1
;-----------------
;Combo 7
[StateDef 265]
type = S
movetype = A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 265
poweradd = 20
sprpriority = 2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
trigger2 = animelem = 4
trigger3 = animelem = 5
triggerall = anim = 265
value = S6,0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
value = F3

[State 0, Explod]
type = Explod
trigger1 = animelem = 1
anim = F360
pos = 0,0
scale = 1,1
postype = p1
facing = 1
bindtime = 1
removetime = -2
sprpriority = 3
ownpal = 1

[State 0, VelSet]
type = VelSet
trigger1 = animelem = 1
y = -5

[State 0, VelSet]
type = VelSet
trigger1 = time > 0 && pos y < 0
x = 4

[State 0, Gravity]
type = Gravity
trigger1 = time > 0 && pos y < 0

[State 0, ChangeAnim]
type = ChangeAnim
trigger1 = time > 0 && pos y >= 0
triggerall = anim = 265
value = 2251

[State 0, PosSet]
type = PosSet
trigger1 = time > 0 && pos y >= 0
y = 0

[State 0, VelSet]
type = VelSet
trigger1 = time > 0 && pos y >= 0
x = 0
y = 0

[State 0, StateTypeSet]
type = StateTypeSet
trigger1 = time > 0 && pos y >= 0
statetype = S
movetype = A
physics = S

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time > 0 && pos y >= 0
persistent = 0
value = F4

[State 0, Explod]
type = Explod
trigger1 = time > 0 && pos y >= 0
persistent = 0
anim = F290
ID = 23
pos = -1,3
postype = p1  ;p2,front,back,left,right
scale = 1.8,1.5
sprpriority = 2
ontop = 0
ownpal = 1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 7
value = F8,0+random%4
volume = 255
channel = 8

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 8
value = S4,0+random%16
volume = 255
channel = 4

[State 0, HitDef]
type = HitDef
fall.yvelocity = -7
trigger1 = !time
attr = S, NA
damage = 40,8
animtype = Light
guardflag = MA
hitflag = MAF
priority = cond(var(0) < 2, 3, 1)
pausetime = 0, 5
sparkno = 0+random%4
sparkxy = -15, -15*0.85
hitsound = 35, 0+random%15;5, 21+random%5
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -2,6
airguard.velocity = -2,6
air.type = High
air.velocity = -3,6
air.hittime = 12
envshake.time = 10
envshake.freq = 20
envshake.ampl = -5
envshake.phase = 10
fall = 1

[State 0, End]
type = ChangeState
trigger1 = anim = 2251 && AnimTime = 0
value = 199
ctrl = 1
;-----------------
;Combo 7
[StateDef 266]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 266
poweradd = 0
sprpriority = 2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F8,0+random%4
volume = 255
channel = 8

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F17,0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = S1,0+random%7
volume = 255
channel = 3

[State 0, Helper]
type = Helper
trigger1 = animelem = 3
helpertype = normal;player
name = "Klon"
ID = 200
stateno = 267
pos = 20*0.85,0
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1
size.xscale = 0.85
size.yscale = 0.85

[State 0, End]
type = ChangeState
trigger1 = time > 10 && numhelper(200) = 0
value = 0
ctrl = 1
;-----------------
;Combo 7
[StateDef 267]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 267
poweradd = 20
sprpriority = 2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
value = F3

[State 0, Explod]
type = Explod
trigger1 = animelem = 1
anim = F360
pos = 0,0
scale = 1,1
postype = p1
facing = 1
bindtime = 1
removetime = -2
sprpriority = 3
ownpal = 1

[State 0, VelSet]
type = VelSet
trigger1 = animelem = 2
y = -4

[State 0, VelSet]
type = VelSet
trigger1 = time > 3 && pos y < 0
x = 7

[State 0, Gravity]
type = Gravity
trigger1 = time > 3 && pos y < 0

[State 0, ChangeAnim]
type = ChangeAnim
trigger1 = time > 3 && pos y >= 0
triggerall = anim = 267
value = 2221

[State 0, VelSet]
type = VelSet
trigger1 = anim = 2221 && time < 10
x = 4

[State 0, PosSet]
type = PosSet
trigger1 = time > 6 && pos y >= 0
y = 0

[State 0, VelSet]
type = VelSet
trigger1 = time > 3 && pos y >= 0
x = 0
y = 0

[State 0, StateTypeSet]
type = StateTypeSet
trigger1 = time > 3 && pos y >= 0
statetype = S
movetype = A
physics = S

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time > 3 && pos y >= 0
persistent = 0
value = F4

[State 0, Explod]
type = Explod
trigger1 = time > 3 && pos y >= 0
persistent = 0
anim = F290
ID = 23
pos = -1,3
postype = p1  ;p2,front,back,left,right
scale = 1.8,1.5
sprpriority = 2
ontop = 0
ownpal = 1

[State 0, Prawa]
type = Explod
trigger1 = time = 0
anim = F696
ownpal = 1
ID = 900
pos = 10+random%10,-30-random%20
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
supermovetime = 9999
pausemovetime = 9999
vel = 0+random%2,-1-random%3
scale = 0.6,0.6
sprpriority = 5
ontop = 0

[State 0, Srodek]
type = Explod
trigger1 = time = 0
anim = F696
ownpal = 1
ID = 900
pos = -5+random%10,-20-random%10
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
supermovetime = 9999
pausemovetime = 9999
vel = -1+random%3,-1-random%2
scale = 1,1
sprpriority = 5
ontop = 0

[State 0, Lewa]
type = Explod
trigger1 = time = 0
anim = F696
ownpal = 1
ID = 900
pos = -10-random%10,-30-random%20
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
supermovetime = 9999
pausemovetime = 9999
vel = 0-random%2,-1-random%3
scale = 0.6,0.6
sprpriority = 5
ontop = 0

[State 0, HitOverride]
type = HitOverride
trigger1 = 1
attr = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
stateno = 199
time = 10

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = F9,0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = F9,2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F8,0+random%4
volume = 255
channel = 8

[State 0, PlayerPush]
type = PlayerPush
trigger1 = 1
value = 0

[State 0, HitDef]
type = HitDef
fall.yvelocity = -6
trigger1 = AnimElem = 2
attr = S, NA
damage = 35,7
animtype = Light
guardflag = MA
hitflag = MAF
priority = cond(var(0) < 2, 3, 1)
pausetime = 0, 5
sparkno = 0+random%4
sparkxy = -15, -30*0.85
hitsound = 35, 0+random%15;5, 21+random%5
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -3,0
airguard.velocity = -3,0
air.type = High
air.velocity = -3,0
air.hittime = 12
envshake.time = 10
envshake.freq = 20
envshake.ampl = -5
envshake.phase = 10

[State 0, End]
type = ChangeState
trigger1 = anim = 2221 && AnimTime = 0
value = 268
ctrl = 1
;-----------------
;Combo 7
[StateDef 268]
type = S
movetype= A
physics = S
juggle  = 1
velset = 5,0
ctrl = 0
anim = 268
poweradd = 20
sprpriority = 2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = F8,0+random%4
volume = 255
channel = 8

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 4
value = S4,0+random%16
volume = 255
channel = 4

[State 0, PlayerPush]
type = PlayerPush
trigger1 = 1
value = 0

[State 0, TargetBind]
type = TargetBind
trigger1 = AnimElem = 3
time = 10
pos = 22*0.85,5*0.85

[State 0, TargetDrop]
type = TargetDrop
trigger1 = AnimElem = 4
excludeID = -1
keepone = 1

[State 0, HitDef]
type = HitDef
fall.yvelocity = -6
trigger1 = AnimElem = 3
attr = S, NA
damage = 35,7
animtype = Light
guardflag = MA
hitflag = MAF
priority = cond(var(0) < 2, 3, 1)
pausetime = 0, 10
sparkno = 0+random%4
sparkxy = -15, -35*0.85
hitsound = 35, 0+random%15;5, 21+random%5
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = 3,-7
airguard.velocity = 3,-7
air.type = High
air.velocity = 3,-7
air.hittime = 12
envshake.time = 20
envshake.freq = 25
envshake.ampl = -6
envshake.phase = 10
fall = 1

[State 0, End]
type = ChangeState
trigger1 = AnimTime = 0
value = 199
ctrl = 1
;-----------------
;Combo 8
[StateDef 270]
type = A
movetype= A
physics = A
juggle  = 1
ctrl = 0
anim = 270
poweradd = 20
sprpriority = 2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F8,0+random%4
volume = 255
channel = 8

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = S4,0+random%16
volume = 255
channel = 4

[State 0, HitDef]
type = HitDef
fall.yvelocity = -6
trigger1 = !time
attr = S, NA
damage = 35,7
animtype = Light
guardflag = MA
hitflag = MAF
priority = cond(var(0) < 2, 3, 1)
pausetime = 0, 5
sparkno = 0+random%4
sparkxy = -15, -34*0.85
hitsound = 35, 0+random%15;5, 21+random%5
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -2,-1
airguard.velocity = -2,-1
air.type = High
air.velocity = -2,-1
air.hittime = 12
envshake.time = 10
envshake.freq = 20
envshake.ampl = -5
envshake.phase = 10

[State 0, End]
type = ChangeState
trigger1 = AnimTime = 0
value = 50
ctrl = 1
;-----------------
;Combo 8
[StateDef 271]
type = A
movetype= A
physics = A
juggle  = 1
velset = 3,-1
ctrl = 0
anim = 271
poweradd = 20
sprpriority = 2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F8,0+random%4
volume = 255
channel = 8

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = S4,0+random%16
volume = 255
channel = 4

[State 0, HitDef]
type = HitDef
fall.yvelocity = -6
trigger1 = !time
attr = S, NA
damage = 35,7
animtype = Light
guardflag = MA
hitflag = MAF
priority = cond(var(0) < 2, 3, 1)
pausetime = 0, 5
sparkno = 0+random%4
sparkxy = -15, -50*0.85
hitsound = 35, 0+random%15;5, 21+random%5
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -2,-1
airguard.velocity = -2,-1
air.type = High
air.velocity = -2,-1
air.hittime = 12
envshake.time = 10
envshake.freq = 20
envshake.ampl = -5
envshake.phase = 10

[State 0, End]
type = ChangeState
trigger1 = AnimTime = 0
value = 50
ctrl = 1
;-----------------
;Combo 8
[StateDef 272]
type = A
movetype= A
physics = A
juggle  = 1
velset = 3,-1
ctrl = 0
anim = 272
poweradd = 20
sprpriority = 2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = F8,0+random%4
volume = 255
channel = 8

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 4
value = S4,0+random%16
volume = 255
channel = 4

[State 0, HitDef]
type = HitDef
fall.yvelocity = -6
trigger1 = animelem = 4
attr = S, NA
damage = 35,7
animtype = Light
guardflag = MA
hitflag = MAF
priority = cond(var(0) < 2, 3, 1)
pausetime = 0, 5
sparkno = 0+random%4
sparkxy = -15, -35*0.85
hitsound = 35, 0+random%15;5, 21+random%5
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -3,-2
airguard.velocity = -3,-2
air.type = High
air.velocity = -3,-2
air.hittime = 12
envshake.time = 10
envshake.freq = 20
envshake.ampl = -5
envshake.phase = 10

[State 0, End]
type = ChangeState
trigger1 = AnimTime = 0
value = 50
ctrl = 1
;-----------------
;Combo 8
[StateDef 273]
type = A
movetype= A
physics = A
juggle  = 1
velset = 3,-1
ctrl = 0
anim = 273
poweradd = 20
sprpriority = 2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = F8,0+random%4
volume = 255
channel = 8

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 4
value = S4,0+random%16
volume = 255
channel = 4

[State 0, HitDef]
type = HitDef
fall.yvelocity = -6
trigger1 = AnimElem = 3
attr = S, NA
damage = 35,7
animtype = Light
guardflag = MA
hitflag = MAF
priority = cond(var(0) < 2, 3, 1)
pausetime = 0, 5
sparkno = 0+random%4
sparkxy = -15, -25*0.85
hitsound = 35, 0+random%15;5, 21+random%5
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -4,6
airguard.velocity = -4,6
air.type = High
air.velocity = -4,6
air.hittime = 12
envshake.time = 20
envshake.freq = 25
envshake.ampl = -6
envshake.phase = 10
fall = 1

[State 0, End]
type = ChangeState
trigger1 = AnimTime = 0
value = 50
ctrl = 1
;----------------------------------------------------------------------
;Combo 8 Rasengan
[StateDef 274]
type = A
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 940+var(0)*10000
poweradd = 0
sprpriority = cond(var(0) < 2,2,1)

[State 0, Prawa]
type = Explod
trigger1 = time = 0
triggerall = ishelper(200)
anim = F696
ownpal = 1
ID = 900
pos = 10+random%10,-30-random%20
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
supermovetime = 9999
pausemovetime = 9999
vel = 0+random%2,-1-random%3
scale = 0.6,0.6
sprpriority = 5
ontop = 0

[State 0, Srodek]
type = Explod
trigger1 = time = 0
triggerall = ishelper(200)
anim = F696
ownpal = 1
ID = 900
pos = -5+random%10,-20-random%10
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
supermovetime = 9999
pausemovetime = 9999
vel = -1+random%3,-1-random%2
scale = 1,1
sprpriority = 5
ontop = 0

[State 0, Lewa]
type = Explod
trigger1 = time = 0
triggerall = ishelper(200)
anim = F696
ownpal = 1
ID = 900
pos = -10-random%10,-30-random%20
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
supermovetime = 9999
pausemovetime = 9999
vel = 0-random%2,-1-random%3
scale = 0.6,0.6
sprpriority = 5
ontop = 0

[State 0, HitOverride]
type = HitOverride
trigger1 = 1
triggerall = ishelper(200)
attr = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
stateno = 199
time = 10

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
triggerall = ishelper(200)
value = F9,0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
triggerall = ishelper(200)
value = F9,2

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 257
triggerall = ishelper(200)
time = 1
pos = 35*0.85,27*0.85

[State 0, Turn]
type = Turn
trigger1 = p2bodydist x < -20
trigger1 = time%5

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
value = F8,0+random%4
volume = 255
channel = 8

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0 && var(0) < 2
value = S3,5+random%2
volume = 255
channel = 4

[State 0, VarSet]
type = VarSet
trigger1 = time = 0
v = 6
value = 0

[State 0, VarSet]
type = VarSet
trigger1 = time > 5 && time < 15
v = 6
value = 10+(time-5)*2;0.5

[State 0, VarSet]
type = VarSet
trigger1 = time = 15
v = 6
value = 30

[State 0, Helper]
type = Helper
trigger1 = time = 5
helpertype = normal;player
name = "Rasengan"
ID = 950
stateno = 950
pos = -16*0.85,-66*0.85
size.xscale = 1
size.yscale = 1
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1

[State 0, Helper]
type = Helper
trigger1 = time = 0
triggerall = !ishelper
triggerall = var(0) < 2
helpertype = player
name = "Kage Bunshin"
ID = 50000
stateno = 922
pos = -35*0.85,-27*0.85
size.xscale = 0.85
size.yscale = 0.85
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1

[State 0, End]
type = ChangeState
trigger1 = time = 15
value = 275
;------------------
;Combo 8 Rasengan
[StateDef 275]
type = A
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 944+var(0)*10000
poweradd = 0
sprpriority = cond(var(0) < 2,2,1)

[State 0, HitOverride]
type = HitOverride
trigger1 = 1
triggerall = ishelper(200)
attr = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
stateno = 199
time = 10

[State 0, Turn]
type = Turn
trigger1 = p2bodydist x < -40
trigger1 = time = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = S3,24+random%3

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = S3,24+random%3

[State -3, Rasengan]
type = AfterImage
trigger1 = time = 0 && var(0) < 2
time = -1
length = 7
palcolor = 256
palinvertall = 0
palbright = 0,0,0
palcontrast = 100,160,220
palpostbright = 0,0,0
paladd = 3,4,5
palmul = .20,.50,.60
timegap = 1
framegap = 1
trans = add

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 6
value = F3,1

[State 0, Explod]
type = Explod
trigger1 = time > 6 && timemod = 2,0
anim = F20
ID = 20
pos = -15+random%30,-20-random%30
angle = -45
postype = p1  ;P2,front,back,left,right
scale = 0.8,0.4
vel = -1,-1
sprpriority = 1+random%3
bindtime = 1
ownpal = 1
ontop = 0
supermovetime = 9999
pausemovetime = 9999
trans = add

[State 0, Explod]
type = Explod
trigger1 = time = 6
anim = F280
pos = -20,-50
angle = 225
scale = 1.5,1.5
postype = p1
facing = 1
bindtime = 1
ownpal = 1
removetime = -2
sprpriority = 0
trans = add

[State 0, VelSet]
type=VelSet
trigger1 = time > 6
x = 3*const(velocity.airjump.fwd.x)
y = 3*const(velocity.airjump.fwd.x)

[State 811, end]
type = ChangeState
trigger1 = time = 10
value = 276
ctrl = 1
;------------------
;Combo 8 Rasengan
[StateDef 276]
type = A
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 945+var(0)*10000
poweradd = 0
sprpriority = cond(var(0) < 2,2,1)

[State 0, NotHitBy]
type = NotHitBy
trigger1 = time >= 0
value = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
time = 1

[State 0, VelSet]
type=VelSet
trigger1 = pos y < 0
x = 3*const(velocity.airjump.fwd.x)
y = 3*const(velocity.airjump.fwd.x)

[State 0, VelSet]
type=VelSet
trigger1 = pos y >= 0
x = 0
y = 0

[State 0, VelSet]
type=PosSet
trigger1 = pos y >= 0
y = 0

[State 0, PlayerPush]
type = PlayerPush
trigger1 = 1
value = 0

[State -3, Rasengan]
type = AfterImage
trigger1 = time = 0 && var(0) < 2
time = -1
length = 7
palcolor = 256
palinvertall = 0
palbright = 0,0,0
palcontrast = 100,160,220
palpostbright = 0,0,0
paladd = 3,4,5
palmul = .20,.50,.60
timegap = 1
framegap = 1
trans = add

[State 0, Explod]
type = Explod
trigger1 = timemod = 2,0
anim = F20
ID = 20
pos = -15+random%30,-20-random%30
angle = -45
postype = p1  ;P2,front,back,left,right
scale = 0.8,0.4
vel = -1,-1
sprpriority = 1+random%3
bindtime = 1
ownpal = 1
ontop = 0
supermovetime = 9999
pausemovetime = 9999
trans = add

[State 0, HitDef]
type = HitDef
givepower = 0
getpower = 0
fall.yvelocity = -6
trigger1 = timemod = 3,0
trigger1 = hitcount < 4
attr = S, NA
damage = 35,7
getpower = 0
animtype = Light
guardflag = MA
hitflag = MAF
priority = cond(var(0) < 2, 3, 1)
pausetime = 0, 20
sparkno = 4325235
sparkxy = -15, 0
hitsound = 32, 3536
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -1,5
airguard.velocity = -1,5
air.type = High
air.velocity = -1,5
air.hittime = 12
envshake.time = 30
envshake.freq = 30
envshake.ampl = -7
envshake.phase = 10
fall = 1

[State 0, TargetBind]
type = TargetBind
triggerall = target, ishelper = 0
trigger1 = movehit
trigger1 = hitcount < 5
time = 5
pos = 35*0.85,25*0.85

[State 0, HitDef]
type = HitDef
givepower = 0
getpower = 0
fall.yvelocity = -8
trigger1 = hitcount = 4
hitonce = 1
attr = C, HP
damage = 100,20
animtype = Light
guardflag = MA
hitflag = MAF
priority = cond(var(0) < 2, 3, 1)
pausetime = 0, 20
sparkno = 2001
sparkxy = -15, 0
hitsound = 32, 3536
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -2,10
airguard.velocity = -2,10
air.type = High
air.velocity = -2,10
air.hittime = 12
envshake.time = 30
envshake.freq = 30
envshake.ampl = -7
envshake.phase = 10
p2stateno = 109998

[State 0, Helper]
type = Helper
trigger1 = pos y >= 0
trigger1 = numhelper(947) = 0
helpertype = normal;player
name = "Wybuch"
ID = 947
stateno = 947
pos = 32*0.85,0
size.xscale = 1
size.yscale = 1
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1

[State 0, End]
type = ChangeState
trigger1 = Time = 20
trigger2 = time > 15 && !movehit
value = 277
ctrl = 1
;-----------------
;Combo 8 Rasengan
[StateDef 277]
type = A
movetype = A
physics = S
juggle = 1
velset = 0,0
ctrl = 0
anim = 946+var(0)*10000
poweradd = 0
sprpriority = cond(var(0) < 2,2,1)

[State 0, HitOverride]
type = HitOverride
trigger1 = 1
triggerall = ishelper(200)
attr = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
stateno = 199
time = 10

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
value = S1,0+random%7

[State 0, VelSet]
type=VelSet
trigger1 = time = 0
trigger1 = pos y < 0
x = 1*const(velocity.airjump.fwd.x)
y = 5*const(velocity.airjump.fwd.x)

[State 0, VelSet]
type=VelSet
trigger1 = pos y >= 0
x = 0
y = 0

[State 0, VelSet]
type=PosSet
trigger1 = pos y >= 0
y = 0

[State 0, PlayerPush]
type = PlayerPush
trigger1 = 1
value = 0

[State 0, AfterImage]
type = AfterImage
trigger1 = animtime = 0
time = 1

[State 0, Helper]
type = Helper
trigger1 = time < 5
trigger1 = pos y >= 0
trigger1 = numhelper(947) = 0
helpertype = normal;player
name = "Wybuch"
ID = 947
stateno = 947
pos = 32*0.85,0
size.xscale = 1
size.yscale = 1
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1

[State 811, end]
type = ChangeState
trigger1 = animtime = 0
value = 949
ctrl = 1
;-----------------
;Podrzucenie
[StateDef 280]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 280
poweradd = 0
sprpriority = 2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F8,0+random%4
volume = 255
channel = 8

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F17,0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = S3,5+random%2
volume = 255
channel = 3

[State 0, Helper]
type = Helper
trigger1 = animelem = 3
helpertype = normal;player
name = "Klon"
ID = 200
stateno = 281
pos = 30*0.85,0
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1
size.xscale = 0.85
size.yscale = 0.85

[State 0, End]
type = ChangeState
trigger1 = time > 10 && numhelper(200) = 0
value = 0
ctrl = 1

[State 0, End]
type = ChangeState
trigger1 = time > 10 && helper(200), stateno = 282 && helper(200), movecontact
value = 283
ctrl = 1
;-----------------
;Podrzucenie
[StateDef 281]
type = S
movetype= A
physics = S
juggle  = 1
velset = 8,0
ctrl = 0
anim = 281
poweradd = 20
sprpriority = 2

[State 0, Prawa]
type = Explod
trigger1 = time = 0
anim = F696
ownpal = 1
ID = 900
pos = 10+random%10,-30-random%20
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
supermovetime = 9999
pausemovetime = 9999
vel = 0+random%2,-1-random%3
scale = 0.6,0.6
sprpriority = 5
ontop = 0

[State 0, Srodek]
type = Explod
trigger1 = time = 0
anim = F696
ownpal = 1
ID = 900
pos = -5+random%10,-20-random%10
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
supermovetime = 9999
pausemovetime = 9999
vel = -1+random%3,-1-random%2
scale = 1,1
sprpriority = 5
ontop = 0

[State 0, Lewa]
type = Explod
trigger1 = time = 0
anim = F696
ownpal = 1
ID = 900
pos = -10-random%10,-30-random%20
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
supermovetime = 9999
pausemovetime = 9999
vel = 0-random%2,-1-random%3
scale = 0.6,0.6
sprpriority = 5
ontop = 0

[State 0, HitOverride]
type = HitOverride
trigger1 = 1
attr = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
stateno = 199
time = 10

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = F9,0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = F9,2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F8,0+random%4
volume = 255
channel = 8

[State 0, PlayerPush]
type = PlayerPush
trigger1 = 1
value = 0

[State 0, TargetBind]
type = TargetBind
trigger1 = AnimElem = 3
time = 10
pos = 22*0.85,5*0.85

[State 0, TargetDrop]
type = TargetDrop
trigger1 = AnimElem = 4
excludeID = -1
keepone = 1

[State 0, HitDef]
type = HitDef
fall.yvelocity = -6
trigger1 = AnimElem = 3
attr = S, NA
damage = 35,7
animtype = Light
guardflag = MA
hitflag = MAF
priority = cond(var(0) < 2, 3, 1)
pausetime = 0, 5
sparkno = 0+random%4
sparkxy = -15, -35*0.85
hitsound = 35, 0+random%15;5, 21+random%5
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 20
ground.velocity = 5,0
airguard.velocity = 5,0
air.type = High
air.velocity = 5,0
air.hittime = 20
envshake.time = 20
envshake.freq = 25
envshake.ampl = -6
envshake.phase = 10

[State 0, End]
type = ChangeState
trigger1 = AnimTime = 0 && !movecontact
value = 199
ctrl = 1

[State 0, End]
type = ChangeState
trigger1 = Time >= 25 && movecontact
value = 282
ctrl = 1
;-----------------
;Podrzucenie
[StateDef 282]
type = S
movetype= A
physics = S
juggle  = 1
velset = -2,0
ctrl = 0
anim = 282
poweradd = 20
sprpriority = 2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 4
value = F3

[State 0, Explod]
type = Explod
trigger1 = animelem = 4
anim = F360
pos = 0,0
scale = 1,1
postype = p1
facing = 1
bindtime = 1
removetime = -2
sprpriority = 3
ownpal = 1

[State 0, VelSet]
type = VelSet
trigger1 = animelem = 4
x = -2
y = -7

[State 0, StateTypeSet]
type = StateTypeSet
trigger1 = animelem = 4
statetype = A
movetype = A
physics = A

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = F8,0+random%4
volume = 255
channel = 8

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 4
value = S4,0+random%16
volume = 255
channel = 4

[State 0, HitDef]
type = HitDef
fall.yvelocity = -6
trigger1 = !time
attr = S, NA
damage = 35,7
animtype = Light
guardflag = MA
hitflag = MAF
priority = cond(var(0) < 2, 3, 1)
pausetime = 0, 0
sparkno = 0+random%4
sparkxy = -15, -70*0.85
hitsound = 35, 0+random%15;5, 21+random%5
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -1,-9
airguard.velocity = -1,-9
air.type = High
air.velocity = -1,-9
air.hittime = 12
envshake.time = 20
envshake.freq = 25
envshake.ampl = -6
envshake.phase = 10
fall = 1

[State 0, End]
type = ChangeState
trigger1 = AnimTime = 0
value = 50
ctrl = 1
;-----------------
;Podrzucenie
[StateDef 283]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 283
poweradd = 0
sprpriority = 2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = S4,0+random%16

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F3

[State 0, Explod]
type = Explod
trigger1 = animelem = 2
anim = F360
pos = 0,0
scale = 1,1
postype = p1
facing = 1
bindtime = 1
removetime = -2
sprpriority = 3
ownpal = 1

[State 0, VelSet]
type = VelSet
trigger1 = animelem = 2
x = p2bodydist x/10
y = const(velocity.jump.y)-1

[State 0, StateTypeSet]
type = StateTypeSet
trigger1 = animelem = 2
statetype = A
movetype = A
physics = A

[State 0, End]
type = ChangeState
trigger1 = AnimTime = 0
value = 50
ctrl = 1

[State 0, End]
type = ChangeState
trigger1 = time > 10
trigger1 = p2bodydist y = [-50,0]
trigger1 = p2bodydist x = [0,60]
value = 284
ctrl = 1
;-----------------
;Podrzucenie
[StateDef 284]
type = A
movetype= A
physics = A
juggle  = 1
velset = 3,-4
ctrl = 0
anim = 284
poweradd = 20
sprpriority = 2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = F8,0+random%4
volume = 255
channel = 8

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 4
value = S4,0+random%16
volume = 255
channel = 4

[State 0, HitDef]
type = HitDef
fall.yvelocity = -6
trigger1 = !time
attr = S, NA
damage = 50,10
animtype = Light
guardflag = MA
hitflag = MAF
priority = cond(var(0) < 2, 3, 1)
pausetime = 0, 0
sparkno = 0+random%4
sparkxy = -15, -15*0.85
hitsound = 35, 0+random%15;5, 21+random%5
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -3,8
airguard.velocity = -2,7
air.type = High
air.velocity = -3,8
air.hittime = 12
envshake.time = 20
envshake.freq = 25
envshake.ampl = -6
envshake.phase = 10
fall = 1

[State 0, End]
type = ChangeState
trigger1 = AnimTime = 0
value = 50
ctrl = 1
;-----------------
;Throw Combo
[StateDef 285]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 285
poweradd = 0
sprpriority = 2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F8,0+random%4
volume = 255
channel = 8

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = S3,5+random%2
volume = 255
channel = 3

[State 0, Helper]
type = Helper
trigger1 = animelem = 1
helpertype = normal;player
name = "Klon"
ID = 200
stateno = 288
pos = -9*0.85,-11*0.85
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1
size.xscale = 0.85
size.yscale = 0.85

[State 0, End]
type = ChangeState
trigger1 = animtime = 0
value = 0
ctrl = 1
;-----------------
;Throw Combo
[StateDef 286]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 286
poweradd = 0
sprpriority = 2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F8,0+random%4
volume = 255
channel = 8

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = S4,0+random%16
volume = 255
channel = 3

[State 0, Helper]
type = Helper
trigger1 = animelem = 1
helpertype = normal;player
name = "Klon"
ID = 200
stateno = 288
pos = -17*0.85,-11*0.85
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1
size.xscale = 0.85
size.yscale = 0.85

[State 0, End]
type = ChangeState
trigger1 = animtime = 0
value = 0
ctrl = 1
;-----------------
;Throw Combo
[StateDef 287]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 287
poweradd = 0
sprpriority = 2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F8,0+random%4
volume = 255
channel = 8

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F17,0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = S1,0+random%7
volume = 255
channel = 3

[State 0, Helper]
type = Helper
trigger1 = time = 5 || time = 10 || time = 15 || time = 20 || time = 25 || time = 30
helpertype = normal;player
name = "Klon"
ID = 200
stateno = 289
pos = -40+random%50,-15-random%40
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1
size.xscale = 0.85
size.yscale = 0.85

[State 0, End]
type = ChangeState
trigger1 = time = 40
value = 0
ctrl = 1
;-----------------
;Throw Combo
[StateDef 288]
type = A
movetype = A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 288
poweradd = 20
sprpriority = 2

[State 0, BindToParent]
type = BindToParent
trigger1 = time < 10
triggerall = parent, stateno = 285
time = 1
pos = -9*0.85,-11*0.85

[State 0, SprPriority]
type = SprPriority
trigger1 = time <= 10
triggerall = parent, stateno = 285
value = -2

[State 0, BindToParent]
type = BindToParent
trigger1 = time < 10
triggerall = parent, stateno = 286
time = 1
pos = -17*0.85,-11*0.85

[State 0, SprPriority]
type = SprPriority
trigger1 = time > 10
value = 2

[State 0, AngleDraw]
type = AngleDraw
trigger1 = time = 10
value = 25

[State 0, AngleDraw]
type = AngleDraw
trigger1 = time > 10 && pos y < 0
value = 25-atan(vel y/vel x)*180/PI 

[State 0, AngleDraw]
type = AngleDraw
trigger1 = time > 10 && pos y >= 0
value = 0

[State 0, PosAdd]
type = PosAdd
trigger1 = time = 11
y = -30

[State 0, Prawa]
type = Explod
trigger1 = time = 0
anim = F696
ownpal = 1
ID = 900
pos = 10+random%10,-30-random%20
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
supermovetime = 9999
pausemovetime = 9999
vel = 0+random%2,-1-random%3
scale = 0.6,0.6
sprpriority = 5
ontop = 0

[State 0, Srodek]
type = Explod
trigger1 = time = 0
anim = F696
ownpal = 1
ID = 900
pos = -5+random%10,-20-random%10
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
supermovetime = 9999
pausemovetime = 9999
vel = -1+random%3,-1-random%2
scale = 1,1
sprpriority = 5
ontop = 0

[State 0, Lewa]
type = Explod
trigger1 = time = 0
anim = F696
ownpal = 1
ID = 900
pos = -10-random%10,-30-random%20
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
supermovetime = 9999
pausemovetime = 9999
vel = 0-random%2,-1-random%3
scale = 0.6,0.6
sprpriority = 5
ontop = 0

[State 0, HitOverride]
type = HitOverride
trigger1 = 1
attr = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
stateno = 199
time = 10

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = F9,0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = F9,2

[State 0, VelSet]
type = VelSet
trigger1 = animelem = 2
y = -3

[State 0, VelSet]
type = VelSet
trigger1 = time > 10 && pos y < 0
x = 9

[State 0, Gravity]
type = Gravity
trigger1 = time > 10 && pos y < 0

[State 0, PosSet]
type = PosSet
trigger1 = time > 10 && pos y >= 0
y = 0

[State 0, VelSet]
type = VelSet
trigger1 = time > 10 && pos y >= 0
x = 0
y = 0

[State 0, StateTypeSet]
type = StateTypeSet
trigger1 = time > 10 && pos y >= 0
statetype = S
movetype = A
physics = S

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F14,5
volume = 255
channel = 8

[State 0, PlayerPush]
type = PlayerPush
trigger1 = 1
value = 0

[State 0, HitDef]
type = HitDef
fall.yvelocity = -6
trigger1 = !time
attr = S, NA
damage = 35,7
animtype = Light
guardflag = MA
hitflag = MAF
priority = cond(var(0) < 2, 3, 1)
pausetime = 0, 5
sparkno = 0+random%4
sparkxy = -15, 0
hitsound = 35, 0+random%15;5, 21+random%5
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -5,-2
airguard.velocity = -5,-2
air.type = High
air.velocity = -5,-2
air.hittime = 12
envshake.time = 30
envshake.freq = 30
envshake.ampl = -7
envshake.phase = 10

[State 0, End]
type = ChangeState
trigger1 = frontedgebodydist < -50
value = 199
ctrl = 1

[State 0, End]
type = ChangeState
trigger1 = pos y >= 0 && time > 10
value = 52
ctrl = 1
;-----------------
;Throw Combo
[StateDef 289]
type = A
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 289
poweradd = 0
sprpriority = 2

[State 0, AngleDraw]
type = AngleDraw
trigger1 = pos y < 0
value = 25-atan(vel y/vel x)*180/PI 

[State 0, AngleDraw]
type = AngleDraw
trigger1 = pos y >= 0
value = 0

[State 0, Prawa]
type = Explod
trigger1 = time = 0
anim = F696
ownpal = 1
ID = 900
pos = 10+random%10,10-random%20
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
supermovetime = 9999
pausemovetime = 9999
vel = 0+random%2,-1-random%3
scale = 0.6,0.6
sprpriority = 5
ontop = 0

[State 0, Srodek]
type = Explod
trigger1 = time = 0
anim = F696
ownpal = 1
ID = 900
pos = -5+random%10,5-random%10
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
supermovetime = 9999
pausemovetime = 9999
vel = -1+random%3,-1-random%2
scale = 1,1
sprpriority = 5
ontop = 0

[State 0, Lewa]
type = Explod
trigger1 = time = 0
anim = F696
ownpal = 1
ID = 900
pos = -10-random%10,10-random%20
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
supermovetime = 9999
pausemovetime = 9999
vel = 0-random%2,-1-random%3
scale = 0.6,0.6
sprpriority = 5
ontop = 0

[State 0, HitOverride]
type = HitOverride
trigger1 = 1
attr = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
stateno = 199
time = 10

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = F9,0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = F9,2

[State 0, VelSet]
type = VelSet
trigger1 = animelem = 2
y = -4

[State 0, VelSet]
type = VelSet
trigger1 = pos y < 0
x = 14

[State 0, Gravity]
type = Gravity
trigger1 = time > 10 && pos y < 0

[State 0, PosSet]
type = PosSet
trigger1 = pos y >= 0
y = 0

[State 0, VelSet]
type = VelSet
trigger1 = pos y >= 0
x = 0
y = 0

[State 0, StateTypeSet]
type = StateTypeSet
trigger1 = pos y >= 0
statetype = S
movetype = A
physics = S

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
value = F14,5
volume = 255
channel = 8

[State 0, PlayerPush]
type = PlayerPush
trigger1 = 1
value = 0

[State 0, HitDef]
type = HitDef
fall.yvelocity = -6
trigger1 = !time
attr = S, NA
damage = 35,7
animtype = Light
guardflag = MA
hitflag = MAF
priority = cond(var(0) < 2, 3, 1)
pausetime = 0, 5
sparkno = 0+random%4
sparkxy = -15, 0
hitsound = 35, 0+random%15;5, 21+random%5
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -7,-2
airguard.velocity = -7,-2
air.type = High
air.velocity = -7,-2
air.hittime = 12
envshake.time = 30
envshake.freq = 30
envshake.ampl = -7
envshake.phase = 10
fall = 1

[State 0, End]
type = ChangeState
trigger1 = frontedgebodydist < -50
value = 199
ctrl = 1

[State 0, End]
type = ChangeState
trigger1 = pos y >= 0 && time > 10
value = 52
ctrl = 1
;------------------
;Combo Rasengan
[StateDef 290]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 930+var(0)*10000
poweradd = 0
sprpriority = cond(var(0) < 2,2,1)

[State 0, Turn]
type = Turn
trigger1 = prevstateno = 10268
trigger1 = !time

[State 0, HitOverride]
type = HitOverride
trigger1 = 1
triggerall = ishelper(200)
attr = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
stateno = 199
time = 10

[State 0, Turn]
type = Turn
trigger1 = p2bodydist x < -20
trigger1 = time%5
triggerall = !ishelper

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
value = F8,0+random%4
volume = 255
channel = 8

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0 && var(0) < 2
value = S3,5+random%2
volume = 255
channel = 4

[State 0, VarSet]
type = VarSet
trigger1 = time = 0
v = 6
value = 0

[State 0, VarSet]
type = VarSet
trigger1 = time > 5 && time < 15
v = 6
value = 10+(time-5)*2;0.5

[State 0, VarSet]
type = VarSet
trigger1 = time = 15
v = 6
value = 30

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 5
value = F32,5

[State 0, Wiatr]
type = Explod
ownpal = 1
trigger1 = time = 5
anim = F601
id = 600
pos = 0,0
postype = p1
facing = 1
bindtime = 1
removetime = -2
sprpriority = -1
removeongethit = 1
scale = 0.9,0.75
ownpal = 1

[State 0, Wiatr]
type = Explod
ownpal = 1
trigger1 = time = 5
anim = F601
id = 600
pos = 0,0
postype = p1
facing = -1
bindtime = 1
removetime = -2
sprpriority = -1
removeongethit = 1
scale = 0.9,0.75
ownpal = 1

[State 0, Aura]
type = Explod
ownpal = 1
trigger1 = time = 5
anim = F1130
id = 1130
pos = -20,0
postype = p1
facing = 1
bindtime = 1
removetime = -2
sprpriority = 7
removeongethit = 1
scale = 1,1
ownpal = 1

[State 0, Helper]
type = Helper
trigger1 = time = 5
helpertype = normal;player
name = "Rasengan"
ID = 950
stateno = 950
pos = -21*0.85,-39*0.85
size.xscale = 1
size.yscale = 1
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1
supermovetime = 9999
pausemovetime = 9999

[State 0, Helper]
type = Helper
trigger1 = time = 0
triggerall = var(0) < 2
helpertype = player
name = "Kage Bunshin"
ID = 50000
stateno = 920
pos = -21*0.85,-5
size.xscale = 0.85
size.yscale = 0.85
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1

[State 0, End]
type = ChangeState
trigger1 = time = 15
value = cond(var(0) = 1,292,291)
;------------------
;Combo Rasengan
[StateDef 291]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 933+var(0)*10000
poweradd = 0
sprpriority = cond(var(0) < 2,2,1)

[State 0, HitOverride]
type = HitOverride
trigger1 = 1
triggerall = ishelper(200)
attr = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
stateno = 199
time = 10

[State 0, Turn]
type = Turn
trigger1 = p2bodydist x < -20
trigger1 = time = 0
triggerall = !ishelper

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
value = S1,0+random%7

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
trigger2 = animelem = 6
value = F2

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 1
trigger2 = animelem = 3
trigger3 = animelem = 6
anim = F300
ID = 24
pos = -10,2
postype = p1  ;p2,front,back,left,right
scale = 0.9,0.9
sprpriority = 3
vel = -1.3,-1
bindtime = 1
ownpal = 0
ontop = 0

[State -3, Rasengan]
type = AfterImage
trigger1 = time = 0 && var(0) < 2
time = -1
length = 7
palcolor = 256
palinvertall = 0
palbright = 0,0,0
palcontrast = 100,160,220
palpostbright = 0,0,0
paladd = 3,4,5
palmul = .20,.50,.60
timegap = 1
framegap = 1
trans = add

[State 0, Explod]
type = Explod
trigger1 = time > 1 && timemod = 2,0
anim = F20
ID = 20
pos = -5+random%15,-10-random%50
postype = p1  ;P2,front,back,left,right
scale = 0.8,0.4
vel = -1,0
sprpriority = 1+random%3
bindtime = 1
ownpal = 1
ontop = 0
supermovetime = 9999
pausemovetime = 9999

[State 0, VelSet]
type = VelSet
trigger1 = 1
x = const(velocity.run.fwd.x)


[State 811, end]
type = ChangeState
trigger1 = p2bodydist x < 50
trigger1 = p2bodydist y = [-50,50]
value = 292
ctrl = 1

[State 0, Fail]
type = ChangeState
trigger1 = time = 100
trigger2 = p2bodydist x < -40
value = 932
ctrl = 1
;------------------
;Combo Rasengan
[StateDef 292]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 934+var(0)*10000
poweradd = 0
sprpriority = cond(var(0) < 2,2,1)

[State 0, NotHitBy]
type = NotHitBy
trigger1 = time >= 0
value = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
time = 1

[State 0, VelSet]
type = VelSet
trigger1 = time < 10
x = 5-time/3

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F8,0+random%4
volume = 255
channel = 8

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = S3,24+random%3

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = S3,24+random%3

[State -3, Rasengan]
type = AfterImage
trigger1 = time = 0 && var(0) < 2
time = -1
length = 7
palcolor = 256
palinvertall = 0
palbright = 0,0,0
palcontrast = 100,160,220
palpostbright = 0,0,0
paladd = 3,4,5
palmul = .20,.50,.60
timegap = 1
framegap = 1
trans = add

[State 0, HitDef]
type = HitDef
givepower = 0
getpower = 0
fall.yvelocity = -6
trigger1 = time > 10 && time <= 25 && timemod = 3,0
trigger1 = hitcount < 4
attr = S, NA
damage = 35,7
getpower = 0
animtype = Light
guardflag = MA
hitflag = MAF
priority = cond(var(0) < 2, 3, 1)
pausetime = 0, 20
sparkno = 63466
sparkxy = -15, -41*0.85
hitsound = 32, 3536
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -10,-2
airguard.velocity = -10,-2
air.type = High
air.velocity = -10,-2
air.hittime = 12
envshake.time = 30
envshake.freq = 30
envshake.ampl = -7
envshake.phase = 10
fall = 1

[State 0, TargetBind]
type = TargetBind
triggerall = target, ishelper = 0
trigger1 = movehit && time < 20
triggerall = !ishelper
time = 5
pos = 37*0.85,-5

[State 0, HitDef]
type = HitDef
givepower = 0
getpower = 0
fall.yvelocity = -6
trigger1 = time = 25
triggerall = !ishelper
triggerall = var(0) = 0
hitonce = 1
attr = C, HP
damage = 100,20
animtype = Light
guardflag = MA
hitflag = MAF
priority = cond(var(0) < 2, 3, 1)
pausetime = 0, 0
sparkno = 2001
sparkxy = -15, -41*0.85
hitsound = 32, 3536
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -10,-2
airguard.velocity = -10,-2
air.type = High
air.velocity = -10,-2
air.hittime = 12
envshake.time = 30
envshake.freq = 30
envshake.ampl = -7
envshake.phase = 10
p2stateno = 109998

[State 0, HitDef]
type = HitDef
givepower = 0
getpower = 0
fall.yvelocity = -6
trigger1 = time = 25
triggerall = !ishelper
triggerall = var(0) = 1
hitonce = 1
attr = C, HP
damage = 100,20
animtype = Light
guardflag = MA
hitflag = MAF
priority = cond(var(0) < 2, 3, 1)
pausetime = 0, 0
sparkno = 2001
sparkxy = -15, -41*0.85
hitsound = 32, 3536
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -5,-2
airguard.velocity = -5,-2
air.type = High
air.velocity = -5,-2
air.hittime = 12
envshake.time = 30
envshake.freq = 30
envshake.ampl = -7
envshake.phase = 10
fall = 1

[State 0, End]
type = ChangeState
trigger1 = Time = 30
trigger2 = time > 20 && !movehit
value = 293
ctrl = 1
;------------------
;Combo Rasengan
[StateDef 293]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 935+var(0)*10000
poweradd = 0
sprpriority = cond(var(0) < 2,2,1)

[State 0, HitOverride]
type = HitOverride
trigger1 = 1
triggerall = ishelper(200)
attr = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
stateno = 199
time = 10

[State 0, AfterImage]
type = AfterImage
trigger1 = animtime = 0
time = 1

[State 0, End]
type = ChangeState
trigger1 = AnimTime = 0
value = cond(ishelper,199,0)
ctrl = 1
;-----------------
;Finisher
[StateDef 295]
type = S
movetype= A
physics = S
juggle  = 1
velset = 5,0
ctrl = 0
anim = 295
poweradd = 20
sprpriority = 2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 4
value = F8,0+random%4
volume = 255
channel = 8

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 5
value = S4,0+random%16
volume = 255
channel = 4

[State 0, HitDef]
type = HitDef
fall.yvelocity = -6
trigger1 = animelem = 5
attr = S, NA
damage = 50,10
animtype = Light
guardflag = MA
hitflag = MAF
priority = cond(var(0) < 2, 3, 1)
pausetime = 0, 5
sparkno = 0+random%4
sparkxy = -15, -33*0.85
hitsound = 35, 0+random%15;5, 21+random%5
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -6,3
airguard.velocity = -6,3
air.type = High
air.velocity = -6,3
air.hittime = 12
envshake.time = 30
envshake.freq = 30
envshake.ampl = -7
envshake.phase = 10
fall = 1

[State 0, End]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;-----------------
;Hurricane
[StateDef 296]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 296
poweradd = 0
sprpriority = 2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F14,1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time > 5 && timemod = 10,0
value = F14,6

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
value = S1,0+random%7
volume = 255
channel = 3

[State 0, VelSet]
type = VelSet
trigger1 = time > 5
x = 3


[State 0, Wiatr]
type = Explod
ownpal = 1
trigger1 = time = 5
anim = F677
id = 600
pos = 0,3
postype = p1
facing = 1
bindtime = -1
removetime = -2
sprpriority = 4
scale = 1,1
ownpal = 1
supermovetime = 9999

[State 0, Helper]
type = Helper
trigger1 = time = 0
helpertype = normal;player
name = "Klon"
ID = 200
stateno = 297
pos = 0,0
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1
size.xscale = 0.85
size.yscale = 0.85

[State 0, End]
type = ChangeState
trigger1 = time = 30
value = 99
ctrl = 1
;-----------------
;Hurricane
[StateDef 297]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 297
poweradd = 0
sprpriority = 2

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 296
time = 1
pos = 0,0
ignorehitpause = 1

[State 0, Prawa]
type = Explod
trigger1 = time = 0
anim = F696
ownpal = 1
ID = 900
pos = 10+random%10,-30-random%20
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
supermovetime = 9999
pausemovetime = 9999
vel = 0+random%2,-1-random%3
scale = 0.6,0.6
sprpriority = 5
ontop = 0

[State 0, Srodek]
type = Explod
trigger1 = time = 0
anim = F696
ownpal = 1
ID = 900
pos = -5+random%10,-20-random%10
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
supermovetime = 9999
pausemovetime = 9999
vel = -1+random%3,-1-random%2
scale = 1,1
sprpriority = 5
ontop = 0

[State 0, Lewa]
type = Explod
trigger1 = time = 0
anim = F696
ownpal = 1
ID = 900
pos = -10-random%10,-30-random%20
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
supermovetime = 9999
pausemovetime = 9999
vel = 0-random%2,-1-random%3
scale = 0.6,0.6
sprpriority = 5
ontop = 0

[State 0, HitOverride]
type = HitOverride
trigger1 = 1
attr = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
stateno = 199
time = 10

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = F9,0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = F9,2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 10
value = S5,7

[State 0, HitDef]
type = HitDef
fall.yvelocity = -6
trigger1 = timemod = 5,0
attr = S, NA
damage = 20,4
animtype = Light
guardflag = MA
hitflag = MAF
priority = cond(var(0) < 2, 3, 1)
pausetime = 0, 5
sparkno = 0+random%4
sparkxy = -15, -48*0.85
hitsound = 35, 0+random%15;5, 21+random%5
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -5,-3
airguard.velocity = -5,-3
air.type = High
air.velocity = -5,-3
air.hittime = 12
envshake.time = 30
envshake.freq = 30
envshake.ampl = -7
envshake.phase = 10
fall = 1

[State 0, End]
type = ChangeState
trigger1 = parent, stateno != 296
value = 50
;-----------------
;Bunshin Throw
[StateDef 320]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 320+var(0)*10000
poweradd = 0
sprpriority = cond(var(0) < 2,2,1)

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
trigger2 = animelem = 5
value = F8,0+random%4
volume = 255
channel = 8

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = F17,0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = S3,5+random%2
volume = 255
channel = 3

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 5
value = S4,0+random%16
volume = 255
channel = 4

[State 0, Helper]
type = Helper
trigger1 = time = 16
helpertype = normal;player
name = "Klon"
ID = 200
stateno = 321
pos = -9*0.85,-11*0.85
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1
size.xscale = 0.85
size.yscale = 0.85

[State 0, End]
type = ChangeState
trigger1 = animtime = 0
value = 0
ctrl = 1
;-----------------
;Bunshin Throw
[StateDef 321]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 321+parent,var(0)*10000
poweradd = -250
sprpriority = cond(var(0) < 2,2,1)

[State 0, SprPriority]
type = SprPriority
trigger1 = var(0) >= 2
value = 1
ignorehitpause = 1

[State 0, VarSet]
type = VarSet
trigger1 = 1
v = 0
value = parent, var(0)

[State 0, Explod]
type = Explod
trigger1 = time = 0 && var(0) >= 2
anim = 30321
ID = 30321
pos = 0,0
scale = 0.85,0.85
postype = p1
facing = 1
bindtime = -1
removetime = -1
sprpriority = 3
ownpal = 1

[State 0, Explod]
type = ModifyExplod
trigger1 = time > 11 && pos y < 0
ID = 30321
angle = -17-atan(vel y/vel x)*180/PI

[State 0, BindToParent]
type = BindToParent
trigger1 = time < 10
triggerall = parent, stateno = 320
time = 1
pos = -9*0.85,-11*0.85

[State 0, SprPriority]
type = SprPriority
trigger1 = time <= 10
triggerall = parent, stateno = 320
value = -2

[State 0, SprPriority]
type = SprPriority
trigger1 = time > 10
value = 2

[State 0, Prawa]
type = Explod
trigger1 = time = 0
anim = F696
ownpal = 1
ID = 900
pos = 10+random%10,-30-random%20
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
supermovetime = 9999
pausemovetime = 9999
vel = 0+random%2,-1-random%3
scale = 0.6,0.6
sprpriority = 5
ontop = 0

[State 0, Srodek]
type = Explod
trigger1 = time = 0
anim = F696
ownpal = 1
ID = 900
pos = -5+random%10,-20-random%10
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
supermovetime = 9999
pausemovetime = 9999
vel = -1+random%3,-1-random%2
scale = 1,1
sprpriority = 5
ontop = 0

[State 0, Lewa]
type = Explod
trigger1 = time = 0
anim = F696
ownpal = 1
ID = 900
pos = -10-random%10,-30-random%20
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
supermovetime = 9999
pausemovetime = 9999
vel = 0-random%2,-1-random%3
scale = 0.6,0.6
sprpriority = 5
ontop = 0

[State 0, HitOverride]
type = HitOverride
trigger1 = 1
attr = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
stateno = 199
time = 10

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = F9,0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = F9,2

[State 0, PosAdd]
type = PosAdd
trigger1 = time = 10
x = 10
y = -15

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 11
value = F14,3

[State 0, VelSet]
type = VelSet
trigger1 = time > 10
x = 14+ifelse(var(0)=1, 5, 0)

[State 0, VelSet]
type = VelSet
trigger1 = time = 11
y = -2

[State 0, Gravity]
type = Gravity
trigger1 = time > 12

[State 0, AngleDraw]
type = AngleDraw
trigger1 = time > 11 && pos y < 0
value = -17-atan(vel y/vel x)*180/PI

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = S4,0+random%16
volume = 255
channel = 4

[State 0, HitDef]
type = HitDef
givepower = 0
getpower = 0
fall.yvelocity = -6
trigger1 = !time
attr = S, NA
damage = 150,30
animtype = Light
guardflag = MA
hitflag = MAF
priority = cond(var(0) < 2, 3, 1)
pausetime = 0, 15
sparkno = 0+random%4
sparkxy = -15, 0
hitsound = 35, 0+random%15;5, 21+random%5
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -6,3
airguard.velocity = -3,3
air.type = High
air.velocity = -3,3
fall = 1
air.hittime = 12
envshake.time = 30
envshake.freq = 30
envshake.ampl = -7
envshake.phase = 10
p1stateno = 322

[State 0, End]
type = Changestate
trigger1 = Time > 15 && pos y >= -5
value = cond(var(0) < 2, 52, 199)
;-----------------
;Stun
[StateDef 322]
type = S
movetype= A
physics = S
juggle  = 1
velset = 7,0
ctrl = 0
anim = 322+parent,var(0)*10000
poweradd = -250
sprpriority = -4

[State 0, VarSet]
type = VarSet
trigger1 = 1
v = 0
value = parent, var(0)

[State 0, Explod]
type = RemoveExplod
trigger1 = time = 0
ID = 30321

[State 0, Explod]
type = Explod
trigger1 = time = 1 && var(0) >= 2
anim = 30322
ID = 30322
pos = 0,0
scale = 0.85,0.85
postype = p1
facing = 1
bindtime = -1
removetime = -1
sprpriority = -3
ownpal = 1

[State 0, PosSet]
type = PosSet
trigger1 = 1
y = 0

[State 0, HitOverride]
type = HitOverride
trigger1 = 1
attr = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
stateno = 199
time = 999

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
value = S1,0+random%7

[State 0, HitDef]
type = HitDef
givepower = 0
getpower = 0
fall.yvelocity = -6
trigger1 = timemod = 10,0
attr = S, NA
damage = 5,2
animtype = Light
guardflag = MA
hitflag = MAF
sprpriority = -4
priority = -4
pausetime = 0, 10
sparkno = 345435
sparkxy = -15, -40
hitsound = 524535, 0+random%15;5, 21+random%5
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = 0
airguard.velocity = -2,-.8
air.type = High
air.velocity = 0,0
air.hittime = 12
fall = 1
envshake.time = 10
envshake.freq = 20
envshake.ampl = -5
envshake.phase = 10

[State 0, TargetBind]
type = TargetBind
trigger1 = time > 12
time = 1
pos = -15,-5

[State 0, End]
type = Changestate
trigger1 = Time = 100
value = 199
;------------------
;Rzut Forward
[StateDef 350]
type = S
movetype= I
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 350+var(0)*10000
poweradd = 0
sprpriority = 2

[State 0, StateTypeSet]
type = StateTypeSet
trigger1 = time = 12
statetype = A      
movetype = A
physics = A 

[State 0, VelSet]
type = VelSet
trigger1 = time = 12
x = 10*cond(var(0) = 1,1.2,1.0)
y = -5*cond(var(0) = 1,1.2,1.0)

[State 0, AngleDraw]
type = AngleDraw
trigger1 = time >= 12
value = -atan(vel y/vel x)*180/PI 

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F14,6

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F14,3

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
value = F8,0+random%4
volume = 255
channel = 8

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F17,0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 4
value = S4,0+random%16
volume = 255
channel = 3

[State 0, Helper]
type = Helper
trigger1 = time = 6
helpertype = normal;player
name = "Kage Bunshin"
ID = 200
stateno = 351
pos = 12*0.85,0
size.xscale = 0.85
size.yscale = 0.85
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1

[State 0, CtrlSet]
type = CtrlSet
trigger1 = time = 20
value = 1

[State 0, End]
type = ChangeState
trigger1 = Time = 25
value = 50
ctrl = 1
;-----------------
;Rzut Forward
[StateDef 351]
type = S
movetype= I
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 351+parent,var(0)*10000
poweradd = -50
sprpriority = 3

[State 0, VarSet]
type = VarSet
trigger1 = 1
v = 0
value = parent, var(0)

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 350 && parent, time < 12
time = 1
pos = 12*0.85,0

[State 0, Prawa]
type = Explod
trigger1 = time = 0
trigger2 = time = 25
anim = F696
ownpal = 1
ID = 900
pos = 10+random%10,-30-random%20
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
supermovetime = 9999
pausemovetime = 9999
vel = 0+random%2,-1-random%3
scale = 0.6,0.6
sprpriority = 5
ontop = 0

[State 0, Srodek]
type = Explod
trigger1 = time = 0
trigger2 = time = 25
anim = F696
ownpal = 1
ID = 900
pos = -5+random%10,-20-random%10
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
supermovetime = 9999
pausemovetime = 9999
vel = -1+random%3,-1-random%2
scale = 1,1
sprpriority = 5
ontop = 0

[State 0, Lewa]
type = Explod
trigger1 = time = 0
trigger2 = time = 25
anim = F696
ownpal = 1
ID = 900
pos = -10-random%10,-30-random%20
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
supermovetime = 9999
pausemovetime = 9999
vel = 0-random%2,-1-random%3
scale = 0.6,0.6
sprpriority = 5
ontop = 0

[State 0, HitOverride]
type = HitOverride
trigger1 = 1
attr = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
stateno = 199
time = 10

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
trigger2 = time = 25
value = F9,0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
trigger2 = time = 25
value = F9,2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F8,0+random%4
volume = 255
channel = 8

[State 0, End]
type = destroyself
trigger1 = animtime = 0
;------------------
;Rzut Backward
[StateDef 355]
type = S
movetype= I
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 355+var(0)*10000
poweradd = 0
sprpriority = 2

[State 0, StateTypeSet]
type = StateTypeSet
trigger1 = time = 12
statetype = A      
movetype = A
physics = A 

[State 0, VelSet]
type = VelSet
trigger1 = time = 12
x = -10*cond(var(0) = 1,1.2,1.0)
y = -5*cond(var(0) = 1,1.2,1.0)

[State 0, AngleDraw]
type = AngleDraw
trigger1 = time >= 12
value = -atan(vel y/vel x)*180/PI 

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F14,6

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F14,3

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
value = F8,0+random%4
volume = 255
channel = 8

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F17,0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 4
value = S4,0+random%16
volume = 255
channel = 3

[State 0, Helper]
type = Helper
trigger1 = time = 6
helpertype = normal;player
name = "Kage Bunshin"
ID = 200
stateno = 356
pos = -12*0.85,0
size.xscale = 0.85
size.yscale = 0.85
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1

[State 0, CtrlSet]
type = CtrlSet
trigger1 = time = 20
value = 1

[State 0, End]
type = ChangeState
trigger1 = Time = 25
value = 50
ctrl = 1
;-----------------
;Rzut Backward
[StateDef 356]
type = S
movetype= I
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 356+parent,var(0)*10000
poweradd = -50
sprpriority = 3

[State 0, VarSet]
type = VarSet
trigger1 = 1
v = 0
value = parent, var(0)

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 350 && parent, time < 12
time = 1
pos = 12*0.85,0

[State 0, Prawa]
type = Explod
trigger1 = time = 0
trigger2 = time = 25
anim = F696
ownpal = 1
ID = 900
pos = 10+random%10,-30-random%20
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
supermovetime = 9999
pausemovetime = 9999
vel = 0+random%2,-1-random%3
scale = 0.6,0.6
sprpriority = 5
ontop = 0

[State 0, Srodek]
type = Explod
trigger1 = time = 0
trigger2 = time = 25
anim = F696
ownpal = 1
ID = 900
pos = -5+random%10,-20-random%10
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
supermovetime = 9999
pausemovetime = 9999
vel = -1+random%3,-1-random%2
scale = 1,1
sprpriority = 5
ontop = 0

[State 0, Lewa]
type = Explod
trigger1 = time = 0
trigger2 = time = 25
anim = F696
ownpal = 1
ID = 900
pos = -10-random%10,-30-random%20
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
supermovetime = 9999
pausemovetime = 9999
vel = 0-random%2,-1-random%3
scale = 0.6,0.6
sprpriority = 5
ontop = 0

[State 0, HitOverride]
type = HitOverride
trigger1 = 1
attr = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
stateno = 199
time = 10

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
trigger2 = time = 25
value = F9,0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
trigger2 = time = 25
value = F9,2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F8,0+random%4
volume = 255
channel = 8

[State 0, End]
type = destroyself
trigger1 = animtime = 0
;------------------
;Air Rzut Forward
[StateDef 360]
type = S
movetype= I
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 360+var(0)*10000
poweradd = 0
sprpriority = 2

[State 0, StateTypeSet]
type = StateTypeSet
trigger1 = time = 12
statetype = A      
movetype = A
physics = A 

[State 0, VelSet]
type = VelSet
trigger1 = time = 12
x = 8*cond(var(0) = 1,1.2,1.0)
y = -5*cond(var(0) = 1,1.2,1.0)

[State 0, AngleDraw]
type = AngleDraw
trigger1 = time >= 12
value = -atan(vel y/vel x)*180/PI 

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F14,6

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F14,3

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
value = F8,0+random%4
volume = 255
channel = 8

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F17,0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 4
value = S4,0+random%16
volume = 255
channel = 3

[State 0, Helper]
type = Helper
trigger1 = time = 6
helpertype = normal;player
name = "Kage Bunshin"
ID = 200
stateno = 361
pos = 6*0.85,-3*0.85
size.xscale = 0.85
size.yscale = 0.85
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1

[State 0, CtrlSet]
type = CtrlSet
trigger1 = time = 20
value = 1

[State 0, End]
type = ChangeState
trigger1 = Time = 25
value = 50
ctrl = 1
;-----------------
;Air Rzut Forward
[StateDef 361]
type = S
movetype= I
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 361+parent,var(0)*10000
poweradd = -50
sprpriority = 3

[State 0, VarSet]
type = VarSet
trigger1 = 1
v = 0
value = parent, var(0)

[State 0, StateTypeSet]
type = StateTypeSet
trigger1 = time = 10
statetype = A      
movetype = A
physics = A 

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 360 && parent, time < 12
time = 1
pos = 6*0.85,-3*0.85

[State 0, Prawa]
type = Explod
trigger1 = time = 0
trigger2 = time = 25
anim = F696
ownpal = 1
ID = 900
pos = 10+random%10,-30-random%20
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
supermovetime = 9999
pausemovetime = 9999
vel = 0+random%2,-1-random%3
scale = 0.6,0.6
sprpriority = 5
ontop = 0

[State 0, Srodek]
type = Explod
trigger1 = time = 0
trigger2 = time = 25
anim = F696
ownpal = 1
ID = 900
pos = -5+random%10,-20-random%10
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
supermovetime = 9999
pausemovetime = 9999
vel = -1+random%3,-1-random%2
scale = 1,1
sprpriority = 5
ontop = 0

[State 0, Lewa]
type = Explod
trigger1 = time = 0
trigger2 = time = 25
anim = F696
ownpal = 1
ID = 900
pos = -10-random%10,-30-random%20
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
supermovetime = 9999
pausemovetime = 9999
vel = 0-random%2,-1-random%3
scale = 0.6,0.6
sprpriority = 5
ontop = 0

[State 0, HitOverride]
type = HitOverride
trigger1 = 1
attr = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
stateno = 199
time = 10

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
trigger2 = time = 25
value = F9,0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
trigger2 = time = 25
value = F9,2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F8,0+random%4
volume = 255
channel = 8

[State 0, End]
type = destroyself
trigger1 = animtime = 0
;------------------
;Air Rzut Backward
[StateDef 365]
type = S
movetype= I
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 365+var(0)*10000
poweradd = 0
sprpriority = 2

[State 0, StateTypeSet]
type = StateTypeSet
trigger1 = time = 12
statetype = A      
movetype = A
physics = A 

[State 0, VelSet]
type = VelSet
trigger1 = time = 12
x = -8*cond(var(0) = 1,1.2,1.0)
y = -5*cond(var(0) = 1,1.2,1.0)

[State 0, AngleDraw]
type = AngleDraw
trigger1 = time >= 12
value = -atan(vel y/vel x)*180/PI 

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F14,6

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F14,3

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
value = F8,0+random%4
volume = 255
channel = 8

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F17,0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 4
value = S4,0+random%16
volume = 255
channel = 3

[State 0, Helper]
type = Helper
trigger1 = time = 6
helpertype = normal;player
name = "Kage Bunshin"
ID = 200
stateno = 366
pos = -6*0.85,-3*0.85
size.xscale = 0.85
size.yscale = 0.85
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1

[State 0, CtrlSet]
type = CtrlSet
trigger1 = time = 20
value = 1

[State 0, End]
type = ChangeState
trigger1 = Time = 25
value = 50
ctrl = 1
;-----------------
;Air Rzut Backward
[StateDef 366]
type = S
movetype= I
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 366+parent,var(0)*10000
poweradd = -50
sprpriority = 3

[State 0, VarSet]
type = VarSet
trigger1 = 1
v = 0
value = parent, var(0)

[State 0, StateTypeSet]
type = StateTypeSet
trigger1 = time = 10
statetype = A      
movetype = A
physics = A 

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 360 && parent, time < 12
time = 1
pos = -6*0.85,-3*0.85

[State 0, Prawa]
type = Explod
trigger1 = time = 0
trigger2 = time = 25
anim = F696
ownpal = 1
ID = 900
pos = 10+random%10,-30-random%20
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
supermovetime = 9999
pausemovetime = 9999
vel = 0+random%2,-1-random%3
scale = 0.6,0.6
sprpriority = 5
ontop = 0

[State 0, Srodek]
type = Explod
trigger1 = time = 0
trigger2 = time = 25
anim = F696
ownpal = 1
ID = 900
pos = -5+random%10,-20-random%10
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
supermovetime = 9999
pausemovetime = 9999
vel = -1+random%3,-1-random%2
scale = 1,1
sprpriority = 5
ontop = 0

[State 0, Lewa]
type = Explod
trigger1 = time = 0
trigger2 = time = 25
anim = F696
ownpal = 1
ID = 900
pos = -10-random%10,-30-random%20
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
supermovetime = 9999
pausemovetime = 9999
vel = 0-random%2,-1-random%3
scale = 0.6,0.6
sprpriority = 5
ontop = 0

[State 0, HitOverride]
type = HitOverride
trigger1 = 1
attr = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
stateno = 199
time = 10

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
trigger2 = time = 25
value = F9,0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
trigger2 = time = 25
value = F9,2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F8,0+random%4
volume = 255
channel = 8

[State 0, End]
type = destroyself
trigger1 = animtime = 0
;------------------
;Airjump
[StateDef 370]
type = S
movetype= I
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 370+var(0)*10000
poweradd = 0
sprpriority = 2

[State 0, StateTypeSet]
type = StateTypeSet
trigger1 = time = 18
statetype = A      
movetype = A
physics = A 

[State 0, VelSet]
type = VelSet
trigger1 = time = 18
y = -10*cond(var(0) = 1,1.2,1.0)

[State 0, VelSet]
type = VelSet
trigger1 = time = 18 && var(50) = 0 && command = "holdfwd"
trigger2 = time = 18 && var(50) = 1 && p2bodydist x > 50
x = const(velocity.airjump.fwd.x)*cond(var(0) = 1,1.2,1.0)

[State 0, VelSet]
type = VelSet
trigger1 = time = 18 && var(50) = 0 && command = "holdback"
trigger2 = time = 18 && var(50) = 1 && p2bodydist x < -50
x = const(velocity.airjump.back.x)*cond(var(0) = 1,1.2,1.0)

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 18
value = F14,6

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
trigger1 = animelem = 4
value = F8,0+random%4
volume = 255
channel = 8

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F17,0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 5
value = S4,0+random%16
volume = 255
channel = 3

[State 0, Helper]
type = Helper
trigger1 = time = 6
helpertype = normal;player
name = "Kage Bunshin"
ID = 200
stateno = 371
pos = 7*0.85,8*0.85
size.xscale = 0.85
size.yscale = 0.85
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1

[State 0, End]
type = ChangeState
trigger1 = Time = 25
value = 50
ctrl = 1
;-----------------
;Airjump
[StateDef 371]
type = S
movetype= I
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 371+parent,var(0)*10000
poweradd = -50
sprpriority = 3

[State 0, VarSet]
type = VarSet
trigger1 = 1
v = 0
value = parent, var(0)

[State 0, StateTypeSet]
type = StateTypeSet
trigger1 = animelem = 3
statetype = A
movetype = I
physics = N 

[State 0, Gravity]
type = Gravity
trigger1 = time > 13

[State 0, VelSet]
type = VelSet
trigger1 = animelem = 3
y = (8+(time-13))*cond(root,var(0) = 1,1.2,1.0)

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 370 && parent, time < 18
time = 1
pos = 7*0.85,8*0.85

[State 0, Prawa]
type = Explod
trigger1 = time = 0
anim = F696
ownpal = 1
ID = 900
pos = 10+random%10,-30-random%20
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
supermovetime = 9999
pausemovetime = 9999
vel = 0+random%2,-1-random%3
scale = 0.6,0.6
sprpriority = 5
ontop = 0

[State 0, Srodek]
type = Explod
trigger1 = time = 0
anim = F696
ownpal = 1
ID = 900
pos = -5+random%10,-20-random%10
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
supermovetime = 9999
pausemovetime = 9999
vel = -1+random%3,-1-random%2
scale = 1,1
sprpriority = 5
ontop = 0

[State 0, Lewa]
type = Explod
trigger1 = time = 0
anim = F696
ownpal = 1
ID = 900
pos = -10-random%10,-30-random%20
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
supermovetime = 9999
pausemovetime = 9999
vel = 0-random%2,-1-random%3
scale = 0.6,0.6
sprpriority = 5
ontop = 0

[State 0, HitOverride]
type = HitOverride
trigger1 = 1
attr = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
stateno = 199
time = 10

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = F9,0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = F9,2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F14,5

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = S5,7

[State 0, End]
type = changestate
trigger1 = pos y >= 0
value = 5100
;------------------
;Naruto Rendan
[StateDef 400]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 400
poweradd = 0
sprpriority = 2

[State 0, VelSet]
type = VelSet
trigger1 = time = 0 && p2bodydist x < 80
x = -(10-p2bodydist x/10)

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F17,0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
value = F8,0+random%4
volume = 255
channel = 8

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = S3,5+random%2
volume = 255
channel = 4

[State 0, Helper]
type = Helper
trigger1 = animelem = 3
helpertype = normal;player
name = "Kage Bunshin"
ID = 410
stateno = 411
pos = -20,0
size.xscale = 0.93
size.yscale = 0.93
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1

[State 0, Helper]
type = Helper
trigger1 = helper(410), movecontact
persistent = 0
helpertype = normal;player
name = "Kage Bunshin"
ID = 415
stateno = 416
pos = -150,0
size.xscale = 0.93
size.yscale = 0.93
postype = p2    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1

[State 0, Helper]
type = Helper
trigger1 = helper(415), movecontact
persistent = 0
helpertype = normal;player
name = "Kage Bunshin"
ID = 420
stateno = 421
pos = 150,0
size.xscale = 0.93
size.yscale = 0.93
postype = p2    ;p2,front,back,left,right
facing = -1
keyctrl = 0
ownpal = 1

[State 0, Helper]
type = Helper
trigger1 = helper(420), movecontact
persistent = 0
helpertype = normal;player
name = "Kage Bunshin"
ID = 425
stateno = 426
pos = -150,0
size.xscale = 0.93
size.yscale = 0.93
postype = p2    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1

[State 0, End]
type = ChangeState
trigger1 = numhelper(425) = 1 && helper(425), movecontact
value = 401
ctrl = 1

[State 0, End]
type = ChangeState
trigger1 = AnimTime = 0
trigger2 = helper(410), stateno = 410 && helper(410), time = 30 && helper(410), movecontact = 0
trigger3 = helper(415), stateno = 415 && helper(415), time = 30 && helper(415), movecontact = 0
trigger4 = helper(420), stateno = 420 && helper(420), time = 30 && helper(420), movecontact = 0
trigger5 = helper(425), stateno = 425 && helper(425), time = 30 && helper(425), movecontact = 0
value = 0
ctrl = 1
;------------------
;Rzut NR
[StateDef 401]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 401
poweradd = 0
sprpriority = 2

[State 0, StateTypeSet]
type = StateTypeSet
trigger1 = time = 11
statetype = A      
movetype = A
physics = A 

[State 1640, X]
Type=VarSet
Trigger1= time = 10
fvar(13)=(EnemyNear(0),Pos X-Pos X)*Facing

[State 1640, Y]
Type=VarSet
trigger1= time = 10
fvar(14)=(EnemyNear(0),pos Y-Pos Y)

[State 1640, Vector Length]
Type=VarSet
trigger1= time = 10
fvar(15)=Exp(0.5*ln((fvar(13)*fvar(13))+(fvar(14)*fvar(14))))

[State 0, VelSet]
type = VelSet
trigger1 = time = 11
x = abs((Fvar(13))/(fvar(15))*8)
y = -6-abs(p2bodydist x)/100

[State 0, AngleDraw]
type = AngleDraw
trigger1 = time > 10
value = -18-atan(vel y/vel x)*180/PI 

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F14,6

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F14,3

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = S1,0+random%7
volume = 255
channel = 4

[State 0, Helper]
type = Helper
trigger1 = time = 0
helpertype = normal;player
name = "Kage Bunshin"
ID = 402
stateno = 402
pos = 0,0
size.xscale = 0.85
size.yscale = 0.85
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1

[State 0, End]
type = ChangeState
trigger1 = time > 10
trigger1 = p2bodydist x = [0,30]
value = 405
ctrl = 1

[State 0, End]
type = ChangeState
trigger1 = Time = 80
value = 50
ctrl = 1
;-----------------
;Rzut NR
[StateDef 402]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 402
poweradd = 0
sprpriority = 2

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 401 && parent, time < 10
time = 1
pos = 17*0.85,0


[State 0, NotHitBy]
type = NotHitBy
trigger1 = time >= 0
value = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
time = 9999

[State 0, PosSet]
type = PosSet
trigger1 = 1
y = 0

[State 0, Prawa]
type = Explod
trigger1 = time = 0
trigger2 = time = 70
anim = F696
ownpal = 1
ID = 900
pos = 10+random%10,-30-random%20
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
supermovetime = 9999
pausemovetime = 9999
vel = 0+random%2,-1-random%3
scale = 0.6,0.6
sprpriority = 5
ontop = 0

[State 0, Srodek]
type = Explod
trigger1 = time = 0
trigger2 = time = 70
anim = F696
ownpal = 1
ID = 900
pos = -5+random%10,-20-random%10
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
supermovetime = 9999
pausemovetime = 9999
vel = -1+random%3,-1-random%2
scale = 1,1
sprpriority = 5
ontop = 0

[State 0, Lewa]
type = Explod
trigger1 = time = 0
trigger2 = time = 70
anim = F696
ownpal = 1
ID = 900
pos = -10-random%10,-30-random%20
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
supermovetime = 9999
pausemovetime = 9999
vel = 0-random%2,-1-random%3
scale = 0.6,0.6
sprpriority = 5
ontop = 0

[State 0, HitOverride]
type = HitOverride
trigger1 = 1
attr = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
stateno = 199
time = 10

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
trigger2 = time = 70
value = F9,0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
trigger2 = time = 70
value = F9,2


[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F8,0+random%4
volume = 255
channel = 8

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = S4,0+random%16
volume = 255
channel = 4

[State 0, End]
type = Changestate
trigger1 = parent, stateno != [400,405]
trigger2 = animtime = 0
value = 199
;-----------------
;Naruto RENDAN
[StateDef 405]
type = A
movetype= A
physics = A
juggle  = 1
velset = 3,0
ctrl = 0
anim = 405
poweradd = 0
sprpriority = 2

[State 0, VelSet]
type = VelSet
trigger1 = time = 0
y = p2bodydist y/10


[State 0, SuperPause]
type = SuperPause
trigger1 = time = 0
persistent = 0
time = 30
anim = 124152
sound = F19,4
pos = 25*0.85,-30*0.85
move = 0
movetime = 10
darken = 1
p2defmul = 0
poweradd = 0
unhittable = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F8,0+random%4
volume = 255
channel = 8

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = S3,18
volume = 255
channel = 3

[State 0, TargetBind]
type = TargetBind
trigger1 = !time
time = 1
pos = 25*0.85,0

[State 0, HitDef]
type = HitDef
givepower = 0
getpower = 0
fall.yvelocity = -6
trigger1 = !time
attr = C, HP
damage = 150,100
getpower = 0
animtype = Light
guardflag = MA
hitflag = MAF
priority = cond(var(0) < 2, 3, 1)
pausetime = 0, 0
sparkno = 2016
sparkxy = -15, -28*0.85
hitsound = 35, 0+random%15;5, 21+random%5
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -2,12
airguard.velocity = -2,12
air.type = High
air.velocity = -2,12
air.hittime = 12
envshake.time = 50
envshake.ampl = 5
envshake.freq = 50
fall = 1

[State 0, End]
type = ChangeState
trigger1 = AnimTime = 0 && movecontact
value = 406
ctrl = 1

[State 0, End]
type = ChangeState
trigger1 = AnimTime = 0 && !movecontact
value = 50
ctrl = 1
;-----------------
;Naruto RENDAN
[StateDef 406]
type = A
movetype= A
physics = A
juggle  = 1
velset = const(velocity.airjump.back.x),const(velocity.airjump.y)
ctrl = 0
anim = 406
poweradd = 0
sprpriority = 2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S4,0+random%16

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = F3,1

[State 0, Explod]
type = Explod
trigger1 = time = 0
anim = F280
pos = 0,0
scale = 1.5,1.5
postype = p1
facing = 1
bindtime = 1
removetime = -2
sprpriority = 0
ownpal = 1

[State 0, End]
type = ChangeState
trigger1 = AnimTime = 0
value = 50
ctrl = 1
;-----------------------------------------------------------------
;Odbicie od ziemi
[StateDef 105502]
type = A
movetype= H
physics = S
juggle  = 1
ctrl = 0
anim = 5060+ var(0)*10000
poweradd = 0
sprpriority = 0

[State 0, ChangeAnim]
type = ChangeAnim
trigger1 = time = 0
trigger1 = var(0) != 0
value = 5060 + var(0)*10000

[State 0, VelSet]
type = VelSet
trigger1 = time = 0
x = -5
y = 8


[State 0, Gravity]
type = Gravity
trigger1 = 1

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = pos y >= 0
persistent = 0
anim = F62
pos = 0,0
postype = p1
facing = 1
bindtime = 1
removetime = -2
sprpriority = 3
scale = 1.7,1.7
ownpal = 1  

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = pos y >= 0
persistent = 0
anim = F540
pos = 0,0
postype = p1
facing = 1
bindtime = 1
removetime = -2
sprpriority = 3
scale = 1.7,1.4
ownpal = 1

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = pos y >= 0
persistent = 0
anim = F550
pos = 0,0
postype = p1
facing = 1
bindtime = 1
removetime = -2
sprpriority = 4
scale = 1.4,1.4
ownpal = 1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = pos y >= 0
persistent = 0
value = F15,2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = pos y >= 0
persistent = 0
value = F15,4

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 1
value = F14,6

[State 0, End]
type = ChangeState
trigger1 = pos y >= 0
value = 105503
ctrl = 1
;-----------------------------------------------------------------
;Odbicie od ziemi
[StateDef 105503]
type = A
movetype= H
physics = S
juggle  = 1
ctrl = 0
anim = 5050+ var(0)*10000
poweradd = 0
sprpriority = 0

[State 0, ChangeAnim]
type = ChangeAnim
trigger1 = time = 0
trigger1 = var(0) != 0
value = 5050 + var(0)*10000

[State 0, VelSet]
type = VelSet
trigger1 = time = 0
x = -2
y = -5

[State 0, StateTypeSet]
type = StateTypeSet
trigger1 = time > 1
statetype = A       
movetype = H      
physics = A  

[State 0, End]
type = SelfState
trigger1 = vel y > 0
value = 5050
ctrl = 1
;-----------------
;U
[StateDef 410]
type = S
movetype= A
physics = S
juggle  = 1
velset = 3,0
ctrl = 0
anim = 410
poweradd = -250
sprpriority = 2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
trigger2 = animelem = 6
value = F8,0+random%4
volume = 255
channel = 8

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = S3,14

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = S3,14

[State 0, HitDef]
type = HitDef
givepower = 0
getpower = 0
fall.yvelocity = -6
trigger1 = AnimElem = 3
attr = S, NA
damage = 50,20
getpower = 0
animtype = Light
guardflag = MA
hitflag = MAF
priority = cond(var(0) < 2, 3, 1)
pausetime = 10, 20
sparkno = 0+random%4
sparkxy = -15, -45*0.85
hitsound = 35, 0+random%15;5, 21+random%5
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -2
airguard.velocity = -2,-.8
air.type = High
air.velocity = -2,-2
air.hittime = 12
envshake.time = 20
envshake.freq = 25
envshake.ampl = -6
envshake.phase = 10

[State 0, HitDef]
type = HitDef
givepower = 0
getpower = 0
fall.yvelocity = -6
trigger1 = AnimElem = 7
attr = S, NA
damage = 50,20
getpower = 0
animtype = Light
guardflag = MA
hitflag = MAF
priority = cond(var(0) < 2, 3, 1)
pausetime = 10, 20
sparkno = 0+random%4
sparkxy = -15, -43*0.85
hitsound = 35, 0+random%15;5, 21+random%5
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -2
airguard.velocity = -2,-.8
air.type = High
air.velocity = -2,-2
air.hittime = 12
envshake.time = 20
envshake.freq = 25
envshake.ampl = -6
envshake.phase = 10
fall = 1

[State 0, HitOverride]
type = HitOverride
trigger1 = 1
attr = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
stateno = 199
time = 10

[State 0, End]
type = Changestate
trigger1 = parent, stateno != [400,405]
trigger2 = animtime = 0
value = 199
;------------------
;Naruto Rendan
[StateDef 411]
type = S
movetype= A
physics = S
juggle  = 1
ctrl = 0
anim = 409
poweradd = 0
sprpriority = 2

[State 0, PosSet]
type = PosSet
trigger1 = 1
y = 0

[State 0, Prawa]
type = Explod
trigger1 = time = 0
trigger2 = time = 70
anim = F696
ownpal = 1
ID = 900
pos = 10+random%10,-30-random%20
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
supermovetime = 9999
pausemovetime = 9999
vel = 0+random%2,-1-random%3
scale = 0.6,0.6
sprpriority = 5
ontop = 0

[State 0, Srodek]
type = Explod
trigger1 = time = 0
trigger2 = time = 70
anim = F696
ownpal = 1
ID = 900
pos = -5+random%10,-20-random%10
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
supermovetime = 9999
pausemovetime = 9999
vel = -1+random%3,-1-random%2
scale = 1,1
sprpriority = 5
ontop = 0

[State 0, Lewa]
type = Explod
trigger1 = time = 0
trigger2 = time = 70
anim = F696
ownpal = 1
ID = 900
pos = -10-random%10,-30-random%20
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
supermovetime = 9999
pausemovetime = 9999
vel = 0-random%2,-1-random%3
scale = 0.6,0.6
sprpriority = 5
ontop = 0

[State 0, HitOverride]
type = HitOverride
trigger1 = 1
attr = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
stateno = 199
time = 10

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
trigger2 = time = 70
value = F9,0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
trigger2 = time = 70
value = F9,2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 1
trigger2 = animelem = 3
trigger3 = animelem = 6
value = F2

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 1
trigger2 = animelem = 3
trigger3 = animelem = 6
anim = F300
ID = 24
pos = -10,2
postype = p1  ;p2,front,back,left,right
scale = 1.2,1.2
sprpriority = 2
vel = -1.3,-1
bindtime = 1
ownpal = 1
ontop = 0

[State 0, ChangeAnim]
type = ChangeAnim
trigger1 = time = 0
value = 100+var(0)*10000

[State 100, 1]
type = VelSet
trigger1 = 1
x = const(velocity.run.fwd.x)

[State 100, 3] ;Prevent from turning
type = AssertSpecial
trigger1 = 1
flag = NoAutoTurn

[State 0, End]
type = ChangeState
trigger1 = p2bodydist x = [0,20]
value = 410
ctrl = 1

[State 0, End]
type = DestroySelf
trigger1 = time = 70
;-----------------
;ZU
[StateDef 415]
type = S
movetype= A
physics = S
juggle  = 1
velset = 3,0
ctrl = 0
anim = 415
poweradd = -250
sprpriority = 2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
trigger2 = animelem = 6
value = F8,0+random%4
volume = 255
channel = 8

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = S3,15

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = S3,15

[State 0, HitDef]
type = HitDef
givepower = 0
getpower = 0
fall.yvelocity = -6
trigger1 = AnimElem = 3
attr = S, NA
damage = 50,20
getpower = 0
animtype = Light
guardflag = MA
hitflag = MAF
priority = cond(var(0) < 2, 3, 1)
pausetime = 10, 20
sparkno = 0+random%4
sparkxy = -15, -54*0.85
hitsound = 35, 0+random%15;5, 21+random%5
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -2,1
airguard.velocity = -2,1
air.type = High
air.velocity = -2,1
air.hittime = 12
envshake.time = 20
envshake.freq = 25
envshake.ampl = -6
envshake.phase = 10

[State 0, HitDef]
type = HitDef
givepower = 0
getpower = 0
fall.yvelocity = -6
trigger1 = AnimElem = 7
attr = S, NA
damage = 50,20
getpower = 0
animtype = Light
guardflag = MA
hitflag = MAF
priority = cond(var(0) < 2, 3, 1)
pausetime = 10, 20
sparkno = 0+random%4
sparkxy = -15, -48*0.85
hitsound = 35, 0+random%15;5, 21+random%5
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -2,-2
airguard.velocity = -2,-2
air.type = High
air.velocity = -2,-2
air.hittime = 12
envshake.time = 20
envshake.freq = 25
envshake.ampl = -6
envshake.phase = 10
fall = 1

[State 0, HitOverride]
type = HitOverride
trigger1 = 1
attr = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
stateno = 199
time = 10

[State 0, End]
type = Changestate
trigger1 = parent, stateno != [400,405]
trigger2 = animtime = 0
value = 199
;------------------
;Naruto Rendan
[StateDef 416]
type = S
movetype= A
physics = S
juggle  = 1
ctrl = 0
anim = 409
poweradd = 0
sprpriority = 2

[State 0, PosSet]
type = PosSet
trigger1 = 1
y = 0

[State 0, Prawa]
type = Explod
trigger1 = time = 0
trigger2 = time = 100
anim = F696
ownpal = 1
ID = 900
pos = 10+random%10,-30-random%20
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
supermovetime = 9999
pausemovetime = 9999
vel = 0+random%2,-1-random%3
scale = 0.6,0.6
sprpriority = 5
ontop = 0

[State 0, Srodek]
type = Explod
trigger1 = time = 0
trigger2 = time = 100
anim = F696
ownpal = 1
ID = 900
pos = -5+random%10,-20-random%10
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
supermovetime = 9999
pausemovetime = 9999
vel = -1+random%3,-1-random%2
scale = 1,1
sprpriority = 5
ontop = 0

[State 0, Lewa]
type = Explod
trigger1 = time = 0
trigger2 = time = 100
anim = F696
ownpal = 1
ID = 900
pos = -10-random%10,-30-random%20
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
supermovetime = 9999
pausemovetime = 9999
vel = 0-random%2,-1-random%3
scale = 0.6,0.6
sprpriority = 5
ontop = 0

[State 0, HitOverride]
type = HitOverride
trigger1 = 1
attr = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
stateno = 199
time = 10

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
trigger2 = time = 100
value = F9,0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
trigger2 = time = 100
value = F9,2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 1
trigger2 = animelem = 3
trigger3 = animelem = 6
value = F2

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 1
trigger2 = animelem = 3
trigger3 = animelem = 6
anim = F300
ID = 24
pos = -10,2
postype = p1  ;p2,front,back,left,right
scale = 1.2,1.2
sprpriority = 2
vel = -1.3,-1
bindtime = 1
ownpal = 1
ontop = 0

[State 0, ChangeAnim]
type = ChangeAnim
trigger1 = time = 0
value = 100+var(0)*10000

[State 100, 1]
type = VelSet
trigger1 = 1
x = const(velocity.run.fwd.x)

[State 100, 3] ;Prevent from turning
type = AssertSpecial
trigger1 = 1
flag = NoAutoTurn

[State 0, End]
type = ChangeState
trigger1 = p2bodydist x = [0,20]
value = 415
ctrl = 1

[State 0, End]
type = DestroySelf
trigger1 = time = 100
;-----------------
;MA
[StateDef 420]
type = S
movetype= A
physics = S
juggle  = 1
velset = 3,0
ctrl = 0
anim = 420
poweradd = -250
sprpriority = 2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
trigger2 = animelem = 6
value = F8,0+random%4
volume = 255
channel = 8

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = S3,16

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = S3,16

[State 0, HitDef]
type = HitDef
givepower = 0
getpower = 0
fall.yvelocity = -6
trigger1 = AnimElem = 3
attr = S, NA
damage = 50,20
getpower = 0
animtype = Light
guardflag = MA
hitflag = MAF
priority = cond(var(0) < 2, 3, 1)
pausetime = 10, 20
sparkno = 0+random%4
sparkxy = -15, -42*0.85
hitsound = 35, 0+random%15;5, 21+random%5
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -2,0
airguard.velocity = -2,0
air.type = High
air.velocity = -2,0
air.hittime = 12
envshake.time = 20
envshake.freq = 25
envshake.ampl = -6
envshake.phase = 10

[State 0, HitDef]
type = HitDef
givepower = 0
getpower = 0
fall.yvelocity = -6
trigger1 = AnimElem = 7
attr = S, NA
damage = 50,10
getpower = 0
animtype = Light
guardflag = MA
hitflag = MAF
priority = cond(var(0) < 2, 3, 1)
pausetime = 10, 20
sparkno = 0+random%4
sparkxy = -15, -34*0.85
hitsound = 35, 0+random%15;5, 21+random%5
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -2,-1
airguard.velocity = -2,-1
air.type = High
air.velocity = -2,-1
air.hittime = 12
envshake.time = 20
envshake.freq = 25
envshake.ampl = -6
envshake.phase = 10
fall = 1

[State 0, HitOverride]
type = HitOverride
trigger1 = 1
attr = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
stateno = 199
time = 10

[State 0, End]
type = Changestate
trigger1 = parent, stateno != [400,405]
trigger2 = animtime = 0
value = 199
;------------------
;Naruto Rendan
[StateDef 421]
type = S
movetype= A
physics = S
juggle  = 1
ctrl = 0
anim = 409
poweradd = 0
sprpriority = 2

[State 0, PosSet]
type = PosSet
trigger1 = 1
y = 0

[State 0, Prawa]
type = Explod
trigger1 = time = 0
trigger2 = time = 100
anim = F696
ownpal = 1
ID = 900
pos = 10+random%10,-30-random%20
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
supermovetime = 9999
pausemovetime = 9999
vel = 0+random%2,-1-random%3
scale = 0.6,0.6
sprpriority = 5
ontop = 0

[State 0, Srodek]
type = Explod
trigger1 = time = 0
trigger2 = time = 100
anim = F696
ownpal = 1
ID = 900
pos = -5+random%10,-20-random%10
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
supermovetime = 9999
pausemovetime = 9999
vel = -1+random%3,-1-random%2
scale = 1,1
sprpriority = 5
ontop = 0

[State 0, Lewa]
type = Explod
trigger1 = time = 0
trigger2 = time = 100
anim = F696
ownpal = 1
ID = 900
pos = -10-random%10,-30-random%20
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
supermovetime = 9999
pausemovetime = 9999
vel = 0-random%2,-1-random%3
scale = 0.6,0.6
sprpriority = 5
ontop = 0

[State 0, HitOverride]
type = HitOverride
trigger1 = 1
attr = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
stateno = 199
time = 10

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
trigger2 = time = 100
value = F9,0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
trigger2 = time = 100
value = F9,2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 1
trigger2 = animelem = 3
trigger3 = animelem = 6
value = F2

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 1
trigger2 = animelem = 3
trigger3 = animelem = 6
anim = F300
ID = 24
pos = -10,2
postype = p1  ;p2,front,back,left,right
scale = 1.2,1.2
sprpriority = 2
vel = -1.3,-1
bindtime = 1
ownpal = 1
ontop = 0

[State 0, ChangeAnim]
type = ChangeAnim
trigger1 = time = 0
value = 100+var(0)*10000

[State 100, 1]
type = VelSet
trigger1 = 1
x = const(velocity.run.fwd.x)

[State 100, 3] ;Prevent from turning
type = AssertSpecial
trigger1 = 1
flag = NoAutoTurn

[State 0, End]
type = ChangeState
trigger1 = p2bodydist x = [0,20]
value = 420
ctrl = 1

[State 0, End]
type = DestroySelf
trigger1 = time = 100
;-----------------
;KI
[StateDef 425]
type = S
movetype= A
physics = S
juggle  = 1
velset = 3,0
ctrl = 0
anim = 425
poweradd = -250
sprpriority = 2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 5
value = F3

[State 0, Explod]
type = Explod
trigger1 = animelem = 5
anim = F360
pos = 0,0
scale = 1,1
postype = p1
facing = 1
bindtime = 1
removetime = -2
sprpriority = 3
ownpal = 1

[State 0, VelSet]
type = VelSet
trigger1 = animelem = 5
y = -4

[State 0, VelSet]
type = VelSet
trigger1 = time > 14 && pos y < 0
x = 3

[State 0, Gravity]
type = Gravity
trigger1 = time > 14 && pos y < 0

[State 0, ChangeAnim]
type = ChangeAnim
trigger1 = time > 14 && pos y >= 0
triggerall = anim = 425
value = 2111

[State 0, PosSet]
type = PosSet
trigger1 = time > 14 && pos y >= 0
y = 0

[State 0, VelSet]
type = VelSet
trigger1 = time > 14 && pos y >= 0
x = 0
y = 0

[State 0, StateTypeSet]
type = StateTypeSet
trigger1 = time > 14 && pos y >= 0
statetype = S
movetype = A
physics = S

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time > 14 && pos y >= 0
persistent = 0
value = F4

[State 0, Explod]
type = Explod
trigger1 = time > 14 && pos y >= 0
persistent = 0
anim = F290
ID = 23
pos = -1,3
postype = p1  ;p2,front,back,left,right
scale = 1.8,1.5
sprpriority = 2
ontop = 0
ownpal = 1



[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
trigger2 = animelem = 6
value = F8,0+random%4
volume = 255
channel = 8

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = S3,17

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = S3,17

[State 0, HitDef]
type = HitDef
givepower = 0
getpower = 0
fall.yvelocity = -6
trigger1 = AnimElem = 3
attr = S, NA
damage = 50,10
getpower = 0
animtype = Light
guardflag = MA
hitflag = MAF
priority = cond(var(0) < 2, 3, 1)
pausetime = 0, 10
sparkno = 0+random%4
sparkxy = -15, -41*0.85
hitsound = 35, 0+random%15;5, 21+random%5
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -2,0
airguard.velocity = -2,0
air.type = High
air.velocity = -2,0
air.hittime = 12
envshake.time = 20
envshake.freq = 25
envshake.ampl = -6
envshake.phase = 10

[State 0, HitDef]
type = HitDef
givepower = 0
getpower = 0
fall.yvelocity = -6
trigger1 = AnimElem = 7
attr = S, NA
damage = 50,20
getpower = 0
animtype = Light
guardflag = MA
hitflag = MAF
priority = cond(var(0) < 2, 3, 1)
pausetime = 0, 0
sparkno = 0+random%4
sparkxy = -15, -34*0.85
hitsound = 35, 0+random%15;5, 21+random%5
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = 0,-8
airguard.velocity = 0,-8
air.type = High
air.velocity = 0,-8
air.hittime = 12
envshake.time = 20
envshake.freq = 25
envshake.ampl = -6
envshake.phase = 10
fall = 1

[State 0, HitOverride]
type = HitOverride
trigger1 = 1
attr = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
stateno = 199
time = 10

[State 0, End]
type = Changestate
trigger1 = parent, stateno != [400,405]
trigger2 = animtime = 0
triggerall = anim = 2111
value = 199
;------------------
;Naruto Rendan
[StateDef 426]
type = S
movetype= A
physics = S
juggle  = 1
ctrl = 0
anim = 409
poweradd = 0
sprpriority = 2

[State 0, PosSet]
type = PosSet
trigger1 = 1
y = 0

[State 0, Prawa]
type = Explod
trigger1 = time = 0
trigger2 = time = 100
anim = F696
ownpal = 1
ID = 900
pos = 10+random%10,-30-random%20
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
supermovetime = 9999
pausemovetime = 9999
vel = 0+random%2,-1-random%3
scale = 0.6,0.6
sprpriority = 5
ontop = 0

[State 0, Srodek]
type = Explod
trigger1 = time = 0
trigger2 = time = 100
anim = F696
ownpal = 1
ID = 900
pos = -5+random%10,-20-random%10
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
supermovetime = 9999
pausemovetime = 9999
vel = -1+random%3,-1-random%2
scale = 1,1
sprpriority = 5
ontop = 0

[State 0, Lewa]
type = Explod
trigger1 = time = 0
trigger2 = time = 100
anim = F696
ownpal = 1
ID = 900
pos = -10-random%10,-30-random%20
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
supermovetime = 9999
pausemovetime = 9999
vel = 0-random%2,-1-random%3
scale = 0.6,0.6
sprpriority = 5
ontop = 0

[State 0, HitOverride]
type = HitOverride
trigger1 = 1
attr = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
stateno = 199
time = 10

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
trigger2 = time = 100
value = F9,0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
trigger2 = time = 100
value = F9,2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 1
trigger2 = animelem = 3
trigger3 = animelem = 6
value = F2

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 1
trigger2 = animelem = 3
trigger3 = animelem = 6
anim = F300
ID = 24
pos = -10,2
postype = p1  ;p2,front,back,left,right
scale = 1.2,1.2
sprpriority = 2
vel = -1.3,-1
bindtime = 1
ownpal = 1
ontop = 0

[State 0, ChangeAnim]
type = ChangeAnim
trigger1 = time = 0
value = 100+var(0)*10000

[State 100, 1]
type = VelSet
trigger1 = 1
x = const(velocity.run.fwd.x)

[State 100, 3] ;Prevent from turning
type = AssertSpecial
trigger1 = 1
flag = NoAutoTurn

[State 0, End]
type = ChangeState
trigger1 = p2bodydist x = [0,20]
value = 425
ctrl = 1

[State 0, End]
type = DestroySelf
trigger1 = time = 100
;-----------------
;GAMA BOSSU
[StateDef 430]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 430+var(0)*10000
poweradd = 0
sprpriority = cond(var(0) < 2,2,1)

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
trigger2 = animelem = 3
trigger3 = animelem = 5
trigger4 = animelem = 7
trigger5 = animelem = 9
trigger6 = animelem = 14
value = F8,0+random%4
volume = 255
channel = 8

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
trigger2 = animelem = 4
trigger3 = animelem = 6
trigger4 = animelem = 8
trigger5 = animelem = 10
value = F17,0

[State 0, Explod]
type = Explod
trigger1 = animelem = 12
anim = F13
pos = 6*0.85,-48*0.85
postype = p1  ;p2,front,back,left,right
facing = -1
vel = -0.5,-0.3
bindtime = 1
removetime = -2
sprpriority = 3
scale = 0.9,0.9
ontop = 0
supermovetime = 9999
pausemovetime = 9999

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 7
value = S3,11

[State 0, Helper]
type = Helper
trigger1 = time = 55 && numhelper(437) = 0
helpertype = normal
name = "Bossu"
stateno = 437
ID = 437
pos = -120,0
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1
supermovetime = 9999
pausemovetime = 9999
size.xscale = 0.8
size.yscale = 0.8

[State 0, Helper] 
type = Helper 
trigger1 = time = 45 && numhelper(431) = 0 
helpertype = normal
name = "pieczec kuchiyose" 
ID = 431
stateno = 431
pos = 5,0
postype = p1 
ownpal = 1 
pausemovetime = 9999
supermovetime = 9999

[State 0, End]
type = ChangeState
trigger1 = animtime = 0
value = 0
ctrl = 1
;---------------------
;Pieczêæ
[StateDef 431]
type = S
anim = 431
sprpriority = -3

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[State 0, AngleDraw]
type = AngleDraw
trigger1 = time < 17
scale = 0.0015*(time*22),0.00020*(time*19)

[State 0, AngleDraw]
type = AngleDraw
trigger1 = time > 16
scale = 0.5625,0.065

[State 0, Trans]
type = Trans
trigger1 = 1
trans = Sub

[State 0, ChangeState]
type = destroyself
trigger1 = time = 70
;------------------
;Wodna kula lot
[StateDef 432]
type = A
movetype= A
physics = N
juggle  = 1
velset = 0,0
ctrl = 0
anim = 432
poweradd = 0
sprpriority = 10

[State 0, TargetState]
type = TargetState
trigger1 = enemy(cond((enemy(0),alive),0,1)), var(53) = 0
trigger1 = !(enemynear, ishelper)
trigger1 = target, ishelper = 0
trigger1 = movehit
value = 109932

[State 0, VelSet]
type = VelSet
trigger1 = pos y < 0
triggerall = ishelper(432)
x = 12

[State 0, VelSet]
type = VelSet
trigger1 = time = 0
triggerall = ishelper(432)
y = 4

[State 0, VelSet]
type = VelSet
trigger1 = pos y < 0
triggerall = ishelper(433)
x = 18

[State 0, VelSet]
type = VelSet
trigger1 = time = 0
triggerall = ishelper(433)
y = 3

[State 0, VelSet]
type = VelSet
trigger1 = pos y < 0
triggerall = ishelper(434)
x = 24

[State 0, VelSet]
type = VelSet
trigger1 = time = 0
triggerall = ishelper(434)
y = 2

[State 0, VelAdd]
type = VelAdd
trigger1 = pos y < 0
y = 0.2

[State 0, Explod]
type = Explod
trigger1 = time = 5
anim = F461
pos = -10,0
postype = p1  ;p2,front,back,left,right
facing = 1
bindtime = 10
removetime = -2
sprpriority = 11
scale = 0.55,0.55
ontop = 0
ownpal = 1
supermovetime = 9999
pausemovetime = 9999
angle = -atan(vel y/vel x)*180/PI 

[State 0, AngleDraw]
type = AngleDraw
trigger1 = time > 0
value = -atan(vel y/vel x)*180/PI 

[State 0, AngleDraw]
type = AngleDraw
trigger1 = time < 10
scale = 0.1+time*0.09,0.1+time*0.09

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = F14,5

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = F14,6

[State 0, HitDef]
type = HitDef
givepower = 0
getpower = 0
fall.yvelocity = -6
trigger1 = timemod = 5,0
attr = S,NA
damage = 25,10
getpower = 0
animtype = Light
guardflag = MA
hitflag = MAF
sprpriority = 11
pausetime = 0, 3
sparkno = 1550;240
sparkxy = -20+random%40, 20-random%40
hitsound = F12,0
guardsound = F12,0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -4, -vel y*0.6
airguard.velocity = -4, -vel y*0.6
air.type = High
air.velocity = -3, -vel y*0.6
air.hittime = 12
envshake.time = 20
envshake.freq = 25
envshake.ampl = -6
envshake.phase = 10
fall = 1

[State 0, End]
type = ChangeState
trigger1 = pos y >= 0
value = 433
ctrl = 1
;------------------
;Wodna kula Wybuch
[StateDef 433]
type = A
movetype= A
physics = S
juggle  = 1
velset = 5,0
ctrl = 0
anim = 433
poweradd = 0
sprpriority = 10

[State 0, TargetState]
type = TargetState
trigger1 = enemy(cond((enemy(0),alive),0,1)), var(53) = 0
trigger1 = !(enemynear, ishelper)
trigger1 = target, ishelper = 0
trigger1 = movehit
value = 109932

[State 0, VelSet]
type = VelSet
trigger1 = 1
y = 0

[State 0, Explod]
type = Explod
trigger1 = time = 5
anim = 434
pos = 0,0
postype = p1  ;p2,front,back,left,right
facing = 1
bindtime = -1
removetime = -2
sprpriority = 11
scale = 0.3,0.3
ontop = 0
ownpal = 1
supermovetime = 9999
pausemovetime = 9999

[State 0, Explod]
type = Explod
trigger1 = timemod = 5,0
trigger1 = time < 20
anim = F241
pos = -40+random%80,-20-random%30
postype = p1  ;p2,front,back,left,right
facing = 1
bindtime = -1
removetime = -2
sprpriority = 11
scale = 2,2
ontop = 0
ownpal = 1
supermovetime = 9999
pausemovetime = 9999

[State 0, Wybuch Dym]
type = Explod
ownpal = 1
trigger1 = time = 0
anim = F587
id = 587
pos = 0,0
postype = p1
facing = -1
bindtime = 10
removetime = -2
sprpriority = 11
removeongethit = 0
supermovetime = 9999
pausemovetime = 9999
scale = .6,.6
ownpal = 1

[State 0, Rozwalona ziemia]
type = Explod
ownpal = 1
trigger1 = time = 5
anim = F64
id = 64
pos = 0,0
postype = p1
facing = -1
bindtime = 10
removetime = -2
sprpriority = -2
removeongethit = 0
supermovetime = 9999
pausemovetime = 9999
scale = 0.8,0.35
ownpal = 1

[State 0, Kamienie]
type = Explod
trigger1 = timemod = 5,0
triggerall = time < 20
anim = F591
ID = 591
pos = -50+random%100,5-random%20
vel = -1+random%3,-3
accel = 0,0.1
angle = random
postype = p1
bindtime = 1
removetime = -2
supermovetime = 9999
pausemovetime = 9999
scale = 1,1
sprpriority = 8+random%5
ontop = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = F12,3

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = F12,3

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = F15,6

[State 0, HitDef]
type = HitDef
givepower = 0
getpower = 0
fall.yvelocity = -6
trigger1 = !time
attr = S,NA
damage = 400,200
getpower = 0
animtype = Light
guardflag = MA
hitflag = MAF
sprpriority = 3
pausetime = 0, 3
sparkno = 242
sparkxy = -20+random%40, 20-random%40
hitsound = F12,0
guardsound = F12,0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -6, -5
airguard.velocity = -6, -5
air.type = High
air.velocity = -6, -5
air.hittime = 12
envshake.time = 20
envshake.freq = 25
envshake.ampl = -6
envshake.phase = 10
fall = 1

[State 0, End]
type = destroyself
trigger1 = animtime = 0
;--------------------
;Gama Bossu
[StateDef 435]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 435
poweradd = -2000
sprpriority = 9

[State 0, NotHitBy]
type = NotHitBy
trigger1 = time >= 0
value = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
value2 = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
time = 9999

[State 46521, ScreenBound]
type = ScreenBound
trigger1 = 1
value = 0
movecamera = 0,0

[State 220, PlaySnd]
type = PlaySnd
trigger1 = time = 0
trigger2 = time = 125
value = S8,1

[State 220, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S8,3

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 50
value = S8,2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 50
value = S8,2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 50
value = S8,2

[State 0, Explod]
type = Explod
trigger1 = time = 0
anim = 436
ID = 436
pos = 0,0
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = -1
removetime = 10
pausemovetime = 999
scale = 0.8,0.8
sprpriority = 10
ontop = 0
ownpal = 1

[State 0, Explod]
type = Explod
trigger1 = time = 0
anim = 439
ID = 439
pos = 50,0
facing = -1
postype = p1
bindtime = 1
removetime = 26
supermovetime = 9999
pausemovetime = 9999
scale = 0.7,0.7
sprpriority = 8
ownpal = 1
ontop = 0

[State 0, Explod]
type = Explod
trigger1 = time = 0
anim = 439
ID = 439
pos = -100,0
postype = p1
facing = 1
bindtime = 1
removetime = 26
supermovetime = 9999
pausemovetime = 9999
scale = 0.7,0.7
sprpriority = 8
ownpal = 1
ontop = 0

[State 0, Explod]
type = Explod
trigger1 = time = 0
anim = 439
ID = 439
pos = -80,40
postype = p1
facing = 1
bindtime = 1
removetime = 26
supermovetime = 9999
pausemovetime = 9999
scale = 0.5,0.5
sprpriority = 11
ownpal = 1
ontop = 0

[State 0, Explod]
type = Explod
trigger1 = time = 0
anim = 439
ID = 439
pos = -5,10
postype = p1
facing = -1
bindtime = 1
removetime = 26
supermovetime = 9999
pausemovetime = 9999
scale = 0.5,0.5
sprpriority = 11
ownpal = 1
ontop = 0

[State 0, Explod]
type = Explod
trigger1 = time = 0
trigger2 = time = 125
anim = 440
ID = 440
pos = 60,0
postype = p1  ;p2,front,back,left,right
facing = -1
name = "gamabunta dym"
vfacing = 1
bindtime = 1
removetime = 20
pausemovetime = 999
scale = 1.2,1.2
sprpriority = 12
ontop = 0
ownpal = 1

[State 0, Explod]
type = Explod
trigger1 = time = 0
trigger2 = time = 125
anim = 440
ID = 440
pos = -140,0
postype = p1  ;p2,front,back,left,right
facing = 1
name = "gamabunta dym"
vfacing = 1
bindtime = 1
removetime = 20
pausemovetime = 999
scale = 1.2,1.2
sprpriority = 12
ontop = 0
ownpal = 1

[State 0, Explod]
type = Explod
trigger1 = timemod = 16,1
triggerall = time < 50 || time > 110
anim = 438
ID = 438
pos = 234,-82
vel = 0.25,-0.4
accel = 0.07,-0.1
postype = p1
bindtime = 1
removetime = 30
supermovetime = 9999
pausemovetime = 9999
scale = 0.5,0.5
sprpriority = 8
ownpal = 1
ontop = 0

[State 0, Helper] 
type = Helper 
trigger1 = time = 55
helpertype = normal
name = "Woda" 
ID = 432
stateno = 432
pos = 120,-70
postype = p1 
ownpal = 1 
size.xscale = 0.5
size.yscale = 0.5
pausemovetime = 9999
supermovetime = 9999

[State 0, Helper] 
type = Helper 
trigger1 = time = 75
helpertype = normal
name = "Woda" 
ID = 433
stateno = 432
pos = 120,-70
postype = p1 
ownpal = 1 
size.xscale = 0.5
size.yscale = 0.5
pausemovetime = 9999
supermovetime = 9999

[State 0, Helper] 
type = Helper 
trigger1 = time = 95
helpertype = normal
name = "Woda" 
ID = 434
stateno = 432
pos = 120,-70
postype = p1 
ownpal = 1 
size.xscale = 0.5
size.yscale = 0.5
pausemovetime = 9999
supermovetime = 9999

[State 0, DestroySelf]
type = DestroySelf
trigger1 = time = 130
;-----------------
;Gama Bossu
[StateDef 436]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 435
poweradd = 0
sprpriority = 0

[State 220, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S8,3

[State 46521, ScreenBound]
type = ScreenBound
trigger1 = 1
value = 0
movecamera = 0,0

[State 0, NotHitBy]
type = NotHitBy
trigger1 = time >= 0
value = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
value2 = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
time = 9999

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = time = 1
id = 436

[State 0, EnvShake]
type = EnvShake
trigger1 = time = 1
time = 30
freq = 60
ampl = -7
phase = 90

[State 0, PosSet]
type = PosSet
trigger1 = 1
y = 0

[State 0, Explod]
type = Explod
trigger1 = timemod = 16,1
anim = 438
ID = 438
pos = -234,-82
vel = -0.25,-0.4
accel = -0.07,-0.1
postype = p1
bindtime = 1
removetime = 30
supermovetime = 9999
pausemovetime = 9999
scale = 0.5,0.5
sprpriority = -1
ownpal = 1
ontop = 0

[State 0, Explod]
type = Explod
trigger1 = time = 0
anim = 439
ID = 439
pos = -50,0
postype = p1
bindtime = 1
removetime = 26
supermovetime = 9999
pausemovetime = 9999
scale = 0.7,0.7
sprpriority = -1
ownpal = 1
ontop = 0

[State 0, Explod]
type = Explod
trigger1 = time = 0
anim = 439
ID = 439
pos = 100,0
postype = p1
facing = -1
bindtime = 1
removetime = 26
supermovetime = 9999
pausemovetime = 9999
scale = 0.7,0.7
sprpriority = -1
ownpal = 1
ontop = 0

[State 0, Explod]
type = Explod
trigger1 = time = 0
anim = 439
ID = 439
pos = 80,40
postype = p1
facing = -1
bindtime = 1
removetime = 26
supermovetime = 9999
pausemovetime = 9999
scale = 0.5,0.5
sprpriority = 3
ownpal = 1
ontop = 0

[State 0, Explod]
type = Explod
trigger1 = time = 0
anim = 439
ID = 439
pos = 5,10
postype = p1
bindtime = 1
removetime = 26
supermovetime = 9999
pausemovetime = 9999
scale = 0.5,0.5
sprpriority = 3
ownpal = 1
ontop = 0

[State 0, Explod]
type = Explod
trigger1 = time = 90
anim = 440
ID = 440
pos = -40,0
postype = p1  ;p2,front,back,left,right
facing = 1
name = "gamabunta dym"
vfacing = 1
bindtime = 1
removetime = 20
pausemovetime = 999
scale = 1,1
sprpriority = 3
ontop = 0
ownpal = 1

[State 0, Explod]
type = Explod
trigger1 = time = 90
anim = 440
ID = 440
pos = 120,0
postype = p1  ;p2,front,back,left,right
facing = -1
name = "gamabunta dym"
vfacing = 1
bindtime = 1
removetime = 20
pausemovetime = 999
scale = 1,1
sprpriority = 3
ontop = 0
ownpal = 1

[State 220, PlaySnd]
type = PlaySnd
trigger1 = time = 90
value = S8,1

[State 0, DestroySelf]
type = DestroySelf
trigger1 = time = 100
;--------------
;Niewidzialna anim
[StateDef 437]
type = S
anim = 437

[State 0, Helper]
type = Helper
trigger1 = time = 0
helpertype = normal
name = "Gamabunta"
stateno = 435
ID = 435
pos = 0,0
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1
supermovetime = 10
pausemovetime = 9999
size.xscale = 0.8
size.yscale = 0.8
size.ground.front = 100
size.ground.back = -220
size.air.front = 100
size.air.back = -150
size.height = 200
size.head.pos = 50,-150 
size.mid.pos = 0,-100 

[State 0, ChangeState]
type = Destroyself
trigger1 = numhelper(435) = 1
;-----------------
;GAMAHIRO
[StateDef 440]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 430+var(0)*10000
poweradd = 0
sprpriority = cond(var(0) < 2,2,1)

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
trigger2 = animelem = 3
trigger3 = animelem = 5
trigger4 = animelem = 7
trigger5 = animelem = 9
trigger6 = animelem = 14
value = F8,0+random%4
volume = 255
channel = 8

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
trigger2 = animelem = 4
trigger3 = animelem = 6
trigger4 = animelem = 8
trigger5 = animelem = 10
value = F17,0

[State 0, Explod]
type = Explod
trigger1 = animelem = 12
anim = F13
pos = 6*0.85,-48*0.85
postype = p1  ;p2,front,back,left,right
facing = -1
vel = -0.5,-0.3
bindtime = 1
removetime = -2
sprpriority = 3
scale = 0.9,0.9
ontop = 0
supermovetime = 9999
pausemovetime = 9999

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 7
value = S3,12

[State 0, Helper]
type = Helper
trigger1 = time = 55 && numhelper(447) = 0
helpertype = normal
name = "Bossu"
stateno = 447
ID = 447
pos = 0,0
postype = p1    ;p2,front,back,left,right
facing = -1
keyctrl = 0
ownpal = 1
supermovetime = 9999
pausemovetime = 9999
size.xscale = 0.8
size.yscale = 0.8

[State 0, Helper] 
type = Helper 
trigger1 = time = 45 && numhelper(431) = 0 
helpertype = normal
name = "pieczec kuchiyose" 
ID = 431
stateno = 431
pos = 5,0
postype = p1 
ownpal = 1 
pausemovetime = 9999
supermovetime = 9999

[State 0, End]
type = ChangeState
trigger1 = animtime = 0
value = 0
ctrl = 1
;--------------------
;Gamahiro
[StateDef 445]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 445
poweradd = -3000
sprpriority = 9

[State 0, NotHitBy]
type = NotHitBy
trigger1 = time >= 0
value = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
value2 = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
time = 9999

[State 46521, ScreenBound]
type = ScreenBound
trigger1 = 1
value = 0
movecamera = 0,0

[State 0, PosSet]
type = PosSet
trigger1 = time = 0
y = -300

[State 0, VelSet]
type = VelSet
trigger1 = 1
y = 16
x = 0

[State 220, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S8,1

[State 0, Explod]
type = Explod
trigger1 = time = 0
anim = 440
ID = 440
pos = 0,0
postype = p1  ;p2,front,back,left,right
facing = -1
vfacing = 1
bindtime = 1
removetime = 20
pausemovetime = 999
scale = 1.4,1.5
sprpriority = 12
ontop = 0
ownpal = 1

[State 0, Explod]
type = Explod
trigger1 = time = 0
anim = 446
ID = 446
pos = 0,0
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = -1
removetime = -1
pausemovetime = 999
scale = 0.8,0.8
sprpriority = 10
ontop = 0
ownpal = 1

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = nostandguard
flag2 = nocrouchguard
flag3 = noairguard

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = target, ishelper = 0
flag = unguardable

[State 220, 1]
type = HitDef
givepower = 0
getpower = 0
fall.yvelocity = -6
trigger1 = !time && target,stateno != 100039
attr = C,HP
damage = 1500
getpower = 0
animtype = Light
guardflag = -1
hitflag = MAF
priority = 0, Hit
pausetime = 0,0
sparkno = 4
sparkxy = -10, -30
hitsound = 5, 9
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = 0,0
airguard.velocity = 0,0
air.type = High
air.velocity = 0,0
air.hittime = 12
p2stateno = 100039
p2sprpriority = -3
p1sprpriority = 0

[State 0, ChangeState]
type = ChangeState
trigger1 = pos y > -40
value = 446
ctrl = 1
;-----------------
;Gamahiro
[StateDef 446]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 445
poweradd = 0
sprpriority = 9

[State 220, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S8,3

[State 46521, ScreenBound]
type = ScreenBound
trigger1 = 1
value = 0
movecamera = 0,0

[State 0, NotHitBy]
type = NotHitBy
trigger1 = time >= 0
value = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
value2 = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
time = 9999

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = time = 1
id = 446

[State 0, EnvShake]
type = EnvShake
trigger1 = time = 1
time = 30
freq = 60
ampl = -7
phase = 90

[State 0, PosSet]
type = PosSet
trigger1 = 1
y = 0

[State 0, Explod]
type = Explod
trigger1 = time = 0
anim = 439
ID = 439
pos = -30,0
postype = p1
bindtime = 1
removetime = 26
supermovetime = 9999
pausemovetime = 9999
scale = 0.7,0.7
sprpriority = 8
ownpal = 1
ontop = 0

[State 0, Explod]
type = Explod
trigger1 = time = 0
anim = 439
ID = 439
pos = 50,0
postype = p1
facing = -1
bindtime = 1
removetime = 26
supermovetime = 9999
pausemovetime = 9999
scale = 0.7,0.7
sprpriority = 8
ownpal = 1
ontop = 0

[State 0, Explod]
type = Explod
trigger1 = time = 0
anim = 439
ID = 439
pos = 20,10
postype = p1
facing = -1
bindtime = 1
removetime = 26
supermovetime = 9999
pausemovetime = 9999
scale = 0.5,0.5
sprpriority = 11
ownpal = 1
ontop = 0

[State 0, Explod]
type = Explod
trigger1 = time = 0
anim = 439
ID = 439
pos = 10,10
postype = p1
bindtime = 1
removetime = 26
supermovetime = 9999
pausemovetime = 9999
scale = 0.5,0.5
sprpriority = 11
ownpal = 1
ontop = 0

[State 0, Explod]
type = Explod
trigger1 = time = 90
anim = 440
ID = 440
pos = -70,0
postype = p1  ;p2,front,back,left,right
facing = 1
name = "gamabunta dym"
vfacing = 1
bindtime = 1
removetime = 20
pausemovetime = 999
scale = 1,1.2
sprpriority = 12
ontop = 0
ownpal = 1

[State 0, Explod]
type = Explod
trigger1 = time = 90
anim = 440
ID = 440
pos = 100,0
postype = p1  ;p2,front,back,left,right
facing = -1
name = "gamabunta dym"
vfacing = 1
bindtime = 1
removetime = 20
pausemovetime = 999
scale = 1,1.2
sprpriority = 12
ontop = 0
ownpal = 1

[State 220, PlaySnd]
type = PlaySnd
trigger1 = time = 90
value = S8,1

[State 0, DestroySelf]
type = DestroySelf
trigger1 = time = 100
;--------------
;Niewidzialna anim
[StateDef 447]
type = S
anim = 437

[State 0, Helper]
type = Helper
trigger1 = p2stateno != [5050,5150]
helpertype = normal
name = "Gamahiro"
stateno = 445
ID = 445
pos = -50,0
postype = p2    ;p2,front,back,left,right
facing = -1
keyctrl = 0
ownpal = 1
supermovetime = 10
pausemovetime = 9999
size.xscale = 0.8
size.yscale = 0.8
size.ground.front = 150
size.ground.back = -130
size.air.front = 70
size.air.back = -110
size.height = 220
size.head.pos = -30,-170 
size.mid.pos = 0,-100 

[State 0, ChangeState]
type = Destroyself
trigger1 = numhelper(445) = 1
;------------------
;Naruto Nisen Rendan
[StateDef 450]
type = A
movetype= A
physics = N
juggle  = 1
ctrl = 0
anim = 450+var(0)*10000
poweradd = 0
sprpriority = 2

;----------------

[State 0, VelSet]
type = VelSet
trigger1 = time = 0
x = vel x /2
y = cond(vel y > 0, 0.5, -0.5)

[State 0, VelAdd]
type = VelAdd
trigger1 = pos y < 0
y = const(movement.yaccel)*.2

[State 0, PosSet]
type = PosSet
trigger1 = pos y >= 0
y = 0

[State 0, End]
type = ChangeState
trigger1 = pos y >= 0
value = 52
;----------------

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F17,0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
value = F8,0+random%4
volume = 255
channel = 8

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = S3,19

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = S3,19

[State 0, Helper]
type = Helper
trigger1 = animelem = 2
triggerall = numhelper(451) = 0
helpertype = normal;player
name = "Kage Bunshin"
ID = 451
stateno = 451
pos = 0,0
size.xscale = 1
size.yscale = 1
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1

[State 0, End]
type = ChangeState
trigger1 = Time = 90
value = 50
ctrl = 1
;------------------
;Bunshin Barrage
[StateDef 451]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 451
poweradd = 0
sprpriority = 2

[State 0, BindToParent]
type = BindToParent
trigger1 = 1
time = 1
facing = 0
pos = 0,0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = timemod = 5,0
triggerall = parent, stateno = 450
value = F9,0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = timemod = 5,0
triggerall = parent, stateno = 450
value = F9,2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = timemod = 5,0
triggerall = parent, stateno = 450
value = F14,5

[State 0, Helper]
type = Helper
trigger1 = timemod = 2,0
triggerall = parent, stateno = 450
helpertype = normal;player
name = "Kage Bunshin"
ID = 450
stateno = 455
pos = -30+random%80,30-random%90
size.xscale = 0.85
size.yscale = 0.85
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1

[State 0, End]
type = Destroyself
trigger1 = time = 60
;-----------------
;Naruto Nisen Rendan
[StateDef 455]
type = A
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 455
poweradd = -50
sprpriority = 2

[State 0, PosAdd]
type = PosAdd
trigger1 = animelem = 2
y = 30

[State 0, AngleDraw]
type = AngleDraw
trigger1 = pos y >= 0
value = 0

[State 0, Srodek]
type = Explod
trigger1 = time = 0
anim = F696
ownpal = 0
ID = 900
pos = 0,-30
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
supermovetime = 9999
pausemovetime = 9999
vel = -1+random%3,-1-random%2
scale = 1.2,1.2
sprpriority = 5
ontop = 0

[State 0, HitOverride]
type = HitOverride
trigger1 = 1
attr = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
stateno = 456
time = 10

[State 0, VarSet]
type = VarSet
trigger1 = time = 0
v = 10    
value = 8+random%12

[State 0, VarSet]
type = VarSet
trigger1 = time = 1
v = 11   
value = 6+random%6

[State 0, VelSet]
type = VelSet
trigger1 = pos y < 0
triggerall = time >= 5
x = var(10)

[State 0, VelSet]
type = VelSet
trigger1 = pos y < 0
triggerall = time >= 5
y = var(11)

[State 0, AngleDraw]
type = AngleDraw
trigger1 = time >= 5 && pos y < 0
value = 25-atan(vel y/vel x)*180/PI 

[State 0, Gravity]
type = Gravity
trigger1 = time >= 5 && pos y < 0

[State 0, PosSet]
type = PosSet
trigger1 = pos y >= 0
y = 0

[State 0, VelSet]
type = VelSet
trigger1 = pos y >= 0
x = 0
y = 0

[State 0, StateTypeSet]
type = StateTypeSet
trigger1 = pos y >= 0
statetype = S
movetype = A
physics = S

[State 0, PlayerPush]
type = PlayerPush
trigger1 = 1
value = 0

[State 0, HitDef]
type = HitDef
fall.yvelocity = -6
trigger1 = !time
attr = S, NA
damage = 30,10
animtype = Light
guardflag = MA
hitflag = MAF
priority = cond(var(0) < 2, 3, 1)
pausetime = 0, 10
sparkno = 0+random%4
sparkxy = -15, 0
hitsound = 35, 0+random%15;5, 21+random%5
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -5,2
airguard.velocity = -5,2
air.type = High
air.velocity = -5,2
air.hittime = 12
envshake.time = 30
envshake.freq = 30
envshake.ampl = -7
envshake.phase = 10
fall = 1

[State 0, End]
type = ChangeState
trigger1 = frontedgebodydist < -50
trigger2 = pos y >= 0 && time >= 5
value = 456
ctrl = 1
;-----------------
;Naruto Nisen Rendan
[StateDef 456]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 456
poweradd = 0
sprpriority = 2

[State 0, Srodek]
type = Explod
trigger1 = time = 0
anim = F696
ownpal = 0
ID = 900
pos = 0,0
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
supermovetime = 9999
pausemovetime = 9999
vel = -1+random%3,-1-random%2
scale = 1.2,1.2
sprpriority = 5
ontop = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = F9,0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = F9,2

[State 0, PosSet]
type = PosSet
trigger1 = pos y >= 0
y = 0

[State 0, VelSet]
type = VelSet
trigger1 = 1
x = 0
y = 0

[State 0, End]
type = Destroyself
trigger1 = time = 1
;------------------
;Fuma Shuriken
[StateDef 480]
type = S
movetype= I
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 480+var(0)*10000
poweradd = 0
sprpriority = 2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F8,0+random%4
volume = 255
channel = 8

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = F17,0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = S3,5+random%1
volume = 255
channel = 3

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 16
value = S3,4

[State 0, Prawa]
type = Explod
trigger1 = time = 16
anim = F696
ownpal = 1
ID = 900
pos = 10+random%10,-30-random%20
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
supermovetime = 9999
pausemovetime = 9999
vel = 0+random%2,-1-random%3
scale = 0.6,0.6
sprpriority = 5
ontop = 0

[State 0, Srodek]
type = Explod
trigger1 = time = 16
anim = F696
ownpal = 1
ID = 900
pos = -5+random%10,-20-random%10
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
supermovetime = 9999
pausemovetime = 9999
vel = -1+random%3,-1-random%2
scale = 1,1
sprpriority = 5
ontop = 0

[State 0, Lewa]
type = Explod
trigger1 = time = 16
anim = F696
ownpal = 1
ID = 900
pos = -10-random%10,-30-random%20
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
supermovetime = 9999
pausemovetime = 9999
vel = 0-random%2,-1-random%3
scale = 0.6,0.6
sprpriority = 5
ontop = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 16
value = F9,0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 16
value = F9,2

[State 0, PosAdd]
type = PosAdd
trigger1 = time = 17
x = 5*0.85
y = -36*0.85

[State 0, AngleDraw]
type = AngleDraw
trigger1 = time > 16
value = -time*time*5

[State 0, SprPriority]
type = SprPriority
trigger1 = time > 16
value = -2

[State 0, Helper]
type = Helper
trigger1 = time = 11
helpertype = normal;player
name = "Kage Bunshin"
ID = 200
stateno = 481
pos = 12*0.85,0
size.xscale = 0.85
size.yscale = 0.85
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1

[State 0, End]
type = ChangeState
trigger1 = animtime = 0
value = 482
ctrl = 1
;-----------------
;Fuma Shuriken
[StateDef 481]
type = S
movetype= I
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 481+parent,var(0)*10000
poweradd = 0
sprpriority = 3

[State 0, VarSet]
type = VarSet
trigger1 = 1
v = 0
value = parent, var(0)

[State 0, PosSet]
type = PosSet
trigger1 = 1
y = 0

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 480 && parent, time > 17
time = 1
pos = 5*0.85,36*0.85

[State 0, Prawa]
type = Explod
trigger1 = time = 0
trigger2 = time = 35
anim = F696
ownpal = 1
ID = 900
pos = 10+random%10,-30-random%20
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
supermovetime = 9999
pausemovetime = 9999
vel = 0+random%2,-1-random%3
scale = 0.6,0.6
sprpriority = 5
ontop = 0

[State 0, Srodek]
type = Explod
trigger1 = time = 0
trigger2 = time = 35
anim = F696
ownpal = 1
ID = 900
pos = -5+random%10,-20-random%10
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
supermovetime = 9999
pausemovetime = 9999
vel = -1+random%3,-1-random%2
scale = 1,1
sprpriority = 5
ontop = 0

[State 0, Lewa]
type = Explod
trigger1 = time = 0
trigger2 = time = 35
anim = F696
ownpal = 1
ID = 900
pos = -10-random%10,-30-random%20
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
supermovetime = 9999
pausemovetime = 9999
vel = 0-random%2,-1-random%3
scale = 0.6,0.6
sprpriority = 5
ontop = 0

[State 0, NotHitBy]
type = NotHitBy
trigger1 = 1
value = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
time = 10

[State 0, PlayerPush]
type = PlayerPush
trigger1 = 1
value = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
trigger2 = time = 35
value = F9,0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
trigger2 = time = 35
value = F9,2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = F8,0+random%4
volume = 255
channel = 8

[State 0, End]
type = destroyself
trigger1 = animtime = 0
;------------------
;Fuma Shuriken
[StateDef 482]
type = S
movetype= A
physics = N
juggle  = 1
velset = 0,0
ctrl = 0
anim = 482
poweradd = -300
sprpriority = 2

[State 0, NotHitBy]
type = NotHitBy
trigger1 = 1
value = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
time = 10

[State 0, PlaySnd]
type = PlaySnd
trigger1 = timemod = 8,0
value = F21,6

[State 0, AngleDraw]
type = AngleDraw
trigger1 = 1
value = -time*50

[State 0, PosSet]
type = VelSet
trigger1 = time = 0
x = 14
y = -2

[State 0, VelAdd]
type = VelAdd
trigger1 = time > 1
x = -0.2
y = 0.2

[State 0, PlayerPush]
type = PlayerPush
trigger1 = hitcount < 3
value = 1

[State 0, PlayerPush]
type = PlayerPush
trigger1 = hitcount >= 3
value = 0

[State 0, Explod]
type = Explod
trigger1 = movehit = 1 && p2movetype = H
anim = F10+random%2
angle = -25+random%50
pos = -10,10-random%20
postype = p1  ;p2,front,back,left,right
facing = 1
bindtime = 5
removetime = -2
sprpriority = 3
scale = 1.3,1.3
ownpal = 1
ontop = 0
supermovetime = 9999
pausemovetime = 9999

[State 0, HitDef]
type = HitDef
trigger1 = hitcount < 3
attr = S, NA
damage = 50,10
animtype = Light
guardflag = MA
hitflag = MAF
priority = cond(var(0) < 2, 3, 1)
pausetime = 1, 5
sparkno = 0+random%4
sparkxy = -15, 10-random%20
hitsound = 24, 13
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -3,0
airguard.velocity = -3,-4
air.type = High
air.velocity = -3,-4
air.hittime = 12
envshake.time = 10
envshake.freq = 20
envshake.ampl = -5
envshake.phase = 10

[State 0, End]
type = ChangeState
trigger1 = 0; movehit && p2bodydist x < -50
value = 940
ctrl = 1

[State 0, End]
type = ChangeState
trigger1 = time > 10 && pos y >= 0
value = 483
;------------------------------------------------------------------
;Fuma Shuriken
[StateDef 483]
type = S
movetype= A
physics = N
juggle  = 1
velset = 0,0
ctrl = 0
anim = 483
poweradd = 0
sprpriority = 2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = F21,0

[State 0, NotHitBy]
type = NotHitBy
trigger1 = 1
value = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
time = 10

[State 0, AngleDraw]
type = AngleDraw
trigger1 = 1
value = 0

[State 0, PosSet]
type = PosSet
trigger1 = 1
y = 0

[State 0, Prawa]
type = Explod
trigger1 = time = 28
anim = F696
ownpal = 1
ID = 900
pos = 10+random%10,-20-random%20
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
supermovetime = 9999
pausemovetime = 9999
vel = 0+random%2,-1-random%3
scale = 0.6,0.6
sprpriority = 5
ontop = 0

[State 0, Srodek]
type = Explod
trigger1 = time = 28
anim = F696
ownpal = 1
ID = 900
pos = -5+random%10,-10-random%10
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
supermovetime = 9999
pausemovetime = 9999
vel = -1+random%3,-1-random%2
scale = 1,1
sprpriority = 5
ontop = 0

[State 0, Lewa]
type = Explod
trigger1 = time = 28
anim = F696
ownpal = 1
ID = 900
pos = -10-random%10,-20-random%20
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
supermovetime = 9999
pausemovetime = 9999
vel = 0-random%2,-1-random%3
scale = 0.6,0.6
sprpriority = 5
ontop = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 28
value = F9,0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 28
value = F9,2

[State 0, Turn]
type = Turn
trigger1 = p2bodydist x < -50 && time = 29

[State 0, End]
type = ChangeState
trigger1 = time = 30
value = 0
ctrl = 1
;------------------
;Bunshin Summoner
[StateDef 484]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 451
poweradd = 0
sprpriority = 2

[State 0, PosSet]
type = PosSet
trigger1 = 1
x = enemy, pos x
y = enemy, pos y


[State 0, PlaySnd]
type = PlaySnd
trigger1 = timemod = 5,0
triggerall = parent, stateno = 485
value = F9,0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = timemod = 5,0
triggerall = parent, stateno = 485
value = F9,2

[State 0, Helper]
type = Helper
trigger1 = timemod = 2,0
triggerall = parent, stateno = 485
helpertype = normal;player
name = "Kage Bunshin"
ID = 200
stateno = 486
pos = -150+random%300,-50-random%100
size.xscale = 0.85
size.yscale = 0.85
postype = p2    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1

[State 0, End]
type = Destroyself
trigger1 = time = 30
;------------------
;Shihohappo
[StateDef 485]
type = A
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = cond(pos y = 0,487+var(0)*10000,485+var(0)*10000)
poweradd = 0
sprpriority = 2

[State 0, Turn]
type = Turn
trigger1 = p2bodydist x < -20 && time = 0

[State 0, VelSet]
type = VelSet
trigger1 = time = 0
x = cond(pos y = 0,-5,0)

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F17,0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
value = F8,0+random%4
volume = 255
channel = 8

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 5
value = S3,20

[State 0, Prawa]
type = Explod
trigger1 = time = 0
anim = F696
ownpal = 1
ID = 900
pos = 10+random%10,-20-random%20
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
supermovetime = 9999
pausemovetime = 9999
vel = 0+random%2,-1-random%3
scale = 0.6,0.6
sprpriority = 5
ontop = 0

[State 0, Srodek]
type = Explod
trigger1 = time = 0
anim = F696
ownpal = 1
ID = 900
pos = -5+random%10,-10-random%10
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
supermovetime = 9999
pausemovetime = 9999
vel = -1+random%3,-1-random%2
scale = 1,1
sprpriority = 5
ontop = 0

[State 0, Lewa]
type = Explod
trigger1 = time = 0
anim = F696
ownpal = 1
ID = 900
pos = -10-random%10,-20-random%20
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
supermovetime = 9999
pausemovetime = 9999
vel = 0-random%2,-1-random%3
scale = 0.6,0.6
sprpriority = 5
ontop = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = F9,0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = F9,2

[State 0, Helper]
type = Helper
trigger1 = animelem = 2
triggerall = numhelper(484) = 0
helpertype = normal;player
name = "Kage Bunshin"
ID = 484
stateno = 484
pos = 0,0
size.xscale = 1
size.yscale = 1
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1

[State 0, End]
type = ChangeState
trigger1 = Time = 35
value = cond(pos y = 0,0,50)
ctrl = 1
;-----------------
;Shurikeny klony
[StateDef 486]
type = A
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 486
poweradd = -100
sprpriority = 2

[State 0, Turn]
type = Turn
trigger1 = time = 0 && p2bodydist x < -20


[State 0, Srodek]
type = Explod
trigger1 = time = 0
anim = F696
ownpal = 0
ID = 900
pos = 0,-30
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
supermovetime = 9999
pausemovetime = 9999
vel = -1+random%3,-1-random%2
scale = 1.2,1.2
sprpriority = 5
ontop = 0

[State 0, HitOverride]
type = HitOverride
trigger1 = 1
attr = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
stateno = 199
time = 10

[State 0, StateTypeSet]
type = StateTypeSet
trigger1 = time = 10
statetype = A
movetype = A
physics = A

[State 0, VelSet]
type = VelSet
trigger1 = time = 10
x = -3
y = -3

[State 0, PosSet]
type = PosSet
trigger1 = pos y >= 0
y = 0

[State 0, VelSet]
type = VelSet
trigger1 = pos y >= 0
x = 0
y = 0

[State 0, StateTypeSet]
type = StateTypeSet
trigger1 = pos y >= 0
statetype = S
movetype = A
physics = S

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = F21,4

[State 1640, X]
Type=VarSet
Trigger1=1
fvar(13)=(EnemyNear(0),Pos X-Pos X)*Facing

[State 1640, Y]
Type=VarSet
trigger1=1
fvar(14)=(EnemyNear(0),pos Y-Pos Y)

[State 1640, Vector Length]
Type=VarSet
trigger1=1
fvar(15)=Exp(0.5*ln((fvar(13)*fvar(13))+(fvar(14)*fvar(14))))

[State 0, Helper]
type = Helper
trigger1 = animelem = 3
helpertype = normal;player
name = "Shiruken"
ID = 485
stateno = 70710
pos = 7*0.85,-42*0.85
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 0
supermovetime = 9999
pausemovetime = 9999

[State 0, End]
type = ChangeState
trigger1 = frontedgebodydist < -50
trigger2 = pos y >= 0 && time >= 5
trigger3 = animtime = 0
value = 456
ctrl = 1


;----------------------------------------------
;Dym Rasengan
[StateDef 522]
type    = S
anim = 1111111
sprpriority = 10

[State 220, PlaySnd]
type = PlaySnd
trigger1 = time = 1
value = F9,0

[State 220, PlaySnd]
type = PlaySnd
trigger1 = time = 1
value = F15,9

[State 0, PosSet]
type = PosSet
trigger1 = 1
y = -25

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 1
anim = 1111112
ID = 2030
pos = 0,25
postype = p1 
facing = 1
removetime = 263
sprpriority = 10
ownpal = 1
ontop = 0
scale = 1,1
vel = 0.1,0

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 1
anim = 1111112
ID = 2030
pos = 0,25
postype = p1 
facing = 1
removetime = 263
sprpriority = 10
ownpal = 1
ontop = 0
scale = 0.7,0.7

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 1
anim = 1111112
ID = 2030
pos = 0,25
postype = p1 
facing = -1
removetime = 263
sprpriority = 10
ontop = 0
scale = 0.85,0.85
vel = -0.1,0
ownpal = 1

[State 1533, DestroySelf]
type = DestroySelf
trigger1 = time = 263
;-----------------
;Rasen Cho Tarengan
[StateDef 500]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 500+var(0)*10000
poweradd = 0
sprpriority = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F8,0+random%4
volume = 255
channel = 8

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = F17,0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = S3,5+random%2
volume = 255
channel = 4

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 30
value = S3,28

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 30
value = S3,28

[State 0, Helper]
type = Helper
trigger1 = time = 10
triggerall = power >= 500
helpertype = normal;player
name = "Klon"
ID = 500
stateno = 501
pos = -50+random%150,0
size.xscale = 0.85
size.yscale = 0.85
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1

[State 0, Helper]
type = Helper
trigger1 = time = 20
triggerall = power >= 500
helpertype = normal;player
name = "Klon"
ID = 501
stateno = 501
pos = -50+random%150,0
size.xscale = 0.85
size.yscale = 0.85
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1

[State 0, Helper]
type = Helper
trigger1 = time = 30
triggerall = power >= 500
helpertype = normal;player
name = "Klon"
ID = 502
stateno = 501
pos = -50+random%150,0
size.xscale = 0.85
size.yscale = 0.85
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1

[State 0, Helper]
type = Helper
trigger1 = time = 40
triggerall = power >= 500
helpertype = normal;player
name = "Klon"
ID = 503
stateno = 501
pos = -50+random%150,0
size.xscale = 0.85
size.yscale = 0.85
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1

[State 0, Helper]
type = Helper
trigger1 = time = 50
triggerall = power >= 500
helpertype = normal;player
name = "Klon"
ID = 504
stateno = 501
pos = -50+random%150,0
size.xscale = 0.85
size.yscale = 0.85
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1

[State 0, End]
type = ChangeState
trigger1 = Time = 70
trigger2 = time >= 30 && power < 500
value = 0
ctrl = 1
;------------------
[StateDef 501]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 930+parent,var(0)*10000
poweradd = -500
sprpriority = cond(var(0) < 2,2,1)

[State -3, Sennin]
type = AfterImage
triggerall = var(0) = 1
trigger1 = time = 1
time = -1
length = 7
palcolor = 256
palinvertall = 0
palbright = 0,0,0
palcontrast = 140,160,50
palpostbright = 0,0,0
paladd = 4,5,2
palmul = .55,.65,.15
timegap = 1
framegap = 1
trans = add

[State -3, KCM]
type = AfterImage
triggerall = var(0) = 2
trigger1 = time = 1
time = -1
length = 10
palcolor = 256
palinvertall = 0
palbright = 0,0,0
palcontrast = 256,230,200
palpostbright = 0,0,0
paladd = 5,4,3
palmul = .60,.50,.40
timegap = 1
framegap = 1
trans = add

[State 0, VarSet]
type = VarSet
trigger1 = time = 0
v = 0
value = parent, var(0)

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = F9,0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = F9,2

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = time < 3
flag = invisible

[State 0, HitOverride]
type = HitOverride
trigger1 = 1
attr = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
stateno = 199
time = 10

[State 0, Prawa]
type = Explod
trigger1 = time = 0
anim = F696
ownpal = 0
ID = 900
pos = 10+random%10,-30-random%20
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
supermovetime = 9999
pausemovetime = 9999
vel = 0+random%2,-1-random%3
scale = 0.6,0.6
sprpriority = 3
ontop = 0

[State 0, Srodek]
type = Explod
trigger1 = time = 0
anim = F696
ownpal = 0
ID = 900
pos = -5+random%10,-20-random%10
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
supermovetime = 9999
pausemovetime = 9999
vel = -1+random%3,-1-random%2
scale = 1,1
sprpriority = 3
ontop = 0

[State 0, Lewa]
type = Explod
trigger1 = time = 0
anim = F696
ownpal = 0
ID = 900
pos = -10-random%10,-30-random%20
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
supermovetime = 9999
pausemovetime = 9999
vel = 0-random%2,-1-random%3
scale = 0.6,0.6
sprpriority = 3
ontop = 0

[State 0, Turn]
type = Turn
trigger1 = p2bodydist x < -20
trigger1 = time%5

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
value = F8,0+random%4
volume = 255
channel = 8

[State 0, VarSet]
type = VarSet
trigger1 = time = 0
v = 6
value = 0

[State 0, VarSet]
type = VarSet
trigger1 = time > 5 && time < 25
v = 6
value = 10+(time-5)*1.5

[State 0, VarSet]
type = VarSet
trigger1 = time = 25
v = 16
value = 40

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 5
value = F32,5

[State 0, Explod Postac]
type = Explod
ownpal = 0
trigger1 = time = 5
anim = 929+parent,var(0)*10000
id = 929
pos = 0,0
postype = p1
facing = 1
bindtime = 1
removetime = -2
sprpriority = 3
removeongethit = 1
scale = 1.2*0.85,1.1*0.85
ownpal = 1
supermovetime = 9999
pausemovetime = 9999

[State 0, Wiatr]
type = Explod
ownpal = 0
trigger1 = time = 5
anim = F601
id = 600
pos = 0,0
postype = p1
facing = 1
bindtime = 1
removetime = -2
sprpriority = -1
removeongethit = 1
scale = 0.9,0.75
ownpal = 0

[State 0, Wiatr]
type = Explod
ownpal = 0
trigger1 = time = 5
anim = F601
id = 600
pos = 0,0
postype = p1
facing = -1
bindtime = 1
removetime = -2
sprpriority = -1
removeongethit = 1
scale = 0.9,0.75
ownpal = 0

[State 0, Aura]
type = Explod
ownpal = 0
trigger1 = time = 5
anim = F1130
id = 1130
pos = -20,0
postype = p1
facing = 1
bindtime = 1
removetime = -2
sprpriority = 7
removeongethit = 1
scale = 1,1
ownpal = 0

[State 0, Helper]
type = Helper
trigger1 = time = 5
helpertype = normal;player
name = "Rasengan"
ID = 950
stateno = 507
pos = -21*0.85,-39*0.85
size.xscale = 1
size.yscale = 1
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1
supermovetime = 9999
pausemovetime = 9999

[State 0, Helper]
type = Helper
trigger1 = time = 0
triggerall = parent, var(0) < 2
triggerall = var(0) < 2
helpertype = player
name = "Kage Bunshin"
ID = 200
stateno = 506
pos = -21*0.85,-5
size.xscale = 0.85
size.yscale = 0.85
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1

[State 0, ---KCM---]
type = Helper
triggerall = time = 0
trigger1 = parent, var(0) >= 2
trigger2 = var(0) >= 2
helpertype = normal;player
name = "Aura"
ID =  2010
stateno = 2010
pos = 0,0
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1
size.xscale = 0.85
size.yscale = 0.85
supermovetime = 999999
;pausemovetime = 999999

[State 0, End]
type = ChangeState
trigger1 = time = 25
value = 503
;-----------------
[StateDef 502]
type = S
movetype= A
physics = S
juggle  = 1
ctrl = 0
anim = 932+parent,var(0)*10000
poweradd = 0
sprpriority = cond(var(0) < 2,2,1)

[State -3, Sennin]
type = AfterImage
triggerall = var(0) = 1
trigger1 = time = 1
time = -1
length = 7
palcolor = 256
palinvertall = 0
palbright = 0,0,0
palcontrast = 140,160,50
palpostbright = 0,0,0
paladd = 4,5,2
palmul = .55,.65,.15
timegap = 1
framegap = 1
trans = add

[State -3, KCM]
type = AfterImage
triggerall = var(0) = 2
trigger1 = time = 1
time = -1
length = 10
palcolor = 256
palinvertall = 0
palbright = 0,0,0
palcontrast = 256,230,200
palpostbright = 0,0,0
paladd = 5,4,3
palmul = .60,.50,.40
timegap = 1
framegap = 1
trans = add

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = F14,4

[State 0, HitOverride]
type = HitOverride
trigger1 = 1
attr = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
stateno = 199
time = 10

[State 0, Explod]
type = Explod
trigger1 = timemod = 3,0
anim = F300
pos = 40,3
scale = 1.5,1.5
postype = p1
facing = 1
bindtime = 1
removetime = -2
sprpriority = 3

[State 0, VelSet]
type = VelSet
trigger1 = vel x > 0 && time > 4
x = 5-time/5

[State 0, VelSet]
type = VelSet
trigger1 = vel x < 0 
x = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 5
value = S5,0+random%4
channel = 2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = F32,2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 1
value = F2

[State 0, ChangeState]
type = ChangeState
trigger1 = animtime = 0
value = 199
ctrl = 1
;------------------
[StateDef 503]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 933+parent,var(0)*10000
poweradd = 0
sprpriority = cond(var(0) < 2,2,1)

[State -3, Sennin]
type = AfterImage
triggerall = var(0) = 1
trigger1 = time = 1
time = -1
length = 7
palcolor = 256
palinvertall = 0
palbright = 0,0,0
palcontrast = 140,160,50
palpostbright = 0,0,0
paladd = 4,5,2
palmul = .55,.65,.15
timegap = 1
framegap = 1
trans = add

[State -3, KCM]
type = AfterImage
triggerall = var(0) = 2
trigger1 = time = 1
time = -1
length = 10
palcolor = 256
palinvertall = 0
palbright = 0,0,0
palcontrast = 256,230,200
palpostbright = 0,0,0
paladd = 5,4,3
palmul = .60,.50,.40
timegap = 1
framegap = 1
trans = add

[State 0, Turn]
type = Turn
trigger1 = p2bodydist x < -20
trigger1 = time = 0

[State 0, HitOverride]
type = HitOverride
trigger1 = 1
attr = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
stateno = 199
time = 10

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
value = S1,0+random%7

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
trigger2 = animelem = 6
value = F2

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 1
trigger2 = animelem = 3
trigger3 = animelem = 6
anim = F300
ID = 24
pos = -10,2
postype = p1  ;p2,front,back,left,right
scale = 0.9,0.9
sprpriority = 3
vel = -1.3,-1
bindtime = 1
ownpal = 0
ontop = 0

[State -3, Rasengan]
type = AfterImage
trigger1 = time = 0 && var(0) < 2
time = -1
length = 7
palcolor = 256
palinvertall = 0
palbright = 0,0,0
palcontrast = 100,160,220
palpostbright = 0,0,0
paladd = 3,4,5
palmul = .20,.50,.60
timegap = 1
framegap = 1
trans = add

[State 0, Explod]
type = Explod
trigger1 = time > 1 && timemod = 2,0
anim = F20
ID = 20
pos = -5+random%15,-10-random%50
postype = p1  ;P2,front,back,left,right
scale = 0.8,0.4
vel = -1,0
sprpriority = 1+random%3
bindtime = 1
ownpal = 1
ontop = 0
supermovetime = 9999
pausemovetime = 9999

[State 0, VelSet]
type = VelSet
trigger1 = 1
x = const(velocity.run.fwd.x)*cond(var(0) = 1,1.1,1.0)*cond(var(0) >= 2,1.2,1)

[State 811, end]
type = ChangeState
trigger1 = p2bodydist x < 30
trigger1 = p2bodydist y = [-50,50]
value = 504
ctrl = 1

[State 0, Fail]
type = ChangeState
trigger1 = time = 100
trigger2 = p2bodydist x < -40
value = 502
ctrl = 1
;------------------
[StateDef 504]
type = S
movetype= A
physics = S
juggle  = 1
velset = 5,0
ctrl = 0
anim = 934+parent,var(0)*10000
poweradd = 0
sprpriority = cond(var(0) < 2,2,1)

[State -3, Sennin]
type = AfterImage
triggerall = var(0) = 1
trigger1 = time = 1
time = -1
length = 7
palcolor = 256
palinvertall = 0
palbright = 0,0,0
palcontrast = 140,160,50
palpostbright = 0,0,0
paladd = 4,5,2
palmul = .55,.65,.15
timegap = 1
framegap = 1
trans = add

[State -3, KCM]
type = AfterImage
triggerall = var(0) = 2
trigger1 = time = 1
time = -1
length = 10
palcolor = 256
palinvertall = 0
palbright = 0,0,0
palcontrast = 256,230,200
palpostbright = 0,0,0
paladd = 5,4,3
palmul = .60,.50,.40
timegap = 1
framegap = 1
trans = add

[State 0, PlayerPush]
type = PlayerPush
trigger1 = 1
value = 1

[State 0, NotHitBy]
type = NotHitBy
trigger1 = time >= 0
value = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
time = 1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F8,0+random%4
volume = 255
channel = 8

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = S4,0+random%16

[State -3, Rasengan]
type = AfterImage
trigger1 = time = 0 && var(0) < 2
time = -1
length = 7
palcolor = 256
palinvertall = 0
palbright = 0,0,0
palcontrast = 100,160,220
palpostbright = 0,0,0
paladd = 3,4,5
palmul = .20,.50,.60
timegap = 1
framegap = 1
trans = add

[State 0, HitDef]
type = HitDef
givepower = 0
getpower = 0
fall.yvelocity = -6
trigger1 = time > 10 && time <= 30 && timemod = 5,0
trigger1 = hitcount < 4
attr = S, NA
damage = 50,20
getpower = 0
animtype = Light
guardflag = MA
hitflag = MAF
priority = cond(var(0) < 2, 3, 1)
pausetime = 0, 20
sparkno = 63466
sparkxy = -15, -41*0.85
hitsound = 32, 3536
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -15,-2
airguard.velocity = -15,-2
air.type = High
air.velocity = -15,-2
air.hittime = 12
envshake.time = 30
envshake.freq = 30
envshake.ampl = -7
envshake.phase = 10
fall = 1

[State 0, HitDef]
type = HitDef
givepower = 0
getpower = 0
fall.yvelocity = -6
trigger1 = time = 35 && ishelper(500) && numhelper(501) = 0
trigger2 = time = 35 && ishelper(501) && numhelper(502) = 0
trigger3 = time = 35 && ishelper(502) && numhelper(503) = 0
trigger4 = time = 35 && ishelper(503) && numhelper(504) = 0
trigger5 = time = 35 && ishelper(504)
hitonce = 1
attr = C, HP
damage = 200,80
animtype = Light
guardflag = MA
hitflag = MAF
priority = cond(var(0) < 2, 3, 1)
pausetime = 0, 0
sparkno = 2001
sparkxy = -15, -41*0.85
hitsound = 32, 3536
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -15,-2
airguard.velocity = -15,-2
air.type = High
air.velocity = -15,-2
air.hittime = 12
envshake.time = 30
envshake.freq = 30
envshake.ampl = -7
envshake.phase = 10
p2stateno = 109998

[State 0, End]
type = ChangeState
trigger1 = AnimTime = 0
trigger2 = time > 30 && !movehit
value = 505
ctrl = 1
;------------------
[StateDef 505]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 935+parent,var(0)*10000
poweradd = 0
sprpriority = cond(var(0) < 2,2,1)

[State -3, Sennin]
type = AfterImage
triggerall = var(0) = 1
trigger1 = time = 1
time = -1
length = 7
palcolor = 256
palinvertall = 0
palbright = 0,0,0
palcontrast = 140,160,50
palpostbright = 0,0,0
paladd = 4,5,2
palmul = .55,.65,.15
timegap = 1
framegap = 1
trans = add

[State -3, KCM]
type = AfterImage
triggerall = var(0) = 2
trigger1 = time = 1
time = -1
length = 10
palcolor = 256
palinvertall = 0
palbright = 0,0,0
palcontrast = 256,230,200
palpostbright = 0,0,0
paladd = 5,4,3
palmul = .60,.50,.40
timegap = 1
framegap = 1
trans = add

[State 0, HitOverride]
type = HitOverride
trigger1 = 1
attr = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
stateno = 199
time = 10

[State 0, Explod Postac]
type = Explod
ownpal = 0
trigger1 = time = 0
anim = 936+parent,var(0)*10000
id = 936
pos = 0,0
postype = p1
facing = 1
bindtime = 1
removetime = -2
sprpriority = 3
removeongethit = 1
scale = 1.2*0.85,1.1*0.85
ownpal = 0
supermovetime = 9999
pausemovetime = 9999

[State 0, AfterImage]
type = AfterImage
trigger1 = animtime = 0
time = 1

[State 0, End]
type = ChangeState
trigger1 = AnimTime = 0
value = 199
ctrl = 1
;-----------------
;Klon Charge
[StateDef 506]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 920+parent,var(0)*10000
poweradd = 0
sprpriority = -1

[State 0, VarSet]
type = VarSet
trigger1 = 1
v = 0
value = parent, var(0)

[State 0, Turn]
type = Turn
trigger1 = facing = 1
trigger1 = parent, facing = -1
trigger1 = time%5

[State 0, Turn]
type = Turn
trigger1 = facing = -1
trigger1 = parent, facing = 1
trigger1 = time%5

[State 0, Explod Postac]
type = Explod
ownpal = 1
trigger1 = time = 5
anim = 919+parent,var(0)*10000
id = 919
pos = 0,0
postype = p1
facing = 1
bindtime = 1
removetime = -2
sprpriority = 1
removeongethit = 1
scale = 1.2*0.85,1.1*0.85
ownpal = 1
supermovetime = 9999
pausemovetime = 9999

;Czy jest klonem do Rasengana
[State 0, Varset]
type = VarSet
trigger1 = 1
v = 10    
value = 1

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 501
time = 1
pos = -21*0.85,-5

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
value = S4,0+random%16
volume = 255
channel = 4

[State 0, PlaySnd]
type = PlaySnd
trigger1 = timemod = 8,0
value = F32,7

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = F9,0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = F9,2

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = time < 5
flag = invisible

[State 0, Prawa]
type = Explod
trigger1 = time = 0
anim = F696
ownpal = 1
ID = 900
pos = 10+random%10,-30-random%20
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
supermovetime = 9999
pausemovetime = 9999
vel = 0+random%2,-1-random%3
scale = 0.6,0.6
sprpriority = 1
ontop = 0

[State 0, Srodek]
type = Explod
trigger1 = time = 0
anim = F696
ownpal = 1
ID = 900
pos = -5+random%10,-20-random%10
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
supermovetime = 9999
pausemovetime = 9999
vel = -1+random%3,-1-random%2
scale = 1,1
sprpriority = 1
ontop = 0

[State 0, Lewa]
type = Explod
trigger1 = time = 0
anim = F696
ownpal = 1
ID = 900
pos = -10-random%10,-30-random%20
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
supermovetime = 9999
pausemovetime = 9999
vel = 0-random%2,-1-random%3
scale = 0.6,0.6
sprpriority = 1
ontop = 0

[State 0, End]
type = ChangeState
trigger1 = parent, stateno = 502
value = 199

[State 0, End]
type = ChangeState
trigger1 = parent, stateno != 501
value = 199
ctrl = 0
;------------------
;Kula
[StateDef 507]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 950
poweradd = 0
sprpriority = 2

[State 0, Turn]
type = Turn
trigger1 = facing = 1
trigger1 = parent, facing = -1
trigger1 = time%5

[State 0, Turn]
type = Turn
trigger1 = facing = -1
trigger1 = parent, facing = 1
trigger1 = time%5

[State 0, EnvShake]
type = EnvShake
trigger1 = timemod = 5,0
time = 1+var(6)/15
freq = 30+var(6)/10
ampl = -3-var(6)/20
phase = 30+var(6)/10

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = F32,4

[State 0, PlaySnd]
type = PlaySnd
trigger1 = timemod = 25,0
value = F32,1

[State 0, VarSet]
type = VarSet
trigger1 = 1
v = 6
value = parent, var(6)

[State 0, Kula]
type = Explod
ownpal = 0
trigger1 = time = 0
anim = F632;1
id = 90000
pos = 0,0
scale = 0.1,0.1
postype = p1
facing = 1
bindtime = -1
removetime = -1
sprpriority = 3
removeongethit = 1
trans = add
supermovetime = 9999
pausemovetime = 9999

[State 0, Kula]
type = ModifyExplod
trigger1 = 1
ID = 90000
scale = 0.1+var(6)*0.0035,0.1+var(6)*0.0035
trans = add

[State 0, Smugi]
type = Explod
ownpal = 0
trigger1 = numexplod(90001) = 0
anim = F678
id = 90001
pos = 0,0
scale = 0.15,0.15
postype = p1
facing = 1
bindtime = -2
removetime = -1
sprpriority = 5
removeongethit = 1
trans = add
angle = -time*3
supermovetime = 9999
pausemovetime = 9999

[State 0, Smugi]
type = ModifyExplod
trigger1 = 1
ID = 90001
scale = 0.15+var(6)*0.005,0.15+var(6)*0.005
trans = add
angle = -time*3

[State 0, Smugi powstawanie]
type = Explod
ownpal = 0
trigger1 = numexplod(90002) = 0 && time < 30
anim = F620
id = 90002
pos = 0,0
scale = 0.5,0.5
postype = p1
facing = 1
bindtime = -2
removetime = -2
sprpriority = 3
removeongethit = 1
trans = add
angle = time*5
supermovetime = 9999
pausemovetime = 9999

[State 0, ModifyExplod]
type = ModifyExplod
trigger1 = 1
ID = 90002
scale = 0.5+var(6)*0.02,0.5+var(6)*0.02
trans = add
angle = time*5

[State 0, Kola]
type = Explod
ownpal = 0
trigger1 = time = 1
anim = F1070
ID = 90003
pos = 0,0
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = -1
removetime = -2
supermovetime = 999
scale = 1.2,1.2
sprpriority = 5
ownpal = 0
removeongethit = 1

[State 0, Explod Kolo]
type = Explod
ownpal = 0
trigger1 = numexplod(90004) = 0
anim = F685
id = 90004
pos = 0,0
scale = 0.04+var(6)*0.003,0.04+var(6)*0.003
postype = p1
facing = 1
bindtime = -2
removetime = -2
sprpriority = 5
removeongethit = 1
trans = addalpha
alpha = 150,256
angle = -time*3
supermovetime = 9999
pausemovetime = 9999

[State 0, Explod Kolo]
type = ModifyExplod
trigger1 = 1
ID = 90004
scale = 0.04+var(6)*0.003,0.04+var(6)*0.003
trans = addalpha
alpha = 150,256
angle = -time*3

;Rasen Cho Tarengan

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 501
time = 1
pos = -21*0.85,-39*0.85

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 502
time = 1
pos = -18*0.85,-26*0.85

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 503
trigger2 = parent, time > 0 && parent, time <= 3
time = 1
pos = -15*0.85,-32*0.85

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 503
triggerall = parent, time > 3
time = 1
pos = -15*0.85,-44*0.85

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 504 && parent, time > 0 && parent, time <= 3
time = 1
pos = -15*0.85,-32*0.85

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 504 && parent, time > 3 && parent, time <= 9
time = 1
pos = 42*0.85,-38*0.85

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 504 && parent, time >= 10
time = 1
pos = 42*0.85,-38*0.85

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 505
time = 1
pos = 42*0.85,-38*0.85
;--------------------

;Odama Rasen Tairengan

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 513
time = 1
pos = -16*0.85,-66*0.85

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 514 && parent, time > 0 && parent, time <= 3
time = 1
pos = -6*0.85,-69*0.85

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 514 && parent, time > 4 && parent, time <= 6
time = 1
pos = -2*0.85,-66*0.85

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 514 && parent, time >= 7
time = 1
pos = 22*0.85,-58*0.85

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 515
trigger2 = parent, stateno = 516
time = 1
pos = 35*0.85,-1*0.85

;------------------------------------

[State 0, End]
type = Changestate
trigger1 = parent, stateno = 504 && parent, movehit
trigger2 = parent, stateno = 515 && parent, movehit
value = 508

[State 0, End]
type = Changestate
trigger1 = parent, stateno != [500,519]
trigger2 = parent, stateno = 505
trigger3 = parent, stateno = 502
trigger4 = parent, stateno = 516
value = 509

;------------------
;Kula Hit
[StateDef 508]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 950
poweradd = 0
sprpriority = 2

[State 0, Turn]
type = Turn
trigger1 = facing = 1
trigger1 = parent, facing = -1
trigger1 = time%5

[State 0, Turn]
type = Turn
trigger1 = facing = -1
trigger1 = parent, facing = 1
trigger1 = time%5

[State 0, EnvShake]
type = EnvShake
trigger1 = timemod = 5,0
time = 1+var(6)/15
freq = 30+var(6)/10
ampl = -3-var(6)/20
phase = 30+var(6)/10

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = F32,3

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = F32,3

[State 0, PlaySnd]
type = PlaySnd
trigger1 = timemod = 25,0
value = F32,1

[State 0, VarSet]
type = VarSet
trigger1 = 1
v = 4
value = time

[State 0, Kola]
type = ModifyExplod
trigger1 = 1
ID = 90000
scale = 0.1+var(6)*0.0035,0.1+var(6)*0.0035
trans = add

[State 0, Smugi]
type = ModifyExplod
trigger1 = 1
ID = 90001
scale = 0.15+var(6)*0.005,0.15+var(6)*0.005
trans = add
angle = -time*3

[State 0, Explod Kolo]
type = ModifyExplod
trigger1 = 1
ID = 90004
scale = 0.04+var(6)*0.003,0.04+var(6)*0.003
trans = addalpha
alpha = 150,256
angle = -time*3

[State 0, Fale]
type = Explod
ownpal = 0
trigger1 = timemod = 10,0
trigger1 = parent, stateno != [515,516]
anim = F644
id = 90006
pos = 5,0
scale = 0.2+var(6)*0.008,(0.2+var(6)*0.008)*0.7
postype = p1
facing = 1
bindtime = 10
removetime = -2
sprpriority = 7
vel = -var(6)*0.03,-var(6)*0.01
removeongethit = 1
trans = add
supermovetime = 9999
pausemovetime = 9999

[State 0, Wiatr]
type = Explod
ownpal = 0
trigger1 = time = 5
trigger1 = parent, stateno != [515,516]
anim = F461
id = 90008
pos = -30,0
scale = 0.3+var(6)*0.003,0.3+var(6)*0.003
postype = p1
facing = 1
bindtime = 1
removetime = -2
sprpriority = 7
removeongethit = 1
vel = -var(6)*0.04,-var(6)*0.02
trans = add
supermovetime = 9999
pausemovetime = 9999

[State 0, Fale]
type = Explod
ownpal = 0
triggerall = timemod = 10,0
trigger1 = parent, stateno = [515,516]
anim = F644
id = 90006
pos = 5,0
scale = 0.2+var(6)*0.008,(0.2+var(6)*0.008)*0.7
postype = p1
facing = 1
bindtime = 10
removetime = -2
sprpriority = 7
vel = -var(6)*0.02,-var(6)*0.02
angle = -45
removeongethit = 1
trans = add
supermovetime = 9999
pausemovetime = 9999

[State 0, Wiatr]
type = Explod
ownpal = 0
triggerall = time = 5
trigger1 = parent, stateno = [515,516]
anim = F461
id = 90008
pos = -20,-20
scale = 0.3+var(6)*0.003,0.3+var(6)*0.003
postype = p1
facing = 1
bindtime = 1
removetime = -2
sprpriority = 7
removeongethit = 1
vel = -var(6)*0.03,-var(6)*0.03
angle = -45
trans = add
supermovetime = 9999
pausemovetime = 9999

[State 0, Wstazki]
type = Explod
ownpal = 0
trigger1 = 0;time = 0
anim = F680
id = 90007
pos = 0,0
scale = 0.3+var(6)*0.01,0.3+var(6)*0.01
postype = p1
facing = 1
bindtime = -1
removetime = -2
sprpriority = 7
removeongethit = 1
trans = add
supermovetime = 9999
pausemovetime = 9999

[State 0, Fala Uderzeniowa]
type = Explod
ownpal = 0
trigger1 = time = 15
trigger1 = parent, stateno != [515,516]
anim = F645
id = 90009
pos = -15,-pos y
scale = 1.8,1.8
postype = p1
facing = 1
bindtime = 1
removetime = -2
sprpriority = 7
vel = var(6)*0.01,0
removeongethit = 1
trans = add
supermovetime = 9999
pausemovetime = 9999

[State 0, Podmuch]
type = Explod
ownpal = 0
trigger1 = time = 5
trigger1 = parent, stateno != [515,516]
anim = F674
id = 90010
pos = -10,-pos y+5
scale = 0.2+var(6)*0.005,0.2+var(6)*0.005
postype = p1
facing = 1
bindtime = 1
removetime = -2
sprpriority = 7
vel = -var(6)*0.01,0
removeongethit = 1
supermovetime = 9999
pausemovetime = 9999

;Rasen Cho Tarengan

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 501
time = 1
pos = -21*0.85,-39*0.85

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 502
time = 1
pos = -18*0.85,-26*0.85

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 503
trigger2 = parent, time > 0 && parent, time <= 3
time = 1
pos = -15*0.85,-32*0.85

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 503
triggerall = parent, time > 3
time = 1
pos = -15*0.85,-44*0.85

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 504 && parent, time > 0 && parent, time <= 3
time = 1
pos = -15*0.85,-32*0.85

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 504 && parent, time > 3 && parent, time <= 9
time = 1
pos = 42*0.85,-38*0.85

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 504 && parent, time >= 10
time = 1
pos = 42*0.85,-38*0.85

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 505
time = 1
pos = 42*0.85,-38*0.85
;--------------------

;Odama Rasen Tairengan

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 513
time = 1
pos = -16*0.85,-66*0.85

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 514 && parent, time > 0 && parent, time <= 3
time = 1
pos = -6*0.85,-69*0.85

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 514 && parent, time > 4 && parent, time <= 6
time = 1
pos = -2*0.85,-66*0.85

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 514 && parent, time >= 7
time = 1
pos = 22*0.85,-58*0.85

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 515
trigger2 = parent, stateno = 516
time = 1
pos = 35*0.85,-1*0.85

;------------------------------------

[State 0, End]
type = Changestate
trigger1 = parent, stateno != [500,519]
trigger2 = parent, stateno = 505
trigger3 = parent, stateno = 502
trigger4 = parent, stateno = 516
value = 509
;------------------
;Kula End
[StateDef 509]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 950
poweradd = 0
sprpriority = 2

[State 0, Turn]
type = Turn
trigger1 = facing = 1
trigger1 = parent, facing = -1
trigger1 = time%5

[State 0, Turn]
type = Turn
trigger1 = facing = -1
trigger1 = parent, facing = 1
trigger1 = time%5

[State 0, EnvShake]
type = EnvShake
trigger1 = timemod = 5,0
time = 1+var(6)/15
freq = 30+var(6)/10
ampl = -3-var(6)/20
phase = 30+var(6)/10

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = F32,2

[State 0, VarSet]
type = VarSet
trigger1 = time = 0
v = 5
value = var(6)

[State 0, VarSet]
type = VarAdd
trigger1 = 1
v = 6
value = -var(5)/10

[State 0, Kula]
type = ModifyExplod
trigger1 = 1
ID = 90000
scale = 0.1+var(6)*0.0035,0.1+var(6)*0.0035
trans = add

[State 0, Kula]
type = RemoveExplod
trigger1 = time = 10
id = 90000

[State 0, Smugi]
type = ModifyExplod
trigger1 = 1
ID = 90001
scale = 0.15+var(6)*0.005,0.15+var(6)*0.005
trans = add
angle = -time*3

[State 0, Smugi]
type = RemoveExplod
trigger1 = time = 10
id = 90001

[State 0, Explod Kolo]
type = ModifyExplod
trigger1 = 1
ID = 90004
scale = 0.04+var(6)*0.003,0.04+var(6)*0.003
trans = addalpha
alpha = 150,256
angle = -time*3

[State 0, Smugi]
type = RemoveExplod
trigger1 = time = 10
id = 90004

[State 0, Fala]
type = ModifyExplod
trigger1 = 1
ID = 90006
scale = 0.2+var(6)*0.01,(0.2+var(6)*0.01)*0.7
trans = add

[State 0, Fala]
type = RemoveExplod
trigger1 = time = 10
id = 90006

[State 0, Fala]
type = ModifyExplod
trigger1 = 1
ID = 90007
scale = 0.25+var(6)*0.01,0.25+var(6)*0.01
trans = add

[State 0, Fala]
type = RemoveExplod
trigger1 = time = 10
id = 90007

;Rasen Cho Tarengan

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 501
time = 1
pos = -21*0.85,-39*0.85

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 502
time = 1
pos = -18*0.85,-26*0.85

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 503
trigger2 = parent, time > 0 && parent, time <= 3
time = 1
pos = -15*0.85,-32*0.85

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 503
triggerall = parent, time > 3
time = 1
pos = -15*0.85,-44*0.85

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 504 && parent, time > 0 && parent, time <= 3
time = 1
pos = -15*0.85,-32*0.85

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 504 && parent, time > 3 && parent, time <= 9
time = 1
pos = 42*0.85,-38*0.85

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 504 && parent, time >= 10
time = 1
pos = 42*0.85,-38*0.85

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 505
time = 1
pos = 42*0.85,-38*0.85
;--------------------

;Odama Rasen Tairengan

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 513
time = 1
pos = -16*0.85,-66*0.85

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 514 && parent, time > 0 && parent, time <= 3
time = 1
pos = -6*0.85,-69*0.85

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 514 && parent, time > 4 && parent, time <= 6
time = 1
pos = -2*0.85,-66*0.85

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 514 && parent, time >= 7
time = 1
pos = 22*0.85,-58*0.85

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 515
trigger2 = parent, stateno = 516
time = 1
pos = 35*0.85,-1*0.85

;------------------------------------

[State 0, End]
type = Destroyself
trigger1 = time = 11
;-----------------
;Odama Rasen Tairengan
[StateDef 510]
type = S
movetype= A
physics = S
juggle  = 1
velset = 2,0
ctrl = 0
anim = 510+var(0)*10000
poweradd = 0
sprpriority = cond(var(0) < 2,2,1)

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F8,0+random%4
volume = 255
channel = 8

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = S4,0+random%16
volume = 255
channel = 4

[State 0, HitDef]
type = HitDef
fall.yvelocity = -6
trigger1 = AnimElem = 3
attr = S, NA
damage = 35,7
animtype = Light
guardflag = MA
hitflag = MAF
priority = cond(var(0) < 2, 3, 1)
pausetime = 10, 100
sparkno = 0+random%4
sparkxy = -15, -45*0.85
hitsound = 35, 0+random%15;5, 21+random%5
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -2
airguard.velocity = -2,-.8
air.type = High
air.velocity = -2,-2
air.hittime = 12
envshake.time = 10
envshake.freq = 20
envshake.ampl = -5
envshake.phase = 10
p1stateno = 511

[State 0, End]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;---------------------------------------------------------------------------
[Statedef 511]
type    = A
physics = S
ctrl = 0
anim = 105
sprpriority = 1

[State 0, BGPalFX]
type = BGPalFX
triggerall = StageVar(info.name) != "Y" && StageVar(info.name) != "H"
trigger1 = time < 40
time = 1
add = -time*3,-time*3,-time*3

[State 0, BGPalFX]
type = BGPalFX
trigger1 = StageVar(info.name) = "Y" 
trigger2 = StageVar(info.name) = "H"
triggerall = time < 40
time = 1
add = -time*2,-time*2,-time*2

[State 0, BGPalFX]
type = BGPalFX
triggerall = StageVar(info.name) != "Y" && StageVar(info.name) != "H"
trigger1 = time >= 40
time = 10
add = -120,-120,-120

[State 0, BGPalFX]
type = BGPalFX
trigger1 = StageVar(info.name) = "Y" 
trigger2 = StageVar(info.name) = "H"
triggerall = time >= 40
time = 10
add = -80,-80,-80

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S4,0+random%16

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 4
trigger2 = time = 31
value = F3

[State 0, Explod]
type = Explod
ownpal = 1
ownpal = 1
trigger1 = time = 4 && pos y = [-5,2]
trigger2 = time = 31 && pos y = [-5,2]
anim = F370
pos = 0,5
scale = 1,1
postype = p1
facing = -1
bindtime = 1
removetime = -2
sprpriority = 3

[State 0, AfterImage]
type = AfterImage
trigger1 = time = 0 && var(0) = 0
trigger2 = time = 35 && var(0) = 0
time = -1
length = 10
palcolor = 256
palinvertall = 0
palbright = 0,0,0
palcontrast = 120,120,120
palpostbright = 0,0,0
paladd = 5,5,5
palmul = .65,.65,.65
timegap = 1
framegap = 1
trans = add

[State 0, ChangeAnim]
type = ChangeAnim
trigger1 = time= 0
value = 105+var(0)*10000

[State 105, 1]
type = VelSet
trigger1 = time = [4,16] 
trigger2 = time > 35
x = const(velocity.run.back.x)

[State 105, 3]
type = ChangeState
trigger1 = time = 39
value = 512
;----------------------------------------------
[StateDef 512]
type = S
movetype= A
physics = S
juggle  = 1
velset =  const(velocity.run.back.x),0
ctrl = 0
anim = 500+var(0)*10000
poweradd = 0
sprpriority = 0

[State 0, BGPalFX]
type = BGPalFX
triggerall = StageVar(info.name) != "Y" && StageVar(info.name) != "H"
trigger1 = 1
time = 30
add = -120,-120,-120

[State 0, BGPalFX]
type = BGPalFX
trigger1 = StageVar(info.name) = "Y" 
trigger2 = StageVar(info.name) = "H"
triggerall = 1
time = 30
add = -80,-80,-80

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F8,0+random%4
volume = 255
channel = 8

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = F17,0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = S3,7+random%2
volume = 255
channel = 4

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 30
value = S3,27

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 30
value = S3,27

[State 0, Helper]
type = Helper
trigger1 = time = 10
triggerall = power >= 600
helpertype = normal;player
name = "Klon"
ID = 510
stateno = 513
pos = 40,-40
size.xscale = 0.85
size.yscale = 0.85
postype = p2    ;p2,front,back,left,right
facing = -1
keyctrl = 0
ownpal = 1

[State 0, Helper]
type = Helper
trigger1 = time = 20
triggerall = power >= 600
helpertype = normal;player
name = "Klon"
ID = 511
stateno = 513
pos = -100,-50
size.xscale = 0.85
size.yscale = 0.85
postype = p2    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1

[State 0, Helper]
type = Helper
trigger1 = time = 30
triggerall = power >= 600
helpertype = normal;player
name = "Klon"
ID = 512
stateno = 513
pos = 65,-70
size.xscale = 0.85
size.yscale = 0.85
postype = p2    ;p2,front,back,left,right
facing = -1
keyctrl = 0
ownpal = 1

[State 0, Helper]
type = Helper
trigger1 = time = 40
triggerall = power >= 600
helpertype = normal;player
name = "Klon"
ID = 513
stateno = 513
pos = -120,-80
size.xscale = 0.85
size.yscale = 0.85
postype = p2    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1

[State 0, Helper]
type = Helper
trigger1 = time = 50
triggerall = power >= 600
helpertype = normal;player
name = "Klon"
ID = 514
stateno = 513
pos = 80,-90
size.xscale = 0.85
size.yscale = 0.85
postype = p2    ;p2,front,back,left,right
facing = -1
keyctrl = 0
ownpal = 1

[State 0, End]
type = ChangeState
trigger1 = Time = 70
trigger2 = time >= 30 && power < 60
value = 0
ctrl = 1
;----------------------------------------------------------------------
[StateDef 513]
type = A
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 940+parent,var(0)*10000
poweradd = -600
sprpriority = cond(var(0) < 2,2,1)

[State -3, Sennin]
type = AfterImage
triggerall = var(0) = 1
trigger1 = time = 1
time = -1
length = 7
palcolor = 256
palinvertall = 0
palbright = 0,0,0
palcontrast = 140,160,50
palpostbright = 0,0,0
paladd = 4,5,2
palmul = .55,.65,.15
timegap = 1
framegap = 1
trans = add

[State -3, KCM]
type = AfterImage
triggerall = var(0) = 2
trigger1 = time = 1
time = -1
length = 10
palcolor = 256
palinvertall = 0
palbright = 0,0,0
palcontrast = 256,230,200
palpostbright = 0,0,0
paladd = 5,4,3
palmul = .60,.50,.40
timegap = 1
framegap = 1
trans = add

[State 0, VarSet]
type = VarSet
trigger1 = time = 0
v = 0
value = parent, var(0)

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = F9,0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = F9,2

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = time < 3
flag = invisible

[State 0, HitOverride]
type = HitOverride
trigger1 = 1
attr = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
stateno = 199
time = 10

[State 0, Prawa]
type = Explod
trigger1 = time = 0
anim = F696
ownpal = 0
ID = 900
pos = 10+random%10,-30-random%20
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
supermovetime = 9999
pausemovetime = 9999
vel = 0+random%2,-1-random%3
scale = 0.6,0.6
sprpriority = 3
ontop = 0

[State 0, Srodek]
type = Explod
trigger1 = time = 0
anim = F696
ownpal = 0
ID = 900
pos = -5+random%10,-20-random%10
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
supermovetime = 9999
pausemovetime = 9999
vel = -1+random%3,-1-random%2
scale = 1,1
sprpriority = 3
ontop = 0

[State 0, Lewa]
type = Explod
trigger1 = time = 0
anim = F696
ownpal = 0
ID = 900
pos = -10-random%10,-30-random%20
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
supermovetime = 9999
pausemovetime = 9999
vel = 0-random%2,-1-random%3
scale = 0.6,0.6
sprpriority = 3
ontop = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
value = F8,0+random%4
volume = 255
channel = 8

[State 0, VarSet]
type = VarSet
trigger1 = time = 0
v = 6
value = 0

[State 0, VarSet]
type = VarSet
trigger1 = time > 5 && time < 25
v = 6
value = 10+(time-5)*4

[State 0, VarSet]
type = VarSet
trigger1 = time = 25
v = 16
value = 80

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 5
value = F32,5

[State 0, Explod Postac]
type = Explod
ownpal = 0
trigger1 = time = 5
anim = 939+parent,var(0)*10000
id = 939
pos = 0,0
postype = p1
facing = 1
bindtime = 1
removetime = -2
sprpriority = 3
removeongethit = 1
scale = 1.2,1.1
ownpal = 1
supermovetime = 9999
pausemovetime = 9999

[State 0, Helper]
type = Helper
trigger1 = time = 5
helpertype = normal;player
name = "Rasengan"
ID = 950
stateno = 507
pos = -16*0.85,-66*0.85
size.xscale = 1
size.yscale = 1
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1

[State 0, Helper]
type = Helper
trigger1 = time = 0
triggerall = parent, var(0) < 2
triggerall = var(0) < 2
helpertype = player
name = "Kage Bunshin"
ID = 200
stateno = 518
pos = -35*0.85,-27*0.85
size.xscale = 0.85
size.yscale = 0.85
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1

[State 0, ---KCM---]
type = Helper
triggerall = time = 0
trigger1 = parent, var(0) >= 2
trigger2 = var(0) >= 2
helpertype = normal;player
name = "Aura"
ID =  2010
stateno = 2010
pos = 0,0
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1
size.xscale = 0.85
size.yscale = 0.85
supermovetime = 999999
;pausemovetime = 999999

[State 0, End]
type = ChangeState
trigger1 = time = 25
value = 514
;------------------
[StateDef 514]
type = A
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 944+parent,var(0)*10000
poweradd = 0
sprpriority = cond(var(0) < 2,2,1)

[State -3, Sennin]
type = AfterImage
triggerall = var(0) = 1
trigger1 = time = 1
time = -1
length = 7
palcolor = 256
palinvertall = 0
palbright = 0,0,0
palcontrast = 140,160,50
palpostbright = 0,0,0
paladd = 4,5,2
palmul = .55,.65,.15
timegap = 1
framegap = 1
trans = add

[State -3, KCM]
type = AfterImage
triggerall = var(0) = 2
trigger1 = time = 1
time = -1
length = 10
palcolor = 256
palinvertall = 0
palbright = 0,0,0
palcontrast = 256,230,200
palpostbright = 0,0,0
paladd = 5,4,3
palmul = .60,.50,.40
timegap = 1
framegap = 1
trans = add

[State 0, Turn]
type = Turn
trigger1 = p2bodydist x < -40
trigger1 = time = 0

[State 0, HitOverride]
type = HitOverride
trigger1 = 1
attr = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
stateno = 199
time = 10

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
value = S1,0+random%7

[State -3, Rasengan]
type = AfterImage
trigger1 = time = 0 && var(0) < 2
time = -1
length = 7
palcolor = 256
palinvertall = 0
palbright = 0,0,0
palcontrast = 100,160,220
palpostbright = 0,0,0
paladd = 3,4,5
palmul = .20,.50,.60
timegap = 1
framegap = 1
trans = add

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 6
value = F3,1

[State 0, Explod]
type = Explod
trigger1 = time > 6 && timemod = 2,0
anim = F20
ID = 20
pos = -15+random%30,-20-random%30
angle = -45
postype = p1  ;P2,front,back,left,right
scale = 0.8,0.4
vel = -1,-1
sprpriority = 1+random%3
bindtime = 1
ownpal = 1
ontop = 0
supermovetime = 9999
pausemovetime = 9999
trans = add

[State 0, Explod]
type = Explod
trigger1 = time = 6
anim = F280
pos = -20,-50
angle = 225
scale = 1.5,1.5
postype = p1
facing = 1
bindtime = 1
ownpal = 1
removetime = -2
sprpriority = 0
trans = add

[State 0, VelSet]
type=VelSet
trigger1 = time > 6
x = 3*const(velocity.airjump.fwd.x)
y = 3*const(velocity.airjump.fwd.x)

[State 811, end]
type = ChangeState
trigger1 = time = 10
value = 515
ctrl = 1
;------------------
[StateDef 515]
type = A
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 945+parent,var(0)*10000
poweradd = 0
sprpriority = cond(var(0) < 2,2,1)

[State -3, Sennin]
type = AfterImage
triggerall = var(0) = 1
trigger1 = time = 1
time = -1
length = 7
palcolor = 256
palinvertall = 0
palbright = 0,0,0
palcontrast = 140,160,50
palpostbright = 0,0,0
paladd = 4,5,2
palmul = .55,.65,.15
timegap = 1
framegap = 1
trans = add

[State -3, KCM]
type = AfterImage
triggerall = var(0) = 2
trigger1 = time = 1
time = -1
length = 10
palcolor = 256
palinvertall = 0
palbright = 0,0,0
palcontrast = 256,230,200
palpostbright = 0,0,0
paladd = 5,4,3
palmul = .60,.50,.40
timegap = 1
framegap = 1
trans = add

[State 0, NotHitBy]
type = NotHitBy
trigger1 = time >= 0
value = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
time = 1

[State 0, VelSet]
type=VelSet
trigger1 = pos y < 0
x = 3*const(velocity.airjump.fwd.x)
y = 3*const(velocity.airjump.fwd.x)

[State 0, VelSet]
type=VelSet
trigger1 = pos y >= 0
x = 0
y = 0

[State 0, VelSet]
type=PosSet
trigger1 = pos y >= 0
y = 0

[State 0, PlayerPush]
type = PlayerPush
trigger1 = 1
value = 0

[State -3, Rasengan]
type = AfterImage
trigger1 = time = 0 && var(0) < 2
time = -1
length = 7
palcolor = 256
palinvertall = 0
palbright = 0,0,0
palcontrast = 100,160,220
palpostbright = 0,0,0
paladd = 3,4,5
palmul = .20,.50,.60
timegap = 1
framegap = 1
trans = add

[State 0, Explod]
type = Explod
trigger1 = timemod = 2,0
anim = F20
ID = 20
pos = -15+random%30,-20-random%30
angle = -45
postype = p1  ;P2,front,back,left,right
scale = 0.8,0.4
vel = -1,-1
sprpriority = 1+random%3
bindtime = 1
ownpal = 1
ontop = 0
supermovetime = 9999
pausemovetime = 9999
trans = add

[State 0, HitDef]
type = HitDef
givepower = 0
getpower = 0
fall.yvelocity = -6
trigger1 = timemod = 3,0
trigger1 = hitcount < 4
attr = S, NA
damage = 60,20
getpower = 0
animtype = Light
guardflag = MA
hitflag = MAF
priority = cond(var(0) < 2, 3, 1)
pausetime = 0, 20
sparkno = 4325235
sparkxy = -15, 0
hitsound = 32, 3536
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = 0,1
airguard.velocity = -1,3
air.type = High
air.velocity = -1,3
air.hittime = 12
envshake.time = 30
envshake.freq = 30
envshake.ampl = -7
envshake.phase = 10
fall = 1

[State 0, HitDef]
type = HitDef
givepower = 0
getpower = 0
fall.yvelocity = -8
trigger1 = hitcount = 4 && ishelper(510) && numhelper(511) = 0
trigger2 = hitcount = 4 && ishelper(511) && numhelper(512) = 0
trigger3 = hitcount = 4 && ishelper(512) && numhelper(513) = 0
trigger4 = hitcount = 4 && ishelper(513) && numhelper(514) = 0
trigger5 = hitcount = 4 && ishelper(514)
hitonce = 1
attr = C, HP
damage = 300,100
animtype = Light
guardflag = MA
hitflag = MAF
priority = cond(var(0) < 2, 3, 1)
pausetime = 0, 20
sparkno = 2001
sparkxy = -15, 0
hitsound = 32, 3536
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -2,10
airguard.velocity = -2,10
air.type = High
air.velocity = -2,10
air.hittime = 12
envshake.time = 30
envshake.freq = 30
envshake.ampl = -7
envshake.phase = 10
p2stateno = 109998

[State 0, Helper]
type = Helper
trigger1 = pos y >= 0
trigger1 = numhelper(515) = 0
trigger1 = ishelper(510)
helpertype = normal;player
name = "Wybuch"
ID = 515
stateno = 947
pos = 32*0.85,0
size.xscale = 1
size.yscale = 1
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1

[State 0, Helper]
type = Helper
triggerall = pos y >= 0
triggerall = numhelper(516) = 0
trigger1 = ishelper(511) && numhelper(512) = 0
trigger2 = ishelper(512) && numhelper(513) = 0
trigger3 = ishelper(513) && numhelper(514) = 0
trigger4 = ishelper(514)
persistent = 0
helpertype = normal;player
name = "Wybuch"
ID = 516
stateno = 10975
pos = 32*0.85,0
size.xscale = 1
size.yscale = 1
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1

[State 0, Helper]
type = Helper
triggerall = pos y >= 0
trigger1 = ishelper(511) && numhelper(512) = 0
trigger2 = ishelper(512) && numhelper(513) = 0
trigger3 = ishelper(513) && numhelper(514) = 0
trigger4 = ishelper(514)
persistent = 0
helpertype = normal ;player
name = "White Flash"
ID = 9999
stateno = 9999
pos = 0,0
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1
size.xscale = 10
size.yscale = 10
supermovetime = 9999
pausemovetime = 9999
persistent = 0

[State 0, End]
type = ChangeState
trigger1 = Time = 30
trigger2 = time > 20 && !movehit
value = 516
ctrl = 1
;-----------------
[StateDef 516]
type = A
movetype = A
physics = S
juggle = 1
velset = 0,0
ctrl = 0
anim = 946+parent,var(0)*10000
poweradd = 0
sprpriority = cond(var(0) < 2,2,1)

[State -3, Sennin]
type = AfterImage
triggerall = var(0) = 1
trigger1 = time = 1
time = -1
length = 7
palcolor = 256
palinvertall = 0
palbright = 0,0,0
palcontrast = 140,160,50
palpostbright = 0,0,0
paladd = 4,5,2
palmul = .55,.65,.15
timegap = 1
framegap = 1
trans = add

[State -3, KCM]
type = AfterImage
triggerall = var(0) = 2
trigger1 = time = 1
time = -1
length = 10
palcolor = 256
palinvertall = 0
palbright = 0,0,0
palcontrast = 256,230,200
palpostbright = 0,0,0
paladd = 5,4,3
palmul = .60,.50,.40
timegap = 1
framegap = 1
trans = add

[State 0, HitOverride]
type = HitOverride
trigger1 = 1
attr = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
stateno = 199
time = 10

[State 0, VelSet]
type=VelSet
trigger1 = time = 0
trigger1 = pos y < 0
x = 1*const(velocity.airjump.fwd.x)
y = 5*const(velocity.airjump.fwd.x)

[State 0, VelSet]
type=VelSet
trigger1 = pos y >= 0
x = 0
y = 0

[State 0, VelSet]
type=PosSet
trigger1 = pos y >= 0
y = 0

[State 0, PlayerPush]
type = PlayerPush
trigger1 = 1
value = 0

[State 0, AfterImage]
type = AfterImage
trigger1 = animtime = 0
time = 1

[State 811, end]
type = ChangeState
trigger1 = animtime = 0
value = 517
ctrl = 1
;-----------------
[StateDef 517]
type = S
movetype= A
physics = S
juggle  = 1
ctrl = 0
anim = 949+parent,var(0)*10000
poweradd = 0
sprpriority = cond(var(0) < 2,2,1)

[State -3, Sennin]
type = AfterImage
triggerall = var(0) = 1
trigger1 = time = 1
time = -1
length = 7
palcolor = 256
palinvertall = 0
palbright = 0,0,0
palcontrast = 140,160,50
palpostbright = 0,0,0
paladd = 4,5,2
palmul = .55,.65,.15
timegap = 1
framegap = 1
trans = add

[State -3, KCM]
type = AfterImage
triggerall = var(0) = 2
trigger1 = time = 1
time = -1
length = 10
palcolor = 256
palinvertall = 0
palbright = 0,0,0
palcontrast = 256,230,200
palpostbright = 0,0,0
paladd = 5,4,3
palmul = .60,.50,.40
timegap = 1
framegap = 1
trans = add

[State 0, HitOverride]
type = HitOverride
trigger1 = 1
attr = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
stateno = 199
time = 10

[State 0, VelSet]
type = VelSet
trigger1 = 1
y = 0

[State 0, PosSet]
type = PosSet
trigger1 = 1
y = 0

[State 0, VelSet]
type = VelSet
trigger1 = time < 25
x = 6-time/5

[State 0, VelSet]
type = VelSet
trigger1 = time >= 25
x = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 6
value = F4

[State 0, Explod]
type = Explod
trigger1 = animelem = 6
anim = F290
ID = 23
pos = -1,3
postype = p1  ;p2,front,back,left,right
scale = 1.8,1.5
sprpriority = 2
ontop = 0
ownpal = 1

[State 0, ChangeState]
type = ChangeState
trigger1 = animtime = 0
value = 199
ctrl = 1
;-----------------
;Klon Air Charge
[StateDef 518]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 922+parent,var(0)*10000
poweradd = 0
sprpriority = 4

[State 0, VarSet]
type = VarSet
trigger1 = 1
v = 0
value = parent, var(0)

[State 0, Turn]
type = Turn
trigger1 = facing = 1
trigger1 = parent, facing = -1
trigger1 = time%5

[State 0, Turn]
type = Turn
trigger1 = facing = -1
trigger1 = parent, facing = 1
trigger1 = time%5

[State 0, Explod Postac]
type = Explod
ownpal = 0
trigger1 = time = 5
anim = 917+parent,var(0)*10000
id = 917
pos = 0,0
postype = p1
facing = 1
bindtime = 1
removetime = -2
sprpriority = 5
removeongethit = 1
scale = 1.2*0.85,1.1*0.85
ownpal = 0
supermovetime = 9999
pausemovetime = 9999

;Czy jest klonem do Rasengana
[State 0, Varset]
type = VarSet
trigger1 = 1
v = 10    
value = 1

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 513
time = 1
pos = -35*0.85,-27*0.85

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
value = S4,0+random%16
volume = 255
channel = 4

[State 0, PlaySnd]
type = PlaySnd
trigger1 = timemod = 8,0
value = F32,7

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = F9,0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = F9,2

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = time < 5
flag = invisible

[State 0, Prawa]
type = Explod
trigger1 = time = 0
anim = F696
ownpal = 0
ID = 900
pos = 10+random%10,-30-random%20
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
supermovetime = 9999
pausemovetime = 9999
vel = 0+random%2,-1-random%3
scale = 0.6,0.6
sprpriority = 6
ontop = 0

[State 0, Srodek]
type = Explod
trigger1 = time = 0
anim = F696
ownpal = 0
ID = 900
pos = -5+random%10,-20-random%10
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
supermovetime = 9999
pausemovetime = 9999
vel = -1+random%3,-1-random%2
scale = 1,1
sprpriority = 6
ontop = 0

[State 0, Lewa]
type = Explod
trigger1 = time = 0
anim = F696
ownpal = 0
ID = 900
pos = -10-random%10,-30-random%20
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
supermovetime = 9999
pausemovetime = 9999
vel = 0-random%2,-1-random%3
scale = 0.6,0.6
sprpriority = 6
ontop = 0

[State 0, End]
type = ChangeState
trigger1 = parent, stateno != 513
value = 199
ctrl = 1
;---------------------------------------------------------------------------
;OIROKE
[StateDef 660]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 6178
poweradd = 0
sprpriority = 0

[State 0, AngleDraw]
type = AngleDraw
trigger1 = time = [12,68]
scale = 1.15,1.15

[State 0, Prawa]
type = Explod
trigger1 = time = 12
trigger2 = time = 67
anim = F696
ownpal = 1
ID = 900
pos = 10+random%10,-20-random%20
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
supermovetime = 9999
pausemovetime = 9999
vel = 0+random%2,-1-random%3
scale = 0.6,0.6
sprpriority = 5
ontop = 0

[State 0, Srodek]
type = Explod
trigger1 = time = 12
trigger2 = time = 67
anim = F696
ownpal = 1
ID = 900
pos = -5+random%10,-20-random%10
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
supermovetime = 9999
pausemovetime = 9999
vel = -1+random%3,-1-random%2
scale = 1,1
sprpriority = 5
ontop = 0

[State 0, Lewa]
type = Explod
trigger1 = time = 12
trigger2 = time = 67
anim = F696
ownpal = 1
ID = 900
pos = -10-random%10,-20-random%20
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
supermovetime = 9999
pausemovetime = 9999
vel = 0-random%2,-1-random%3
scale = 0.6,0.6
sprpriority = 5
ontop = 0

[State 1533,excplod ]
type = Explod
ownpal = 1
trigger1 = time = 13
anim = 6179
ID = 6179
postype = p1
pos = 0,-5
bindtime = 56
sprpriority = 3
ownpal = 1
ontop = 0
removemovetime = 56
pausemovetime = 56
scale = 1,1
removeongethit = 1

[State 1533,excplod ]
type = Explod
ownpal = 1
trigger1 = time = 13
anim = 6179
ID = 6179
postype = p1
pos = 0,0
bindtime = 56
sprpriority = 3
ownpal = 1
facing = -1
ontop = 0
pausemovetime = 56
removemovetime = 56
scale = 1,1
removeongethit = 1

[State 1533,excplod ]
type = Explod
ownpal = 1
trigger1 = time = 12
anim = 6182
ID = 6182
postype = p1
pos = 0,0
bindtime = -2
sprpriority = 3
ownpal = 1
facing = -1
ontop = 0
pausemovetime = 56
removetime = 56
scale = 1,1
removeongethit = 1

[State 1533,excplod ]
type = Explod
ownpal = 1
trigger1 = time = 12
anim = 6182
ID = 6182
postype = p1
pos = 0,0
bindtime = -2
sprpriority = 3
ownpal = 1
facing = -1
ontop = 0
pausemovetime = 56
removetime = 56
scale = 1,1
removeongethit = 1

[State 0, Helper]
type = Helper
trigger1 = time = 20
helpertype = normal;player
name = "heart"
ID = 661
stateno = 661
pos = 8,-40
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1
pausemovetime = 9999
size.xscale = 0.5
size.yscale = 0.5

[State 0, Helper]
type = Helper
trigger1 = time = 20
helpertype = normal;player
name = "heart"
ID = 661
stateno = 662
pos = 8,-40
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1
pausemovetime = 9999
size.xscale = 0.5
size.yscale = 0.5

[State 0, Helper]
type = Helper
trigger1 = time = 20
helpertype = normal;player
name = "heart"
ID = 661
stateno = 663
pos = 8,-40
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1
pausemovetime = 9999
size.xscale = 0.5
size.yscale = 0.5

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 5
value = S3,23

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 5
value = S3,23

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 15
value = S3,21

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 12
trigger2 = time = 67
value = F9,0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 12
trigger2 = time = 67
value = F9,2

[State 220, end]
type = ChangeState
trigger1 = time = 68
value = 0
ctrl = 1
;----------------------------
;Serce 1
[StateDef 661]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 6180
poweradd = -100
sprpriority = 3

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = timemod = 20,0
anim = 6191
pos = 0,0
postype = p1  ;p2,front,back,left,right
facing = 1
bindtime = -1
removetime = -2
sprpriority = 2
scale = 0.5,0.5
ownpal = 1
ontop = 0
supermovetime = 9999
pausemovetime = 9999

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = target, ishelper = 0
flag = unguardable

[State 0, VarSet]
type = VarSet
trigger1 = time = 0
v = 7
value = 1

[State 0, VarSet]
type = VarSet
triggerall = time = 1
trigger1 = P2Name = "Tenten"
trigger2 = P2Name = "Hinata"
trigger3 = P2Name = "Ino"
trigger4 = P2Name = "Tsunade"
trigger5 = P2Name = "Karin"
trigger6 = P2Name = "Konan"
trigger7 = P2Name = "Sakura"
trigger8 = P2Name = "Chiyo"
trigger9 = P2Name = "Temari"
trigger10 = P2Name = "Mei"
trigger11 = P2Name = "Kaguya"
v = 7    ;fv = 10
value = 0


[State 1201, VelSet]
type = VelSet
trigger1 = 1
x = 2
y = 0.1-sin(PI/180*(time*5))/1.5;cond(time%40>19,-.4,.4)

[State 210, 2]
type = AfterImage
trigger1 = time = 0
time = 9999
length = 15
palbright = 0,0,0
palcontrast = 160,150,150
palpostbright = 0,0,0
paladd = 5,0,0
palmul = 1,1,1
trans = add

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = movehit = 1 && p2movetype = H
anim = 6192
pos = 0,0
postype = p1  ;p2,front,back,left,right
facing = 1
bindtime = 1
removetime = -2
sprpriority = 3
scale = 1,1
ownpal = 1
ontop = 0
supermovetime = 9999
pausemovetime = 9999

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = movehit = 1 && p2movetype = H
anim = 6193
pos = 0,0
postype = p1  ;p2,front,back,left,right
facing = 1
bindtime = 1
removetime = -2
sprpriority = -1
scale = 1,1
ownpal = 1
ontop = 0
supermovetime = 9999
pausemovetime = 9999

[State 1201, 1]
type = HitDef
givepower = 0
getpower = 0
fall.yvelocity = -6
trigger1 = 1
attr = C,HP
damage = 10
animtype = Light
guardflag = MA
hitflag = MAF
priority = cond(var(0) < 2, 3, 1)
pausetime = 0, 150*var(7)
sparkno = 75475476
sparkxy = 0, 0
hitsound = S3, 21
guardsound = S3, 21
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = 0
airguard.velocity = -1.9,-.8
air.type = High
air.velocity = -1.4,-3
air.hittime = 12
fall = 1*var(7)
fall.recover = 1
fall.recovertime = 50
palfx.time = 200*var(7)
palfx.add = 200,0,50
palfx.mul = 256,256,256
palfx.sinadd = 100,0,100,10

[State 220, end]
type = Destroyself
trigger1 = movehit = 1
trigger2 = frontedgedist <=-20
;----------------------------
;Serce 2
[StateDef 662]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 6180
poweradd = -100
sprpriority = 3

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = timemod = 20,0
anim = 6191
pos = 0,0
postype = p1  ;p2,front,back,left,right
facing = 1
bindtime = -1
removetime = -2
sprpriority = 2
scale = 0.5,0.5
ownpal = 1
ontop = 0
supermovetime = 9999
pausemovetime = 9999

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = target, ishelper = 0
flag = unguardable

[State 0, VarSet]
type = VarSet
trigger1 = time = 0
v = 7
value = 1

[State 0, VarSet]
type = VarSet
triggerall = time = 1
trigger1 = P2Name = "Tenten"
trigger2 = P2Name = "Hinata"
trigger3 = P2Name = "Ino"
trigger4 = P2Name = "Tsunade"
trigger5 = P2Name = "Karin"
trigger6 = P2Name = "Konan"
trigger7 = P2Name = "Sakura"
trigger8 = P2Name = "Chiyo"
trigger9 = P2Name = "Temari"
trigger10 = P2Name = "Mei"
trigger11 = P2Name = "Kaguya"
v = 7    ;fv = 10
value = 0


[State 1201, VelSet]
type = VelSet
trigger1 = 1
x = 2
y = -.2-sin(PI/180*(time*5))/1.5;cond(time%40>19,-.4,.4)

[State 210, 2]
type = AfterImage
trigger1 = time = 0
time = 9999
length = 15
palbright = 0,0,0
palcontrast = 160,150,150
palpostbright = 0,0,0
paladd = 5,0,0
palmul = 1,1,1
trans = add


[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = movehit = 1 && p2movetype = H
anim = 6192
pos = 0,0
postype = p1  ;p2,front,back,left,right
facing = 1
bindtime = 1
removetime = -2
sprpriority = 3
scale = 1,1
ownpal = 1
ontop = 0
supermovetime = 9999
pausemovetime = 9999

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = movehit = 1 && p2movetype = H
anim = 6193
pos = 0,0
postype = p1  ;p2,front,back,left,right
facing = 1
bindtime = 1
removetime = -2
sprpriority = -1
scale = 1,1
ownpal = 1
ontop = 0
supermovetime = 9999
pausemovetime = 9999

[State 1201, 1]
type = HitDef
givepower = 0
getpower = 0
fall.yvelocity = -6
trigger1 = 1
attr = C,HP
damage = 10
animtype = Light
guardflag = MA
hitflag = MAF
priority = cond(var(0) < 2, 3, 1)
pausetime = 0, 150*var(7)
sparkno = 45757
sparkxy = 0, 0
hitsound = S3, 21
guardsound = S3, 21
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = 0
airguard.velocity = -1.9,-.8
air.type = High
air.velocity = -1.4,-3
air.hittime = 12
fall = 1*var(7)
fall.recover = 1
fall.recovertime = 50
palfx.time = 200*var(7)
palfx.add = 200,0,50
palfx.mul = 256,256,256
palfx.sinadd = 100,0,100,10

[State 220, end]
type = Destroyself
trigger1 = movehit = 1
trigger2 = frontedgedist <=-20
;----------------------------
;Serce 3
[StateDef 663]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 6180
poweradd = -100
sprpriority = 3

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = timemod = 20,0
anim = 6191
pos = 0,0
postype = p1  ;p2,front,back,left,right
facing = 1
bindtime = -1
removetime = -2
sprpriority = 2
scale = 0.5,0.5
ownpal = 1
ontop = 0
supermovetime = 9999
pausemovetime = 9999

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = target, ishelper = 0
flag = unguardable

[State 0, VarSet]
type = VarSet
trigger1 = time = 0
v = 7
value = 1

[State 0, VarSet]
type = VarSet
triggerall = time = 1
trigger1 = P2Name = "Tenten"
trigger2 = P2Name = "Hinata"
trigger3 = P2Name = "Ino"
trigger4 = P2Name = "Tsunade"
trigger5 = P2Name = "Karin"
trigger6 = P2Name = "Konan"
trigger7 = P2Name = "Sakura"
trigger8 = P2Name = "Chiyo"
trigger9 = P2Name = "Temari"
trigger10 = P2Name = "Mei"
trigger11 = P2Name = "Kaguya"
v = 7    ;fv = 10
value = 0


[State 1201, VelSet]
type = VelSet
trigger1 = 1
x = 2
y = -.5-sin(PI/180*(time*5))/1.5;cond(time%40>19,-.4,.4)

[State 210, 2]
type = AfterImage
trigger1 = time = 0
time = 9999
length = 15
palbright = 0,0,0
palcontrast = 160,150,150
palpostbright = 0,0,0
paladd = 5,0,0
palmul = 1,1,1
trans = add


[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = movehit = 1 && p2movetype = H
anim = 6192
pos = 0,0
postype = p1  ;p2,front,back,left,right
facing = 1
bindtime = 1
removetime = -2
sprpriority = 3
scale = 1,1
ownpal = 1
ontop = 0
supermovetime = 9999
pausemovetime = 9999

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = movehit = 1 && p2movetype = H
anim = 6193
pos = 0,0
postype = p1  ;p2,front,back,left,right
facing = 1
bindtime = 1
removetime = -2
sprpriority = -1
scale = 1,1
ownpal = 1
ontop = 0
supermovetime = 9999
pausemovetime = 9999

[State 1201, 1]
type = HitDef
givepower = 0
getpower = 0
fall.yvelocity = -6
trigger1 = 1
attr = C,HP
damage = 10
animtype = Light
guardflag = MA
hitflag = MAF
priority = cond(var(0) < 2, 3, 1)
pausetime = 0, 150*var(7)
sparkno = 57547
sparkxy = 0, 0
hitsound = S3, 21
guardsound = S3, 21
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = 0
airguard.velocity = -1.9,-.8
air.type = High
air.velocity = -1.4,-3
air.hittime = 12
fall = 1*var(7)
fall.recover = 1
fall.recovertime = 50
palfx.time = 200*var(7)
palfx.add = 200,0,50
palfx.mul = 256,256,256
palfx.sinadd = 100,0,100,10

[State 220, end]
type = Destroyself
trigger1 = movehit = 1
trigger2 = frontedgedist <=-20

;-----------------
;Kage Bunshin
[StateDef 750]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 750
poweradd = 0
sprpriority = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
value = S2,2
volume = 255
channel = 2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 20
value = S3,5+random%1
volume = 255
channel = 2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 100
value = S3,7+random%1
volume = 255
channel = 2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F17,0

[State 7500, Explod]
type = Explod
ownpal = 1
trigger1 = time = 5
anim = 90005
ID = 75502
pos = -33,-75
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = -1
removetime = 90
scale = 0.5,0.5
sprpriority = 2
removeongethit = 1
ownpal = 1
ontop = 0

[State 7500, Explod]
type = Explod
ownpal = 1
trigger1 = time > 5 && time <= 100
anim = 90000
ID = 75501
pos = -33,-75
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = -1
removetime = 1
scale = fvar(10), 0.5
sprpriority = 1
removeongethit = 1
ownpal = 1

[State 7500, VarSet]
type = VarSet
trigger1 = time = 1
fv = 10    ;fv = 10
value = 0

[State 7500, VarAdd]
type = VarAdd
trigger1 = time%2
fv = 10
value = 0.01

[State 7500, VarSet]
type = VarSet
trigger1 = fvar(10) > 1
fv = 10    ;fv = 10
value = 1

[State 0, Helper]
type = Helper
trigger1 = time = 20
triggerall = numhelper(50000) = 0
helpertype = player
name = "bunshin"
ID = 50000
stateno = 52221
pos = -75+random%150,0
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1
size.xscale = 0.85
size.yscale = 0.85
supermovetime = 0
pausemovetime = 0

[State 0, Helper]
type = Helper
trigger1 = time = 40
triggerall = numhelper(50000) <= 1
helpertype = player
name = "bunshin"
ID = 50000
stateno = 52221
pos = -75+random%150,0
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1
size.xscale = 0.85
size.yscale = 0.85
supermovetime = 0
pausemovetime = 0

[State 0, Helper]
type = Helper
trigger1 = time = 60
triggerall = numhelper(50000) <= 2
helpertype = player
name = "bunshin"
ID = 50000
stateno = 52221
pos = -75+random%150,0
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1
size.xscale = 0.85
size.yscale = 0.85
supermovetime = 0
pausemovetime = 0

[State 0, Helper]
type = Helper
trigger1 = time = 80
triggerall = numhelper(50000) <= 3
helpertype = player
name = "bunshin"
ID = 50000
stateno = 52221
pos = -75+random%150,0
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1
size.xscale = 0.85
size.yscale = 0.85
supermovetime = 0
pausemovetime = 0

[State 0, Helper]
type = Helper
trigger1 = time = 100
triggerall = numhelper(50000) <= 4
helpertype = player
name = "bunshin"
ID = 50000
stateno = 52221
pos = -75+random%150,0
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1
size.xscale = 0.85
size.yscale = 0.85
supermovetime = 0
pausemovetime = 0

[State 0, End]
type = ChangeState
trigger1 = var(50) = 0 && command != "hold_z"
trigger2 = power < 1000
trigger3 = var(50) = 1 && random = [0,100-var(49)*(var(49))/100]
trigger4 = win
trigger5 = lose
trigger6 = drawgame
trigger7 = life = 0
trigger8 = !ALive
trigger9 = time = 100
trigger10 = numhelper(50000) = 5
value = 0
ctrl = 1
;-----------------
;GAMA TENPO
[StateDef 870]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 870
poweradd = 0
sprpriority = 2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
trigger2 = animelem = 3
trigger3 = animelem = 5
trigger4 = animelem = 7
trigger5 = animelem = 9
trigger6 = animelem = 14
value = F8,0+random%4
volume = 255
channel = 8

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
trigger2 = animelem = 4
trigger3 = animelem = 6
trigger4 = animelem = 8
trigger5 = animelem = 10
value = F17,0

[State 0, Explod]
type = Explod
trigger1 = animelem = 12
anim = F13
pos = 6*0.85,-48*0.85
postype = p1  ;p2,front,back,left,right
facing = -1
vel = -0.5,-0.3
bindtime = 1
removetime = -2
sprpriority = 3
scale = 0.9,0.9
ontop = 0
supermovetime = 9999
pausemovetime = 9999

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 13
value = S3,11

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = animelem = 14
anim = F1560
pos = 6,0
scale = 2,2
postype = p1
facing = 1
bindtime = 1
removetime = -2
sprpriority = -1
supermovetime = 99999

[State 0, Helper]
type = Helper
trigger1 = time = 55
helpertype = normal;player
name = "zaba"
ID = 875
stateno = 875
pos = 0,0
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1

[State 0, End]
type = ChangeState
trigger1 = animtime = 0
value = 871
ctrl = 1
;-----------------
;GAMA TENPO
[StateDef 871]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 871
poweradd = 0
sprpriority = 2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F14,5
volume = 255
channel = 8

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
value = S3,1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
value = S3,1

[State 0, PlayerPush]
type = PlayerPush
trigger1 = 1
value = 0

[State 0, End]
type = ChangeState
trigger1 = numhelper(875) = 0
value = 50
ctrl = 1
;-----------------
;GAMA TENPO FROG
[StateDef 875]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 875
poweradd = 0
sprpriority = 1

[State 0, NotHitBy]
type = NotHitBy
trigger1 = time >= 0
value = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
time = -1

[State 0, PlayerPush]
type = PlayerPush
trigger1 = 1
value = 1

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = [870,871]
time = 1
pos = 0,0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = timemod = 40,0
value = S7,2
volume = 255
channel = 2

[State 0, Prawa]
type = Explod
trigger1 = time = 0
trigger2 = time = 120
anim = F696
ownpal = 1
ID = 900
pos = 20+random%10,-15-random%20
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
supermovetime = 9999
pausemovetime = 9999
vel = 0+random%2,-1-random%3
scale = 1,1
sprpriority = 5
ontop = 0

[State 0, Srodek]
type = Explod
trigger1 = time = 0
trigger2 = time = 120
anim = F696
ownpal = 1
ID = 900
pos = -5+random%10,-20-random%10
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
supermovetime = 9999
pausemovetime = 9999
vel = -1+random%3,-1-random%2
scale = 1.4,1.4
sprpriority = 5
ontop = 0

[State 0, Lewa]
type = Explod
trigger1 = time = 0
trigger2 = time = 120
anim = F696
ownpal = 1
ID = 900
pos = -25-random%10,-5-random%20
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
supermovetime = 9999
pausemovetime = 9999
vel = 0-random%2,-1-random%3
scale = 1,1
sprpriority = 5
ontop = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
trigger2 = time = 120
value = F9,0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
trigger2 = time = 120
value = F9,2

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time > 30 && time <= 110 && timemod = 8,0
anim = F1550
ID = 987601
pos = 45*0.85+random%10,-23*0.85+random%10
postype = p1
bindtime = 1
removetime = 18
vel = 0.5,-.5
supermove
pausemove
scale = 1,1
sprpriority = 10
ownpal = 1
angle = random
ontop = 0

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time >= 30 && time < 110 && numexplod(1520) = 0
anim = F1520
id = 1520
pos = 50*0.85,-28*0.85
scale = 0.6,1.4
postype = p1
facing = 1
bindtime = 1
removetime = -2
sprpriority = 4
supermovetime=9999
pausemovetime=9999
ownpal = 1

[State 0, Helper]
type = Helper
trigger1 = time = 30
helpertype = normal;player
name = "suiton"
ID = 876
stateno = 876
pos = 50*0.85,-28*0.85
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1
size.xscale = 0.5*0.85
size.yscale = 0.4*0.85

[State 0, End]
type = destroyself
trigger1 = time = 120
;-----------------
;GAMA TENPO WATER
[StateDef 876]
type = A
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 876
poweradd = -1000
sprpriority = 3

[State 0, TargetState]
type = TargetState
trigger1 = enemy(cond((enemy(0),alive),0,1)), var(53) = 0
trigger1 = !(enemynear, ishelper)
trigger1 = target, ishelper = 0
trigger1 = movehit
value = 109932

[State 0, NotHitBy]
type = NotHitBy
trigger1 = time >= 0
value = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
time = -1

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 875
time = 1
pos = 50*0.85,-28*0.85

[State 0, PlayerPush]
type = PlayerPush
trigger1 = 1
value = 0

[State 0, ScreenBound]
type = ScreenBound
trigger1 = 1
value = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = timemod = 15,0
trigger1 = time < 70
value = F12,3

[State 0, PlaySnd]
type = PlaySnd
trigger1 = timemod = 10,0
trigger1 = time < 70
value = F12,2

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = time > 50
trigger1 = target, ishelper = 0
flag = unguardable

[State 0, HitDef]
type = HitDef
givepower = 0
getpower = 0
fall.yvelocity = -6
trigger1 = time = 80
attr = S,NA
damage = 100,40
getpower = 0
animtype = Light
guardflag = MA
hitflag = MAF
sprpriority = 3
pausetime = 0, 0
sparkno = 1550;240
sparkxy = -20+random%40, 20-random%40
hitsound = F12,0
guardsound = F12,0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -9,-3
airguard.velocity = -9,-3
air.type = High
air.velocity = -9,-3
air.hittime = 12
envshake.time = 30
envshake.freq = 30
envshake.ampl = -7
envshake.phase = 10
fall = 1

[State 0, HitDef]
type = HitDef
givepower = 0
getpower = 0
fall.yvelocity = -6
trigger1 = time < 80 && timemod = 5,0
attr = S,NA
damage = 35,10
getpower = 0
animtype = Light
guardflag = MA
hitflag = MAF
sprpriority = 3
pausetime = 0, 3
sparkno = 1550;240
sparkxy = -20+random%40, 20-random%40
hitsound = F12,0
guardsound = F12,0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -3, 0
airguard.velocity = -3, -1
air.type = High
air.velocity = -3, -1
air.hittime = 12
envshake.time = 20
envshake.freq = 25
envshake.ampl = -6
envshake.phase = 10
fall = 1

[State 0, End]
type = destroyself
trigger1 = animtime = 0
;-----------------
;GAMAYU ENDAN
[StateDef 880]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 870
poweradd = 0
sprpriority = 2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
trigger2 = animelem = 3
trigger3 = animelem = 5
trigger4 = animelem = 7
trigger5 = animelem = 9
trigger6 = animelem = 14
value = F8,0+random%4
volume = 255
channel = 8

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
trigger2 = animelem = 4
trigger3 = animelem = 6
trigger4 = animelem = 8
trigger5 = animelem = 10
value = F17,0

[State 0, Explod]
type = Explod
trigger1 = animelem = 12
anim = F13
pos = 6*0.85,-48*0.85
postype = p1  ;p2,front,back,left,right
facing = -1
vel = -0.5,-0.3
bindtime = 1
removetime = -2
sprpriority = 3
scale = 0.9,0.9
ontop = 0
supermovetime = 9999
pausemovetime = 9999

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 13
value = S3,11

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = animelem = 14
anim = F1560
pos = 6,0
scale = 2,2
postype = p1
facing = 1
bindtime = 1
removetime = -2
sprpriority = -1
supermovetime = 99999

[State 0, Helper]
type = Helper
trigger1 = time = 55
helpertype = normal;player
name = "zaba"
ID = 875
stateno = 885
pos = 0,0
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1

[State 0, Helper]
type = Helper
trigger1 = time = 55
helpertype = normal;player
name = "zaba"
ID = 885
stateno = 886
pos = -20,5
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1

[State 0, End]
type = ChangeState
trigger1 = animtime = 0
value = 881
ctrl = 1
;-----------------
;GAMAYU ENDAN
[StateDef 881]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 871
poweradd = 0
sprpriority = 2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F14,5
volume = 255
channel = 8

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
value = S3,2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
value = S3,2

[State 0, PlayerPush]
type = PlayerPush
trigger1 = 1
value = 0

[State 0, End]
type = ChangeState
trigger1 = numhelper(875) = 0
trigger1 = numhelper(885) = 0
value = 50
ctrl = 1
;-----------------
;GAMAYU ENDAN FROG
[StateDef 885]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 875
poweradd = 0
sprpriority = 1

[State 0, NotHitBy]
type = NotHitBy
trigger1 = time >= 0
value = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
time = -1

[State 0, PlayerPush]
type = PlayerPush
trigger1 = 1
value = 1

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = [880,881]
time = 1
pos = 0,0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = timemod = 40,0
value = S7,2
volume = 255
channel = 2

[State 0, Prawa]
type = Explod
trigger1 = time = 0
trigger2 = time = 100
anim = F696
ownpal = 1
ID = 900
pos = 20+random%10,-15-random%20
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
supermovetime = 9999
pausemovetime = 9999
vel = 0+random%2,-1-random%3
scale = 1,1
sprpriority = 5
ontop = 0

[State 0, Srodek]
type = Explod
trigger1 = time = 0
trigger2 = time = 100
anim = F696
ownpal = 1
ID = 900
pos = -5+random%10,-20-random%10
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
supermovetime = 9999
pausemovetime = 9999
vel = -1+random%3,-1-random%2
scale = 1.4,1.4
sprpriority = 5
ontop = 0

[State 0, Lewa]
type = Explod
trigger1 = time = 0
trigger2 = time = 100
anim = F696
ownpal = 1
ID = 900
pos = -25-random%10,-5-random%20
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
supermovetime = 9999
pausemovetime = 9999
vel = 0-random%2,-1-random%3
scale = 1,1
sprpriority = 5
ontop = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
trigger2 = time = 100
value = F9,0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
trigger2 = time = 100
value = F9,2

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 30
anim = 884
ID = 884
pos = 40,-26
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
removetime = 50
scale = 0.6,0.6
sprpriority = 3
ontop = 0

[State 0, Helper]
type = Helper
trigger1 = time > 30 && time <= 80 && timemod = 6,0
helpertype = normal;player
name = "oil"
ID = 887
stateno = 887
pos = 35*0.85,-25*0.85
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
size.xscale = 0.5
size.yscale = 0.5

[State 0, End]
type = destroyself
trigger1 = animtime = 0
;-----------------
;GAMAYU ENDAN FROG
[StateDef 886]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 886
poweradd = 0
sprpriority = 4

[State 0, NotHitBy]
type = NotHitBy
trigger1 = time >= 0
value = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
time = -1

[State 0, PlayerPush]
type = PlayerPush
trigger1 = 1
value = 1

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = [880,881]
time = 1
pos = -20,5

[State 0, PlaySnd]
type = PlaySnd
trigger1 = timemod = 40,0
value = S7,2
volume = 255
channel = 2

[State 0, Prawa]
type = Explod
trigger1 = time = 0
trigger2 = time = 100
anim = F696
ownpal = 1
ID = 900
pos = 20+random%10,-15-random%20
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
supermovetime = 9999
pausemovetime = 9999
vel = 0+random%2,-1-random%3
scale = 1,1
sprpriority = 5
ontop = 0

[State 0, Srodek]
type = Explod
trigger1 = time = 0
trigger2 = time = 100
anim = F696
ownpal = 1
ID = 900
pos = -5+random%10,-20-random%10
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
supermovetime = 9999
pausemovetime = 9999
vel = -1+random%3,-1-random%2
scale = 1.4,1.4
sprpriority = 5
ontop = 0

[State 0, Lewa]
type = Explod
trigger1 = time = 0
trigger2 = time = 100
anim = F696
ownpal = 1
ID = 900
pos = -25-random%10,-5-random%20
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
supermovetime = 9999
pausemovetime = 9999
vel = 0-random%2,-1-random%3
scale = 1,1
sprpriority = 5
ontop = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
trigger2 = time = 100
value = F9,0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
trigger2 = time = 100
value = F9,2

[State 0, Helper]
type = Helper
trigger1 = time = 40
helpertype = normal;player
name = "katon"
ID = 888
stateno = 888
pos = 46*0.85,-28*0.85
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
size.xscale = 1
size.yscale = 0.7
pausemovetime = 9999

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time > 40 && numexplod(810) = 0
anim = F810
id = 810
pos = 46,-28
scale = 0.4,0.6
postype = p1
facing = 1
bindtime = 1
removetime = -2
sprpriority = 6
supermovetime=9999
pausemovetime=9999
ownpal = 1

[State 0, End]
type = destroyself
trigger1 = animtime = 0
;-----------------
;Oil
[StateDef 887]
type = A
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 887
poweradd = -50
sprpriority = 2

[State 0, VelSet]
type = VelSet
trigger1 = time > 5
triggerall = pos y < 0
x = 16

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[State 0, HitDef]
type = HitDef
givepower = 0
getpower = 0
fall.yvelocity = -6
trigger1 = timemod = 3,0
attr = S, NA
damage = 10,4
getpower = 0
animtype = Light
guardflag = MA
hitflag = MAF
sprpriority = 2
pausetime = 0, 15
sparkno = -1
sparkxy = -15, -35
hitsound = -1, 2
guardsound = -6, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = 0, 0
airguard.velocity = 0, 0
air.type = High
air.velocity = 0, 0
air.hittime = 12
fall = 1
envshake.time = 50
envshake.ampl = 5
envshake.freq = 50

[State 0, End]
type = destroyself
trigger1 = time = 25
;-----------------
;Flame
[StateDef 888]
type = A
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 888
poweradd = -1000
sprpriority = 5

[State 0, TargetState]
type = TargetState
trigger1 = enemy(cond((enemy(0),alive),0,1)), var(51) = 0
trigger1 = !(enemynear, ishelper)
trigger1 = target, ishelper = 0
trigger1 = movehit
value = 109912

[State 0, BindToParent]
type = BindToParent
trigger1 = 1
time = 1
facing = 0
pos = 46*0.85,-28*0.85

[State 0, EnvShake]
type = EnvShake
trigger1 = time%5 = 0
time = 20
freq = 25
ampl = -3
phase = 90

[State 0, ScreenBound]
type = ScreenBound
trigger1 = 1
value = 1

[State 0, NotHitBy]
type = NotHitBy
trigger1 = time >= 0
value = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
time = -1

[State 0, PlayerPush]
type = PlayerPush
trigger1 = 1
value = 1

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow
ignorehitpause = 1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = F10,20

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = F10,3

[State 0, PlaySnd]
type = PlaySnd
trigger1 = timemod = 15,0
value = F10,0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = timemod = 15,0
value = F10,2

[State 0, VarAdd]
type = VarAdd
trigger1 = time > 0
triggerall = var(12) < 50
trigger2 = var(12) = 0
v = 12
value = 1

[State 0, VarSet]
type = VarSet
trigger1 = var(12) >= 50
v = 12
value = 0

[State 0, Ogien na ziemi]
type = Explod
ownpal = 1
trigger1 = time%6 = 0 && numexplod(1462) < 10 
anim = F1462
ID = 1462
pos = 50+var(12)*6,-pos y +15
postype = p1
bindtime = 5
removetime = -2
scale = 2.5,2
sprpriority = 5
ownpal = 1
supermovetime=9999
pausemovetime=9999

[State 0, Iskry]
type = Explod
ownpal = 1
trigger1 = time % 16 = 0 && numexplod(271) <= 2
anim = F271
ID = 271
pos = 100,5
postype = p1
vel = 0,0
bindtime = 1
removetime = 60
supermovetime=9999
pausemovetime=9999
scale = 1,1
sprpriority = 5
ownpal = 1

[State 0, Kola]
type = Explod
ownpal = 1
trigger1 = time > 15 && time % 20 = 0 && numexplod(820) <= 1
anim = F820
id = 820
pos = 200,0
scale = 1.3,2
vel = -4,0
postype = p1
facing = -1
bindtime = 1
removetime = -2
sprpriority = 6
supermovetime=9999
pausemovetime=9999

[State 0, hitdef]
type = HitDef
givepower = 0
getpower = 0
fall.yvelocity = -6
trigger1 = timemod = 5,0
attr = S, NA
damage = 50,20
getpower = 0
animtype = Light
guardflag = MA
hitflag = MAF
priority = 4
sprpriority = 4
pausetime = 0, 4
sparkno = 1400
sparkxy = -30+random%30, -7-random%40
hitsound = 10, 0
guardsound = 10, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -3,-2
airguard.velocity = -3,-1
air.type = High
air.velocity = -3,-1
air.hittime = 12
fall = 1
palfx.time = 30
palfx.add = 240,50,0
palfx.mul = 250,224,120
palfx.sinadd = 110,55,85,10
envshake.time = 30
envshake.freq = 30
envshake.ampl = -7
envshake.phase = 10

[State 0, End]
type = destroyself
trigger1 = time = 69
;-----------------
;Ground Effect
[StateDef 889]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 889
poweradd = 0
sprpriority = 5

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 =1
flag = invisible


[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 0
anim = F850
id = 850
pos = 0,0
scale = 3,1.5
postype = p1
facing = -1
bindtime = -1
removetime = -2
sprpriority = 6
supermovetime=9999
pausemovetime=9999


[State 0, PlaySnd]
type = PlaySnd
trigger1 = timemod = 10,0
value = F10,2

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 =  1
flag = noshadow

[State 0, End]
type = destroyself
trigger1 = time = 65

[State 0, End]
type = destroyself
trigger1 = time = 65
;-----------------
;Klon Charge
[StateDef 920]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 920+parent,var(0)*10000
poweradd = 0
sprpriority = -2

[State 0, VarSet]
type = VarSet
trigger1 = 1
v = 0
value = parent, var(0)

[State 0, Turn]
type = Turn
trigger1 = facing = 1
trigger1 = parent, facing = -1
trigger1 = time%5

[State 0, Turn]
type = Turn
trigger1 = facing = -1
trigger1 = parent, facing = 1
trigger1 = time%5

[State 0, Explod Postac]
type = Explod
ownpal = 1
trigger1 = time = 10 && parent, stateno != 10485
trigger2 = parent, stateno = 1000 && parent, time = 10
trigger3 = time = 5 && parent, stateno = 10485
triggerall = parent, stateno != [290,293]
triggerall = parent, stateno != [10290,10293]
anim = 919+parent,var(0)*10000
id = 919
pos = 0,0
postype = p1
facing = 1
bindtime = 1
removetime = -2
sprpriority = 1
removeongethit = 1
scale = 1.2*0.85,1.1*0.85
ownpal = 1
supermovetime = 9999
pausemovetime = 9999

;Czy jest klonem do Rasengana
[State 0, Varset]
type = VarSet
trigger1 = 1
v = 10    
value = 1

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 930
trigger2 = parent, stateno = 290
trigger3 = parent, stateno = 1000
trigger4 = parent, stateno = 10290
time = 1
pos = -21*0.85,-5

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 10485
time = 1
pos = -30*0.85,-5

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
value = S4,0+random%16
volume = 255
channel = 4

[State 0, PlaySnd]
type = PlaySnd
trigger1 = timemod = 8,0
value = F32,7

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = F9,0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = F9,2

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = time < 5
flag = invisible

[State 0, Prawa]
type = Explod
trigger1 = time = 0
anim = F696
ownpal = 1
ID = 900
pos = 10+random%10,-30-random%20
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
supermovetime = 9999
pausemovetime = 9999
vel = 0+random%2,-1-random%3
scale = 0.6,0.6
sprpriority = 1
ontop = 0

[State 0, Srodek]
type = Explod
trigger1 = time = 0
anim = F696
ownpal = 1
ID = 900
pos = -5+random%10,-20-random%10
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
supermovetime = 9999
pausemovetime = 9999
vel = -1+random%3,-1-random%2
scale = 1,1
sprpriority = 1
ontop = 0

[State 0, Lewa]
type = Explod
trigger1 = time = 0
anim = F696
ownpal = 1
ID = 900
pos = -10-random%10,-30-random%20
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
supermovetime = 9999
pausemovetime = 9999
vel = 0-random%2,-1-random%3
scale = 0.6,0.6
sprpriority = 1
ontop = 0

[State 0, End]
type = ChangeState
trigger1 = parent, stateno = 963
value = 923
ctrl = 1

[State 0, End]
type = ChangeState
trigger1 = parent, stateno = 964
value = 924
ctrl = 1

[State 0, End]
type = ChangeState
trigger1 = parent, stateno = 935
value = 923
ctrl = 1

[State 0, End]
type = ChangeState
trigger1 = parent, stateno = 932
value = 52223

[State 0, End]
type = ChangeState
trigger1 = parent, stateno != 930
trigger1 = parent, stateno != [960,969]
trigger1 = parent, stateno != 290
trigger1 = parent, stateno != 1000
trigger1 = parent, stateno != 10485
trigger1 = parent, stateno != 10290
value = 52223
ctrl = 0
;-----------------
;Klon Charge RS
[StateDef 921]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 921+parent,var(0)*10000
poweradd = 0
sprpriority = 5

[State 0, VarSet]
type = VarSet
trigger1 = 1
v = 0
value = parent, var(0)

[State 0, Turn]
type = Turn
trigger1 = facing = 1
trigger1 = parent, facing = -1
trigger1 = time%5

[State 0, Turn]
type = Turn
trigger1 = facing = -1
trigger1 = parent, facing = 1
trigger1 = time%5

[State 0, Explod Postac]
type = Explod
ownpal = 1
trigger1 = time = 10
anim = 918+parent,var(0)*10000
id = 918
pos = 0,0
postype = p1
facing = 1
bindtime = 1
removetime = -2
sprpriority = 6
removeongethit = 1
scale = 1.2*0.85,1.1*0.85
ownpal = 1
supermovetime = 9999
pausemovetime = 9999

;Czy jest klonem do Rasengana
[State 0, Varset]
type = VarSet
trigger1 = 1
v = 10    
value = 1

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 1000
time = 1
pos = -50*0.85,-3*0.85

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
value = S4,0+random%16
volume = 255
channel = 4


[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = F9,0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = F9,2

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = time < 5
flag = invisible

[State 0, Prawa]
type = Explod
trigger1 = time = 0
anim = F696
ownpal = 1
ID = 900
pos = 10+random%10,-30-random%20
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
supermovetime = 9999
pausemovetime = 9999
vel = 0+random%2,-1-random%3
scale = 0.6,0.6
sprpriority = 6
ontop = 0

[State 0, Srodek]
type = Explod
trigger1 = time = 0
anim = F696
ownpal = 1
ID = 900
pos = -5+random%10,-20-random%10
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
supermovetime = 9999
pausemovetime = 9999
vel = -1+random%3,-1-random%2
scale = 1,1
sprpriority = 6
ontop = 0

[State 0, Lewa]
type = Explod
trigger1 = time = 0
anim = F696
ownpal = 1
ID = 900
pos = -10-random%10,-30-random%20
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
supermovetime = 9999
pausemovetime = 9999
vel = 0-random%2,-1-random%3
scale = 0.6,0.6
sprpriority = 6
ontop = 0

[State 0, End]
type = ChangeState
trigger1 = 0;parent, stateno = 935
value = 923
ctrl = 1

[State 0, End]
type = ChangeState
trigger1 = parent, stateno = 932
value = 52223

[State 0, End]
type = ChangeState
trigger1 = parent, stateno != 930
trigger1 = parent, stateno != [960,969]
trigger1 = parent, stateno != 290
trigger1 = parent, stateno != 1000
value = 52223
ctrl = 0
;-----------------
;Klon Air Charge
[StateDef 922]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 922+parent,var(0)*10000
poweradd = 0
sprpriority = 4

[State 0, VarSet]
type = VarSet
trigger1 = 1
v = 0
value = parent, var(0)

[State 0, Turn]
type = Turn
trigger1 = facing = 1
trigger1 = parent, facing = -1
trigger1 = time%5

[State 0, Turn]
type = Turn
trigger1 = facing = -1
trigger1 = parent, facing = 1
trigger1 = time%5

[State 0, Explod Postac]
type = Explod
ownpal = 1
trigger1 = time = 10
triggerall = parent, stateno != 274
triggerall = parent, stateno != 10284
anim = 917+parent,var(0)*10000
id = 917
pos = 0,0
postype = p1
facing = 1
bindtime = 1
removetime = -2
sprpriority = 5
removeongethit = 1
scale = 1.2*0.85,1.1*0.85
ownpal = 1
supermovetime = 9999
pausemovetime = 9999

;Czy jest klonem do Rasengana
[State 0, Varset]
type = VarSet
trigger1 = 1
v = 10    
value = 1

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 940
trigger2 = parent, stateno = 274
trigger3 = parent, stateno = 10284
time = 1
pos = -35*0.85,-27*0.85

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
value = S4,0+random%16
volume = 255
channel = 4

[State 0, PlaySnd]
type = PlaySnd
trigger1 = timemod = 8,0
value = F32,7

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = F9,0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = F9,2

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = time < 5
flag = invisible

[State 0, Prawa]
type = Explod
trigger1 = time = 0
anim = F696
ownpal = 1
ID = 900
pos = 10+random%10,-30-random%20
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
supermovetime = 9999
pausemovetime = 9999
vel = 0+random%2,-1-random%3
scale = 0.6,0.6
sprpriority = 6
ontop = 0

[State 0, Srodek]
type = Explod
trigger1 = time = 0
anim = F696
ownpal = 1
ID = 900
pos = -5+random%10,-20-random%10
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
supermovetime = 9999
pausemovetime = 9999
vel = -1+random%3,-1-random%2
scale = 1,1
sprpriority = 6
ontop = 0

[State 0, Lewa]
type = Explod
trigger1 = time = 0
anim = F696
ownpal = 1
ID = 900
pos = -10-random%10,-30-random%20
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
supermovetime = 9999
pausemovetime = 9999
vel = 0-random%2,-1-random%3
scale = 0.6,0.6
sprpriority = 6
ontop = 0

[State 0, End]
type = ChangeState
trigger1 = parent, stateno != 940
trigger1 = parent, stateno != 274
trigger1 = parent, stateno != 10284
value = 199
ctrl = 1
;------------------
;Klon Run
[StateDef 923]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 923+parent,var(0)*10000
poweradd = 0
sprpriority = 6

[State 0, VarSet]
type = VarSet
trigger1 = 1
v = 0
value = parent, var(0)

[State 0, Turn]
type = Turn
trigger1 = facing = 1
trigger1 = parent, facing = -1
trigger1 = time%5

[State 0, Turn]
type = Turn
trigger1 = facing = -1
trigger1 = parent, facing = 1
trigger1 = time%5

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 963 && time <= 4
time = 1
pos = -10,2

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 963 && time > 4
time = 1
pos = -5,2

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 1
trigger2 = animelem = 3
trigger3 = animelem = 6
anim = F300
ID = 24
pos = 10,2
postype = p1  ;p2,front,back,left,right
scale = 0.9,0.9
sprpriority = 7
vel = -1.3,-1
bindtime = 1
ownpal = 0
ontop = 0

[State -3, Rasengan]
type = AfterImage
trigger1 = time = 0 && var(0) < 2
time = -1
length = 7
palcolor = 256
palinvertall = 0
palbright = 0,0,0
palcontrast = 100,160,220
palpostbright = 0,0,0
paladd = 3,4,5
palmul = .20,.50,.60
timegap = 1
framegap = 1
trans = add

[State 0, End]
type = ChangeState
trigger1 = parent, stateno = 964
value = 924
ctrl = 1

[State 0, End]
type = ChangeState
trigger1 = parent, stateno = 935
value = 925
ctrl = 1

[State 0, End]
type = ChangeState
trigger1 = parent, stateno = 932
value = 52223

[State 0, End]
type = ChangeState
trigger1 = parent, stateno != [930,939]
trigger1 = parent, stateno != [9330,9339]
trigger1 = parent, stateno != [960,969]
value = 52223
ctrl = 0

[State 0, End]
type = ChangeState
trigger1 = parent, stateno = 9337
trigger2 = parent, stateno = 9338
value = 52223
;------------------
;Klon Hit
[StateDef 924]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 924+parent,var(0)*10000
poweradd = 0
sprpriority = 6

[State 0, VarSet]
type = VarSet
trigger1 = 1
v = 0
value = parent, var(0)

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 964
time = 1
pos = -5,2

[State -3, Rasengan]
type = AfterImage
trigger1 = time = 0 && var(0) < 2
time = -1
length = 7
palcolor = 256
palinvertall = 0
palbright = 0,0,0
palcontrast = 100,160,220
palpostbright = 0,0,0
paladd = 3,4,5
palmul = .20,.50,.60
timegap = 1
framegap = 1
trans = add

[State 0, End]
type = ChangeState
trigger1 = parent, stateno = 935
value = 925
ctrl = 1

[State 0, End]
type = ChangeState
trigger1 = parent, stateno != [930,939]
trigger1 = parent, stateno != [9330,9339]
trigger1 = parent, stateno != [960,969]
value = 52223
ctrl = 0

[State 0, End]
type = ChangeState
trigger1 = parent, stateno = 9337
trigger2 = parent, stateno = 9338
value = 52223
;------------------
;Klon End
[StateDef 925]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 925+parent,var(0)*10000
poweradd = 0
sprpriority = 6

[State 0, VarSet]
type = VarSet
trigger1 = 1
v = 0
value = parent, var(0)

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 935
time = 1
pos = -5,2

[State 0, Explod Postac]
type = Explod
ownpal = 1
trigger1 = time = 0
anim = 926+parent,var(0)*10000
id = 926
pos = 0,0
postype = p1
facing = 1
bindtime = 1
removetime = -2
sprpriority = 7
removeongethit = 1
scale = 1.2,1.1
ownpal = 1
supermovetime = 9999
pausemovetime = 9999

[State 20000, 4]
type = ChangeState
trigger1 = AnimTime = 0
trigger1 = numhelper(50000) > 5
value = 52223

[State 0, End]
type = ChangeState
trigger1 = AnimTime = 0
value = 50105
ctrl = 1

[State 0, End]
type = ChangeState
trigger1 = parent, stateno = 9337
trigger2 = parent, stateno = 9338
value = 52223
;------------------
;Rasengan Charge
[StateDef 930]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 930+var(0)*10000
poweradd = -500
sprpriority = cond(var(0) < 2,2,1)

[State 0, Turn]
type = Turn
trigger1 = p2bodydist x < -20
trigger1 = time%5

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
value = F8,0+random%4
volume = 255
channel = 8

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
triggerall = var(0) != 2
value = S3,5+random%2
volume = 255
channel = 4

[State 0, VarSet]
type = VarSet
trigger1 = time = 0
v = 6
value = 0

[State 0, VarSet]
type = VarSet
trigger1 = time > 5 && time < 115
v = 6
value = 10+(time-5)*0.3

[State 0, VarSet]
type = VarSet
trigger1 = time = 0
v = 17
value = 0

[State 0, PowerAdd]
type = PowerAdd
trigger1 = time > 15
value = -10

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 5
value = F32,5

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 115
value = F32,5

[State 0, Explod Postac]
type = Explod
ownpal = 1
trigger1 = time = 10
anim = 929+var(0)*10000
id = 929
pos = 0,0
postype = p1
facing = 1
bindtime = 1
removetime = -2
sprpriority = 3
removeongethit = 1
scale = 1.2*0.85,1.1*0.85
ownpal = 1
supermovetime = 9999
pausemovetime = 9999

[State 0, Wiatr]
type = Explod
ownpal = 1
trigger1 = time > 5 && timemod = 35,0
anim = F601
id = 600
pos = 0,0
postype = p1
facing = 1
bindtime = 1
removetime = -2
sprpriority = -1
removeongethit = 1
scale = 0.9,0.75
ownpal = 1

[State 0, Wiatr]
type = Explod
ownpal = 1
trigger1 = time > 5 && timemod = 35,0
anim = F601
id = 600
pos = 0,0
postype = p1
facing = -1
bindtime = 1
removetime = -2
sprpriority = -1
removeongethit = 1
scale = 0.9,0.75
ownpal = 1

[State 0, Aura]
type = Explod
ownpal = 1
trigger1 = time > 5 && timemod = 15,0
anim = F1130
id = 1130
pos = -20,0
postype = p1
facing = 1
bindtime = 1
removetime = -2
sprpriority = 7
removeongethit = 1
scale = 1,1
ownpal = 1

[State 0, Helper]
type = Helper
trigger1 = time = 5
helpertype = normal;player
name = "Rasengan"
ID = 950
stateno = 950
pos = -21*0.85,-39*0.85
size.xscale = 1
size.yscale = 1
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1
supermovetime = 9999
pausemovetime = 9999

[State 0, Helper]
type = Helper
trigger1 = time = 0
triggerall = var(0) < 2
helpertype = player
name = "Kage Bunshin"
ID = 50000
stateno = 920
pos = -21*0.85,-5
size.xscale = 0.85
size.yscale = 0.85
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1

[State 0, Reka]
type = Explod
trigger1 = time = 0
triggerall = var(0) >= 2
anim = 20900
id = 20900
pos = -7*0.85,-47*0.85
postype = p1
facing = 1
bindtime = -1
removetime = -1
sprpriority = 2
removeongethit = 1
scale = 0.5*0.85,0.5*0.85
ownpal = 1

[State 7500, VarSet]
type = VarSet
trigger1 = time = 0
fv = 10    ;fv = 10
value = 0

[State 7500, VarAdd]
type = VarAdd
trigger1 = time%2
fv = 10
value = 0.0087

[State 7500, VarSet]
type = VarSet
trigger1 = fvar(10) > 1
fv = 10    ;fv = 10
value = 1

[State 7500, Explod]
type = Explod
trigger1 = time = 0
anim = 90002
ID = 930
pos = -33,-75
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = -1
removetime = -1
scale = 0.5,0.5
sprpriority = 2
removeongethit = 1
ontop = 0
ownpal = 1

[State 7500, Explod]
type = Explod
trigger1 = time < 115
anim = 90000
ID = 931
pos = -33,-75
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = -1
removetime = 1
scale = fvar(10), 0.5
sprpriority = 1
removeongethit = 1
ownpal = 1

[State 0, End]
type = ChangeState
trigger1 = var(50) = 0 && !command = "hold_z"
trigger2 = power = 0
trigger3 = var(50) = 1 && random = [0,20-var(49)*(var(49))/100]
trigger4 = win
trigger5 = lose
trigger6 = drawgame
trigger7 = life = 0
trigger8 = !ALive
trigger9 = time >= 115 && power < 1500
trigger10 = var(50) = 1 && random = [0,100+var(49)*(var(49))/50]
trigger10 = p2bodydist x < 150
trigger10 = p2bodydist y = [-50,50]
triggerall = time >= 15
value = 933

;Odama
[State 0, End]
type = ChangeState
trigger1 = time >= 115
trigger1 = power >= 1500
trigger1 = var(0) = 0
value = 963

;Sempo Odama
[State 0, End]
type = ChangeState
trigger1 = time >= 115
trigger1 = power >= 1500
trigger1 = var(0) = 1
value = 10970

;Wakusei
[State 0, End]
type = ChangeState
trigger1 = time >= 115
trigger1 = power >= 1500
trigger1 = var(0) = 2
value = 20970

;Dym
[State 0, end]
type = ChangeState
trigger1 = var(50) = 0 && command = "holddown"
trigger2 = random = [550,551+var(49)*(var(49))/500]
trigger2 = var(50) = 1
triggerall = time >= 15
value = 938

;Skok
[State 0, end]
type = ChangeState
trigger1 = var(50) = 0 && command = "holdup"
trigger2 = random = [650,651+var(49)*(var(49))/500]
trigger2 = var(50) = 1
trigger2 = p2bodydist y != [-100,50]
triggerall = time >= 15
value = 948
;-----------------
;Rasengan Fail
[StateDef 932]
type = S
movetype= A
physics = S
juggle  = 1
ctrl = 0
anim = 932+var(0)*10000
poweradd = 0
sprpriority = cond(var(0) < 2,2,1)

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = F14,4

[State 0, Explod]
type = Explod
trigger1 = timemod = 3,0
anim = F300
pos = 40,3
scale = 1.5,1.5
postype = p1
facing = 1
bindtime = 1
removetime = -2
sprpriority = 3

[State 0, VelSet]
type = VelSet
trigger1 = vel x > 0 && time > 4
x = 5-time/5

[State 0, VelSet]
type = VelSet
trigger1 = vel x < 0 
x = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 5
value = S5,0+random%4
channel = 2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = F32,2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 1
value = F2

[State 0, ChangeState]
type = ChangeState
trigger1 = animtime = 0
value = 11
ctrl = 1
;------------------
;Rasengan Run
[StateDef 933]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 933+var(0)*10000
poweradd = 0
sprpriority = cond(var(0) < 2,2,1)

[State 0, PlayerPush]
type = PlayerPush
trigger1 = 1
value = 0

[State 0, VarSet]
type = VarSet
trigger1 = prevstateno = 1000 && time = 0
v = 17
value = 10

[State 0, Turn]
type = Turn
trigger1 = p2bodydist x < -20
trigger1 = time = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1 && var(17) = 0
value = S1,0+random%7

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1 && var(17) != 0
value = S3,3

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1 && var(17) != 0
value = S3,3

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
trigger2 = animelem = 6
triggerall = var(0) < 2 || (var(0) >= 2 && time > 3)
value = F2

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 1
trigger2 = animelem = 3
trigger3 = animelem = 6
triggerall = var(0) < 2 || (var(0) >= 2 && time > 3)
anim = F300
ID = 24
pos = -10,2
postype = p1  ;p2,front,back,left,right
scale = 0.9,0.9
sprpriority = 3
vel = -1.3,-1
bindtime = 1
ownpal = 0
ontop = 0

[State -3, Rasengan]
type = AfterImage
trigger1 = time = 0 && var(0) < 2
triggerall = var(0) < 2
time = -1
length = 7
palcolor = 256
palinvertall = 0
palbright = 0,0,0
palcontrast = 100,160,220
palpostbright = 0,0,0
paladd = 3,4,5
palmul = .20,.50,.60
timegap = 1
framegap = 1
trans = add

[State 0, Explod]
type = Explod
trigger1 = time > 1 && timemod = 2,0
triggerall = var(0) < 2 || (var(0) >= 2 && time > 3)
anim = F20
ID = 20
pos = -5+random%15,-10-random%50
postype = p1  ;P2,front,back,left,right
scale = 0.8,0.4
vel = -1,0
sprpriority = 1+random%3
bindtime = 1
ownpal = 1
ontop = 0
supermovetime = 9999
pausemovetime = 9999

[State 0, VelSet]
type = VelSet
trigger1 = 1
triggerall = var(0) < 2 || (var(0) >= 2 && time > 3)
x = const(velocity.run.fwd.x)*cond(var(0) = 1,1.1,1.0)*cond(var(0) >= 2,1.2,1)

;---------------------

[State -3, Afterimage Brak]
type = AfterImage
trigger1 = animelem = 1
triggerall = var(0) >= 2
time = 1

[State -3, KCM]
type = AfterImage
trigger1 = time = 3
triggerall = var(0) >= 2
time = -1
length = 10
palcolor = 256
palinvertall = 0
palbright = 0,0,0
palcontrast = 256,230,200
palpostbright = 0,0,0
paladd = 5,4,3
palmul = .60,.50,.40
timegap = 1
framegap = 1
trans = add

[State 0, 2]
type = Explod
trigger1 = time = 1 && pos y < -5
triggerall = var(0) >= 2
anim = F350
ID = 350
pos = 0,0
postype = p1
facing = 1
bindtime = 1
removetime = -2
sprpriority = 4
scale = 2.5,2.5

[State 0, 2]
type = Explod
trigger1 = time = 3 && pos y < -5
triggerall = var(0) >= 2
anim = F350
ID = 350
pos = 0,0
postype = p1
facing = 1
bindtime = 1
removetime = -2
sprpriority = 4
scale = 2.5,2.5

[State 0, 2]
type = Explod
trigger1 = time = 1 && pos y > -5
triggerall = var(0) >= 2
anim = F290
ID = 290
pos = 0,0
postype = p1
facing = 1
bindtime = 1
removetime = -2
sprpriority = 4
scale = 1.5,1.5

[State 0, 2]
type = Explod
trigger1 = time = 3 && pos y > -5
triggerall = var(0) >= 2
anim = F290
ID = 290
pos = 0,0
postype = p1
facing = 1
bindtime = 1
removetime = -2
sprpriority = 4
scale = 1.5,1.5

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 1
trigger2 = time = 3
triggerall = var(0) >= 2
value = F3,2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 1
triggerall = var(0) >= 2
value = S9,1

[State 0, PosAdd]
type = PosAdd
trigger1 = time = 2
triggerall = var(0) >= 2
x = p2bodydist x -60

[State 0, VelSet]
type = VelSet
trigger1 = time = 3
triggerall = var(0) >= 2
x = 5

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 1
triggerall = var(0) >= 2
anim = 20910
ID = 20910
pos = 0,0
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
pausemovetime = 999
scale = 0.85,0.85
sprpriority = 1
ontop = 0
ownpal = 1

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 1
triggerall = var(0) >= 2
anim = 2021
ID = 2021
pos = 0,-30
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
pausemovetime = 999
scale = 0.3,0.3
sprpriority = 3
ontop = 0
ownpal = 1

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 3
triggerall = var(0) >= 2
anim = 2020
ID = 2020
pos = 0,-30
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
pausemovetime = 999
scale = 0.3,0.3
sprpriority = 3
ontop = 0
ownpal = 1


;---------------------

[State 0, Helper]
type = Helper
trigger1 = time = 0
helpertype = normal
name = "impact control"
ID = 106025
stateno = 106025
pos = 0,0
postype = p1    
facing = 1
keyctrl = 0
supermovetime = 99999

[State 811, end]
type = ChangeState
trigger1 = helper(106025), stateno = 106028
trigger2 = p2bodydist x < 50
trigger2 = p2bodydist y = [-50,50]
triggerall = var(0) < 2 || (var(0) >= 2 && time > 3)
value = 9335
ctrl = 1

[State 0, Fail]
type = ChangeState
trigger1 = time = 100
trigger2 = p2bodydist x < -40
value = 932
ctrl = 1
;------------------
;Rasengan Hit
[StateDef 934]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 934+var(0)*10000
poweradd = 0
sprpriority = cond(var(0) < 2,2,1)

[State 0, NotHitBy]
type = NotHitBy
trigger1 = time >= 0
value = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
time = 1

[State 0, VelSet]
type = VelSet
trigger1 = time < 10
x = 5-time/3

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F8,0+random%4
volume = 255
channel = 8

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = S3,24+random%3

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = S3,24+random%3

[State -3, Rasengan]
type = AfterImage
trigger1 = time = 0 && var(0) < 2
time = -1
length = 7
palcolor = 256
palinvertall = 0
palbright = 0,0,0
palcontrast = 100,160,220
palpostbright = 0,0,0
paladd = 3,4,5
palmul = .20,.50,.60
timegap = 1
framegap = 1
trans = add

[State 0, HitDef]
type = HitDef
givepower = 0
getpower = 0
fall.yvelocity = -6
trigger1 = time > 10 && time <= 30 && timemod = 5,0
trigger1 = hitcount < 4
attr = S, NA
damage = 25+var(6)*1.2*(cond(var(17) = 0,1,1.3)),10+var(6)*0.5*(cond(var(17) = 0,1,1.3))
getpower = 0
animtype = Light
guardflag = MA
hitflag = MAF
priority = cond(var(0) < 2, 3, 1)
pausetime = 0, 20
sparkno = 63466
sparkxy = -15, -41*0.85
hitsound = 32, 3536
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -15,-2
airguard.velocity = -15,-2
air.type = High
air.velocity = -15,-2
air.hittime = 12
envshake.time = 30
envshake.freq = 30
envshake.ampl = -7
envshake.phase = 10
fall = 1

[State 0, TargetBind]
type = TargetBind
triggerall = target, ishelper = 0
trigger1 = movehit && time < 30
time = 5
pos = 37*0.85,-5

[State 0, HitDef]
type = HitDef
givepower = 0
getpower = 0
fall.yvelocity = -6
trigger1 = time = 35
hitonce = 1
attr = C, HP
damage = 50+var(6)*2*(cond(var(17) = 0,1,1.3)),20+var(6)*1*(cond(var(17) = 0,1,1.3))
animtype = Light
guardflag = MA
hitflag = MAF
priority = cond(var(0) < 2, 3, 1)
pausetime = 0, 0
sparkno = 2001
sparkxy = -15, -41*0.85
hitsound = 32, 3536
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -15,-2
airguard.velocity = -15,-2
air.type = High
air.velocity = -15,-2
air.hittime = 12
envshake.time = 30
envshake.freq = 30
envshake.ampl = -7
envshake.phase = 10
p2stateno = 109998

[State 0, End]
type = ChangeState
trigger1 = AnimTime = 0
trigger2 = time > 30 && !movehit
value = 935
ctrl = 1
;------------------
;Rasengan End
[StateDef 935]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 935+var(0)*10000
poweradd = 0
sprpriority = cond(var(0) < 2,2,1)

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
value = S1,0+random%7

[State 0, Explod Postac]
type = Explod
ownpal = 1
trigger1 = time = 0 
triggerall = prevstateno != 20249
anim = 936+var(0)*10000
id = 936
pos = 0,0
postype = p1
facing = 1
bindtime = 1
removetime = -2
sprpriority = 3
removeongethit = 1
scale = 1.2*0.85,1.1*0.85
ownpal = 1
supermovetime = 9999
pausemovetime = 9999

[State 0, AfterImage]
type = AfterImage
trigger1 = animtime = 0
time = 1

[State 0, End]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;-----------------
;Impact
[StateDef 9335]
type = S
movetype= A
physics = N
juggle  = 1
velset = 0,0
ctrl = 0
anim = 934+var(0)*10000
poweradd = 0
sprpriority = cond(var(0) < 2,2,1)

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F8,0+random%4
volume = 255
channel = 8

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = S3,24+random%3

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = S3,24+random%3

[State -3, Rasengan]
type = AfterImage
trigger1 = time = 0 && var(0) < 2
time = -1
length = 7
palcolor = 256
palinvertall = 0
palbright = 0,0,0
palcontrast = 100,160,220
palpostbright = 0,0,0
paladd = 3,4,5
palmul = .20,.50,.60
timegap = 1
framegap = 1
trans = add

[State 0, NotHitBy]
type = NotHitBy
trigger1 = time >= 0
value = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
time = 1

;---------------------
;---IMPACT EFFECTS----
;---------------------

[State 0, PosAdd]
type = PosAdd
trigger1 = time = 11
x = Abs(enemy,pos x - pos x) - 94*0.85

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time > 10 && timemod = 20,0
value = F14,3

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 10
value = F32,3

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time > 10 && timemod = 25,0
value = F32,1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time > 10 && timemod = 40,0
value = F32,4

[State 0, EnvShake]
type = EnvShake
trigger1 = time > 10 && timemod = 10,1
time = 15
freq = 70
ampl = -4
phase = 90

[State 0, BGPalFX]
type = BGPalFX
trigger1 = time > 10 && timemod = 4,1
Time = 2
color = 256
add = -80,-80,-80
ignorehitpause = 1

[State 0, BGPalFX]
type = BGPalFX
trigger1 = time > 10 && timemod = 4,3
Time = 2
color = 256
add = -150,-150,-150
ignorehitpause = 1

;USTAWIC POZYCJE DLA DANYCH POSTACI

[State 0, Podmuch na ziemi]
type = Explod
trigger1 = time > 10 && timemod = 13,0
anim = F674
id = 675
pos = 36*0.85,5
scale = 0.3+helper(106025),var(6)*0.0035,0.3+helper(106025),var(6)*0.0035
vel = -1-helper(106025),var(6)*0.03,0
postype = p1
facing = 1
bindtime = 1
removetime = -2
sprpriority = 10
ownpal = 1
supermovetime = 10
pausemovetime = 10
trans = addalpha
alpha = 256-fvar(2),256

[State 0, Wiatr]
type = Explod
trigger1 = time > 10 && timemod = 15,0
anim = F461
id = 1390
pos = 38*0.85,-42*0.85
postype = p1
vel = -1-helper(106025),var(6)*0.03,0
facing = 1
bindtime = 1
removetime = -2
sprpriority = 9
removeongethit = 1
scale = 0.3+helper(106025),var(6)*0.002,0.3+helper(106025),var(6)*0.002
ownpal = 1
supermovetime = 9999
trans = addalpha
alpha = 256-fvar(2),256

[State 0, Wstazki Rasengan]
type = Explod
trigger1 = time = 15
trigger2 = time > 10 && timemod = 25,0
anim = F680
id = 675
pos = 38*0.85,-42*0.85
scale = 0.8+helper(106025),var(6)*0.005,0.8+helper(106025),var(6)*0.005
postype = p1
facing = 1
bindtime = -1
removetime = -2
sprpriority = 8
ownpal = 1
supermovetime = 10
pausemovetime = 10
trans = addalpha
alpha = 256-fvar(2),256

[State 0, Duzy wiatr]
type = Explod
trigger1 = time = 15
trigger2 = time > 30 && timemod = 35,0
anim = F675
id = 675
pos = 48*0.85,-40*0.85
scale = 0.8+helper(106025),var(6)*0.005,0.7+helper(106025),var(6)*0.005
postype = p1
facing = 1
bindtime = -1
removetime = -2
sprpriority = 7
ownpal = 1
supermovetime = 10
pausemovetime = 10
trans = addalpha
alpha = 60,256

;------------------------------------

[State 0, win]
type = ChangeState
trigger1 = helper(106025), stateno = 106025
trigger2 = helper(106025), stateno = 106030
trigger2 = helper(106025), var(6) !=100
triggerall = time > 9
value = stateno+1
ctrl = 1

[State 0, lose]
type = ChangeState
trigger1 = numhelper(106025) = 0
trigger2 = helper(106025), stateno = 106029
triggerall = time > 9
value = stateno+2
ctrl = 0

[State 0, remis]
type = ChangeState
trigger1 = helper(106025), stateno = 106030
trigger1 = helper(106025), var(6) = 100
triggerall = time > 9
value = stateno+3
ctrl = 0
;-----------------
;Impact hit
[StateDef 9336]
type = S
movetype= A
physics = S
juggle  = 1
velset = 6,0
ctrl = 0
sprpriority = cond(var(0) < 2,2,1)

[State 0, TargetState]
type = TargetState
trigger1 = enemy(cond((enemy(0),alive),0,1)), var(54) = 0
trigger1 = !(enemynear, ishelper)
trigger1 = target, ishelper = 0
trigger1 = movehit
triggerall = var(17) != 0
triggerall = time = 30
value = 109942

[State 0, VelSet]
type = VelSet
trigger1 = time < 10
x = 5-time/3

;Impact effects
[State 0, Explod]
type = RemoveExplod
trigger1 = time = 0
ID = 675

[State 0, NotHitBy]
type = NotHitBy
trigger1 = time >= 0
value = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
time = 1

[State -3, Rasengan]
type = AfterImage
trigger1 = time = 0 && var(0) < 2
time = -1
length = 7
palcolor = 256
palinvertall = 0
palbright = 0,0,0
palcontrast = 100,160,220
palpostbright = 0,0,0
paladd = 3,4,5
palmul = .20,.50,.60
timegap = 1
framegap = 1
trans = add

[State 0, HitDef]
type = HitDef
givepower = 0
getpower = 0
fall.yvelocity = -6
trigger1 = time <= 30 && timemod = 5,0
trigger1 = hitcount < 7
attr = S, NA
;Zwykle przeliczniki
;damage = var(6)*1.25,var(6)*0.6
;Przeliczniki konohamaru
damage = var(6)*1.25*1.86*(cond(var(17) = 0,1,1.3)),var(6)*0.6*1.86*(cond(var(17) = 0,1,1.3))
getpower = 0
animtype = Light
guardflag = MA
hitflag = MAF
priority = cond(var(0) < 2, 3, 1)
pausetime = 0, 20
sparkno = 63466
sparkxy = -15, -41*0.85
hitsound = 32, 3536
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -15,-2
airguard.velocity = -15,-2
air.type = High
air.velocity = -15,-2
air.hittime = 12
envshake.time = 30
envshake.freq = 30
envshake.ampl = -7
envshake.phase = 10
fall = 1

[State 0, TargetBind]
type = TargetBind
triggerall = target, ishelper = 0
trigger1 = movehit && time < 30
time = 5
pos = 37*0.85,-5

[State 0, HitDef]
type = HitDef
givepower = 0
getpower = 0
fall.yvelocity = -6
trigger1 = time = 35
hitonce = 1
attr = C, HP
;Zwykle przeliczniki
;damage = var(6)*4.0,var(6)*2.0
;Przeliczniki konohamaru
damage = var(6)*4.0*1.86*(cond(var(17) = 0,1,1.3)),var(6)*4.0*1.86*(cond(var(17) = 0,1,1.3))
animtype = Light
guardflag = MA
hitflag = MAF
priority = cond(var(0) < 2, 3, 1)
pausetime = 0, 0
sparkno = 2001
sparkxy = -15, -41*0.85
hitsound = 32, 3536
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -15,-2
airguard.velocity = -15,-2
air.type = High
air.velocity = -15,-2
air.hittime = 12
envshake.time = 30
envshake.freq = 30
envshake.ampl = -7
envshake.phase = 10
p2stateno = 109998

[State 0, End]
type = ChangeState
trigger1 = Time = 40
trigger2 = time > 30 && !movehit
value = 935
ctrl = 1
;-----------------
;Impact lose
[StateDef 9337]
type = S
movetype= H
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 5000+var(0)*10000
poweradd = 0
sprpriority = cond(var(0) < 2,2,1)

;Impact effects
[State 0, Explod]
type = RemoveExplod
trigger1 = time = 0
ID = 675

[State -3, Rasengan]
type = AfterImage
trigger1 = time = 0 && var(0) < 2
time = -1
length = 7
palcolor = 256
palinvertall = 0
palbright = 0,0,0
palcontrast = 100,160,220
palpostbright = 0,0,0
paladd = 3,4,5
palmul = .20,.50,.60
timegap = 1
framegap = 1
trans = add

[State 0, End]
type = ChangeState
trigger1 = time = 20
value = 5050
;-----------------
;Impact remis
[StateDef 9338]
type = A
movetype= H
physics = A
juggle  = 1
velset = -5,-2
ctrl = 0
anim = 5000+var(0)*10000
poweradd = 0
sprpriority = cond(var(0) < 2,2,1)

;Impact effects
[State 0, Explod]
type = RemoveExplod
trigger1 = time = 0
ID = 675

[State -3, Rasengan]
type = AfterImage
trigger1 = time = 0 && var(0) < 2
time = -1
length = 7
palcolor = 256
palinvertall = 0
palbright = 0,0,0
palcontrast = 100,160,220
palpostbright = 0,0,0
paladd = 3,4,5
palmul = .20,.50,.60
timegap = 1
framegap = 1
trans = add

[State 0, End]
type = ChangeState
trigger1 = time = 5
value = 5050
;--------------------------------------------------------------------
;Rasengan Ziemia 
[StateDef 937]
type = C
movetype= A
physics = C
juggle  = 1
velset = 0,0
ctrl = 0
anim = 937
poweradd = 0
sprpriority = cond(var(0) < 2,2,1)

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
value = F8,0+random%4
volume = 255
channel = 8

[State -3, Rasengan]
type = AfterImage
trigger1 = time = 0 && var(0) < 2
time = -1
length = 7
palcolor = 256
palinvertall = 0
palbright = 0,0,0
palcontrast = 100,160,220
palpostbright = 0,0,0
paladd = 3,4,5
palmul = .20,.50,.60
timegap = 1
framegap = 1
trans = addalpha
alpha = 256-fvar(2),256

[State 811, end]
type = ChangeState
trigger1 = Time = 10
value = 938

;-----------------
[StateDef 938]
type = C
movetype= A
physics = C
juggle  = 1
ctrl = 0
anim = 938+var(0)*10000
poweradd = 0
sprpriority = cond(var(0) < 2,2,1)

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
value = S3,24+random%3

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
value = S3,24+random%3

[State 7000, Helper]
type = Helper
trigger1 = time = 3
ID = 522
pos = 4,0
postype = p1
stateno = 522
helpertype = normal
name = "Smoke"
keyctrl = 0
facing = 1
ownpal = 1
sprpriority = 30
supermovetime = 999
pausemovetime = 999

[State 0, HitDef]
type = HitDef
givepower = 0
getpower = 0
fall.yvelocity = -10
trigger1 = time <= 20 && timemod = 5,0
trigger1 = hitcount < 4
attr = S, NA
damage = var(6)*1.25*3.6,var(6)*0.6*3.6
getpower = 0
animtype = Light
guardflag = MA
hitflag = MAF
priority = cond(var(0) < 2, 3, 1)
pausetime = 0, 20
sparkno = 63466
sparkxy = -15, -33
hitsound = 32, 3536
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -4,9
airguard.velocity = -4,9
air.type = High
air.velocity = -4,9
air.hittime = 12
envshake.time = 30
envshake.freq = 30
envshake.ampl = -7
envshake.phase = 10
fall = 1

[State 811, end]
type = ChangeState
trigger1 = time = 20
value = 12
ctrl = 1
;----------------------------------------------------------------------
;Air Rasengan Charge
[StateDef 940]
type = A
movetype= A
physics = N
juggle  = 1
ctrl = 0
anim = 940+var(0)*10000
poweradd = -500
sprpriority = cond(var(0) < 2,2,1)

;----------------

[State 0, VelSet]
type = VelSet
trigger1 = time = 0
x = vel x /2
y = cond(vel y > 0, 0.5, -0.5)

[State 0, VelAdd]
type = VelAdd
trigger1 = pos y < 0
y = const(movement.yaccel)*.2

[State 0, End]
type = ChangeState
trigger1 = pos y >= -10 && time >= 5
triggerall = abs((p2dist x/((p2dist y+1)+cond(p2statetype=C,-5,-20)))*10) != [10,25]
value = 941

[State 0, End]
type = ChangeState
trigger1 = pos y >= -10 && time >= 5
triggerall = abs((p2dist x/((p2dist y+1)+cond(p2statetype=C,-5,-20)))*10) = [10,25]
value = 944

[State 0, PosSet]
type = PosSet
trigger1 = pos y >= 0
y = 0

[State 0, End]
type = ChangeState
trigger1 = pos y >= 0
value = 52
;----------------

[State 0, Turn]
type = Turn
trigger1 = p2bodydist x < -20
trigger1 = time%5

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
value = F8,0+random%4
volume = 255
channel = 8

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
triggerall = var(0) != 2
value = S3,5+random%2
volume = 255
channel = 4

[State 0, VarSet]
type = VarSet
trigger1 = time = 0
v = 6
value = 0

[State 0, VarSet]
type = VarSet
trigger1 = time > 5 && time < 50
v = 6
value = 10+(time-5)*0.77;0.5

[State 0, VarSet]
type = VarSet
trigger1 = time = 50
trigger2 = time = 50 && power < 1000
trigger2 = var(0) >= 1
v = 6
value = 45

[State 0, VarSet]
type = VarSet
trigger1 = time = 50 && power >= 1000
triggerall = var(0) >= 1
v = 6
value = 100

[State 0, PowerAdd]
type = PowerAdd
trigger1 = time = 50 && power >= 1000
triggerall = var(0) >= 1
value = -1000

[State 0, PowerAdd]
type = PowerAdd
trigger1 = time > 15
value = -28

[State 0, Explod Postac]
type = Explod
ownpal = 1
trigger1 = time = 10
trigger2 = time = 50;60
anim = 939+var(0)*10000
id = 939
pos = 0,0
postype = p1
facing = 1
bindtime = 1
removetime = -2
sprpriority = 3
removeongethit = 1
scale = 1.2,1.1
ownpal = 1
supermovetime = 9999
pausemovetime = 9999

[State 0, Helper]
type = Helper
trigger1 = time = 5
helpertype = normal;player
name = "Rasengan"
ID = 950
stateno = 950
pos = -16*0.85,-66*0.85
size.xscale = 1
size.yscale = 1
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1

[State 0, Helper]
type = Helper
trigger1 = time = 0
triggerall = var(0) < 2
helpertype = player
name = "Kage Bunshin"
ID = 50000
stateno = 922
pos = -35*0.85,-27*0.85
size.xscale = 0.85
size.yscale = 0.85
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1

[State 0, Reka]
type = Explod
trigger1 = time = 0
triggerall = var(0) >= 2
anim = 20900
id = 20900
pos = 0*0.85,-56*0.85
angle = -60
postype = p1
facing = 1
bindtime = -1
removetime = -1
sprpriority = 2
removeongethit = 1
scale = 0.5*0.85,0.5*0.85
ownpal = 1

[State 7500, VarSet]
type = VarSet
trigger1 = time = 0
fv = 10    ;fv = 10
value = 0

[State 7500, VarAdd]
type = VarAdd
trigger1 = time%2
fv = 10
value = 0.01;087

[State 7500, VarSet]
type = VarSet
trigger1 = fvar(10) > 1
fv = 10    ;fv = 10
value = 1

[State 7500, Explod]
type = Explod
trigger1 = time = 0
anim = 90001
ID = 930
pos = -33,-80
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = -1
removetime = 50
scale = 0.5,0.5
sprpriority = 2
removeongethit = 1
ontop = 0
ownpal = 1

[State 7500, Explod]
type = Explod
trigger1 = time < 50
anim = 90000
ID = 931
pos = -33,-80
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = -1
removetime = 1
scale = fvar(10)*2, 0.5
sprpriority = 1
removeongethit = 1
ownpal = 1

[State 0, End]
type = ChangeState
trigger1 = !command = "hold_z"
trigger2 = power = 0
trigger3 = win
trigger4 = lose
trigger5 = drawgame
trigger6 = life = 0
trigger7 = !ALive
trigger8 = time = 50
triggerall = time >= 15
triggerall = command != "holddown"
value = 941

[State 0, End]
type = ChangeState
trigger1 = power = 0
trigger2 = random = [0,20-var(49)*(var(49))/100]
trigger3 = win
trigger4 = lose
trigger5 = drawgame
trigger6 = life = 0
trigger7 = !ALive
trigger8 = time = 50
trigger9 = random = [0,100+var(49)*(var(49))/50]
trigger9 = p2bodydist y = [-50,50]
triggerall = time >= 15
triggerall = var(50) = 1
value = 941

;----------

[State 0, End]
type = ChangeState
trigger1 = !command = "hold_z"
trigger2 = power = 0
trigger3 = win
trigger4 = lose
trigger5 = drawgame
trigger6 = life = 0
trigger7 = !ALive
trigger8 = time = 50
triggerall = command = "holddown"
triggerall = time >= 15
triggerall = var(50) = 0
value = 944

[State 0, End]
type = ChangeState
trigger1 = power = 0
trigger2 = random = [0,20-var(49)*(var(49))/100]
trigger3 = win
trigger4 = lose
trigger5 = drawgame
trigger6 = life = 0
trigger7 = !ALive
trigger8 = time = 50
trigger9 = random = [0,100+var(49)*(var(49))/50]
trigger9 = abs((p2dist x/((p2dist y+1)+cond(p2statetype=C,-5,-20)))*10) = [10,25]
triggerall = time >= 15
triggerall = var(50) = 1
triggerall = p2bodydist x > 20
triggerall = p2bodydist y > 20
value = 944
;------------------
;Air Rasengan Run
[StateDef 941]
type = A
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 941+var(0)*10000
poweradd = 0
sprpriority = cond(var(0) < 2,2,1)

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = 1
id = 930

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = 1
id = 931

[State 0, Turn]
type = Turn
trigger1 = p2bodydist x < -20
trigger1 = time = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2 && var(6) < 50
value = S3,24+random%3

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2 && var(6) < 50
value = S3,24+random%3

;Odama
[State 0, BGPalFX]
type = BGPalFX
triggerall = StageVar(info.name) != "Y" && StageVar(info.name) != "H"
trigger1 = time = 0 && var(6) >= 50
time = 40
add = -120,-120,-120

[State 0, BGPalFX]
type = BGPalFX
trigger1 = StageVar(info.name) = "Y" 
trigger2 = StageVar(info.name) = "H"
triggerall = time = 0 && var(6) >= 50
time = 40
add = -80,-80,-80

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2 && var(6) >= 50
value = S3,30

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2 && var(6) >= 50
value = S3,30

[State -3, Rasengan]
type = AfterImage
trigger1 = time = 0 && var(0) < 2
time = -1
length = 7
palcolor = 256
palinvertall = 0
palbright = 0,0,0
palcontrast = 100,160,220
palpostbright = 0,0,0
paladd = 3,4,5
palmul = .20,.50,.60
timegap = 1
framegap = 1
trans = add

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 6
value = F3,1

[State 0, Explod]
type = Explod
trigger1 = time > 6 && timemod = 2,0
anim = F20
ID = 20
pos = -5+random%15,-10-random%40
postype = p1  ;P2,front,back,left,right
scale = 0.8,0.4
vel = -1,0
sprpriority = 1+random%3
bindtime = 1
ownpal = 1
ontop = 0
supermovetime = 9999
pausemovetime = 9999

[State 0, Explod]
type = Explod
trigger1 = time = 6
anim = F280
pos = -20,-30
scale = 1.5,1.5
postype = p1
facing = 1
bindtime = 1
ownpal = 1
removetime = -2
sprpriority = 0
angle = -90

[State 0, VelSet]
type=VelSet
trigger1 = time > 6
x = 5*const(velocity.airjump.fwd.x)*cond(var(0) = 1,1.1,1.0)*cond(var(0) >= 2,1.2,1)
y = 0

[State 811, end]
type = ChangeState
trigger1 = time = 10
value = 942
ctrl = 1
;------------------
;Air Rasengan Hit
[StateDef 942]
type = A
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 942+var(0)*10000
poweradd = 0
sprpriority = cond(var(0) < 2,2,1)

[State 0, NotHitBy]
type = NotHitBy
trigger1 = time >= 0
value = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
time = 1

[State 0, VelSet]
type=VelSet
trigger1 = 1
x = 5*const(velocity.airjump.fwd.x)*cond(var(0) = 1,1.1,1.0)*cond(var(0) >= 2,1.2,1)
y = 0

[State 0, PlayerPush]
type = PlayerPush
trigger1 = 1
value = 0

[State -3, Rasengan]
type = AfterImage
trigger1 = time = 0 && var(0) < 2
time = -1
length = 7
palcolor = 256
palinvertall = 0
palbright = 0,0,0
palcontrast = 100,160,220
palpostbright = 0,0,0
paladd = 3,4,5
palmul = .20,.50,.60
timegap = 1
framegap = 1
trans = add

[State 0, Explod]
type = Explod
trigger1 = timemod = 2,0
anim = F20
ID = 20
pos = -5+random%15,-10-random%40
postype = p1  ;P2,front,back,left,right
scale = 0.8,0.4
vel = -1,0
sprpriority = 1+random%3
bindtime = 1
ownpal = 1
ontop = 0
supermovetime = 9999
pausemovetime = 9999

[State 0, HitDef]
type = HitDef
givepower = 0
getpower = 0
fall.yvelocity = -6
trigger1 = timemod = 3,0
trigger1 = hitcount < 4
attr = S, NA
damage = 25+cond(var(6) < 50, var(6)*3, 200),10+cond(var(6) < 50, var(6)*1.2, 120)
getpower = 0
animtype = Light
guardflag = MA
hitflag = MAF
priority = cond(var(0) < 2, 3, 1)
pausetime = 0, 20
sparkno = 63466
sparkxy = -15, -30
hitsound = 32, 3536
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -2,-2
airguard.velocity = -2,-2
air.type = High
air.velocity = -2,-2
air.hittime = 12
envshake.time = 30
envshake.freq = 30
envshake.ampl = -7
envshake.phase = 10
fall = 1

[State 0, TargetBind]
type = TargetBind
triggerall = target, ishelper = 0
trigger1 = movehit
trigger1 = hitcount < 5
time = 5
pos = 40,-5

[State 0, HitDef]
type = HitDef
givepower = 0
getpower = 0
fall.yvelocity = -6
trigger1 = hitcount = 4
hitonce = 1
attr = C, HP
damage = 50+cond(var(6) < 50, var(6)*6.2, 450),20+cond(var(6) < 50, var(6)*3.6, 250)
animtype = Light
guardflag = MA
hitflag = MAF
priority = cond(var(0) < 2, 3, 1)
pausetime = 0, 0
sparkno = 2001
sparkxy = -15, -30
hitsound = 32, 3536
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -15,-2
airguard.velocity = -15,-2
air.type = High
air.velocity = -15,-2
air.hittime = 12
envshake.time = 30
envshake.freq = 30
envshake.ampl = -7
envshake.phase = 10
p2stateno = 109998

[State 0, End]
type = ChangeState
trigger1 = Time = 20
trigger2 = time > 10 && !movehit
value = 943
ctrl = 1
;-----------------
;Air Rasengan End
[StateDef 943]
type = A
movetype = A
physics = A
juggle = 1
velset = 0,0
ctrl = 0
anim = 943+var(0)*10000
poweradd = 0
sprpriority = cond(var(0) < 2,2,1)

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
value = S1,0+random%7

[State 0, VelSet]
type=VelSet
trigger1 = time = 0
x = 5*const(velocity.airjump.fwd.x)*cond(var(0) = 1,1.1,1.0)*cond(var(0) >= 2,1.2,1)
y = 0

[State 0, PlayerPush]
type = PlayerPush
trigger1 = 1
value = 0

[State 0, AfterImage]
type = AfterImage
trigger1 = animtime = 0
time = 1

[State 811, end]
type = ChangeState
trigger1 = animtime = 0
value = 50
ctrl = 1
;------------------
;Air Rasengan Ground Run
[StateDef 944]
type = A
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 944+var(0)*10000
poweradd = 0
sprpriority = cond(var(0) < 2,2,1)

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = 1
id = 930

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = 1
id = 931

[State 0, Turn]
type = Turn
trigger1 = p2bodydist x < -40
trigger1 = time = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2 && var(6) < 50
value = S3,24+random%3

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2 && var(6) < 50
value = S3,24+random%3

;Odama
[State 0, BGPalFX]
type = BGPalFX
triggerall = StageVar(info.name) != "Y" && StageVar(info.name) != "H"
trigger1 = time = 0 && var(6) >= 50
time = 40
add = -120,-120,-120

[State 0, BGPalFX]
type = BGPalFX
trigger1 = StageVar(info.name) = "Y" 
trigger2 = StageVar(info.name) = "H"
triggerall = time = 0 && var(6) >= 50
time = 40
add = -80,-80,-80

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2 && var(6) >= 50
value = S3,30

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2 && var(6) >= 50
value = S3,30

[State -3, Rasengan]
type = AfterImage
trigger1 = time = 0 && var(0) < 2
time = -1
length = 7
palcolor = 256
palinvertall = 0
palbright = 0,0,0
palcontrast = 100,160,220
palpostbright = 0,0,0
paladd = 3,4,5
palmul = .20,.50,.60
timegap = 1
framegap = 1
trans = add

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 6
value = F3,1

[State 0, Explod]
type = Explod
trigger1 = time > 6 && timemod = 2,0
anim = F20
ID = 20
pos = -15+random%30,-20-random%30
angle = -45
postype = p1  ;P2,front,back,left,right
scale = 0.8,0.4
vel = -1,-1
sprpriority = 1+random%3
bindtime = 1
ownpal = 1
ontop = 0
supermovetime = 9999
pausemovetime = 9999
trans = add

[State 0, Explod]
type = Explod
trigger1 = time = 6
anim = F280
pos = -20,-50
angle = 225
scale = 1.5,1.5
postype = p1
facing = 1
bindtime = 1
ownpal = 1
removetime = -2
sprpriority = 0
trans = add

[State 0, VelSet]
type=VelSet
trigger1 = time > 6
x = 3*const(velocity.airjump.fwd.x)*cond(var(0) = 1,1.1,1.0)*cond(var(0) >= 2,1.2,1)
y = 3*const(velocity.airjump.fwd.x)*cond(var(0) = 1,1.1,1.0)*cond(var(0) >= 2,1.2,1)

[State 811, end]
type = ChangeState
trigger1 = time = 10
value = 945
ctrl = 1
;------------------
;Air Rasengan Ground Hit
[StateDef 945]
type = A
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 945+var(0)*10000
poweradd = 0
sprpriority = cond(var(0) < 2,2,1)

[State 0, NotHitBy]
type = NotHitBy
trigger1 = time >= 0
value = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
time = 1

[State 0, VelSet]
type=VelSet
trigger1 = pos y < 0
x = 3*const(velocity.airjump.fwd.x)*cond(var(0) = 1,1.1,1.0)*cond(var(0) >= 2,1.2,1)
y = 3*const(velocity.airjump.fwd.x)*cond(var(0) = 1,1.1,1.0)*cond(var(0) >= 2,1.2,1)

[State 0, VelSet]
type=VelSet
trigger1 = pos y >= 0
x = 0
y = 0

[State 0, VelSet]
type=PosSet
trigger1 = pos y >= 0
y = 0

[State 0, PlayerPush]
type = PlayerPush
trigger1 = 1
value = 0

[State -3, Rasengan]
type = AfterImage
trigger1 = time = 0 && var(0) < 2
time = -1
length = 7
palcolor = 256
palinvertall = 0
palbright = 0,0,0
palcontrast = 100,160,220
palpostbright = 0,0,0
paladd = 3,4,5
palmul = .20,.50,.60
timegap = 1
framegap = 1
trans = add

[State 0, Explod]
type = Explod
trigger1 = timemod = 2,0
anim = F20
ID = 20
pos = -15+random%30,-20-random%30
angle = -45
postype = p1  ;P2,front,back,left,right
scale = 0.8,0.4
vel = -1,-1
sprpriority = 1+random%3
bindtime = 1
ownpal = 1
ontop = 0
supermovetime = 9999
pausemovetime = 9999
trans = add

[State 0, HitDef]
type = HitDef
givepower = 0
getpower = 0
fall.yvelocity = -6
trigger1 = timemod = 3,0
trigger1 = hitcount < 4
attr = S, NA
damage = 25+cond(var(6) < 50, var(6)*3, 200),10+cond(var(6) < 50, var(6)*1.2, 120)
getpower = 0
animtype = Light
guardflag = MA
hitflag = MAF
priority = cond(var(0) < 2, 3, 1)
pausetime = 0, 20
sparkno = 4325235
sparkxy = -15, 0
hitsound = 32, 3536
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -1,5
airguard.velocity = -1,5
air.type = High
air.velocity = -1,5
air.hittime = 12
envshake.time = 30
envshake.freq = 30
envshake.ampl = -7
envshake.phase = 10
fall = 1

[State 0, TargetBind]
type = TargetBind
triggerall = target, ishelper = 0
trigger1 = movehit
trigger1 = hitcount < 5
time = 5
pos = 35*0.85,25*0.85

[State 0, HitDef]
type = HitDef
givepower = 0
getpower = 0
fall.yvelocity = -8
trigger1 = hitcount = 4
hitonce = 1
attr = C, HP
damage = 50+cond(var(6) < 50, var(6)*7.2, 450),20+cond(var(6) < 50, var(6)*3.6, 250)
animtype = Light
guardflag = MA
hitflag = MAF
priority = cond(var(0) < 2, 3, 1)
pausetime = 0, 20
sparkno = 2001
sparkxy = -15, 0
hitsound = 32, 3536
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -2,10
airguard.velocity = -2,10
air.type = High
air.velocity = -2,10
air.hittime = 12
envshake.time = 30
envshake.freq = 30
envshake.ampl = -7
envshake.phase = 10
p2stateno = 109998

[State 0, Helper]
type = Helper
trigger1 = pos y >= 0
trigger1 = numhelper(947) = 0
helpertype = normal;player
name = "Wybuch"
ID = 947
stateno = 947
pos = 32*0.85,0
size.xscale = 1
size.yscale = 1
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1

[State 0, End]
type = ChangeState
trigger1 = Time = 30
trigger2 = time > 20 && !movehit
value = 946
ctrl = 1
;-----------------
;Air Rasengan Ground End
[StateDef 946]
type = A
movetype = A
physics = S
juggle = 1
velset = 0,0
ctrl = 0
anim = 946+var(0)*10000
poweradd = 0
sprpriority = cond(var(0) < 2,2,1)

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
value = S1,0+random%7

[State 0, VelSet]
type=VelSet
trigger1 = time = 0
trigger1 = pos y < 0
x = 1*const(velocity.airjump.fwd.x)*cond(var(0) = 1,1.1,1.0)*cond(var(0) >= 2,1.2,1)
y = 5*const(velocity.airjump.fwd.x)*cond(var(0) = 1,1.1,1.0)*cond(var(0) >= 2,1.2,1)

[State 0, VelSet]
type=VelSet
trigger1 = pos y >= 0
x = 0
y = 0

[State 0, VelSet]
type=PosSet
trigger1 = pos y >= 0
y = 0

[State 0, PlayerPush]
type = PlayerPush
trigger1 = 1
value = 0

[State 0, AfterImage]
type = AfterImage
trigger1 = animtime = 0
time = 1

[State 0, Helper]
type = Helper
trigger1 = time < 5
trigger1 = pos y >= 0
trigger1 = numhelper(947) = 0
helpertype = normal;player
name = "Wybuch"
ID = 947
stateno = 947
pos = 32*0.85,0
size.xscale = 1
size.yscale = 1
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1

[State 811, end]
type = ChangeState
trigger1 = animtime = 0
value = 949
ctrl = 1
;------------------------------
;Efekt Ziemi
[StateDef 947]
type = S
movetype= A
physics = S
juggle  = 1
ctrl = 0
anim = 947
poweradd = 0
sprpriority = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = F32,9

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = F15,7

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = F16,1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = F15,10

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time < 20 && timemod = 2,0
anim = F591
ID = 591
pos = -15+random%30,10-random%20
vel = -1+random%3,-1-random%3
accel = 0,0.1
angle = random
postype = p1
bindtime = 1
removetime = -2
supermovetime = 9999
pausemovetime = 9999
scale = 0.7,0.7
sprpriority = 6
ownpal = 1
ontop = 0

[State 0, Explod]
type = Explod
trigger1 = time = 0
anim = F64
pos = 0,0
scale = 0.7,0.35
postype = p1
facing = 1
bindtime = 1
removetime = -2
sprpriority = -4

[State 0, Explod]
type = Explod
trigger1 = time = 0
anim = F550
pos = 0,5
scale = 1,1
postype = p1
facing = 1
bindtime = 1
removetime = -2
sprpriority = 6

[State 0, Explod]
type = Explod
trigger1 = time = 0
anim = F1370
pos = -8,10
scale = 0.35,0.35
postype = p1
facing = 1
bindtime = 1
removetime = -2
sprpriority = 7

[State 0, Explod]
type = Explod
trigger1 = time = 0
anim = F1370
pos = 8,10
scale = 0.35,0.35
postype = p1
facing = -1
bindtime = 1
removetime = -2
sprpriority = 7

[State 0, Explod]
type = Explod
trigger1 = time = 0
anim = F587
pos = 0,5
scale = 0.35,0.35
postype = p1
facing = -1
bindtime = 1
removetime = -2
sprpriority = 7

[State 811, end]
type = destroyself
trigger1 = time = 60
;------------------
;Air Rasengan Jump
[StateDef 948]
type = A
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 948+var(0)*10000
poweradd = 0
sprpriority = cond(var(0) < 2,2,1)

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = 1
id = 930

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = 1
id = 931

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 5
value = S4,0+random%16

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 5
value = F3

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 5 && pos y > -1
anim = F370
pos = 0,0
scale = 1,1
postype = p1
facing = 1
bindtime = 1
removetime = -2
sprpriority = 3

[State 40, 4]
type = VelSet
trigger1 = Time = 5
x = 1
y = const(velocity.jump.y)*cond(var(0) = 1,1.2,1.0)*cond(var(0) >= 2,1.3,1)

[State 0, StateTypeSet]
type = StateTypeSet
trigger1 = time = 5
statetype = A
movetype = A
physics = A

[State -3, Rasengan]
type = AfterImage
trigger1 = time = 0 && var(0) < 2
time = -1
length = 7
palcolor = 256
palinvertall = 0
palbright = 0,0,0
palcontrast = 100,160,220
palpostbright = 0,0,0
paladd = 3,4,5
palmul = .20,.50,.60
timegap = 1
framegap = 1
trans = add

[State 811, end]
type = ChangeState
trigger1 = time = 20
value = 941
ctrl = 1
;-----------------
;Air Rasengan End
[StateDef 949]
type = S
movetype= A
physics = S
juggle  = 1
ctrl = 0
anim = 949+var(0)*10000
poweradd = 0
sprpriority = cond(var(0) < 2,2,1)

[State 0, CtrlSet]
type = CtrlSet
trigger1 = animelem = 7
value = 1

[State 0, VelSet]
type = VelSet
trigger1 = 1
y = 0

[State 0, PosSet]
type = PosSet
trigger1 = 1
y = 0

[State 0, VelSet]
type = VelSet
trigger1 = time < 25
x = 6-time/5

[State 0, VelSet]
type = VelSet
trigger1 = time >= 25
x = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 6
value = F4

[State 0, Explod]
type = Explod
trigger1 = animelem = 6
anim = F290
ID = 23
pos = -1,3
postype = p1  ;p2,front,back,left,right
scale = 1.8,1.5
sprpriority = 2
ontop = 0
ownpal = 1

[State 0, ChangeState]
type = ChangeState
trigger1 = animtime = 0
value = 0
ctrl = 1
;------------------
;Kula
[StateDef 950]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 950
poweradd = 0
sprpriority = 2

;------------------------

[State 0, Helper]
type = Helper
trigger1 = parent, stateno = 20970
trigger1 = numhelper(955) = 0
helpertype = normal;player
name = "Rasengan"
ID = 955
stateno = 955
pos = 0,0
size.xscale = 1
size.yscale = 1
postype = p1
facing = 1
keyctrl = 0
ownpal = 1
supermovetime = 9999
pausemovetime = 9999

[State 0, Helper]
type = Helper
trigger1 = parent, stateno = 20970
trigger1 = numhelper(956) = 0
helpertype = normal;player
name = "Rasengan"
ID = 956
stateno = 955
pos = 0,0
size.xscale = 1
size.yscale = 1
postype = p1
facing = 1
keyctrl = 0
ownpal = 1
supermovetime = 9999
pausemovetime = 9999

[State 0, Helper]
type = Helper
trigger1 = parent, stateno = 20970
trigger1 = numhelper(957) = 0
helpertype = normal;player
name = "Rasengan"
ID = 957
stateno = 955
pos = 0,0
size.xscale = 1
size.yscale = 1
postype = p1
facing = 1
keyctrl = 0
ownpal = 1
supermovetime = 9999
pausemovetime = 9999

;----------------------------

[State 0, ChangeAnim]
type = ChangeAnim
trigger1 = parent, stateno = 10973
trigger1 = anim != 10975
value = 10975

[State 0, ChangeAnim]
type = ChangeAnim
trigger1 = parent, stateno != 10973
trigger1 = anim != 950
value = 950

[State 0, Turn]
type = Turn
trigger1 = facing = 1
trigger1 = parent, facing = -1
trigger1 = time%5

[State 0, Turn]
type = Turn
trigger1 = facing = -1
trigger1 = parent, facing = 1
trigger1 = time%5

[State 0, EnvShake]
type = EnvShake
trigger1 = timemod = 5,0
triggerall = parent, stateno != [10970,10979]
time = 1+var(6)/15
freq = 30+var(6)/10
ampl = -3-var(6)/20
phase = 30+var(6)/10

[State 0, EnvShake]
type = EnvShake
trigger1 = timemod = 5,0
triggerall = parent, stateno = [10970,10979]
time = 5
freq = 35
ampl = -5
phase = 35

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = F32,4

[State 0, PlaySnd]
type = PlaySnd
trigger1 = timemod = 25,0
value = F32,1

[State 0, VarSet]
type = VarSet
trigger1 = 1
v = 6
value = parent, var(6)

[State 0, Kula]
type = Explod
ownpal = 1
trigger1 = time = 0
anim = F632;1
id = 90000
pos = 0,0
scale = 0.1,0.1
postype = p1
facing = 1
bindtime = -1
removetime = -1
sprpriority = 3
removeongethit = 1
trans = add
supermovetime = 9999
pausemovetime = 9999

[State 0, Kula]
type = ModifyExplod
trigger1 = 1
ID = 90000
scale = 0.1+var(6)*0.0035,0.1+var(6)*0.0035
trans = add

[State 0, Smugi]
type = Explod
ownpal = 1
trigger1 = numexplod(90001) = 0
anim = F678
id = 90001
pos = 0,0
scale = 0.15,0.15
postype = p1
facing = 1
bindtime = -2
removetime = -1
sprpriority = 5
removeongethit = 1
trans = add
angle = -time*3
supermovetime = 9999
pausemovetime = 9999

[State 0, Smugi]
type = ModifyExplod
trigger1 = 1
ID = 90001
scale = 0.15+var(6)*0.005,0.15+var(6)*0.005
trans = add
angle = -time*3

[State 0, Smugi powstawanie]
type = Explod
ownpal = 1
trigger1 = numexplod(90002) = 0 && time < 30
anim = F620
id = 90002
pos = 0,0
scale = 0.5,0.5
postype = p1
facing = 1
bindtime = -2
removetime = -2
sprpriority = 3
removeongethit = 1
trans = add
angle = time*5
supermovetime = 9999
pausemovetime = 9999

[State 0, ModifyExplod]
type = ModifyExplod
trigger1 = 1
ID = 90002
scale = 0.5+var(6)*0.02,0.5+var(6)*0.02
trans = add
angle = time*5

[State 0, Kola]
type = Explod
ownpal = 1
trigger1 = time = 1
anim = F1070
ID = 90003
pos = 0,0
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = -1
removetime = -2
supermovetime = 999
scale = 1.2,1.2
sprpriority = 5
ownpal = 1
removeongethit = 1

[State 0, Explod Kolo]
type = Explod
ownpal = 1
trigger1 = numexplod(90004) = 0
anim = F685
id = 90004
pos = 0,0
scale = 0.04+var(6)*0.003,0.04+var(6)*0.003
postype = p1
facing = 1
bindtime = -2
removetime = -2
sprpriority = 5
removeongethit = 1
trans = addalpha
alpha = 150,256
angle = -time*3
supermovetime = 9999
pausemovetime = 9999

[State 0, Explod Kolo]
type = ModifyExplod
trigger1 = 1
ID = 90004
scale = 0.04+var(6)*0.003,0.04+var(6)*0.003
trans = addalpha
alpha = 150,256
angle = -time*3

;Zwykly i Odama

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 930
time = 1
pos = -21*0.85,-39*0.85

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 932
time = 1
pos = -18*0.85,-26*0.85

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 933
trigger2 = parent, stateno = 963
triggerall = parent, time > 0 && parent, time <= 3
time = 1
pos = -15*0.85,-32*0.85

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 933
trigger2 = parent, stateno = 963
triggerall = parent, time > 3
time = 1
pos = -15*0.85,-44*0.85

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 934 && parent, time > 0 && parent, time <= 3
trigger2 = parent, stateno = 9335 && parent, time > 0 && parent, time <= 3
trigger3 = parent, stateno = 964 && parent, time > 0 && parent, time <= 3
time = 1
pos = -15*0.85,-32*0.85

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 934 && parent, time > 3 && parent, time <= 9
trigger2 = parent, stateno = 9335 && parent, time > 3 && parent, time <= 9
trigger3 = parent, stateno = 964 && parent, time > 3 && parent, time <= 9
time = 1
pos = 42*0.85,-38*0.85

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 934 && parent, time >= 10
trigger2 = parent, stateno = 9335 && parent, time >= 10
trigger3 = parent, stateno = 964 && parent, time >= 10
time = 1
pos = 42*0.85,-38*0.85

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 935 && parent, prevstateno != 20971
trigger2 = parent, stateno = 9336
trigger3 = parent, stateno = 965
time = 1
pos = 42*0.85,-38*0.85

;Ground

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 937
time = 1
pos = 16*0.85,-22*0.85

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 938
time = 1
pos = 5*0.85,3*0.85

;Air Rasengan

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 940
time = 1
pos = -16*0.85,-66*0.85

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 941 && parent, time > 0 && parent, time <= 6
time = 1
pos = -6*0.85,-69*0.85

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 941 && parent, time >= 7
time = 1
pos = 22*0.85,-58*0.85

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 942
trigger2 = parent, stateno = 943
time = 1
pos = 42*0.85,-38*0.85

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 944 && parent, time > 0 && parent, time <= 3
time = 1
pos = -6*0.85,-69*0.85

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 944 && parent, time > 4 && parent, time <= 6
time = 1
pos = -2*0.85,-66*0.85

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 944 && parent, time >= 7
time = 1
pos = 22*0.85,-58*0.85

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 945
trigger2 = parent, stateno = 946
time = 1
pos = 35*0.85,-1*0.85

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 948 && parent, time > 0 && parent, time <= 5
time = 1
pos = -14*0.85,-23*0.85

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 948 && parent, time >= 6
time = 1
pos = -16*0.85,-66*0.85

;Rasenshuriken

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 1000
time = 1
pos = -21*0.85,-39*0.85

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 1001 && parent, time > 0 && parent, time <= 5
time = 1
pos = -11*0.85,-55*0.85

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 1001 && parent, time > 5 && parent, time <= 70
time = 1
pos = -12*0.85,-75*0.85

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 1001 && parent, time > 70
trigger1 = parent, var(0) != 1
time = 1
pos = 2*0.85,-63*0.85

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 1001 && parent, time > 70
trigger1 = parent, var(0) = 1
time = 1
pos = -22*0.85,-65*0.85

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 1002
time = 1
pos = -18*0.85,-26*0.85

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 1003
triggerall = parent, time > 0 && parent, time <= 3
time = 1
pos = -15*0.85,-32*0.85

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 1003
triggerall = parent, time > 3
time = 1
pos = -15*0.85,-44*0.85

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 1004 && parent, time > 0 && parent, time <= 3
time = 1
pos = -15*0.85,-32*0.85

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 1004 && parent, time > 3 && parent, time <= 9
time = 1
pos = 42*0.85,-38*0.85

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 1004 && parent, time >= 10
time = 1
pos = 42*0.85,-38*0.85

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 1005
time = 1
pos = 42*0.85,-38*0.85

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 1006 && parent, time > 0 && parent, time <= 5
time = 1
pos = -12*0.85,-65*0.85

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 1006 && parent, time > 5 && parent, time <= 10
time = 1
pos = 45*0.85,-38*0.85

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 1007 && parent, time > 0 && parent, time <= 3
time = 1
pos = -15*0.85,2000*0.85

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 1007 && parent, time > 3 && parent, time <= 6
time = 1
pos = -15*0.85,-32*0.85

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 1007 && parent, time > 6 && parent, time <= 12
time = 1
pos = 42*0.85,-38*0.85

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 1007 && parent, time > 12 && parent, time <= 17
time = 1
pos = 48*0.85,-38*0.85

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 1007 && parent, time > 17 && parent, time <= 22
time = 1
pos = 70*0.85,-38*0.85

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 1007 && parent, time > 22
time = 1
pos = 100*0.85,-38*0.85

;Rasenrengan

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 10485
time = 1
pos = -37*0.85,-46*0.85

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 10486
triggerall = parent, time > 0 && parent, time <= 5
time = 1
pos = -32*0.85,-44*0.85

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 10486
triggerall = parent, time > 5
time = 1
pos = 45*0.85,-38*0.85

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 10487
trigger2 = parent, stateno = 10488
time = 1
pos = 45*0.85,-38*0.85

;Sempo Odama Rasengan

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 10970 && parent, time > 0 && parent, time <= 5
time = 1
pos = -11*0.85,-55*0.85

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 10970 && parent, time > 5 && parent, time <= 10
time = 1
pos = -12*0.85,-75*0.85

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 10970 && parent, time > 10 && parent, time <= 90
time = 1
pos = -12*0.85,(-75-(parent,time-10)/2)*0.85

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 10970 && parent, time > 90
time = 1
pos = -12*0.85,-115*0.85

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 10971 && parent, time > 0 && parent, time <= 5
time = 1
pos = -11*0.85,-95*0.85

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 10971 && parent, time > 5
time = 1
pos = -16*0.85,-100*0.85

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 10972 && parent, time > 0 && parent, time <= 3
time = 1
pos = 24*0.85,-99*0.85

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 10972 && parent, time > 4 && parent, time <= 6
time = 1
pos = 26*0.85,-94*0.85

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 10972 && parent, time >= 7
time = 1
pos = 50*0.85,-86*0.85

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 10973
trigger2 = parent, stateno = 10974 && pos y < -35
time = 1
pos = 63*0.85,27*0.85

[State 0, HitDef]
type = HitDef
givepower = 0
getpower = 0
fall.yvelocity = -6
trigger1 = !time
trigger1 = parent, stateno = [10972,10973]
trigger1 = anim = 10975
attr = S, NA
damage = 0,0
getpower = 0
animtype = Light
guardflag = MA
hitflag = MAF
priority = cond(var(0) < 2, 3, 1)
pausetime = 0, 20
sparkno = 63466
sparkxy = -15, 0
hitsound = 32, 3536
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = 0,0
airguard.velocity = 0,0
air.type = High
air.velocity = 0,0
air.hittime = 12
envshake.time = 30
envshake.freq = 30
envshake.ampl = -7
envshake.phase = 10

;Combo 8

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 274
time = 1
pos = -16*0.85,-66*0.85

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 275 && parent, time > 0 && parent, time <= 3
time = 1
pos = -6*0.85,-69*0.85

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 275 && parent, time > 4 && parent, time <= 6
time = 1
pos = -2*0.85,-66*0.85

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 275 && parent, time >= 7
time = 1
pos = 22*0.85,-58*0.85

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 276
trigger2 = parent, stateno = 277
time = 1
pos = 35*0.85,-1*0.85

;Combo Rasengan

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 290
time = 1
pos = -21*0.85,-39*0.85

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 932
time = 1
pos = -18*0.85,-26*0.85

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 291
triggerall = parent, time > 0 && parent, time <= 3
time = 1
pos = -15*0.85,-32*0.85

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 291
triggerall = parent, time > 3
time = 1
pos = -15*0.85,-44*0.85

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 292 && parent, time > 0 && parent, time <= 3
time = 1
pos = -15*0.85,-32*0.85

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 292 && parent, time > 3 && parent, time <= 9
time = 1
pos = 42*0.85,-38*0.85

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 292 && parent, time >= 10
time = 1
pos = 42*0.85,-38*0.85

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 293
time = 1
pos = 42*0.85,-38*0.85

;Rasenrengan Combo

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 10290
time = 1
pos = -37*0.85,-46*0.85

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 10291
triggerall = parent, time > 0 && parent, time <= 5
time = 1
pos = -32*0.85,-44*0.85

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 10291
triggerall = parent, time > 5
time = 1
pos = 45*0.85,-38*0.85

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 10292
trigger2 = parent, stateno = 10293
time = 1
pos = 45*0.85,-38*0.85

;Podrzucenie Rasengan

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 10284
time = 1
pos = -16*0.85,-66*0.85

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 10285 && parent, time > 0 && parent, time <= 3
time = 1
pos = -6*0.85,-69*0.85

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 10285 && parent, time > 4 && parent, time <= 6
time = 1
pos = -2*0.85,-66*0.85

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 10285 && parent, time >= 7
time = 1
pos = 22*0.85,-58*0.85

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 10286
trigger2 = parent, stateno = 10287
time = 1
pos = 35*0.85,-1*0.85

;Combo KCM Rasengan

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 20249
triggerall = parent, time > 3 && parent, time <= 13
time = 1
pos = -21*0.85,-39*0.85

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 20249
triggerall = parent, time > 13 && parent, time <= 15
time = 1
pos = -15*0.85,-44*0.85

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 20249 && parent, time >= 16
time = 1
pos = 42*0.85,-38*0.85

;Combo KCM Down Rasengan

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 20258
triggerall = parent, time < 10
time = 1
pos = 15*0.85,-30*0.85

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 20258
triggerall = parent, time > 10 && parent, time <= 12
time = 1
pos = 26*0.85,-54*0.85

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 20258 && parent, time >= 12
time = 1
pos = 40*0.85,-75*0.85

;Combo KCM Air Rasengan

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 20259
triggerall = parent, time < 10
time = 1
pos = 15*0.85,30*0.85

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 20259
triggerall = parent, time > 10 && parent, time <= 12
time = 1
pos = 26*0.85,54*0.85

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 20259 && parent, time >= 12
time = 1
pos = 40*0.85,75*0.85

;Wakusei Rasengan

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 20970 && parent, time > 0 && parent, time <= 5
time = 1
pos = -11*0.85,-55*0.85

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 20970 && parent, time > 5 && parent, time <= 10
time = 1
pos = -12*0.85,-75*0.85

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 20971 && parent, time > 0 && parent, time <= 5
time = 1
pos = 2*0.85,-63*0.85

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 20971 && parent, time > 5 && parent, time <= 8
time = 1
pos = -15*0.85,2000*0.85

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 20971 && parent, time > 8 && parent, time <= 13
time = 1
pos = -15*0.85,-32*0.85

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 20971 && parent, time > 13 && parent, time <= 16
time = 1
pos = 42*0.85,-38*0.85

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 20971 && parent, time > 16 && parent, time <= 19
time = 1
pos = 48*0.85,-38*0.85

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 20971 && parent, time > 19 && parent, time <= 24
time = 1
pos = 70*0.85,-38*0.85

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 20971 && parent, time > 24
time = 1
pos = 100*0.85,-38*0.85

;--------------------

[State 0, End]
type = Changestate
trigger1 = parent, stateno = 934 && parent, movehit
trigger2 = parent, stateno = 9336 && parent, movehit
trigger3 = parent, stateno = 964 && parent, movehit
trigger4 = parent, stateno = 942 && parent, movehit
trigger5 = parent, stateno = 945 && parent, movehit
trigger6 = parent, stateno = 276 && parent, movehit
trigger7 = parent, stateno = 292 && parent, movehit
trigger8 = parent, stateno = 10487 && parent, movehit
trigger9 = parent, stateno = 10973 && movehit
trigger10 = parent, stateno = 10973 && pos y >= -35
trigger11 = parent, stateno = 10292 && parent, movehit
trigger12 = parent, stateno = 10286 && parent, movehit
trigger13 = parent, stateno = 20249 && parent, movehit
trigger14 = parent, stateno = 20258 && parent, movehit
trigger15 = parent, stateno = 20259 && parent, movehit
trigger16 = parent, stateno = 20971 && parent, movehit
value = 951

[State 0, End]
type = Changestate
trigger1 = parent, stateno != [930,948]
trigger1 = parent, stateno != [9330,9336]
trigger1 = parent, stateno != [960,969]
trigger1 = parent, stateno != [274,277]
trigger1 = parent, stateno != [290,293]
trigger1 = parent, stateno != [1000,1009]
trigger1 = parent, stateno != [10485,10489]
trigger1 = parent, stateno != [10970,10979]
trigger1 = parent, stateno != [10290,10293]
trigger1 = parent, stateno != [10284,10287]
trigger1 = parent, stateno != 20249
trigger1 = parent, stateno != 20258
trigger1 = parent, stateno != 20259
trigger1 = parent, stateno != [20970,20979]
trigger2 = parent, stateno = 935
trigger3 = parent, stateno = 965
trigger4 = parent, stateno = 932
trigger5 = parent, stateno = 538
trigger6 = parent, stateno = 943
trigger7 = parent, stateno = 946
trigger8 = parent, stateno = 277
trigger9 = parent, stateno = 293
trigger10 = parent, stateno = 10488
trigger11 = parent, stateno = 10974
trigger12 = parent, stateno = 10293
trigger13 = parent, stateno = 10287
trigger14 = parent, stateno = 20199
value = 952

[State 0, RS]
type = Changestate
trigger1 = parent, stateno = 1000
value = 1050

;------------------
;Kula Hit
[StateDef 951]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 950
poweradd = 0
sprpriority = 2

[State 0, ChangeAnim]
type = ChangeAnim
trigger1 = parent, stateno = 10973
trigger1 = anim != 10975
value = 10975

[State 0, ChangeAnim]
type = ChangeAnim
trigger1 = parent, stateno != 10973
trigger1 = anim != 950
value = 950

[State 0, Turn]
type = Turn
trigger1 = facing = 1
trigger1 = parent, facing = -1
trigger1 = time%5

[State 0, Turn]
type = Turn
trigger1 = facing = -1
trigger1 = parent, facing = 1
trigger1 = time%5

[State 0, EnvShake]
type = EnvShake
trigger1 = timemod = 5,0
triggerall = parent, stateno != [10970,10979]
time = 1+var(6)/15
freq = 30+var(6)/10
ampl = -3-var(6)/20
phase = 30+var(6)/10

[State 0, EnvShake]
type = EnvShake
trigger1 = timemod = 5,0
triggerall = parent, stateno = [10970,10979]
time = 5
freq = 35
ampl = -5
phase = 35

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = F32,3

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = F32,3

[State 0, PlaySnd]
type = PlaySnd
trigger1 = timemod = 25,0
value = F32,1

[State 0, VarSet]
type = VarSet
trigger1 = 1
v = 4
value = time

[State 0, Kola]
type = ModifyExplod
trigger1 = 1
ID = 90000
scale = 0.1+var(6)*0.0035,0.1+var(6)*0.0035
trans = add

[State 0, Smugi]
type = ModifyExplod
trigger1 = 1
ID = 90001
scale = 0.15+var(6)*0.005,0.15+var(6)*0.005
trans = add
angle = -time*3

[State 0, Explod Kolo]
type = ModifyExplod
trigger1 = 1
ID = 90004
scale = 0.04+var(6)*0.003,0.04+var(6)*0.003
trans = addalpha
alpha = 150,256
angle = -time*3

[State 0, Fale]
type = Explod
ownpal = 1
trigger1 = timemod = 10,0
trigger1 = parent, stateno != [944,946]
trigger1 = parent, stateno != [274,278]
trigger1 = parent, stateno != [10970,10979]
trigger1 = parent, stateno != 20258 && parent, stateno != 20259
trigger1 = parent, stateno != 20199
anim = F644
id = 90006
pos = 5,0
scale = 0.2+var(6)*0.008,(0.2+var(6)*0.008)*0.7
postype = p1
facing = 1
bindtime = 10
removetime = -2
sprpriority = 7
vel = -var(6)*0.03,-var(6)*0.01
removeongethit = 1
trans = add
supermovetime = 9999
pausemovetime = 9999

[State 0, Wiatr]
type = Explod
ownpal = 1
trigger1 = time = 5
trigger1 = parent, stateno != [944,946]
trigger1 = parent, stateno != [274,278]
trigger1 = parent, stateno != [10970,10979]
trigger1 = parent, stateno != 20258 && parent, stateno != 20259
trigger1 = parent, stateno != 20199
anim = F461
id = 90008
pos = -30,0
scale = 0.3+var(6)*0.003,0.3+var(6)*0.003
postype = p1
facing = 1
bindtime = 1
removetime = -2
sprpriority = 7
removeongethit = 1
vel = -var(6)*0.04,-var(6)*0.02
trans = add
supermovetime = 9999
pausemovetime = 9999

;----------

[State 0, Fale]
type = Explod
ownpal = 1
triggerall = timemod = 10,0
trigger1 = parent, stateno = [944,946]
trigger2 = parent, stateno = [274,278]
triggerall = parent, stateno != [10970,10979]
triggerall = parent, stateno != 20258 && parent, stateno != 20259
triggerall = parent, stateno != 20199
anim = F644
id = 90006
pos = 5,0
scale = 0.2+var(6)*0.008,(0.2+var(6)*0.008)*0.7
postype = p1
facing = 1
bindtime = 10
removetime = -2
sprpriority = 7
vel = -var(6)*0.02,-var(6)*0.02
angle = -45
removeongethit = 1
trans = add
supermovetime = 9999
pausemovetime = 9999

[State 0, Wiatr]
type = Explod
ownpal = 1
triggerall = time = 5
trigger1 = parent, stateno = [944,946]
trigger2 = parent, stateno = [274,278]
triggerall = parent, stateno != [10970,10979]
triggerall = parent, stateno != 20258 && parent, stateno != 20259
triggerall = parent, stateno != 20199
anim = F461
id = 90008
pos = -20,-20
scale = 0.3+var(6)*0.003,0.3+var(6)*0.003
postype = p1
facing = 1
bindtime = 1
removetime = -2
sprpriority = 7
removeongethit = 1
vel = -var(6)*0.03,-var(6)*0.03
angle = -45
trans = add
supermovetime = 9999
pausemovetime = 9999

;----------

[State 0, Wstazki]
type = Explod
ownpal = 1
trigger1 = 0;time = 0
anim = F680
id = 90007
pos = 0,0
scale = 0.3+var(6)*0.01,0.3+var(6)*0.01
postype = p1
facing = 1
bindtime = -1
removetime = -2
sprpriority = 7
removeongethit = 1
trans = add
supermovetime = 9999
pausemovetime = 9999

[State 0, Fala Uderzeniowa]
type = Explod
ownpal = 1
trigger1 = time = 15
trigger1 = parent, stateno != [940,949]
trigger1 = parent, stateno != [274,278]
trigger1 = parent, stateno != [10970,10979]
trigger1 = parent, stateno != 20258 && parent, stateno != 20259
trigger1 = parent, stateno != 20199
anim = F645
id = 90009
pos = -15,-pos y
scale = 1.8,1.8
postype = p1
facing = 1
bindtime = 1
removetime = -2
sprpriority = 7
vel = var(6)*0.01,0
removeongethit = 1
trans = add
supermovetime = 9999
pausemovetime = 9999

[State 0, Podmuch]
type = Explod
ownpal = 1
trigger1 = time = 5
trigger1 = parent, stateno != [940,949]
trigger1 = parent, stateno != [274,278]
trigger1 = parent, stateno != [10970,10979]
trigger1 = parent, stateno != 20258 && parent, stateno != 20259
trigger1 = parent, stateno != 20199
anim = F674
id = 90010
pos = -10,-pos y+5
scale = 0.2+var(6)*0.005,0.2+var(6)*0.005
postype = p1
facing = 1
bindtime = 1
removetime = -2
sprpriority = 7
vel = -var(6)*0.01,0
removeongethit = 1
supermovetime = 9999
pausemovetime = 9999

;Air Odama

[State 0, Blysk Kuli]
type = Explod
ownpal = 1
trigger1 = time = 0
trigger1 = parent, stateno = [941,943]
trigger1 = var(6) >= 50
anim = F681
id = 90011
pos = 0,0
scale = 0.01+var(4)*0.03,0.01+var(4)*0.03
postype = p1
facing = 1
bindtime = -2
removetime = -2
sprpriority = 5
removeongethit = 1
trans = add
supermovetime = 9999
pausemovetime = 9999

[State 0, Wybuch Kuli]
type = Explod
ownpal = 1
trigger1 = time = 0
trigger1 = parent, stateno = [941,943]
trigger1 = var(6) >= 50
anim = F650
id = 90012
pos = 0,0
scale = (0.01+var(4)*0.03)*2,(0.01+var(4)*0.03)*2
postype = p1
facing = 1
bindtime = -2
removetime = -2
sprpriority = 4
removeongethit = 1
trans = add
supermovetime = 9999
pausemovetime = 9999

[State 0, ModifyExplod]
type = ModifyExplod
trigger1 = 1
trigger1 = parent, stateno = [941,943]
trigger1 = var(6) >= 50
ID = 90012
scale = (0.01+var(4)*0.03)*2,(0.01+var(4)*0.03)*2
trans = add

[State 0, Blysk Kuli]
type = Explod
ownpal = 1
trigger1 = time = 0
trigger1 = parent, stateno = [944,946]
trigger1 = var(6) >= 50
angle = -45
anim = F681
id = 90011
pos = 0,0
scale = 0.01+var(4)*0.03,0.01+var(4)*0.03
postype = p1
facing = 1
bindtime = -2
removetime = -2
sprpriority = 5
removeongethit = 1
trans = add
supermovetime = 9999
pausemovetime = 9999

[State 0, Wybuch Kuli]
type = Explod
ownpal = 1
trigger1 = time = 0
trigger1 = parent, stateno = [944,946]
trigger1 = var(6) >= 50
angle = -45
anim = F650
id = 90012
pos = 0,0
scale = (0.01+var(4)*0.03)*2,(0.01+var(4)*0.03)*2
postype = p1
facing = 1
bindtime = -2
removetime = -2
sprpriority = 4
removeongethit = 1
trans = add
supermovetime = 9999
pausemovetime = 9999

[State 0, ModifyExplod]
type = ModifyExplod
trigger1 = 1
trigger1 = parent, stateno = [944,946]
trigger1 = var(6) >= 50
angle = -45
ID = 90012
scale = (0.01+var(4)*0.03)*2,(0.01+var(4)*0.03)*2
trans = add

;Odama

[State 0, Blysk Kuli]
type = Explod
ownpal = 1
trigger1 = time = 0
trigger1 = parent, stateno = 964
anim = F681
id = 90011
pos = 0,0
scale = 0.01+var(4)*0.03,0.01+var(4)*0.03
postype = p1
facing = 1
bindtime = -2
removetime = -2
sprpriority = 5
removeongethit = 1
trans = add
supermovetime = 9999
pausemovetime = 9999

[State 0, Wybuch Kuli]
type = Explod
ownpal = 1
trigger1 = time = 0
trigger1 = parent, stateno = 964
anim = F650
id = 90012
pos = 0,0
scale = (0.01+var(4)*0.03)*2,(0.01+var(4)*0.03)*2
postype = p1
facing = 1
bindtime = -2
removetime = -2
sprpriority = 4
removeongethit = 1
trans = add
supermovetime = 9999
pausemovetime = 9999

[State 0, ModifyExplod]
type = ModifyExplod
trigger1 = 1
ID = 90012
scale = (0.01+var(4)*0.03)*2,(0.01+var(4)*0.03)*2
trans = add

[State 0, Fale]
type = Explod
ownpal = 1
trigger1 = timemod = 10,0
trigger1 = parent, stateno = 964
anim = F644
id = 90013
pos = 15,0
scale = 0.3+var(6)*0.009,(0.3+var(6)*0.009)*0.7
postype = p1
facing = 1
bindtime = 10
removetime = -2
sprpriority = 7
vel = -var(6)*0.03,-var(6)*0.01
removeongethit = 1
trans = add
supermovetime = 9999
pausemovetime = 9999

[State 0, Kamyki]
type = Explod
ownpal = 1
trigger1 = 1
trigger1 = parent, stateno = 964
anim = F591
ID = 591
pos = -20+random%40,-pos y +random%20
vel = 1+random%2,-2
accel = 0,0.05
angle = random
postype = p1
bindtime = 1
removetime = -2
supermovetime = 9999
pausemovetime = 9999
scale = 1,1
sprpriority = 4
ownpal = 1
ontop = 0

[State 0, Wybuch ziemi]
type = Explod
trigger1 = time = 10
trigger1 = parent, stateno = 964
anim = F1490
ID = 90015
pos = 40,-pos y+3
postype = p1  ;p2,front,back,left,right
facing = 1
vel = 0.3,0
vfacing = 1
bindtime = 1
removetime = -2
supermovetime = 9999
pausemovetime = 9999
scale = 1.2,1.2
sprpriority = 4
ontop = 0

[State 0, Zniszczona ziemia]
type = Explod
trigger1 = time = 10
trigger1 = parent, stateno = 964
anim = F64
ID = 90016
pos = 0,-pos y
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
supermovetime = 9999
pausemovetime = 9999
scale = 0.8,0.4
sprpriority = -1
ontop = 0

;Sempo Odama Rasengan

[State 0, Fale]
type = Explod
ownpal = 1
triggerall = timemod = 10,0
trigger1 = parent, stateno = 10973
anim = F644
id = 10977
pos = 5,0
scale = 1.1,1.1
postype = p1
facing = 1
bindtime = 10
removetime = -2
sprpriority = 7
vel = -var(6)*0.02,-var(6)*0.02
angle = -45
removeongethit = 1
trans = add
supermovetime = 9999
pausemovetime = 9999

[State 0, Wiatr]
type = Explod
ownpal = 1
triggerall = timemod = 10,0
trigger1 = parent, stateno = 10973
anim = F461
id = 10978
pos = -20,-20
scale = 0.6,0.6
postype = p1
facing = 1
bindtime = 1
removetime = -2
sprpriority = 7
removeongethit = 1
vel = -var(6)*0.005,-var(6)*0.005
angle = -45
trans = add
supermovetime = 9999
pausemovetime = 9999

[State 0, Blysk Kuli]
type = Explod
ownpal = 1
trigger1 = time = 0
trigger1 = parent, stateno = 10973
anim = F681
id = 90011
pos = 0,0
scale = (0.01+var(4)*0.03)*1.5,(0.01+var(4)*0.03)*1.5
postype = p1
facing = 1
bindtime = -2
removetime = -2
sprpriority = 5
removeongethit = 1
trans = add
supermovetime = 9999
pausemovetime = 9999

[State 0, Wybuch Kuli]
type = Explod
ownpal = 1
trigger1 = time = 0
trigger1 = parent, stateno = 10973
anim = F650
id = 90012
pos = 0,0
scale = (0.01+var(4)*0.03)*3,(0.01+var(4)*0.03)*3
postype = p1
facing = 1
bindtime = -2
removetime = -2
sprpriority = 4
removeongethit = 1
angle = -45
trans = add
supermovetime = 9999
pausemovetime = 9999

[State 0, ModifyExplod]
type = ModifyExplod
trigger1 = 1
ID = 90012
scale = (0.01+var(4)*0.03)*3,(0.01+var(4)*0.03)*3
trans = add

[State 0, Helper]
type = Helper
trigger1 = pos y >= -35
trigger1 = anim = 10975
trigger1 = numhelper(10975) = 0
helpertype = normal;player
name = "Wybuch"
ID = 10975
stateno = 10975
pos = 0,-pos y
size.xscale = 1
size.yscale = 1
postype = p1
facing = 1
keyctrl = 0
ownpal = 1

;----------
;Down Rasengan KCM

[State 0, Fale]
type = Explod
ownpal = 1
triggerall = timemod = 10,0
trigger1 = parent, stateno = 20258
anim = F644
id = 90006
pos = 5,-5
scale = 0.2+var(6)*0.005,(0.2+var(6)*0.005)*0.7
postype = p1
facing = 1
bindtime = 10
removetime = -2
sprpriority = 7
vel = -var(6)*0.007,var(6)*0.015
angle = 60
removeongethit = 1
trans = add
supermovetime = 9999
pausemovetime = 9999

[State 0, Wiatr]
type = Explod
ownpal = 1
triggerall = time = 5
trigger1 = parent, stateno = 20258
anim = F461
id = 90008
pos = -20,20
scale = 0.3+var(6)*0.0016,0.3+var(6)*0.0016
postype = p1
facing = 1
bindtime = 1
removetime = -2
sprpriority = 7
removeongethit = 1
vel = -var(6)*0.01,var(6)*0.02
angle = 60
trans = add
supermovetime = 9999
pausemovetime = 9999

;------------

;Up Rasengan KCM

[State 0, Fale]
type = Explod
ownpal = 1
triggerall = timemod = 10,0
trigger1 = parent, stateno = 20259
anim = F644
id = 90006
pos = 5,5
scale = 0.2+var(6)*0.005,(0.2+var(6)*0.005)*0.7
postype = p1
facing = 1
bindtime = 10
removetime = -2
sprpriority = 7
vel = -var(6)*0.007,-var(6)*0.015
angle = -60
removeongethit = 1
trans = add
supermovetime = 9999
pausemovetime = 9999

[State 0, Wiatr]
type = Explod
ownpal = 1
triggerall = time = 5
trigger1 = parent, stateno = 20259
anim = F461
id = 90008
pos = -20,-20
scale = 0.3+var(6)*0.0016,0.3+var(6)*0.0016
postype = p1
facing = 1
bindtime = 1
removetime = -2
sprpriority = 7
removeongethit = 1
vel = -var(6)*0.01,-var(6)*0.02
angle = -60
trans = add
supermovetime = 9999
pausemovetime = 9999

[State 0, Helper]
type = Helper
trigger1 = pos y >= -20
trigger1 = numhelper(20947) = 0
trigger1 = parent, stateno = 20259 || parent, stateno = 20199
helpertype = normal;player
name = "Wybuch"
ID = 20947
stateno = 947
pos = 0,-pos y
size.xscale = 1
size.yscale = 1
postype = p1
facing = 1
keyctrl = 0
ownpal = 1

;Wakusei

[State 0, Wiatr Krecony]
type = Explod
ownpal = 1
trigger1 = time = 5
triggerall = parent, stateno = 20971
anim = F683
id = 90010
pos = -15,-pos y
scale = 1,1
postype = p1
facing = -1
bindtime = 1
removetime = -2
sprpriority = 7
vel = var(6)*0.01,0
removeongethit = 1
trans = add
supermovetime = 9999
pausemovetime = 9999

[State 0, Blysk Kuli]
type = Explod
ownpal = 1
trigger1 = time = 0
trigger1 = parent, stateno = 20971
anim = F681
id = 90011
pos = 0,0
scale = 0.01+var(4)*0.03,0.01+var(4)*0.03
postype = p1
facing = 1
bindtime = -2
removetime = -2
sprpriority = 5
removeongethit = 1
trans = add
supermovetime = 9999
pausemovetime = 9999

[State 0, Wybuch Kuli]
type = Explod
ownpal = 1
trigger1 = time = 0 || time = 6 || time = 12 || time = 18
trigger1 = parent, stateno = 20971
anim = 20972
id = 20972
pos = 0+time*5.5,-pos y+3
scale = 0.35,0.35
postype = p1
facing = 1
bindtime = 5
removetime = -2
sprpriority = 5
removeongethit = 1
trans = add
supermovetime = 9999
pausemovetime = 9999

[State 0, Fale]
type = Explod
ownpal = 1
trigger1 = timemod = 10,0
trigger1 = parent, stateno = 20971
anim = F644
id = 90013
pos = 5,0
scale = 0.3+var(6)*0.014,(0.3+var(6)*0.014)*0.7
postype = p1
facing = 1
bindtime = 10
removetime = -2
sprpriority = 7
vel = -var(6)*0.03,-var(6)*0.01
removeongethit = 1
trans = add
supermovetime = 9999
pausemovetime = 9999

[State 0, Kamyki]
type = Explod
ownpal = 1
trigger1 = 1
trigger1 = parent, stateno = 20971
anim = F591
ID = 591
pos = -20+time*6+random%40,-pos y +random%20
vel = 1+random%2,-1-random%3
accel = 0,0.02
angle = random
postype = p1
bindtime = 1
removetime = -2
supermovetime = 9999
pausemovetime = 9999
scale = 1,1
sprpriority = 4+random%4
ownpal = 1
ontop = 0

[State 0, Wybuch ziemi]
type = Explod
trigger1 = time = 10
trigger1 = parent, stateno = 20971
anim = F1490
ID = 90015
pos = 40,-pos y+3
postype = p1  ;p2,front,back,left,right
facing = 1
vel = 0.3,0
vfacing = 1
bindtime = 1
removetime = -2
supermovetime = 9999
pausemovetime = 9999
scale = 1.2,1.2
sprpriority = 5
ontop = 0

[State 0, Zniszczona ziemia]
type = Explod
trigger1 = time = 10
trigger1 = parent, stateno = 20971
anim = F64
ID = 90016
pos = 50,-pos y
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
supermovetime = 9999
pausemovetime = 9999
scale = 1,0.4
sprpriority = -1
ontop = 0

;------------


[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 930
time = 1
pos = -21*0.85,-39*0.85

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 932
time = 1
pos = -18*0.85,-26*0.85

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 933
trigger2 = parent, stateno = 963
triggerall = parent, time > 0 && parent, time <= 3
time = 1
pos = -15*0.85,-32*0.85

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 933
trigger2 = parent, stateno = 963
triggerall = parent, time > 3
time = 1
pos = -15*0.85,-44*0.85

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 934 && parent, time > 0 && parent, time <= 3
trigger2 = parent, stateno = 9335 && parent, time > 0 && parent, time <= 3
trigger3 = parent, stateno = 964 && parent, time > 0 && parent, time <= 3
time = 1
pos = -15*0.85,-32*0.85

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 934 && parent, time > 3 && parent, time <= 9
trigger2 = parent, stateno = 9335 && parent, time > 3 && parent, time <= 9
trigger3 = parent, stateno = 964 && parent, time > 3 && parent, time <= 9
time = 1
pos = 42*0.85,-38*0.85

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 934 && parent, time >= 10
trigger2 = parent, stateno = 9335 && parent, time >= 10
trigger3 = parent, stateno = 964 && parent, time >= 10
time = 1
pos = 42*0.85,-38*0.85

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 935 && parent, prevstateno != 20971
trigger2 = parent, stateno = 9336
trigger3 = parent, stateno = 965
time = 1
pos = 42*0.85,-38*0.85

;Ground

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 937
time = 1
pos = 16*0.85,-22*0.85

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 938
time = 1
pos = 5*0.85,3*0.85

;Air Rasengan

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 940
time = 1
pos = -16*0.85,-66*0.85

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 941 && parent, time > 0 && parent, time <= 6
time = 1
pos = -6*0.85,-69*0.85

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 941 && parent, time >= 7
time = 1
pos = 22*0.85,-58*0.85

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 942
trigger2 = parent, stateno = 943
time = 1
pos = 42*0.85,-38*0.85

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 944 && parent, time > 0 && parent, time <= 3
time = 1
pos = -6*0.85,-69*0.85

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 944 && parent, time > 4 && parent, time <= 6
time = 1
pos = -2*0.85,-66*0.85

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 944 && parent, time >= 7
time = 1
pos = 22*0.85,-58*0.85

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 945
trigger2 = parent, stateno = 946
time = 1
pos = 35*0.85,-1*0.85

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 948 && parent, time > 0 && parent, time <= 5
time = 1
pos = -14*0.85,-23*0.85

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 948 && parent, time >= 6
time = 1
pos = -16*0.85,-66*0.85

;Rasenshuriken

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 1000
time = 1
pos = -21*0.85,-39*0.85

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 1001 && parent, time > 0 && parent, time <= 5
time = 1
pos = -11*0.85,-55*0.85

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 1001 && parent, time > 5 && parent, time <= 70
time = 1
pos = -12*0.85,-75*0.85

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 1001 && parent, time > 70
trigger1 = parent, var(0) != 1
time = 1
pos = 2*0.85,-63*0.85

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 1001 && parent, time > 70
trigger1 = parent, var(0) = 1
time = 1
pos = -22*0.85,-65*0.85

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 1002
time = 1
pos = -18*0.85,-26*0.85

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 1003
triggerall = parent, time > 0 && parent, time <= 3
time = 1
pos = -15*0.85,-32*0.85

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 1003
triggerall = parent, time > 3
time = 1
pos = -15*0.85,-44*0.85

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 1004 && parent, time > 0 && parent, time <= 3
time = 1
pos = -15*0.85,-32*0.85

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 1004 && parent, time > 3 && parent, time <= 9
time = 1
pos = 42*0.85,-38*0.85

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 1004 && parent, time >= 10
time = 1
pos = 42*0.85,-38*0.85

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 1005
time = 1
pos = 42*0.85,-38*0.85

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 1006 && parent, time > 0 && parent, time <= 5
time = 1
pos = -12*0.85,-65*0.85

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 1006 && parent, time > 5 && parent, time <= 10
time = 1
pos = 45*0.85,-38*0.85

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 1007 && parent, time > 0 && parent, time <= 3
time = 1
pos = -15*0.85,2000*0.85

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 1007 && parent, time > 3 && parent, time <= 6
time = 1
pos = -15*0.85,-32*0.85

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 1007 && parent, time > 6 && parent, time <= 12
time = 1
pos = 42*0.85,-38*0.85

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 1007 && parent, time > 12 && parent, time <= 17
time = 1
pos = 48*0.85,-38*0.85

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 1007 && parent, time > 17 && parent, time <= 22
time = 1
pos = 70*0.85,-38*0.85

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 1007 && parent, time > 22
time = 1
pos = 100*0.85,-38*0.85

;Rasenrengan

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 10485
time = 1
pos = -37*0.85,-46*0.85

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 10486
triggerall = parent, time > 0 && parent, time <= 5
time = 1
pos = -32*0.85,-44*0.85

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 10486
triggerall = parent, time > 5
time = 1
pos = 45*0.85,-38*0.85

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 10487
trigger2 = parent, stateno = 10488
time = 1
pos = 45*0.85,-38*0.85

;Sempo Odama Rasengan

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 10970 && parent, time > 0 && parent, time <= 5
time = 1
pos = -11*0.85,-55*0.85

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 10970 && parent, time > 5 && parent, time <= 10
time = 1
pos = -12*0.85,-75*0.85

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 10970 && parent, time > 10 && parent, time <= 90
time = 1
pos = -12*0.85,(-75-(parent,time-10)/2)*0.85

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 10970 && parent, time > 90
time = 1
pos = -12*0.85,-115*0.85

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 10971 && parent, time > 0 && parent, time <= 5
time = 1
pos = -11*0.85,-95*0.85

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 10971 && parent, time > 5
time = 1
pos = -16*0.85,-100*0.85

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 10972 && parent, time > 0 && parent, time <= 3
time = 1
pos = 24*0.85,-99*0.85

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 10972 && parent, time > 4 && parent, time <= 6
time = 1
pos = 26*0.85,-94*0.85

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 10972 && parent, time >= 7
time = 1
pos = 50*0.85,-86*0.85

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 10973
trigger2 = parent, stateno = 10974 && pos y < -35
time = 1
pos = 63*0.85,27*0.85

[State 0, HitDef]
type = HitDef
givepower = 0
getpower = 0
fall.yvelocity = -6
trigger1 = timemod = 5,0
trigger1 = hitcount < 4
triggerall = parent, stateno = [10972,10973]
triggerall = anim = 10975
attr = S, NT
damage = 250,250
getpower = 0
animtype = Light
guardflag = MA
hitflag = MAF
priority = cond(var(0) < 2, 3, 1)
pausetime = 0, 20
sparkno = 63466
sparkxy = -15, 0
hitsound = 32, 3536
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -3,8
ground.velocity = -3,8
air.type = High
ground.velocity = -3,8
air.hittime = 12
envshake.time = 30
envshake.freq = 30
envshake.ampl = -7
envshake.phase = 10
fall = 1

[State 0, TargetBind]
type = TargetBind
triggerall = target, ishelper = 0
trigger1 = movehit
trigger1 = hitcount < 5
triggerall = parent, stateno = [10972,10973]
triggerall = anim = 10975
time = 5
pos = 30,30

[State 0, Helper]
type = Helper
trigger1 = hitcount = 4
triggerall = parent, stateno = [10972,10973]
triggerall = anim = 10975
helpertype = normal ;player
name = "White Flash"
ID = 9999
stateno = 9999
pos = 0,0
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1
size.xscale = 10
size.yscale = 10
supermovetime = 9999
pausemovetime = 9999
persistent = 0

[State 0, HitDef]
type = HitDef
givepower = 0
getpower = 0
fall.yvelocity = -6
trigger1 = hitcount = 4
triggerall = parent, stateno = [10972,10973]
triggerall = anim = 10975
hitonce = 1
attr = S, NT
damage = 500,500
animtype = Light
guardflag = MA
hitflag = MAF
priority = cond(var(0) < 2, 3, 1)
pausetime = 0, 0
sparkno = 2001
sparkxy = -15, 0
hitsound = 32, 3536
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -4,13
airguard.velocity = -4,13
air.type = High
air.velocity = -4,13
air.hittime = 12
envshake.time = 30
envshake.freq = 30
envshake.ampl = -7
envshake.phase = 10
fall = 1

;Combo 8

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 274
time = 1
pos = -16*0.85,-66*0.85

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 275 && parent, time > 0 && parent, time <= 3
time = 1
pos = -6*0.85,-69*0.85

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 275 && parent, time > 4 && parent, time <= 6
time = 1
pos = -2*0.85,-66*0.85

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 275 && parent, time >= 7
time = 1
pos = 22*0.85,-58*0.85

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 276
trigger2 = parent, stateno = 277
time = 1
pos = 35*0.85,-1*0.85

;Combo Rasengan

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 290
time = 1
pos = -21*0.85,-39*0.85

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 932
time = 1
pos = -18*0.85,-26*0.85

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 291
triggerall = parent, time > 0 && parent, time <= 3
time = 1
pos = -15*0.85,-32*0.85

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 291
triggerall = parent, time > 3
time = 1
pos = -15*0.85,-44*0.85

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 292 && parent, time > 0 && parent, time <= 3
time = 1
pos = -15*0.85,-32*0.85

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 292 && parent, time > 3 && parent, time <= 9
time = 1
pos = 42*0.85,-38*0.85

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 292 && parent, time >= 10
time = 1
pos = 42*0.85,-38*0.85

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 293
time = 1
pos = 42*0.85,-38*0.85

;Rasenrengan Combo

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 10290
time = 1
pos = -37*0.85,-46*0.85

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 10291
triggerall = parent, time > 0 && parent, time <= 5
time = 1
pos = -32*0.85,-44*0.85

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 10291
triggerall = parent, time > 5
time = 1
pos = 45*0.85,-38*0.85

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 10292
trigger2 = parent, stateno = 10293
time = 1
pos = 45*0.85,-38*0.85

;Podrzucenie Rasengan

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 10284
time = 1
pos = -16*0.85,-66*0.85

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 10285 && parent, time > 0 && parent, time <= 3
time = 1
pos = -6*0.85,-69*0.85

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 10285 && parent, time > 4 && parent, time <= 6
time = 1
pos = -2*0.85,-66*0.85

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 10285 && parent, time >= 7
time = 1
pos = 22*0.85,-58*0.85

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 10286
trigger2 = parent, stateno = 10287
time = 1
pos = 35*0.85,-1*0.85

;Combo KCM Rasengan

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 20249
triggerall = parent, time > 3 && parent, time <= 13
time = 1
pos = -21*0.85,-39*0.85

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 20249
triggerall = parent, time > 13 && parent, time <= 15
time = 1
pos = -15*0.85,-44*0.85

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 20249 && parent, time >= 16
time = 1
pos = 42*0.85,-38*0.85

;Combo KCM Down Rasengan

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 20258
triggerall = parent, time < 10
time = 1
pos = 15*0.85,-30*0.85

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 20258
triggerall = parent, time > 10 && parent, time <= 12
time = 1
pos = 26*0.85,-54*0.85

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 20258 && parent, time >= 12
time = 1
pos = 40*0.85,-75*0.85

;Combo KCM Air Rasengan

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 20259
triggerall = parent, time < 10
time = 1
pos = 15*0.85,30*0.85

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 20259
triggerall = parent, time > 10 && parent, time <= 12
time = 1
pos = 26*0.85,54*0.85

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 20259 && parent, time >= 12
time = 1
pos = 40*0.85,75*0.85

;Wakusei Rasengan

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 20970 && parent, time > 0 && parent, time <= 5
time = 1
pos = -11*0.85,-55*0.85

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 20970 && parent, time > 5 && parent, time <= 10
time = 1
pos = -12*0.85,-75*0.85

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 20971 && parent, time > 0 && parent, time <= 5
time = 1
pos = 2*0.85,-63*0.85

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 20971 && parent, time > 5 && parent, time <= 8
time = 1
pos = -15*0.85,2000*0.85

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 20971 && parent, time > 8 && parent, time <= 13
time = 1
pos = -15*0.85,-32*0.85

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 20971 && parent, time > 13 && parent, time <= 16
time = 1
pos = 42*0.85,-38*0.85

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 20971 && parent, time > 16 && parent, time <= 19
time = 1
pos = 48*0.85,-38*0.85

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 20971 && parent, time > 19 && parent, time <= 24
time = 1
pos = 70*0.85,-38*0.85

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 20971 && parent, time > 24
time = 1
pos = 100*0.85,-38*0.85

;--------------------

[State 0, End]
type = Changestate
trigger1 = parent, stateno != [930,948]
trigger1 = parent, stateno != [9330,9336]
trigger1 = parent, stateno != [960,969]
trigger1 = parent, stateno != [274,277]
trigger1 = parent, stateno != [290,293]
trigger1 = parent, stateno != [1000,1009]
trigger1 = parent, stateno != [10485,10489]
trigger1 = parent, stateno != [10970,10979]
trigger1 = parent, stateno != [10290,10293]
trigger1 = parent, stateno != [10284,10287]
trigger1 = parent, stateno != [20970,20979]
trigger1 = parent, stateno != 20249
trigger1 = parent, stateno != 20258
trigger1 = parent, stateno != 20259
trigger2 = parent, stateno = 935
trigger3 = parent, stateno = 965
trigger4 = parent, stateno = 932
trigger5 = parent, stateno = 538
trigger6 = parent, stateno = 943
trigger7 = parent, stateno = 946
trigger8 = parent, stateno = 277
trigger9 = parent, stateno = 293
trigger10 = parent, stateno = 10488
trigger11 = parent, stateno = 10974
trigger12 = parent, stateno = 10293
trigger13 = parent, stateno = 10287
trigger14 = parent, stateno = 20199
value = 952
;------------------
;Kula End
[StateDef 952]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 950
poweradd = 0
sprpriority = 2

[State 0, ChangeAnim]
type = ChangeAnim
trigger1 = parent, stateno = 10973
trigger1 = anim != 10975
value = 10975

[State 0, ChangeAnim]
type = ChangeAnim
trigger1 = parent, stateno != 10973
trigger1 = anim != 950
value = 950

[State 0, Turn]
type = Turn
trigger1 = facing = 1
trigger1 = parent, facing = -1
trigger1 = time%5

[State 0, Turn]
type = Turn
trigger1 = facing = -1
trigger1 = parent, facing = 1
trigger1 = time%5

[State 0, EnvShake]
type = EnvShake
trigger1 = timemod = 5,0
triggerall = parent, stateno != [10970,10979]
time = 1+var(6)/15
freq = 30+var(6)/10
ampl = -3-var(6)/20
phase = 30+var(6)/10

[State 0, EnvShake]
type = EnvShake
trigger1 = timemod = 5,0
triggerall = parent, stateno = [10970,10979]
time = 5
freq = 35
ampl = -5
phase = 35

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = F32,2

[State 0, VarSet]
type = VarSet
trigger1 = time = 0
v = 5
value = var(6)

[State 0, VarSet]
type = VarAdd
trigger1 = 1
v = 6
value = -var(5)/10

[State 0, Kula]
type = ModifyExplod
trigger1 = 1
ID = 90000
scale = 0.1+var(6)*0.0035,0.1+var(6)*0.0035
trans = add

[State 0, Kula]
type = RemoveExplod
trigger1 = time = 10
id = 90000

[State 0, Smugi]
type = ModifyExplod
trigger1 = 1
ID = 90001
scale = 0.15+var(6)*0.005,0.15+var(6)*0.005
trans = add
angle = -time*3

[State 0, Smugi]
type = RemoveExplod
trigger1 = time = 10
id = 90001

[State 0, Explod Kolo]
type = ModifyExplod
trigger1 = 1
ID = 90004
scale = 0.04+var(6)*0.003,0.04+var(6)*0.003
trans = addalpha
alpha = 150,256
angle = -time*3

[State 0, Smugi]
type = RemoveExplod
trigger1 = time = 10
id = 90004

[State 0, Fala]
type = ModifyExplod
trigger1 = 1
ID = 90006
scale = 0.2+var(6)*0.01,(0.2+var(6)*0.01)*0.7
trans = add

[State 0, Fala]
type = RemoveExplod
trigger1 = time = 10
id = 90006

[State 0, Fala]
type = ModifyExplod
trigger1 = 1
ID = 90007
scale = 0.25+var(6)*0.01,0.25+var(6)*0.01
trans = add

[State 0, Fala]
type = RemoveExplod
trigger1 = time = 10
id = 90007

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 930
time = 1
pos = -21*0.85,-39*0.85

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 932
time = 1
pos = -18*0.85,-26*0.85

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 933
trigger2 = parent, stateno = 963
triggerall = parent, time > 0 && parent, time <= 3
time = 1
pos = -15*0.85,-32*0.85

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 933
trigger2 = parent, stateno = 963
triggerall = parent, time > 3
time = 1
pos = -15*0.85,-44*0.85

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 934 && parent, time > 0 && parent, time <= 3
trigger2 = parent, stateno = 9335 && parent, time > 0 && parent, time <= 3
trigger3 = parent, stateno = 964 && parent, time > 0 && parent, time <= 3
time = 1
pos = -15*0.85,-32*0.85

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 934 && parent, time > 3 && parent, time <= 9
trigger2 = parent, stateno = 9335 && parent, time > 3 && parent, time <= 9
trigger3 = parent, stateno = 964 && parent, time > 3 && parent, time <= 9
time = 1
pos = 42*0.85,-38*0.85

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 934 && parent, time >= 10
trigger2 = parent, stateno = 9335 && parent, time >= 10
trigger3 = parent, stateno = 964 && parent, time >= 10
time = 1
pos = 42*0.85,-38*0.85

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 935 && parent, prevstateno != 20971
trigger2 = parent, stateno = 9336
trigger3 = parent, stateno = 965
time = 1
pos = 42*0.85,-38*0.85

;Ground

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 937
time = 1
pos = 16*0.85,-22*0.85

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 938
time = 1
pos = 5*0.85,3*0.85

;Air Rasengan

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 940
time = 1
pos = -16*0.85,-66*0.85

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 941 && parent, time > 0 && parent, time <= 6
time = 1
pos = -6*0.85,-69*0.85

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 941 && parent, time >= 7
time = 1
pos = 22*0.85,-58*0.85

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 942
trigger2 = parent, stateno = 943
time = 1
pos = 42*0.85,-38*0.85

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 944 && parent, time > 0 && parent, time <= 3
time = 1
pos = -6*0.85,-69*0.85

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 944 && parent, time > 4 && parent, time <= 6
time = 1
pos = -2*0.85,-66*0.85

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 944 && parent, time >= 7
time = 1
pos = 22*0.85,-58*0.85

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 945
trigger2 = parent, stateno = 946
time = 1
pos = 35*0.85,-1*0.85

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 948 && parent, time > 0 && parent, time <= 5
time = 1
pos = -14*0.85,-23*0.85

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 948 && parent, time >= 6
time = 1
pos = -16*0.85,-66*0.85

;Rasenshuriken

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 1000
time = 1
pos = -21*0.85,-39*0.85

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 1001 && parent, time > 0 && parent, time <= 5
time = 1
pos = -11*0.85,-55*0.85

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 1001 && parent, time > 5 && parent, time <= 70
time = 1
pos = -12*0.85,-75*0.85

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 1001 && parent, time > 70
trigger1 = parent, var(0) != 1
time = 1
pos = 2*0.85,-63*0.85

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 1001 && parent, time > 70
trigger1 = parent, var(0) = 1
time = 1
pos = -22*0.85,-65*0.85

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 1002
time = 1
pos = -18*0.85,-26*0.85

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 1003
triggerall = parent, time > 0 && parent, time <= 3
time = 1
pos = -15*0.85,-32*0.85

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 1003
triggerall = parent, time > 3
time = 1
pos = -15*0.85,-44*0.85

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 1004 && parent, time > 0 && parent, time <= 3
time = 1
pos = -15*0.85,-32*0.85

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 1004 && parent, time > 3 && parent, time <= 9
time = 1
pos = 42*0.85,-38*0.85

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 1004 && parent, time >= 10
time = 1
pos = 42*0.85,-38*0.85

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 1005
time = 1
pos = 42*0.85,-38*0.85

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 1006 && parent, time > 0 && parent, time <= 5
time = 1
pos = -12*0.85,-65*0.85

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 1006 && parent, time > 5 && parent, time <= 10
time = 1
pos = 45*0.85,-38*0.85

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 1007 && parent, time > 0 && parent, time <= 3
time = 1
pos = -15*0.85,2000*0.85

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 1007 && parent, time > 3 && parent, time <= 6
time = 1
pos = -15*0.85,-32*0.85

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 1007 && parent, time > 6 && parent, time <= 12
time = 1
pos = 42*0.85,-38*0.85

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 1007 && parent, time > 12 && parent, time <= 17
time = 1
pos = 48*0.85,-38*0.85

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 1007 && parent, time > 17 && parent, time <= 22
time = 1
pos = 70*0.85,-38*0.85

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 1007 && parent, time > 22
time = 1
pos = 100*0.85,-38*0.85

;Rasenrengan

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 10485
time = 1
pos = -37*0.85,-46*0.85

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 10486
triggerall = parent, time > 0 && parent, time <= 5
time = 1
pos = -32*0.85,-44*0.85

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 10486
triggerall = parent, time > 5
time = 1
pos = 45*0.85,-38*0.85

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 10487
trigger2 = parent, stateno = 10488
time = 1
pos = 45*0.85,-38*0.85

;Sempo Odama Rasengan

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 10970 && parent, time > 0 && parent, time <= 5
time = 1
pos = -11*0.85,-55*0.85

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 10970 && parent, time > 5 && parent, time <= 10
time = 1
pos = -12*0.85,-75*0.85

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 10970 && parent, time > 10 && parent, time <= 90
time = 1
pos = -12*0.85,(-75-(parent,time-10)/2)*0.85

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 10970 && parent, time > 90
time = 1
pos = -12*0.85,-115*0.85

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 10971 && parent, time > 0 && parent, time <= 5
time = 1
pos = -11*0.85,-95*0.85

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 10971 && parent, time > 5
time = 1
pos = -16*0.85,-100*0.85

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 10972 && parent, time > 0 && parent, time <= 3
time = 1
pos = 24*0.85,-99*0.85

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 10972 && parent, time > 4 && parent, time <= 6
time = 1
pos = 26*0.85,-94*0.85

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 10972 && parent, time >= 7
time = 1
pos = 50*0.85,-86*0.85

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 10973
time = 1
pos = 63*0.85,27*0.85

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 10974
time = 1
pos = (63-time*3)*0.85,(27-time*2.5)*0.85

;Combo 8

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 274
time = 1
pos = -16*0.85,-66*0.85

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 275 && parent, time > 0 && parent, time <= 3
time = 1
pos = -6*0.85,-69*0.85

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 275 && parent, time > 4 && parent, time <= 6
time = 1
pos = -2*0.85,-66*0.85

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 275 && parent, time >= 7
time = 1
pos = 22*0.85,-58*0.85

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 276
trigger2 = parent, stateno = 277
time = 1
pos = 35*0.85,-1*0.85

;Combo Rasengan

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 290
time = 1
pos = -21*0.85,-39*0.85

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 932
time = 1
pos = -18*0.85,-26*0.85

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 291
triggerall = parent, time > 0 && parent, time <= 3
time = 1
pos = -15*0.85,-32*0.85

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 291
triggerall = parent, time > 3
time = 1
pos = -15*0.85,-44*0.85

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 292 && parent, time > 0 && parent, time <= 3
time = 1
pos = -15*0.85,-32*0.85

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 292 && parent, time > 3 && parent, time <= 9
time = 1
pos = 42*0.85,-38*0.85

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 292 && parent, time >= 10
time = 1
pos = 42*0.85,-38*0.85

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 293
time = 1
pos = 42*0.85,-38*0.85

;Rasenrengan Combo

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 10290
time = 1
pos = -37*0.85,-46*0.85

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 10291
triggerall = parent, time > 0 && parent, time <= 5
time = 1
pos = -32*0.85,-44*0.85

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 10291
triggerall = parent, time > 5
time = 1
pos = 45*0.85,-38*0.85

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 10292
trigger2 = parent, stateno = 10293
time = 1
pos = 45*0.85,-38*0.85

;Podrzucenie Rasengan

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 10284
time = 1
pos = -16*0.85,-66*0.85

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 10285 && parent, time > 0 && parent, time <= 3
time = 1
pos = -6*0.85,-69*0.85

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 10285 && parent, time > 4 && parent, time <= 6
time = 1
pos = -2*0.85,-66*0.85

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 10285 && parent, time >= 7
time = 1
pos = 22*0.85,-58*0.85

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 10286
trigger2 = parent, stateno = 10287
time = 1
pos = 35*0.85,-1*0.85

;Combo KCM Rasengan

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 20249
triggerall = parent, time > 3 && parent, time <= 13
time = 1
pos = -21*0.85,-39*0.85

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 20249
triggerall = parent, time > 13 && parent, time <= 15
time = 1
pos = -15*0.85,-44*0.85

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 20249 && parent, time >= 16
time = 1
pos = 42*0.85,-38*0.85

;Combo KCM Down Rasengan

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 20258
triggerall = parent, time < 10
time = 1
pos = 15*0.85,-30*0.85

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 20258
triggerall = parent, time > 10 && parent, time <= 12
time = 1
pos = 26*0.85,-54*0.85

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 20258 && parent, time >= 12
time = 1
pos = 40*0.85,-75*0.85

;Combo KCM Air Rasengan

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 20259
triggerall = parent, time < 10
time = 1
pos = 15*0.85,30*0.85

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 20259
triggerall = parent, time > 10 && parent, time <= 12
time = 1
pos = 26*0.85,54*0.85

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 20259 && parent, time >= 12
time = 1
pos = 40*0.85,75*0.85

[State 0, Helper]
type = Helper
trigger1 = pos y >= -20
trigger1 = numhelper(20947) = 0 || parent, stateno = 20199
trigger1 = parent, stateno = 20259
helpertype = normal;player
name = "Wybuch"
ID = 20947
stateno = 947
pos = 0,-pos y
size.xscale = 1
size.yscale = 1
postype = p1
facing = 1
keyctrl = 0
ownpal = 1

;Wakusei Rasengan

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 20970 && parent, time > 0 && parent, time <= 5
time = 1
pos = -11*0.85,-55*0.85

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 20970 && parent, time > 5 && parent, time <= 10
time = 1
pos = -12*0.85,-75*0.85

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 20971 && parent, time > 0 && parent, time <= 5
time = 1
pos = 2*0.85,-63*0.85

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 20971 && parent, time > 5 && parent, time <= 8
time = 1
pos = -15*0.85,2000*0.85

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 20971 && parent, time > 8 && parent, time <= 13
time = 1
pos = -15*0.85,-32*0.85

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 20971 && parent, time > 13 && parent, time <= 16
time = 1
pos = 42*0.85,-38*0.85

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 20971 && parent, time > 16 && parent, time <= 19
time = 1
pos = 48*0.85,-38*0.85

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 20971 && parent, time > 19 && parent, time <= 24
time = 1
pos = 70*0.85,-38*0.85

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 20971 && parent, time > 24
time = 1
pos = 100*0.85,-38*0.85

;--------------------

[State 0, End]
type = Destroyself
trigger1 = time = 11
;------------------
;Kula Wakusei
[StateDef 955]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 950
poweradd = 0
sprpriority = 2

[State 0, Turn]
type = Turn
trigger1 = facing = 1
trigger1 = parent, facing = -1
trigger1 = time%5

[State 0, Turn]
type = Turn
trigger1 = facing = -1
trigger1 = parent, facing = 1
trigger1 = time%5

[State 0, VarSet]
type = VarAdd
trigger1 = time = 0
v = 6
value = 0

[State 0, VarSet]
type = VarAdd
trigger1 = time < 50
v = 6
value = 1

[State 0, VarSet]
type = VarSet
trigger1 = time = 50
v = 6
value = 50

[State 0, Kula]
type = Explod
ownpal = 1
trigger1 = time = 0
anim = F632;1
id = 90000
pos = 0,0
scale = 0.1*0.4,0.1*0.4
postype = p1
facing = 1
bindtime = -1
removetime = -1
sprpriority = 4
removeongethit = 1
trans = add
supermovetime = 9999
pausemovetime = 9999

[State 0, Kula]
type = ModifyExplod
trigger1 = 1
ID = 90000
scale = (0.1+var(6)*0.0035)*0.4,(0.1+var(6)*0.0035)*0.4
trans = add

[State 0, Smugi]
type = Explod
ownpal = 1
trigger1 = numexplod(90001) = 0
anim = F678
id = 90001
pos = 0,0
scale = 0.15*0.4,0.15*0.4
postype = p1
facing = 1
bindtime = -2
removetime = -1
sprpriority = 6
removeongethit = 1
trans = add
angle = -time*3
supermovetime = 9999
pausemovetime = 9999

[State 0, Smugi]
type = ModifyExplod
trigger1 = 1
ID = 90001
scale = (0.15+var(6)*0.005)*0.4,(0.15+var(6)*0.005)*0.4
trans = add
angle = -time*3

[State 0, Smugi powstawanie]
type = Explod
ownpal = 1
trigger1 = 0;numexplod(90002) = 0 && time < 30
anim = F620
id = 90002
pos = 0,0
scale = 0.5*0.4,0.5*0.4
postype = p1
facing = 1
bindtime = -2
removetime = -2
sprpriority = 4
removeongethit = 1
trans = add
angle = time*5
supermovetime = 9999
pausemovetime = 9999

[State 0, ModifyExplod]
type = ModifyExplod
trigger1 = 1
ID = 90002
scale = (0.5+var(6)*0.02)*0.4,(0.5+var(6)*0.02)*0.4
trans = add
angle = time*5

[State 0, Explod Kolo]
type = Explod
ownpal = 1
trigger1 = numexplod(90004) = 0
anim = F685
id = 90004
pos = 0,0
scale = (0.04+var(6)*0.003)*0.4,(0.04+var(6)*0.003)*0.4
postype = p1
facing = 1
bindtime = -2
removetime = -2
sprpriority = 6
removeongethit = 1
trans = addalpha
alpha = 150,256
angle = -time*3
supermovetime = 9999
pausemovetime = 9999

[State 0, Explod Kolo]
type = ModifyExplod
trigger1 = 1
ID = 90004
scale = (0.04+var(6)*0.003)*0.4,(0.04+var(6)*0.003)*0.4
trans = addalpha
alpha = 150,256
angle = -time*3

;Wakusei

[State 0, BindToParent]
type = BindToParent
trigger1 = ishelper(955)
triggerall = parent, stateno = [950,954]
time = 1
pos = 0+(3+var(6)/5)*cos((1*time*(var(6)/8)+0)*pi/180),0+(3+var(6)/5)*sin((1*time*(var(6)/8)+0)*pi/180)

[State 0, BindToParent]
type = BindToParent
trigger1 = ishelper(956)
triggerall = parent, stateno = [950,954]
time = 1
pos = 0+(3+var(6)/5)*cos((1*time*(var(6)/8)+120)*pi/180),0+(3+var(6)/5)*sin((1*time*(var(6)/8)+120)*pi/180)

[State 0, BindToParent]
type = BindToParent
trigger1 = ishelper(957)
triggerall = parent, stateno = [950,954]
time = 1
pos = 0+(3+var(6)/5)*cos((1*time*(var(6)/8)+240)*pi/180),0+(3+var(6)/5)*sin((1*time*(var(6)/8)+240)*pi/180)

;---------------

[State 0, End]
type = Changestate
trigger1 = root, stateno != [20970,20979]
trigger2 = root, stateno = 935
trigger3 = parent, stateno = 951 && parent, time > 20
value = 956
;------------------
;Kula Wakusei End
[StateDef 956]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 950
poweradd = 0
sprpriority = 2

[State 0, Turn]
type = Turn
trigger1 = facing = 1
trigger1 = parent, facing = -1
trigger1 = time%5

[State 0, Turn]
type = Turn
trigger1 = facing = -1
trigger1 = parent, facing = 1
trigger1 = time%5

[State 0, VarSet]
type = VarSet
trigger1 = time = 0
v = 5
value = var(6)

[State 0, VarSet]
type = VarAdd
trigger1 = 1
v = 6
value = -var(5)/10

[State 0, Kula]
type = ModifyExplod
trigger1 = 1
ID = 90000
scale = (0.1+var(6)*0.0035)*0.3,(0.1+var(6)*0.0035)*0.3
trans = add

[State 0, Kula]
type = RemoveExplod
trigger1 = time = 10
id = 90000

[State 0, Smugi]
type = ModifyExplod
trigger1 = 1
ID = 90001
scale = (0.15+var(6)*0.005)*0.3,(0.15+var(6)*0.005)*0.3
trans = add
angle = -time*3

[State 0, Smugi]
type = RemoveExplod
trigger1 = time = 10
id = 90001

[State 0, Explod Kolo]
type = ModifyExplod
trigger1 = 1
ID = 90004
scale = (0.04+var(6)*0.003)*0.3,(0.04+var(6)*0.003)*0.3
trans = addalpha
alpha = 150,256
angle = -time*3

[State 0, Smugi]
type = RemoveExplod
trigger1 = time = 10
id = 90004

[State 0, Fala]
type = ModifyExplod
trigger1 = 1
ID = 90006
scale = (0.2+var(6)*0.01)*0.3,((0.2+var(6)*0.01)*0.7)*0.3
trans = add

[State 0, Fala]
type = RemoveExplod
trigger1 = time = 10
id = 90006

[State 0, Fala]
type = ModifyExplod
trigger1 = 1
ID = 90007
scale = (0.25+var(6)*0.01)*0.3,(0.25+var(6)*0.01)*0.3
trans = add

[State 0, Fala]
type = RemoveExplod
trigger1 = time = 10
id = 90007



;--------------------

[State 0, End]
type = Destroyself
trigger1 = time = 11
;------------------
;Odama Rasengan Run
[StateDef 963]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 933+var(0)*10000
poweradd = -1500
sprpriority = cond(var(0) < 2,2,1)

[State 0, VarSet]
type = VarSet
trigger1 = time = 0
v = 6
value = 100

[State 0, Turn]
type = Turn
trigger1 = p2bodydist x < -20
trigger1 = time = 0

[State 0, NotHitBy]
type = NotHitBy
trigger1 = time >= 0
value = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
time = 1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
value = S1,0+random%7

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
trigger2 = animelem = 6
value = F2

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 1
trigger2 = animelem = 3
trigger3 = animelem = 6
anim = F300
ID = 24
pos = -10,2
postype = p1  ;p2,front,back,left,right
scale = 0.9,0.9
sprpriority = 3
vel = -1.3,-1
bindtime = 1
ownpal = 0
ontop = 0

[State -3, Rasengan]
type = AfterImage
trigger1 = time = 0 && var(0) < 2
time = -1
length = 7
palcolor = 256
palinvertall = 0
palbright = 0,0,0
palcontrast = 100,160,220
palpostbright = 0,0,0
paladd = 3,4,5
palmul = .20,.50,.60
timegap = 1
framegap = 1
trans = add

[State 0, Explod]
type = Explod
trigger1 = time > 1 && timemod = 2,0
anim = F20
ID = 20
pos = -5+random%15,-10-random%50
postype = p1  ;P2,front,back,left,right
scale = 0.8,0.4
vel = -1,0
sprpriority = 1+random%3
bindtime = 1
ownpal = 1
ontop = 0
supermovetime = 9999
pausemovetime = 9999

[State 0, VelSet]
type = VelSet
trigger1 = 1
x = const(velocity.run.fwd.x)*cond(var(0) = 1,1.1,1.0)*cond(var(0) >= 2,1.2,1)

[State 811, end]
type = ChangeState
trigger1 = p2bodydist x < 40
value = 964
ctrl = 1

[State 0, Fail]
type = ChangeState
trigger1 = time = 100
trigger2 = p2bodydist x < -40
value = 932
ctrl = 1
;------------------
;Odama Rasengan Hit
[StateDef 964]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 934+var(0)*10000
poweradd = 0
sprpriority = cond(var(0) < 2,2,1)

[State 0, BGPalFX]
type = BGPalFX
triggerall = StageVar(info.name) != "Y" && StageVar(info.name) != "H"
trigger1 = time = 0
time = 40
add = -120,-120,-120

[State 0, BGPalFX]
type = BGPalFX
trigger1 = StageVar(info.name) = "Y" 
trigger2 = StageVar(info.name) = "H"
triggerall = time = 0
time = 40
add = -80,-80,-80

[State 0, NotHitBy]
type = NotHitBy
trigger1 = time >= 0
value = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
time = 1

[State 0, VelSet]
type = VelSet
trigger1 = time < 10
x = 4-time/3

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F8,0+random%4
volume = 255
channel = 8

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S3,30

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S3,30

[State -3, Rasengan]
type = AfterImage
trigger1 = time = 0 && var(0) < 2
time = -1
length = 7
palcolor = 256
palinvertall = 0
palbright = 0,0,0
palcontrast = 100,160,220
palpostbright = 0,0,0
paladd = 3,4,5
palmul = .20,.50,.60
timegap = 1
framegap = 1
trans = add

[State 0, HitDef]
type = HitDef
givepower = 0
getpower = 0
fall.yvelocity = -6
trigger1 = time > 10 && time <= 30 && timemod = 5,0
trigger1 = hitcount < 4
attr = S, NT
damage = 250,250
getpower = 0
animtype = Light
guardflag = MA
hitflag = MAF
priority = cond(var(0) < 2, 3, 1)
pausetime = 0, 20
sparkno = 63466
sparkxy = -15, -41*0.85
hitsound = 32, 3536
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -15,-2
airguard.velocity = -15,-2
air.type = High
air.velocity = -15,-2
air.hittime = 12
envshake.time = 30
envshake.freq = 30
envshake.ampl = -7
envshake.phase = 10
fall = 1

[State 0, TargetBind]
type = TargetBind
triggerall = target, ishelper = 0
trigger1 = movehit && time < 30
time = 5
pos = 37*0.85,-5

[State 0, Helper]
type = Helper
trigger1 = time = 30
helpertype = normal ;player
name = "White Flash"
ID = 9999
stateno = 9999
pos = 0,0
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1
size.xscale = 10
size.yscale = 10
supermovetime = 9999
pausemovetime = 9999
persistent = 0

[State 0, HitDef]
type = HitDef
givepower = 0
getpower = 0
fall.yvelocity = -6
trigger1 = time = 35
hitonce = 1
attr = S, NT
damage = 500,500
animtype = Light
guardflag = MA
hitflag = MAF
priority = cond(var(0) < 2, 3, 1)
pausetime = 0, 0
sparkno = 2001
sparkxy = -15, -41*0.85
hitsound = 32, 3536
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -20,-2
airguard.velocity = -20,-2
air.type = High
air.velocity = -20,-2
air.hittime = 12
envshake.time = 30
envshake.freq = 30
envshake.ampl = -7
envshake.phase = 10
p2stateno = 109998

[State 0, End]
type = ChangeState
trigger1 = AnimTime = 0
trigger2 = time > 30 && !movehit
value = 935
ctrl = 1
;-----------------
;Rasenshuriken Charge
[StateDef 1000]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 1000+var(0)*10000
poweradd = 0
sprpriority = 0

[State 0, Explod Postac]
type = Explod
ownpal = 1
trigger1 = time = 10
anim = 929+var(0)*10000
id = 929
pos = 0,0
postype = p1
facing = 1
bindtime = 1
removetime = -2
sprpriority = 3
removeongethit = 1
scale = 1.2,1.1
ownpal = 1
supermovetime = 9999
pausemovetime = 9999

[State 0, Wiatr]
type = Explod
ownpal = 1
trigger1 = time > 5 && timemod = 25,0
anim = F677
id = 600
pos = -21*0.85,3
postype = p1
facing = 1
bindtime = 1
removetime = -2
sprpriority = 7
scale = 1.2,1.2
ownpal = 1
supermovetime = 9999

[State 0, Wiatr]
type = Explod
ownpal = 1
trigger1 = time > 5 && timemod = 35,0
anim = F601
id = 600
pos = -21*0.85,0
postype = p1
facing = 1
bindtime = 1
removetime = -2
sprpriority = -1
scale = 1.2,0.75
ownpal = 1
supermovetime = 9999

[State 0, Wiatr]
type = Explod
ownpal = 1
trigger1 = time > 5 && timemod = 35,0
anim = F601
id = 600
pos = -21*0.85,0
postype = p1
facing = -1
bindtime = 1
removetime = -2
sprpriority = -1
scale = 1.2,0.75
ownpal = 1
supermovetime = 9999

[State 0, Aura]
type = Explod
ownpal = 1
trigger1 = time > 5 && timemod = 15,0
anim = F1130
id = 1130
pos = -20,0
postype = p1
facing = 1
bindtime = 1
removetime = -2
sprpriority = 7
scale = 1,1
ownpal = 1
supermovetime = 9999

[State 0, Helper]
type = Helper
trigger1 = time = 0 && prevstateno != 930; && numhelper(950) = 0
helpertype = normal;player
name = "Rasengan"
ID = 950
stateno = 1050
pos = -21*0.85,-39*0.85
size.xscale = 1
size.yscale = 1
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1
supermovetime = 9999
pausemovetime = 9999

[State 0, Helper]
type = Helper
trigger1 = time = 0 && prevstateno != 930
triggerall = var(0) < 2
helpertype = player
name = "Kage Bunshin"
ID = 50000
stateno = 920
pos = -21*0.85,-5
size.xscale = 0.85
size.yscale = 0.85
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1

[State 0, Helper]
type = Helper
trigger1 = time = 0
triggerall = var(0) < 2
helpertype = player
name = "Kage Bunshin"
ID = 50000
stateno = 921
pos = -50*0.85,-3*0.85
size.xscale = 0.85
size.yscale = 0.85
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1

[State 0, Reka]
type = RemoveExplod
trigger1 = time = 0
id = 20900

[State 0, Reka]
type = Explod
trigger1 = time = 0
triggerall = var(0) >= 2
anim = 20902
id = 20902
pos = -5*0.85,-45*0.85
angle = -60
postype = p1
facing = 1
bindtime = -1
removetime = -1
sprpriority = 2
removeongethit = 1
scale = 0.5*0.85,0.5*0.85
ownpal = 1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S3,5+random%2
channel = 3

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 5 
value = F32,5

[State 7500, Explod]
type = Explod
ownpal = 1
trigger1 = numexplod(930) = 0
anim = 90002
ID = 930
pos = -33,-75
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = -1
removetime = -1
scale = 0.5,0.5
sprpriority = 2
removeongethit = 1
ontop = 0

[State 7500, VarSet]
type = VarSet
trigger1 = 1
fv = 10 
value = 0.255

[State 7500, Explod]
type = Explod
trigger1 = 1
anim = 90000
ID = 931
pos = -33,-75
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = -1
removetime = 1
scale = fvar(10), 0.5
sprpriority = 1
removeongethit = 1
ownpal = 1

[State 7500, Explod]
type = Explod
trigger1 = 1
anim = 90006
ID = 932
pos = -2,-75
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = -1
removetime = 1
scale = var(17)*0.0028, 0.5
sprpriority = 1
removeongethit = 1
ownpal = 1

[State 0, PowerAdd]
type = PowerAdd
trigger1 = time > 5
value = -10

[State 0, VarSet]
type = VarSet
trigger1 = var(6) < 40
v = 6
value = 10+time*3

[State 0, VarSet]
type = VarSet
trigger1 = var(6) >= 40
v = 6
value = 40

[State 0, VarSet]
type = VarSet
trigger1 = time = 0
v = 17
value = 0

[State 0, VarAdd]
type = VarAdd
trigger1 = var(50) = 0 && command = "x"
trigger2 = var(50) = 1 && random = [0,40+var(49)*var(49)/10]
trigger2 = timemod = 2,0
triggerall = var(17) < 100
triggerall = time > 5
triggerall = numenemy = 1
triggerall = numpartner = 0
v = 17
value = 15

[State 0, VarAdd]
type = VarAdd
trigger1 = var(17) < 100 
v = 17
value = -1

[State 0, VarSet]
type = VarSet
trigger1 = var(17) < 1
v = 17
value = 1

[State 0, VarSet]
type = VarSet
trigger1 = var(17) >= 100
v = 17
value = 100

[State 0, end]
type = ChangeState
trigger1 = win
trigger2 = lose
trigger3 = drawgame
trigger4 = life = 0
trigger5 = !ALive
value = 0

[State 0, end]
type = ChangeState
trigger1 = power = 0 && var(17) < 100
trigger2 = var(50) = 0 && var(17) < 100 && command != "hold_z"
trigger3 = var(50) = 1 && var(17) < 100 && random = [0,20-var(49)*var(49)/100]
trigger4 = numenemy != 1
trigger5 = numpartner != 0
trigger6 = power < 1000
value = 933

[State 0, end]
type = ChangeState
trigger1 = var(17) = 100
triggerall = numenemy = 1
triggerall = numpartner = 0
value = 1001
;-----------------
;RasenShuriken
[StateDef 1001]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 1001+var(0)*10000
poweradd = -1500
sprpriority = cond(var(0) < 2,2,1)

[State 0, Helper]
type = Helper
trigger1 = time = 0
helpertype = normal ;player
name = "Niewidzialny"
ID = 1009
stateno = 1009
pos = 0,0
postype = p2    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1
size.xscale = 1
size.yscale = 1
supermovetime = 9999
pausemovetime = 9999

[State 0, Wiatr]
type = Explod
ownpal = 1
trigger1 = time > 5 && timemod = 25,0
anim = F677
id = 600
pos = -21*0.85,3
postype = p1
facing = 1
bindtime = 1
removetime = -2
sprpriority = 7
scale = 1.2,1.2
ownpal = 1
supermovetime = 9999

[State 0, Wiatr]
type = Explod
ownpal = 1
trigger1 = time > 5 && timemod = 35,0
anim = F601
id = 600
pos = -21*0.85,0
postype = p1
facing = 1
bindtime = 1
removetime = -2
sprpriority = -1
scale = 1.2,0.75
ownpal = 1
supermovetime = 9999

[State 0, Wiatr]
type = Explod
ownpal = 1
trigger1 = time > 5 && timemod = 35,0
anim = F601
id = 600
pos = -21*0.85,0
postype = p1
facing = -1
bindtime = 1
removetime = -2
sprpriority = -1
scale = 1.2,0.75
ownpal = 1
supermovetime = 9999

[State 0, NotHitBy]
type = NotHitBy
trigger1 = time >= 0
value = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
time = 1

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = 1
id = 930

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = 1
id = 931

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = 1
id = 932

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S3,37

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S3,37

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S3,37

[State 0, SuperPause]
type = SuperPause
trigger1 = time = 10
time = 100
movetime = 100
anim = -1
darken = 0
unhittable = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 10
value = F34,0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 10
value = F34,1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 10
value = F34,2

[State 0, Swiatlo do superpausy]
type = Explod
ownpal = 1
trigger1 = time = 10
anim = 4001
ID = 4000
pos = 190,100
postype = back
bindtime = -1
removetime = 60
supermovetime = 9999
pausemovetime = 9999
scale = 1,1
sprpriority = -100
ownpal = 1
ontop = 0

[State 0, BGPalFX]
type = BGPalFX
triggerall = StageVar(info.name) != "Y" && StageVar(info.name) != "H"
trigger1 = time = 0
time = 60
add = -120,-120,-120

[State 0, BGPalFX]
type = BGPalFX
trigger1 = StageVar(info.name) = "Y" 
trigger2 = StageVar(info.name) = "H"
triggerall = time = 0
time = 60
add = -80,-80,-80

[State 0, end]
type = ChangeState
trigger1 = animtime = 0
value = cond(var(0) = 1,1006,cond(var(0) = 2,1007,1003))
ctrl = 1
;-----------------
;RS Fail
[StateDef 1002]
type = S
movetype= A
physics = S
juggle  = 1
ctrl = 0
anim = 932+var(0)*10000
poweradd = 0
sprpriority = cond(var(0) < 2,2,1)

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = F14,4

[State 0, Explod]
type = Explod
trigger1 = timemod = 3,0
anim = F300
pos = 40,3
scale = 1.5,1.5
postype = p1
facing = 1
bindtime = 1
removetime = -2
sprpriority = 3

[State 0, VelSet]
type = VelSet
trigger1 = vel x > 0 && time > 4
x = 5-time/5

[State 0, VelSet]
type = VelSet
trigger1 = vel x < 0 
x = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 5
value = S5,0+random%4
channel = 2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = F32,2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 1
value = F2

[State 0, ChangeState]
type = ChangeState
trigger1 = animtime = 0
value = 11
ctrl = 1
;------------------
;RS Run
[StateDef 1003]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 933+var(0)*10000
poweradd = 0
sprpriority = cond(var(0) < 2,2,1)

[State 0, PlayerPush]
type = PlayerPush
trigger1 = 1
value = 0

[State 0, Turn]
type = Turn
trigger1 = p2bodydist x < -20
trigger1 = time = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
value = S1,0+random%7

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
trigger2 = animelem = 6
value = F2

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 1
trigger2 = animelem = 3
trigger3 = animelem = 6
anim = F300
ID = 24
pos = -10,2
postype = p1  ;p2,front,back,left,right
scale = 0.9,0.9
sprpriority = 3
vel = -1.3,-1
bindtime = 1
ownpal = 0
ontop = 0

[State -3, Rasengan]
type = AfterImage
trigger1 = time = 0 && var(0) < 2
time = -1
length = 7
palcolor = 256
palinvertall = 0
palbright = 0,0,0
palcontrast = 100,160,220
palpostbright = 0,0,0
paladd = 3,4,5
palmul = .20,.50,.60
timegap = 1
framegap = 1
trans = add

[State 0, Explod]
type = Explod
trigger1 = time > 1 && timemod = 2,0
anim = F20
ID = 20
pos = -5+random%15,-10-random%50
postype = p1  ;P2,front,back,left,right
scale = 0.8,0.4
vel = -1,0
sprpriority = 1+random%3
bindtime = 1
ownpal = 1
ontop = 0
supermovetime = 9999
pausemovetime = 9999

[State 0, VelSet]
type = VelSet
trigger1 = 1
x = const(velocity.run.fwd.x)*cond(var(0) = 1,1.1,1.0)*cond(var(0) >= 2,1.2,1)


[State 811, end]
type = ChangeState
trigger1 = p2bodydist x < 50
trigger1 = p2bodydist y = [-50,50]
value = 1004
ctrl = 1

[State 0, Fail]
type = ChangeState
trigger1 = time = 100
trigger2 = p2bodydist x < -40
value = 1002
ctrl = 1
;------------------
;RS Hit
[StateDef 1004]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 934+var(0)*10000
poweradd = 0
sprpriority = cond(var(0) < 2,2,1)

[State 0, NotHitBy]
type = NotHitBy
trigger1 = time >= 0
value = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
time = 1

[State 0, VelSet]
type = VelSet
trigger1 = time < 10
x = 5-time/3

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F8,0+random%4
volume = 255
channel = 8

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = S1,0+random%7

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = S1,0+random%7

[State -3, Rasengan]
type = AfterImage
trigger1 = time = 0 && var(0) < 2
time = -1
length = 7
palcolor = 256
palinvertall = 0
palbright = 0,0,0
palcontrast = 100,160,220
palpostbright = 0,0,0
paladd = 3,4,5
palmul = .20,.50,.60
timegap = 1
framegap = 1
trans = add

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = unguardable

[State 0, HitDef]
type = HitDef
givepower = 0
getpower = 0
fall.yvelocity = -6
trigger1 = !time
hitonce = 1
attr = S, NT
damage = 150,150
animtype = Light
guardflag = MA
hitflag = MAF
priority = cond(var(0) < 2, 3, 1)
pausetime = 0, 10
sparkno = S1059
sparkxy = -15, -41*0.85
hitsound = 32, 3536
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -3,-2
airguard.velocity = -3,-2
air.type = High
air.velocity = -3,-2
air.hittime = 12
envshake.time = 30
envshake.freq = 30
envshake.ampl = -7
envshake.phase = 10
fall = 1

[State 0, LifeAdd]
type = LifeAdd
trigger1 = movehit 
persistent = 0
value = -150
kill = 0
absolute = 0

[State 0, End]
type = ChangeState
trigger1 = time > 30 && movehit
trigger2 = time > 30 && !movehit
value = 1005
ctrl = 1
;------------------
;RS End
[StateDef 1005]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 935+var(0)*10000
poweradd = 0
sprpriority = cond(var(0) < 2,2,1)

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
value = S1,0+random%7

[State 0, VarSet]
type = VarSet
trigger1 = time = 0
v = 17
value = 0

[State 0, Explod Postac]
type = Explod
ownpal = 1
trigger1 = time = 0
anim = 936+var(0)*10000
id = 936
pos = 0,0
postype = p1
facing = 1
bindtime = 1
removetime = -2
sprpriority = 3
removeongethit = 1
scale = 1.2*0.85,1.1*0.85
ownpal = 1
supermovetime = 9999
pausemovetime = 9999

[State 0, AfterImage]
type = AfterImage
trigger1 = animtime = 0
time = 1

[State 0, End]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;------------------
;RS Throw
[StateDef 1006]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 11006
poweradd = 0
sprpriority = cond(var(0) < 2,2,1)

[State 0, NotHitBy]
type = NotHitBy
trigger1 = time >= 0
value = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
time = 1

[State 0, VelSet]
type = VelSet
trigger1 = time < 10
x = 5-time/3

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F8,0+random%4
volume = 255
channel = 8

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = S1,0+random%7

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = S1,0+random%7

[State -3, Rasengan]
type = AfterImage
trigger1 = time = 0 && var(0) < 2
time = -1
length = 7
palcolor = 256
palinvertall = 0
palbright = 0,0,0
palcontrast = 100,160,220
palpostbright = 0,0,0
paladd = 3,4,5
palmul = .20,.50,.60
timegap = 1
framegap = 1
trans = add

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = unguardable

[State 0, End]
type = ChangeState
trigger1 = animtime = 0
value = 0
ctrl = 1
;------------------
;KCM RS Hit
[StateDef 1007]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 21007
poweradd = 0
sprpriority = 1

[State 0, NotHitBy]
type = NotHitBy
trigger1 = time >= 0
value = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
time = 1

[State 0, SprPriority]
type = SprPriority
trigger1 = 1
value = 1
ignorehitpause = 1

[State -3, Afterimage Brak]
type = AfterImage
trigger1 = animelem = 1
time = 1

[State -3, KCM]
type = AfterImage
trigger1 =  animelem = 3
time = -1
length = 10
palcolor = 256
palinvertall = 0
palbright = 0,0,0
palcontrast = 256,230,200
palpostbright = 0,0,0
paladd = 5,4,3
palmul = .60,.50,.40
timegap = 1
framegap = 1
trans = add

[State 0, 2]
type = Explod
trigger1 = animelem = 1 && pos y < -5
anim = F350
ID = 350
pos = 0,0
postype = p1
facing = 1
bindtime = 1
removetime = -2
sprpriority = 4
scale = 2.5,2.5

[State 0, 2]
type = Explod
trigger1 = animelem = 3 && pos y < -5
anim = F350
ID = 350
pos = 0,0
postype = p1
facing = 1
bindtime = 1
removetime = -2
sprpriority = 4
scale = 2.5,2.5

[State 0, 2]
type = Explod
trigger1 = animelem = 1 && pos y > -5
anim = F290
ID = 290
pos = 0,0
postype = p1
facing = 1
bindtime = 1
removetime = -2
sprpriority = 4
scale = 1.5,1.5

[State 0, 2]
type = Explod
trigger1 = animelem = 3 && pos y > -5
anim = F290
ID = 290
pos = 0,0
postype = p1
facing = 1
bindtime = 1
removetime = -2
sprpriority = 4
scale = 1.5,1.5

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
trigger2 = animelem = 3
value = F3,2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
value = S9,1

[State 0, PosAdd]
type = PosAdd
trigger1 = animelem = 2
x = p2bodydist x +150

[State 0, Turn]
type = Turn
trigger1 = animelem = 3

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = animelem = 1
anim = 2021
ID = 2021
pos = 0,-30
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
pausemovetime = 999
supermovetime = 999
scale = 0.3,0.3
sprpriority = 3
ontop = 0
ownpal = 1

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = animelem = 3
anim = 2020
ID = 2020
pos = 0,-30
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
pausemovetime = 999
supermovetime = 999
scale = 0.3,0.3
sprpriority = 3
ontop = 0
ownpal = 1

[State 0, VelSet]
type = VelSet
trigger1 = time = [3,13]
x = 5-(time-3)/3

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 4
value = F8,0+random%4
volume = 255
channel = 8

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 5
value = S1,0+random%7

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 5
value = S1,0+random%7

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = unguardable

[State 0, TargetBind]
type = TargetBind
trigger1 = time > 12 && time <= 17
time = 1
pos = 48*0.85,-5*0.85
ignorehitpause = 1

[State 0, TargetBind]
type = TargetBind
trigger1 = time > 17 && time <= 22
time = 1
pos = 70*0.85,-5*0.85
ignorehitpause = 1

[State 0, TargetBind]
type = TargetBind
trigger1 = time > 22
time = 1
pos = 100*0.85,-5*0.85
ignorehitpause = 1

[State 0, HitDef]
type = HitDef
givepower = 0
getpower = 0
fall.yvelocity = -6
trigger1 = !time
hitonce = 1
attr = S, NT
damage = 150,150
animtype = Light
guardflag = MA
hitflag = MAF
priority = cond(var(0) < 2, 3, 1)
pausetime = 0, 5
sparkno = S1059
sparkxy = -15, -41*0.85
hitsound = 32, 3536
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -8,-2
airguard.velocity = -8,-2
air.type = High
air.velocity = -8,-2
air.hittime = 12
envshake.time = 30
envshake.freq = 30
envshake.ampl = -7
envshake.phase = 10
fall = 1

[State 0, Helper]
type = Helper
trigger1 = time = 7
helpertype = normal;player
name = "Reka"
ID = 200
stateno = 1008
pos = 15*0.85,-37*0.85
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1
size.xscale = 0.85*0.5
size.yscale = 0.85*0.5
supermovetime = 9999
pausemovetime = 9999

[State 0, End]
type = ChangeState
trigger1 = time > 30 && movehit
trigger2 = time > 30 && !movehit
value = 1005
ctrl = 1
;-----------------
;Reka
[StateDef 1008]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 21008
poweradd = 0
sprpriority = 3

[State 0, SprPriority]
type = SprPriority
trigger1 = 1
value = 3
ignorehitpause = 3

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 1007
time = 1
pos = 15*0.85,-37*0.85

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
value = F14,5

[State 0, End]
type = ChangeState
trigger1 = parent, stateno != 1007
value = 20199
ctrl = 1
;-----------------
[StateDef 1009]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 1009
poweradd = 0
sprpriority = cond(var(0) < 2,2,1)

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = target, ishelper = 0
flag = unguardable

[State 0, hitdef]
type = HitDef
givepower = 0
getpower = 0
fall.yvelocity = -6
trigger1 = 1
attr = S, NT
damage = 0,0
animtype = Light
guardflag = MA
hitflag = MAF
priority = cond(var(0) < 2, 3, 1)
pausetime = 0, 50
sparkno = 546346
sparkxy = -15,-20-random%40
hitsound = 32, 315345
guardsound = 32, 31345134
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = 0,0
airguard.velocity = 0,0
air.type = High
air.velocity = 0,0
air.hittime = 12
p2stateno = 105025

[State 0, end]
type = destroyself
trigger1 = time = 20
;-----------------
;Mini Rasenshuriken
[StateDef 1010]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 21010
poweradd = 0
sprpriority = 0

[State 0, Wiatr]
type = Explod
ownpal = 1
trigger1 = time = 5
anim = F677
id = 600
pos = -21*0.85,3
postype = p1
facing = 1
bindtime = 1
removetime = -2
sprpriority = 7
scale = 0.7,0.7
ownpal = 1
supermovetime = 9999

[State 0, Wiatr]
type = Explod
ownpal = 1
trigger1 = time = 5
anim = F601
id = 600
pos = -10*0.85,0
postype = p1
facing = 1
bindtime = 1
removetime = -2
sprpriority = -1
scale = 1.2,0.75
ownpal = 1
supermovetime = 9999

[State 0, Wiatr]
type = Explod
ownpal = 1
trigger1 = time = 5
anim = F601
id = 600
pos = -10*0.85,0
postype = p1
facing = -1
bindtime = 1
removetime = -2
sprpriority = -1
scale = 1.2,0.75
ownpal = 1
supermovetime = 9999

[State 0, Aura]
type = Explod
ownpal = 1
trigger1 = time = 5
anim = F1130
id = 1130
pos = -10*0.85,0
postype = p1
facing = 1
bindtime = 1
removetime = -2
sprpriority = 7
scale = 1,1
ownpal = 1
supermovetime = 9999

[State 0, Helper]
type = Helper
trigger1 = time = 0
helpertype = normal;player
name = "Rasengan"
ID = 1010
stateno = 1050
pos = -12*0.85,-52*0.85
size.xscale = 1
size.yscale = 1
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1
supermovetime = 9999
pausemovetime = 9999

[State 0, Reka]
type = Explod
trigger1 = time = 0
anim = 21011
id = 21011
pos = -12*0.85,-49*0.85
postype = p1
facing = 1
vfacing = -1
bindtime = 30
removetime = 30
sprpriority = 2
removeongethit = 1
scale = 0.4*0.85,0.4*0.85
ownpal = 1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S3,38
channel = 3

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 5 
value = F32,5

[State 0, PowerAdd]
type = PowerAdd
trigger1 = time = [0,30]
value = -20

[State 0, PowerAdd]
type = PowerAdd
trigger1 = time = 35
value = -200

[State 0, VarSet]
type = VarSet
trigger1 = time = 0
v = 6
value = 0

[State 0, VarSet]
type = VarSet
trigger1 = time > 5 && time < 30
v = 6
value = 0+(time-5)*0.2

[State 0, VarSet]
type = VarSet
trigger1 = time = 30
trigger2 = var(6) >= 5
v = 6
value = 5

[State 0, VarSet]
type = VarSet
trigger1 = time = 0
v = 17
value = 0

[State 0, VarAdd]
type = VarAdd
trigger1 = time > 10 && time < 30 && timemod = 2,0
v = 17
value = 1

[State 0, VarSet]
type = VarSet
trigger1 = var(17) >= 10
trigger2 = time = 30
v = 17
value = 0

[State 1640, X]
Type=VarSet
Trigger1=time = 40
fvar(13)=(EnemyNear(0),Pos X-Pos X)*Facing

[State 1640, Y]
Type=VarSet
trigger1=time = 40
fvar(14)=(EnemyNear(0),pos Y-Pos Y)-10

[State 1640, Vector Length]
Type=VarSet
trigger1=time = 40
fvar(15)=Exp(0.5*ln((fvar(13)*fvar(13))+(fvar(14)*fvar(14))))

[State 0, end]
type = ChangeState
trigger1 = animtime = 0
value = 0
ctrl = 1
;-----------------------------
[StateDef 105025]
type = A
movetype = I
physics = N
juggle  = 1
ctrl = 0
anim = 5000+var(0)*10000
velset = 0,0
poweradd = 0
sprpriority = 0

[State 0, Gravity]
type = Gravity
trigger1 = pos y < 0

[State 0, PosSet]
type = PosSet
trigger1 = pos y >= 0
y = 0

[State 195, 2]
type = selfState
trigger1 = time > 100 && enemy, stateno != [1000,1009]
value = 5000
ctrl = 1
;------------------
;RS Kula
[StateDef 1050]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 950
poweradd = 0
sprpriority = 2

[State 0, Turn]
type = Turn
trigger1 = facing = 1
trigger1 = parent, facing = -1
trigger1 = time%5

[State 0, Turn]
type = Turn
trigger1 = facing = -1
trigger1 = parent, facing = 1
trigger1 = time%5

[State 0, EnvShake]
type = EnvShake
trigger1 = timemod = 5,0
time = 1+var(6)/15
freq = 30+var(6)/10
ampl = -3-var(6)/20
phase = 30+var(6)/10

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = F32,4

[State 0, PlaySnd]
type = PlaySnd
trigger1 = timemod = 25,0
value = F32,1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = timemod = 20,0
value = S6,1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = var(17) > 10
persistent = 0
value = S6,3

[State 0, PlaySnd]
type = PlaySnd
trigger1 = var(17) > 50
persistent = 0
value = S6,5

[State 0, VarSet]
type = VarSet
trigger1 = 1
v = 6
value = parent, var(6)

[State 0, VarSet]
type = VarSet
trigger1 = 1
v = 17
value = parent, var(17)

[State 0, Kula]
type = Explod
ownpal = 1
trigger1 = time = 0 && numexplod(90000) = 0
anim = F632
id = 90000
pos = 0,0
scale = 0.1,0.1
postype = p1
facing = 1
bindtime = -1
removetime = -1
sprpriority = 3
removeongethit = 1
trans = add
supermovetime = 9999
pausemovetime = 9999

[State 0, Kula]
type = ModifyExplod
trigger1 = 1
ID = 90000
scale = 0.1+var(6)*0.0035,0.1+var(6)*0.0035
trans = add

[State 0, Smugi]
type = Explod
ownpal = 1
trigger1 = numexplod(90001) = 0
anim = F678
id = 90001
pos = 0,0
scale = 0.15,0.15
postype = p1
facing = 1
bindtime = -2
removetime = -1
sprpriority = 5
removeongethit = 1
trans = add
angle = -time*3
supermovetime = 9999
pausemovetime = 9999

[State 0, Smugi]
type = ModifyExplod
trigger1 = 1
ID = 90001
scale = 0.15+var(6)*0.005,0.15+var(6)*0.005
trans = add
angle = -time*3

[State 0, Kola]
type = Explod
ownpal = 1
trigger1 = time = 1 && parent, stateno != 1010
anim = 1059
ID = 90003
pos = 0,0
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = -1
removetime = -2
supermovetime = 999
scale = 0.2,0.2
sprpriority = 7
ownpal = 1
removeongethit = 1

[State 0, Kola]
type = Explod
ownpal = 1
trigger1 = parent, stateno = 1001 && parent, time = 10
anim = 1059
ID = 90003
pos = 0,0
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = -1
removetime = -2
supermovetime = 999
scale = 0.4,0.4
sprpriority = 7
ownpal = 1
removeongethit = 1

[State 0, Explod Kolo]
type = Explod
ownpal = 1
trigger1 = numexplod(90004) = 0
anim = F685
id = 90004
pos = 0,0
scale = 0.04+var(6)*0.005,0.04+var(6)*0.005
postype = p1
facing = 1
bindtime = -2
removetime = -2
sprpriority = 5
removeongethit = 1
trans = addalpha
alpha = 150,256
angle = -time*3
supermovetime = 9999
pausemovetime = 9999

[State 0, Explod Kolo]
type = ModifyExplod
trigger1 = 1
ID = 90004
scale = 0.04+var(6)*0.005,0.04+var(6)*0.005
trans = addalpha
alpha = 150,256
angle = -time*3

;Efekty RS

[State 0, Shuriken]
type = Explod
ownpal = 1
trigger1 = numexplod(90010) = 0
anim = 1051
id = 90010
pos = 0,0
scale = 0.09+var(17)*0.003,0.09+var(17)*0.003
postype = p1
facing = 1
bindtime = -1
removetime = -1
sprpriority = 3
removeongethit = 1
trans = add
supermovetime = 9999
pausemovetime = 9999

[State 0, ModifyExplod]
type = ModifyExplod
trigger1 = 1
ID = 90010
scale = 0.09+var(17)*0.003,0.09+var(17)*0.003
trans = add

[State 0, Smugi]
type = Explod
ownpal = 1
trigger1 = timemod = 5,0
triggerall = parent, stateno = [1000,1009]
anim = 1061+random%5
id = 90011
pos = 0,0
scale = 0.2,0.2
postype = p1
facing = 1
bindtime = -2
removetime = -2
sprpriority = 6
removeongethit = 1
trans = add
angle = random
supermovetime = 9999
pausemovetime = 9999

[State 0, Liscie]
type = Explod
ownpal = 1
trigger1 = timemod = 20,0
trigger1 = root, var(17) > 25
anim = 1202
id = 1202
pos = (-25+random%50)*(1+root,var(17)*0.03),-10+random%20
postype = p1
vel = -0.5-root,var(17)*0.005+random%2+root,var(17)*0.005,(-1.5+random%2)*(1+root,var(17)*0.01)
facing = 1
bindtime = 1
removetime = -2
sprpriority = 3
removeongethit = 0
scale = 0.4,0.4
ownpal = 1
supermovetime = 9999
pausemovetime = 9999

[State 0, Liscie]
type = Explod
ownpal = 1
trigger1 = timemod = 15,0
trigger1 = root, var(17) > 50
anim = 1202
id = 1202
pos = (-25+random%50)*(1+root,var(17)*0.03),-10+random%20
postype = p1
vel = -0.5-root,var(17)*0.005+random%2+root,var(17)*0.005,(-1.5+random%2)*(1+root,var(17)*0.01)
facing = 1
bindtime = 1
removetime = -2
sprpriority = 3
removeongethit = 0
scale = 0.4,0.4
ownpal = 1
supermovetime = 9999
pausemovetime = 9999

[State 0, Liscie]
type = Explod
ownpal = 1
trigger1 = timemod = 10,0
trigger1 = root, var(17) > 75
anim = 1202
id = 1202
pos = (-25+random%50)*(1+root,var(17)*0.03),-10+random%20
postype = p1
vel = -0.5-root,var(17)*0.005+random%2+root,var(17)*0.005,(-1.5+random%2)*(1+root,var(17)*0.01)
facing = 1
bindtime = 1
removetime = -2
sprpriority = 3
removeongethit = 0
scale = 0.4,0.4
ownpal = 1
supermovetime = 9999
pausemovetime = 9999

[State 0, Liscie]
type = Explod
ownpal = 1
trigger1 = timemod = 5,0
trigger1 = root, var(17) = 100
anim = 1202
id = 1202
pos = (-25+random%50)*(1+root,var(17)*0.03),-10+random%20
postype = p1
vel = -0.5-root,var(17)*0.005+random%2+root,var(17)*0.005,(-1.5+random%2)*(1+root,var(17)*0.01)
facing = 1
bindtime = 1
removetime = -2
sprpriority = 3
removeongethit = 0
scale = 0.4,0.4
ownpal = 1
supermovetime = 9999
pausemovetime = 9999


;Zwykly i Odama

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 930
time = 1
pos = -21*0.85,-39*0.85

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 932
time = 1
pos = -18*0.85,-26*0.85

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 933
trigger2 = parent, stateno = 963
triggerall = parent, time > 0 && parent, time <= 3
time = 1
pos = -15*0.85,-32*0.85

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 933
trigger2 = parent, stateno = 963
triggerall = parent, time > 3
time = 1
pos = -15*0.85,-44*0.85

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 934 && parent, time > 0 && parent, time <= 3
trigger2 = parent, stateno = 9335 && parent, time > 0 && parent, time <= 3
trigger3 = parent, stateno = 964 && parent, time > 0 && parent, time <= 3
time = 1
pos = -15*0.85,-32*0.85

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 934 && parent, time > 3 && parent, time <= 9
trigger2 = parent, stateno = 9335 && parent, time > 3 && parent, time <= 9
trigger3 = parent, stateno = 964 && parent, time > 3 && parent, time <= 9
time = 1
pos = 42*0.85,-38*0.85

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 934 && parent, time >= 10
trigger2 = parent, stateno = 9335 && parent, time >= 10
trigger3 = parent, stateno = 964 && parent, time >= 10
time = 1
pos = 42*0.85,-38*0.85

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 935 && parent, prevstateno != 20971
trigger2 = parent, stateno = 9336
trigger3 = parent, stateno = 965
time = 1
pos = 42*0.85,-38*0.85

;Ground

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 937
time = 1
pos = 16*0.85,-22*0.85

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 938
time = 1
pos = 5*0.85,3*0.85

;Air Rasengan

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 940
time = 1
pos = -16*0.85,-66*0.85

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 941 && parent, time > 0 && parent, time <= 6
time = 1
pos = -6*0.85,-69*0.85

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 941 && parent, time >= 7
time = 1
pos = 22*0.85,-58*0.85

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 942
trigger2 = parent, stateno = 943
time = 1
pos = 42*0.85,-38*0.85

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 944 && parent, time > 0 && parent, time <= 3
time = 1
pos = -6*0.85,-69*0.85

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 944 && parent, time > 4 && parent, time <= 6
time = 1
pos = -2*0.85,-66*0.85

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 944 && parent, time >= 7
time = 1
pos = 22*0.85,-58*0.85

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 945
trigger2 = parent, stateno = 946
time = 1
pos = 35*0.85,-1*0.85

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 948 && parent, time > 0 && parent, time <= 5
time = 1
pos = -14*0.85,-23*0.85

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 948 && parent, time >= 6
time = 1
pos = -16*0.85,-66*0.85

;Rasenshuriken

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 1000
time = 1
pos = -21*0.85,-39*0.85

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 1001 && parent, time > 0 && parent, time <= 5
time = 1
pos = -11*0.85,-55*0.85

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 1001 && parent, time > 5 && parent, time <= 70
time = 1
pos = -12*0.85,-75*0.85

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 1001 && parent, time > 70
trigger1 = parent, var(0) != 1
time = 1
pos = 2*0.85,-63*0.85

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 1001 && parent, time > 70
trigger1 = parent, var(0) = 1
time = 1
pos = -22*0.85,-65*0.85

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 1002
time = 1
pos = -18*0.85,-26*0.85

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 1003
triggerall = parent, time > 0 && parent, time <= 3
time = 1
pos = -15*0.85,-32*0.85

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 1003
triggerall = parent, time > 3
time = 1
pos = -15*0.85,-44*0.85

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 1004 && parent, time > 0 && parent, time <= 3
time = 1
pos = -15*0.85,-32*0.85

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 1004 && parent, time > 3 && parent, time <= 9
time = 1
pos = 42*0.85,-38*0.85

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 1004 && parent, time >= 10
time = 1
pos = 42*0.85,-38*0.85

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 1005
time = 1
pos = 42*0.85,-38*0.85

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 1006 && parent, time > 0 && parent, time <= 5
time = 1
pos = -12*0.85,-65*0.85

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 1006 && parent, time > 5 && parent, time <= 10
time = 1
pos = 45*0.85,-38*0.85

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 1007 && parent, time > 0 && parent, time <= 3
time = 1
pos = -15*0.85,2000*0.85

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 1007 && parent, time > 3 && parent, time <= 6
time = 1
pos = -15*0.85,-32*0.85

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 1007 && parent, time > 6 && parent, time <= 12
time = 1
pos = 42*0.85,-38*0.85

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 1007 && parent, time > 12 && parent, time <= 17
time = 1
pos = 48*0.85,-38*0.85

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 1007 && parent, time > 17 && parent, time <= 22
time = 1
pos = 70*0.85,-38*0.85

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 1007 && parent, time > 22
time = 1
pos = 100*0.85,-38*0.85

;Mini Rasenshuriken

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 1010 && parent, time <= 30
time = 1
pos = -12*0.85,-55*0.85

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 1010 && parent, time > 30 && parent, time <= 40
time = 1
pos = -12*0.85,-72*0.85

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 1010 && parent, time > 40 && parent, time <= 50
time = 1
pos = -5*0.85,-45*0.85

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 1010 && parent, time > 50 && parent, time <= 52
time = 1
pos = 12*0.85,-28*0.85

;Rasenrengan

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 10485
time = 1
pos = -37*0.85,-46*0.85

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 10486
triggerall = parent, time > 0 && parent, time <= 5
time = 1
pos = -32*0.85,-44*0.85

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 10486
triggerall = parent, time > 5
time = 1
pos = 45*0.85,-38*0.85

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 10487
trigger2 = parent, stateno = 10488
time = 1
pos = 45*0.85,-38*0.85

;Combo 8

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 274
time = 1
pos = -16*0.85,-66*0.85

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 275 && parent, time > 0 && parent, time <= 3
time = 1
pos = -6*0.85,-69*0.85

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 275 && parent, time > 4 && parent, time <= 6
time = 1
pos = -2*0.85,-66*0.85

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 275 && parent, time >= 7
time = 1
pos = 22*0.85,-58*0.85

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 276
trigger2 = parent, stateno = 277
time = 1
pos = 35*0.85,-1*0.85

;Combo Rasengan

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 290
time = 1
pos = -21*0.85,-39*0.85

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 932
time = 1
pos = -18*0.85,-26*0.85

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 291
triggerall = parent, time > 0 && parent, time <= 3
time = 1
pos = -15*0.85,-32*0.85

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 291
triggerall = parent, time > 3
time = 1
pos = -15*0.85,-44*0.85

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 292 && parent, time > 0 && parent, time <= 3
time = 1
pos = -15*0.85,-32*0.85

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 292 && parent, time > 3 && parent, time <= 9
time = 1
pos = 42*0.85,-38*0.85

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 292 && parent, time >= 10
time = 1
pos = 42*0.85,-38*0.85

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 293
time = 1
pos = 42*0.85,-38*0.85

;--------------------

[State 0, End]
type = Changestate
trigger1 = parent, stateno = 934 && parent, movehit
trigger2 = parent, stateno = 9336 && parent, movehit
trigger3 = parent, stateno = 964 && parent, movehit
trigger4 = parent, stateno = 942 && parent, movehit
trigger5 = parent, stateno = 945 && parent, movehit
trigger6 = parent, stateno = 276 && parent, movehit
trigger7 = parent, stateno = 292 && parent, movehit
value = 1051

[State 0, End]
type = Changestate
trigger1 = parent, stateno != [930,948]
trigger1 = parent, stateno != [9330,9336]
trigger1 = parent, stateno != [960,969]
trigger1 = parent, stateno != [274,277]
trigger1 = parent, stateno != [290,293]
trigger1 = parent, stateno != [1000,1010]
trigger2 = parent, stateno = 935
trigger3 = parent, stateno = 965
trigger4 = parent, stateno = 932
trigger5 = parent, stateno = 538
trigger6 = parent, stateno = 943
trigger7 = parent, stateno = 946
trigger8 = parent, stateno = 277
trigger9 = parent, stateno = 293
trigger10 = parent, stateno = 1005
value = 1052

[State 0, End]
type = Changestate
trigger1 = parent, stateno = 1004 && parent, movehit
trigger2 = parent, stateno = 1007 && parent, movehit
value = 1053

[State 0, End]
type = Changestate
trigger1 = parent, stateno = 1006
value = 1057

[State 0, End]
type = Changestate
trigger1 = parent, stateno = 1010 && parent, time >= 52
value = 1058
;------------------
;RS Kula Hit
[StateDef 1051]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 950
poweradd = 0
sprpriority = 2

[State 0, Turn]
type = Turn
trigger1 = facing = 1
trigger1 = parent, facing = -1
trigger1 = time%5

[State 0, Turn]
type = Turn
trigger1 = facing = -1
trigger1 = parent, facing = 1
trigger1 = time%5

[State 0, EnvShake]
type = EnvShake
trigger1 = timemod = 5,0
time = 1+var(6)/15
freq = 30+var(6)/10
ampl = -3-var(6)/20
phase = 30+var(6)/10

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = F32,3

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = F32,3

[State 0, PlaySnd]
type = PlaySnd
trigger1 = timemod = 25,0
value = F32,1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = timemod = 20,0
value = S6,1

[State 0, VarSet]
type = VarSet
trigger1 = 1
v = 4
value = time

[State 0, Kola]
type = ModifyExplod
trigger1 = 1
ID = 90000
scale = 0.1+var(6)*0.0035,0.1+var(6)*0.0035
trans = add

[State 0, Smugi]
type = ModifyExplod
trigger1 = 1
ID = 90001
scale = 0.15+var(6)*0.005,0.15+var(6)*0.005
trans = add
angle = -time*3

[State 0, Explod Kolo]
type = ModifyExplod
trigger1 = 1
ID = 90004
scale = 0.04+var(6)*0.003,0.04+var(6)*0.003
trans = addalpha
alpha = 150,256
angle = -time*3

[State 0, Fale]
type = Explod
ownpal = 1
trigger1 = timemod = 10,0
trigger1 = parent, stateno != [944,946]
trigger1 = parent, stateno != [274,278]
anim = F644
id = 90006
pos = 5,0
scale = 0.2+var(6)*0.008*(cond(var(17) = 0,1,1.25)),(0.2+var(6)*0.008)*0.7*(cond(var(17) = 0,1,1.25))
postype = p1
facing = 1
bindtime = 10
removetime = -2
sprpriority = 7
vel = -var(6)*0.03,-var(6)*0.01
removeongethit = 1
trans = add
supermovetime = 9999
pausemovetime = 9999

[State 0, Wiatr]
type = Explod
ownpal = 1
trigger1 = time = 5
trigger1 = parent, stateno != [944,946]
trigger1 = parent, stateno != [274,278]
anim = F461
id = 90008
pos = -30,0
scale = 0.3+var(6)*0.003*(cond(var(17) = 0,1,1.25)),0.3+var(6)*0.003*(cond(var(17) = 0,1,1.25))
postype = p1
facing = 1
bindtime = 1
removetime = -2
sprpriority = 7
removeongethit = 1
vel = -var(6)*0.04,-var(6)*0.02
trans = add
supermovetime = 9999
pausemovetime = 9999

[State 0, Shuriken]
type = ModifyExplod
trigger1 = 1
ID = 90010
scale = 0.09+var(17)*0.003,0.09+var(17)*0.003
angle = -atan(vel y/vel x)*180/PI 
trans = add

;----------

[State 0, Fale]
type = Explod
ownpal = 1
triggerall = timemod = 10,0
trigger1 = parent, stateno = [944,946]
trigger2 = parent, stateno = [274,278]
anim = F644
id = 90006
pos = 5,0
scale = 0.2+var(6)*0.008,(0.2+var(6)*0.008)*0.7
postype = p1
facing = 1
bindtime = 10
removetime = -2
sprpriority = 7
vel = -var(6)*0.02,-var(6)*0.02
angle = -45
removeongethit = 1
trans = add
supermovetime = 9999
pausemovetime = 9999

[State 0, Wiatr]
type = Explod
ownpal = 1
triggerall = time = 5
trigger1 = parent, stateno = [944,946]
trigger2 = parent, stateno = [274,278]
anim = F461
id = 90008
pos = -20,-20
scale = 0.3+var(6)*0.003,0.3+var(6)*0.003
postype = p1
facing = 1
bindtime = 1
removetime = -2
sprpriority = 7
removeongethit = 1
vel = -var(6)*0.03,-var(6)*0.03
angle = -45
trans = add
supermovetime = 9999
pausemovetime = 9999

;----------

[State 0, Wstazki]
type = Explod
ownpal = 1
trigger1 = 0;time = 0
anim = F680
id = 90007
pos = 0,0
scale = 0.3+var(6)*0.01,0.3+var(6)*0.01
postype = p1
facing = 1
bindtime = -1
removetime = -2
sprpriority = 7
removeongethit = 1
trans = add
supermovetime = 9999
pausemovetime = 9999

[State 0, Fala Uderzeniowa]
type = Explod
ownpal = 1
trigger1 = time = 15
trigger1 = parent, stateno != [940,949]
trigger1 = parent, stateno != [274,278]
anim = F645
id = 90009
pos = -15,-pos y
scale = 1.8,1.8
postype = p1
facing = 1
bindtime = 1
removetime = -2
sprpriority = 7
vel = var(6)*0.01,0
removeongethit = 1
trans = add
supermovetime = 9999
pausemovetime = 9999

[State 0, Podmuch]
type = Explod
ownpal = 1
trigger1 = time = 5
trigger1 = parent, stateno != [940,949]
trigger1 = parent, stateno != [274,278]
anim = F674
id = 90010
pos = -10,-pos y+5
scale = 0.2+var(6)*0.005*(cond(var(17) = 0,1,1.25)),0.2+var(6)*0.005*(cond(var(17) = 0,1,1.25))
postype = p1
facing = 1
bindtime = 1
removetime = -2
sprpriority = 7
vel = -var(6)*0.01,0
removeongethit = 1
supermovetime = 9999
pausemovetime = 9999

[State 0, Ciecia wiatru]
type = Explod
ownpal = 1
trigger1 = timemod = 10,0
trigger1 = parent, stateno != [940,949]
trigger1 = parent, stateno != [274,278]
triggerall = var(17) != 0
anim = F643
id = 90015
pos = 0,0
scale = .5,.5
postype = p1
facing = 1
bindtime = -1
removetime = -2
sprpriority = 6
removeongethit = 1
trans = add
supermovetime = 9999
pausemovetime = 9999

;Odama

[State 0, Blysk Kuli]
type = Explod
ownpal = 1
trigger1 = time = 0
trigger1 = parent, stateno = 964
anim = F681
id = 90011
pos = 0,0
scale = 0.01+var(3)*0.001+var(4)*0.03,0.01+var(3)*0.001+var(4)*0.03
postype = p1
facing = 1
bindtime = -2
removetime = -2
sprpriority = 5
removeongethit = 1
trans = add
supermovetime = 9999
pausemovetime = 9999

[State 0, ModifyExplod]
type = ModifyExplod
trigger1 = 1
ID = 90012
scale = 0.01+var(3)*0.001+var(4)*0.03,0.01+var(3)*0.001+var(4)*0.03
trans = add

[State 0, Wybuch Kuli]
type = Explod
ownpal = 1
trigger1 = time = 0
trigger1 = parent, stateno = 964
anim = F650
id = 90012
pos = 0,0
scale = (0.01+var(3)*0.001+var(4)*0.03)*2,(0.01+var(3)*0.001+var(4)*0.03)*2
postype = p1
facing = 1
bindtime = -2
removetime = -2
sprpriority = 4
removeongethit = 1
trans = add
supermovetime = 9999
pausemovetime = 9999

[State 0, ModifyExplod]
type = ModifyExplod
trigger1 = 1
ID = 90012
scale = (0.01+var(3)*0.001+var(4)*0.03)*2,(0.01+var(3)*0.001+var(4)*0.03)*2
trans = add

[State 0, Fale]
type = Explod
ownpal = 1
trigger1 = timemod = 10,0
trigger1 = parent, stateno = 964
anim = F644
id = 90013
pos = 15,0
scale = 0.3+var(6)*0.009,(0.3+var(6)*0.009)*0.7
postype = p1
facing = 1
bindtime = 10
removetime = -2
sprpriority = 7
vel = -var(6)*0.03,-var(6)*0.01
removeongethit = 1
trans = add
supermovetime = 9999
pausemovetime = 9999

[State 0, Kamyki]
type = Explod
ownpal = 1
trigger1 = 1
trigger1 = parent, stateno = 964
anim = F591
ID = 591
pos = -20+random%40,-pos y +random%20
vel = 1+random%2,-2
accel = 0,0.05
angle = random
postype = p1
bindtime = 1
removetime = -2
supermovetime = 9999
pausemovetime = 9999
scale = 1,1
sprpriority = 4
ownpal = 1
ontop = 0

[State 0, Wybuch ziemi]
type = Explod
trigger1 = time = 10
trigger1 = parent, stateno = 964
anim = F1490
ID = 90015
pos = 40,-pos y+3
postype = p1  ;p2,front,back,left,right
facing = 1
vel = 0.3,0
vfacing = 1
bindtime = 1
removetime = -2
supermovetime = 9999
pausemovetime = 9999
scale = 1.2,1.2
sprpriority = 4
ontop = 0

[State 0, Zniszczona ziemia]
type = Explod
trigger1 = time = 10
trigger1 = parent, stateno = 964
anim = F64
ID = 90016
pos = 0,-pos y
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
supermovetime = 9999
pausemovetime = 9999
scale = 0.8,0.4
sprpriority = -1
ontop = 0

;Zwykly i Odama

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 930
time = 1
pos = -21*0.85,-39*0.85

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 932
time = 1
pos = -18*0.85,-26*0.85

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 933
trigger2 = parent, stateno = 963
triggerall = parent, time > 0 && parent, time <= 3
time = 1
pos = -15*0.85,-32*0.85

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 933
trigger2 = parent, stateno = 963
triggerall = parent, time > 3
time = 1
pos = -15*0.85,-44*0.85

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 934 && parent, time > 0 && parent, time <= 3
trigger2 = parent, stateno = 9335 && parent, time > 0 && parent, time <= 3
trigger3 = parent, stateno = 964 && parent, time > 0 && parent, time <= 3
time = 1
pos = -15*0.85,-32*0.85

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 934 && parent, time > 3 && parent, time <= 9
trigger2 = parent, stateno = 9335 && parent, time > 3 && parent, time <= 9
trigger3 = parent, stateno = 964 && parent, time > 3 && parent, time <= 9
time = 1
pos = 42*0.85,-38*0.85

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 934 && parent, time >= 10
trigger2 = parent, stateno = 9335 && parent, time >= 10
trigger3 = parent, stateno = 964 && parent, time >= 10
time = 1
pos = 42*0.85,-38*0.85

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 935 && parent, prevstateno != 20971
trigger2 = parent, stateno = 9336
trigger3 = parent, stateno = 965
time = 1
pos = 42*0.85,-38*0.85

;Ground

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 937
time = 1
pos = 16*0.85,-22*0.85

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 938
time = 1
pos = 5*0.85,3*0.85

;Air Rasengan

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 940
time = 1
pos = -16*0.85,-66*0.85

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 941 && parent, time > 0 && parent, time <= 6
time = 1
pos = -6*0.85,-69*0.85

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 941 && parent, time >= 7
time = 1
pos = 22*0.85,-58*0.85

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 942
trigger2 = parent, stateno = 943
time = 1
pos = 42*0.85,-38*0.85

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 944 && parent, time > 0 && parent, time <= 3
time = 1
pos = -6*0.85,-69*0.85

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 944 && parent, time > 4 && parent, time <= 6
time = 1
pos = -2*0.85,-66*0.85

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 944 && parent, time >= 7
time = 1
pos = 22*0.85,-58*0.85

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 945
trigger2 = parent, stateno = 946
time = 1
pos = 35*0.85,-1*0.85

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 948 && parent, time > 0 && parent, time <= 5
time = 1
pos = -14*0.85,-23*0.85

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 948 && parent, time >= 6
time = 1
pos = -16*0.85,-66*0.85

;Rasenshuriken

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 1000
time = 1
pos = -21*0.85,-39*0.85

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 1001 && parent, time > 0 && parent, time <= 5
time = 1
pos = -11*0.85,-55*0.85

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 1001 && parent, time > 5 && parent, time <= 70
time = 1
pos = -12*0.85,-75*0.85

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 1001 && parent, time > 70
trigger1 = parent, var(0) != 1
time = 1
pos = 2*0.85,-63*0.85

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 1001 && parent, time > 70
trigger1 = parent, var(0) = 1
time = 1
pos = -22*0.85,-65*0.85

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 1002
time = 1
pos = -18*0.85,-26*0.85

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 1003
triggerall = parent, time > 0 && parent, time <= 3
time = 1
pos = -15*0.85,-32*0.85

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 1003
triggerall = parent, time > 3
time = 1
pos = -15*0.85,-44*0.85

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 1004 && parent, time > 0 && parent, time <= 3
time = 1
pos = -15*0.85,-32*0.85

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 1004 && parent, time > 3 && parent, time <= 9
time = 1
pos = 42*0.85,-38*0.85

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 1004 && parent, time >= 10
time = 1
pos = 42*0.85,-38*0.85

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 1005
time = 1
pos = 42*0.85,-38*0.85

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 1006 && parent, time > 0 && parent, time <= 5
time = 1
pos = -12*0.85,-65*0.85

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 1006 && parent, time > 5 && parent, time <= 10
time = 1
pos = 45*0.85,-38*0.85

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 1007 && parent, time > 0 && parent, time <= 3
time = 1
pos = -15*0.85,2000*0.85

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 1007 && parent, time > 3 && parent, time <= 6
time = 1
pos = -15*0.85,-32*0.85

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 1007 && parent, time > 6 && parent, time <= 12
time = 1
pos = 42*0.85,-38*0.85

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 1007 && parent, time > 12 && parent, time <= 17
time = 1
pos = 48*0.85,-38*0.85

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 1007 && parent, time > 17 && parent, time <= 22
time = 1
pos = 70*0.85,-38*0.85

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 1007 && parent, time > 22
time = 1
pos = 100*0.85,-38*0.85

;Rasenrengan

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 10485
time = 1
pos = -37*0.85,-46*0.85

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 10486
triggerall = parent, time > 0 && parent, time <= 5
time = 1
pos = -32*0.85,-44*0.85

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 10486
triggerall = parent, time > 5
time = 1
pos = 45*0.85,-38*0.85

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 10487
trigger2 = parent, stateno = 10488
time = 1
pos = 45*0.85,-38*0.85

;Combo 8

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 274
time = 1
pos = -16*0.85,-66*0.85

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 275 && parent, time > 0 && parent, time <= 3
time = 1
pos = -6*0.85,-69*0.85

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 275 && parent, time > 4 && parent, time <= 6
time = 1
pos = -2*0.85,-66*0.85

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 275 && parent, time >= 7
time = 1
pos = 22*0.85,-58*0.85

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 276
trigger2 = parent, stateno = 277
time = 1
pos = 35*0.85,-1*0.85

;Combo Rasengan

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 290
time = 1
pos = -21*0.85,-39*0.85

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 932
time = 1
pos = -18*0.85,-26*0.85

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 291
triggerall = parent, time > 0 && parent, time <= 3
time = 1
pos = -15*0.85,-32*0.85

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 291
triggerall = parent, time > 3
time = 1
pos = -15*0.85,-44*0.85

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 292 && parent, time > 0 && parent, time <= 3
time = 1
pos = -15*0.85,-32*0.85

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 292 && parent, time > 3 && parent, time <= 9
time = 1
pos = 42*0.85,-38*0.85

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 292 && parent, time >= 10
time = 1
pos = 42*0.85,-38*0.85

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 293
time = 1
pos = 42*0.85,-38*0.85

;--------------------

[State 0, End]
type = Changestate
trigger1 = parent, stateno != [930,948]
trigger1 = parent, stateno != [9330,9336]
trigger1 = parent, stateno != [960,969]
trigger1 = parent, stateno != [274,277]
trigger1 = parent, stateno != [290,293]
trigger1 = parent, stateno != [1000,1010]
trigger2 = parent, stateno = 935
trigger3 = parent, stateno = 965
trigger4 = parent, stateno = 932
trigger5 = parent, stateno = 538
trigger6 = parent, stateno = 943
trigger7 = parent, stateno = 946
trigger8 = parent, stateno = 277
trigger9 = parent, stateno = 293
value = 1052

[State 0, End]
type = Changestate
trigger1 = parent, stateno = 1006
value = 1057
;------------------
;RS Kula End
[StateDef 1052]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 950
poweradd = 0
sprpriority = 2

[State 0, Turn]
type = Turn
trigger1 = facing = 1
trigger1 = parent, facing = -1
trigger1 = time%5

[State 0, Turn]
type = Turn
trigger1 = facing = -1
trigger1 = parent, facing = 1
trigger1 = time%5

[State 0, EnvShake]
type = EnvShake
trigger1 = timemod = 5,0
time = 1+var(6)/15
freq = 30+var(6)/10
ampl = -3-var(6)/20
phase = 30+var(6)/10

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = F32,2

[State 0, VarSet]
type = VarSet
trigger1 = time = 0
v = 5
value = var(6)

[State 0, VarSet]
type = VarAdd
trigger1 = 1
v = 6
value = -var(5)/10

[State 0, VarSet]
type = VarSet
trigger1 = time = 0
v = 16
value = var(17)

[State 0, VarSet]
type = VarAdd
trigger1 = 1
v = 17
value = -var(16)/5

[State 0, Kula]
type = ModifyExplod
trigger1 = 1
ID = 90000
scale = 0.1+var(6)*0.0035,0.1+var(6)*0.0035
trans = add

[State 0, Kula]
type = RemoveExplod
trigger1 = time = 10
id = 90000

[State 0, Smugi]
type = ModifyExplod
trigger1 = 1
ID = 90001
scale = 0.15+var(6)*0.005,0.15+var(6)*0.005
trans = add
angle = -time*3

[State 0, Smugi]
type = RemoveExplod
trigger1 = time = 10
id = 90001

[State 0, Explod Kolo]
type = ModifyExplod
trigger1 = 1
ID = 90004
scale = 0.04+var(6)*0.005,0.04+var(6)*0.005
trans = addalpha
alpha = 150,256
angle = -time*3

[State 0, Smugi]
type = RemoveExplod
trigger1 = time = 10
id = 90004

[State 0, Fala]
type = ModifyExplod
trigger1 = 1
ID = 90006
scale = 0.2+var(6)*0.01,(0.2+var(6)*0.01)*0.7
trans = add

[State 0, Fala]
type = RemoveExplod
trigger1 = time = 10
id = 90006

[State 0, Fala]
type = ModifyExplod
trigger1 = 1
ID = 90007
scale = 0.25+var(6)*0.01,0.25+var(6)*0.01
trans = add

[State 0, Fala]
type = RemoveExplod
trigger1 = time = 10
id = 90007

[State 0, ModifyExplod]
type = ModifyExplod
trigger1 = 1
ID = 90010
anim = 1051
scale = 0.09+var(17)*0.003,0.09+var(17)*0.003
trans = add

[State 0, Shuriken]
type = RemoveExplod
trigger1 = time = 10
id = 90010

[State 0, ModifyExplod]
type = ModifyExplod
trigger1 = 1
ID = 90012
anim = 1051
scale = 0.09+var(17)*0.003,0.09+var(17)*0.003
trans = add

[State 0, Shuriken]
type = RemoveExplod
trigger1 = time = 10
id = 90012

[State 0, ModifyExplod]
type = ModifyExplod
trigger1 = 1
ID = 90013
anim = 1052
scale = 0.09+var(17)*0.003,0.09+var(17)*0.003
trans = add

[State 0, Shuriken]
type = RemoveExplod
trigger1 = time = 10
id = 90013

;Zwykly i Odama

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 930
time = 1
pos = -21*0.85,-39*0.85

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 932
time = 1
pos = -18*0.85,-26*0.85

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 933
trigger2 = parent, stateno = 963
triggerall = parent, time > 0 && parent, time <= 3
time = 1
pos = -15*0.85,-32*0.85

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 933
trigger2 = parent, stateno = 963
triggerall = parent, time > 3
time = 1
pos = -15*0.85,-44*0.85

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 934 && parent, time > 0 && parent, time <= 3
trigger2 = parent, stateno = 9335 && parent, time > 0 && parent, time <= 3
trigger3 = parent, stateno = 964 && parent, time > 0 && parent, time <= 3
time = 1
pos = -15*0.85,-32*0.85

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 934 && parent, time > 3 && parent, time <= 9
trigger2 = parent, stateno = 9335 && parent, time > 3 && parent, time <= 9
trigger3 = parent, stateno = 964 && parent, time > 3 && parent, time <= 9
time = 1
pos = 42*0.85,-38*0.85

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 934 && parent, time >= 10
trigger2 = parent, stateno = 9335 && parent, time >= 10
trigger3 = parent, stateno = 964 && parent, time >= 10
time = 1
pos = 42*0.85,-38*0.85

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 935 && parent, prevstateno != 20971
trigger2 = parent, stateno = 9336
trigger3 = parent, stateno = 965
time = 1
pos = 42*0.85,-38*0.85

;Ground

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 937
time = 1
pos = 16*0.85,-22*0.85

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 938
time = 1
pos = 5*0.85,3*0.85

;Air Rasengan

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 940
time = 1
pos = -16*0.85,-66*0.85

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 941 && parent, time > 0 && parent, time <= 6
time = 1
pos = -6*0.85,-69*0.85

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 941 && parent, time >= 7
time = 1
pos = 22*0.85,-58*0.85

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 942
trigger2 = parent, stateno = 943
time = 1
pos = 42*0.85,-38*0.85

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 944 && parent, time > 0 && parent, time <= 3
time = 1
pos = -6*0.85,-69*0.85

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 944 && parent, time > 4 && parent, time <= 6
time = 1
pos = -2*0.85,-66*0.85

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 944 && parent, time >= 7
time = 1
pos = 22*0.85,-58*0.85

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 945
trigger2 = parent, stateno = 946
time = 1
pos = 35*0.85,-1*0.85

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 948 && parent, time > 0 && parent, time <= 5
time = 1
pos = -14*0.85,-23*0.85

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 948 && parent, time >= 6
time = 1
pos = -16*0.85,-66*0.85

;Rasenshuriken

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 1000
time = 1
pos = -21*0.85,-39*0.85

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 1001 && parent, time > 0 && parent, time <= 5
time = 1
pos = -11*0.85,-55*0.85

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 1001 && parent, time > 5 && parent, time <= 70
time = 1
pos = -12*0.85,-75*0.85

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 1001 && parent, time > 70
trigger1 = parent, var(0) != 1
time = 1
pos = 2*0.85,-63*0.85

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 1001 && parent, time > 70
trigger1 = parent, var(0) = 1
time = 1
pos = -22*0.85,-65*0.85

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 1002
time = 1
pos = -18*0.85,-26*0.85

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 1003
triggerall = parent, time > 0 && parent, time <= 3
time = 1
pos = -15*0.85,-32*0.85

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 1003
triggerall = parent, time > 3
time = 1
pos = -15*0.85,-44*0.85

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 1004 && parent, time > 0 && parent, time <= 3
time = 1
pos = -15*0.85,-32*0.85

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 1004 && parent, time > 3 && parent, time <= 9
time = 1
pos = 42*0.85,-38*0.85

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 1004 && parent, time >= 10
time = 1
pos = 42*0.85,-38*0.85

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 1005
time = 1
pos = 42*0.85,-38*0.85

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 1006 && parent, time > 0 && parent, time <= 5
time = 1
pos = -12*0.85,-65*0.85

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 1006 && parent, time > 5 && parent, time <= 10
time = 1
pos = 45*0.85,-38*0.85

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 1007 && parent, time > 0 && parent, time <= 3
time = 1
pos = -15*0.85,2000*0.85

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 1007 && parent, time > 3 && parent, time <= 6
time = 1
pos = -15*0.85,-32*0.85

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 1007 && parent, time > 6 && parent, time <= 12
time = 1
pos = 42*0.85,-38*0.85

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 1007 && parent, time > 12 && parent, time <= 17
time = 1
pos = 48*0.85,-38*0.85

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 1007 && parent, time > 17 && parent, time <= 22
time = 1
pos = 70*0.85,-38*0.85

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 1007 && parent, time > 22
time = 1
pos = 100*0.85,-38*0.85

;Mini Rasenshuriken

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 1010 && parent, time <= 30
time = 1
pos = -12*0.85,-55*0.85

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 1010 && parent, time > 30 && parent, time <= 40
time = 1
pos = -12*0.85,-72*0.85

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 1010 && parent, time > 40 && parent, time <= 50
time = 1
pos = -5*0.85,-45*0.85

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 1010 && parent, time > 50 && parent, time <= 52
time = 1
pos = 12*0.85,-28*0.85

;Rasenrengan

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 10485
time = 1
pos = -37*0.85,-46*0.85

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 10486
triggerall = parent, time > 0 && parent, time <= 5
time = 1
pos = -32*0.85,-44*0.85

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 10486
triggerall = parent, time > 5
time = 1
pos = 45*0.85,-38*0.85

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 10487
trigger2 = parent, stateno = 10488
time = 1
pos = 45*0.85,-38*0.85

;Combo 8

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 274
time = 1
pos = -16*0.85,-66*0.85

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 275 && parent, time > 0 && parent, time <= 3
time = 1
pos = -6*0.85,-69*0.85

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 275 && parent, time > 4 && parent, time <= 6
time = 1
pos = -2*0.85,-66*0.85

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 275 && parent, time >= 7
time = 1
pos = 22*0.85,-58*0.85

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 276
trigger2 = parent, stateno = 277
time = 1
pos = 35*0.85,-1*0.85

;Combo Rasengan

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 290
time = 1
pos = -21*0.85,-39*0.85

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 932
time = 1
pos = -18*0.85,-26*0.85

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 291
triggerall = parent, time > 0 && parent, time <= 3
time = 1
pos = -15*0.85,-32*0.85

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 291
triggerall = parent, time > 3
time = 1
pos = -15*0.85,-44*0.85

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 292 && parent, time > 0 && parent, time <= 3
time = 1
pos = -15*0.85,-32*0.85

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 292 && parent, time > 3 && parent, time <= 9
time = 1
pos = 42*0.85,-38*0.85

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 292 && parent, time >= 10
time = 1
pos = 42*0.85,-38*0.85

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 293
time = 1
pos = 42*0.85,-38*0.85

;--------------------

[State 0, End]
type = Destroyself
trigger1 = time = 11
;------------------
;RS Kula Lot
[StateDef 1053]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 1050
poweradd = 0
sprpriority = 2

[State 0, ScreenBound]
type = ScreenBound
trigger1 = 1
value = 1

[State 0, Turn]
type = Turn
trigger1 = facing = 1
trigger1 = parent, facing = -1
trigger1 = time%5

[State 0, Turn]
type = Turn
trigger1 = facing = -1
trigger1 = parent, facing = 1
trigger1 = time%5

[State 0, EnvShake]
type = EnvShake
trigger1 = timemod = 5,0
time = 1+var(6)/15
freq = 30+var(6)/10
ampl = -3-var(6)/20
phase = 30+var(6)/10

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = F32,3

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = F32,3

[State 0, PlaySnd]
type = PlaySnd
trigger1 = timemod = 25,0
value = F32,1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S6,2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = timemod = 20,0
value = S6,1

[State 0, VarSet]
type = VarSet
trigger1 = 1
v = 4
value = time

[State 0, Kola]
type = ModifyExplod
trigger1 = 1
ID = 90000
scale = 0.1+var(6)*0.0035,0.1+var(6)*0.0035
trans = add

[State 0, Smugi]
type = ModifyExplod
trigger1 = 1
ID = 90001
scale = 0.15+var(6)*0.005,0.15+var(6)*0.005
trans = add
angle = -time*3

[State 0, Explod Kolo]
type = ModifyExplod
trigger1 = 1
ID = 90004
scale = 0.04+var(6)*0.005,0.04+var(6)*0.005
trans = addalpha
alpha = 150,256
angle = -time*3

[State 0, Fale]
type = Explod
ownpal = 1
trigger1 = time = 0
anim = F644
id = 90006
pos = 5,0
scale = 0.2+var(6)*0.008,(0.2+var(6)*0.008)*0.7
postype = p1
facing = 1
bindtime = 10
removetime = -2
sprpriority = 7
vel = -var(6)*0.03,-var(6)*0.01
removeongethit = 1
trans = add
supermovetime = 9999
pausemovetime = 9999

[State 0, Wiatr]
type = Explod
ownpal = 1
trigger1 = timemod = 10,0
anim = F461
id = 90008
pos = 0,vel y
scale = 0.3+var(6)*0.003,0.3+var(6)*0.003
postype = p1
facing = 1
bindtime = 1
removetime = -2
sprpriority = 7
removeongethit = 1
vel = -vel x/5,-vel y/5
angle = -atan(vel y/vel x)*180/PI 
trans = add
supermovetime = 9999
pausemovetime = 9999

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = time = 1
id = 90010

[State 0, Shuriken]
type = Explod
ownpal = 1
trigger1 = numexplod(90012) = 0
anim = 1053
id = 90012
pos = 0,0
scale = 0.09,0.09
postype = p1
facing = 1
bindtime = -1
removetime = -1
sprpriority = 3
removeongethit = 1
trans = add
supermovetime = 9999
pausemovetime = 9999

[State 0, ModifyExplod]
type = ModifyExplod
trigger1 = 1
ID = 90012
scale = 0.09+var(17)*0.003*1.3,0.09+var(17)*0.003*1.3
angle = -atan(vel y/vel x)*180/PI 
trans = add

[State 0, TargetBind]
type = TargetBind
trigger1 = 1
time = 5
pos = 0,30

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = unguardable

[State 0, HitDef]
type = HitDef
givepower = 0
getpower = 0
fall.yvelocity = -6
trigger1 = time > 10 && timemod = 5,0
hitonce = 1
attr = S, NT
damage = 10,10
animtype = Light
guardflag = MA
hitflag = MAF
priority = cond(var(0) < 2, 3, 1)
pausetime = 0, 0
sparkno = 2546636
sparkxy = -15, -41*0.85
hitsound = 32, 3536
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = 0,0
airguard.velocity = 0,0
air.type = High
air.velocity = 0,0
air.hittime = 12
envshake.time = 30
envshake.freq = 30
envshake.ampl = -7
envshake.phase = 10

[State 0, VelSet]
type = VelSet
trigger1 = movecontact && time > 10
x = 8

[State 0, VelAdd]
type = VelAdd
trigger1 = movecontact && time > 10
y = -0.2

;Rasenshuriken

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 1000
time = 1
pos = -21*0.85,-39*0.85

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 1001 && parent, time > 0 && parent, time <= 5
time = 1
pos = -11*0.85,-55*0.85

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 1001 && parent, time > 5 && parent, time <= 70
time = 1
pos = -12*0.85,-75*0.85

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 1001 && parent, time > 70
trigger1 = parent, var(0) != 1
time = 1
pos = 2*0.85,-63*0.85

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 1001 && parent, time > 70
trigger1 = parent, var(0) = 1
time = 1
pos = -22*0.85,-65*0.85

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 1002
time = 1
pos = -18*0.85,-26*0.85

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 1003
triggerall = parent, time > 0 && parent, time <= 3
time = 1
pos = -15*0.85,-32*0.85

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 1003
triggerall = parent, time > 3
time = 1
pos = -15*0.85,-44*0.85

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 1004 && parent, time > 0 && parent, time <= 3
time = 1
pos = -15*0.85,-32*0.85

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 1004 && parent, time > 3 && parent, time <= 9
time = 1
pos = 42*0.85,-38*0.85

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 1004 && parent, time = 10
time = 1
pos = 42*0.85,-38*0.85

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 1006 && parent, time > 0 && parent, time <= 5
time = 1
pos = -12*0.85,-65*0.85

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 1006 && parent, time > 5 && parent, time <= 10
time = 1
pos = 45*0.85,-38*0.85

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 1007 && parent, time > 0 && parent, time <= 3
time = 1
pos = -15*0.85,2000*0.85

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 1007 && parent, time > 3 && parent, time <= 6
time = 1
pos = -15*0.85,-32*0.85

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 1007 && parent, time > 6 && parent, time <= 12
time = 1
pos = 42*0.85,-38*0.85

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 1007 && parent, time > 12 && parent, time <= 17
time = 1
pos = 48*0.85,-38*0.85

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 1007 && parent, time > 17 && parent, time <= 22
time = 1
pos = 70*0.85,-38*0.85

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 1007 && parent, time > 22
time = 1
pos = 100*0.85,-38*0.85

;--------------------

[State 0, End]
type = Changestate
trigger1 = parent, stateno != [1000,1009]
trigger2 = parent, stateno = 1005
triggerall = time = 30 && !movecontact
value = 1052

[State 0, Helper]
type = Helper
trigger1 = time = 45
helpertype = normal ;player
name = "White Flash"
ID = 9999
stateno = 9999
pos = 0,0
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1
size.xscale = 10
size.yscale = 10
supermovetime = 9999
pausemovetime = 9999
persistent = 0

[State 0, End]
type = Changestate
trigger1 = time = 50 && movecontact
value = 1054
;---------------------------------------------
;Wybuch
[StateDef 1054]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 1054
poweradd = 0
sprpriority = 29

[State 0, SprPriority]
type = SprPriority
trigger1 = 1
value = 29

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = F15,7

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S6,4

[State 0, PlaySnd]
type = PlaySnd
trigger1 = timemod = 40,0
value = S6,6

[State 0, PlaySnd]
type = PlaySnd
trigger1 = timemod = 40,0
value = S6,9

[State 0, VarSet]
type = VarAdd
trigger1 = time = 0
v = 6
value = 0

[State 0, Kula]
type = RemoveExplod
trigger1 = time = 0
id = 90000

[State 0, Smugi]
type = RemoveExplod
trigger1 = time = 0
id = 90001

[State 0, Smugi]
type = RemoveExplod
trigger1 = time = 0
id = 90004

[State 0, Fala]
type = RemoveExplod
trigger1 = time = 0
id = 90006

[State 0, Fala]
type = RemoveExplod
trigger1 = time = 0
id = 90007

[State 0, Shuriken]
type = RemoveExplod
trigger1 = time = 0
id = 90012

[State 0, Shuriken]
type = RemoveExplod
trigger1 = time = 0
id = 90013

[State 0, EnvShake]
type = EnvShake
trigger1 = timemod = 5,0
time = 10
freq = 100
ampl = -10
phase = 100

[State 0, Wybuch]
type = Explod
ownpal = 1
trigger1 = time = 0
anim = 1056
id = 1056
pos = 0,0
scale = 0.85,0.85
postype = p1
facing = 1
bindtime = -1
removetime = -1
sprpriority = 30
supermovetime = 9999
pausemovetime = 9999

[State 0, Wybuch Dym]
type = Explod
ownpal = 1
trigger1 = time = 0
trigger2 = time > 0 && timemod = 50,0
anim = F587
id = 587
pos = 0,0
postype = p1
facing = -1
bindtime = 1
removetime = -2
sprpriority = 31
removeongethit = 0
supermovetime = 9999
pausemovetime = 9999
scale = 1.7,1.7
ownpal = 1

[State 0, Dym]
type = Explod
ownpal = 1
trigger1 = time = 0 
trigger2 = time > 0 && timemod = 35,0
anim = F580
id = 580
pos = 0,40
postype = p1
facing = -1
bindtime = 1
removetime = -2
sprpriority = 28
removeongethit = 0
supermovetime = 9999
pausemovetime = 9999
scale = 3.4,3.4
ownpal = 1

[State 0, Wiatr]
type = Explod
ownpal = 1
trigger1 = time = 0 
trigger2 = time > 0 && timemod = 35,0
anim = F1370
id = 1370
pos = -60,50
postype = p1
facing = 1
bindtime = 1
removetime = -2
sprpriority = 35
removeongethit = 0
supermovetime = 9999
pausemovetime = 9999
scale = 2,2
ownpal = 1

[State 0, Wiatr]
type = Explod
ownpal = 1
trigger1 = time = 0 
trigger2 = time > 0 && timemod = 35,0
anim = F1370
id = 1370
pos = 60,50
postype = p1
facing = -1
bindtime = 1
removetime = -2
sprpriority = 35
removeongethit = 0
supermovetime = 9999
pausemovetime = 9999
scale = 2,2
ownpal = 1

[State 0, Ziemia]
type = Explod
ownpal = 1
trigger1 = time = 0
anim = 1066
id = 1066
pos = 0,15
postype = p1
facing = -1
bindtime = 1
removetime = 385
sprpriority = 27
removeongethit = 0
supermovetime = 9999
pausemovetime = 9999
scale = 0.55,0.55
ownpal = 1

[State 0, Rozwalona ziemia]
type = Explod
ownpal = 1
trigger1 = time = 0 
trigger2 = time > 0 && timemod = 50,0
anim = F64
id = 64
pos = 0,20
postype = p1
facing = -1
bindtime = 1
removetime = -2
sprpriority = -2
removeongethit = 0
supermovetime = 9999
pausemovetime = 9999
scale = 2.8,1
ownpal = 1

[State 0, Kamienie]
type = Explod
trigger1 = timemod = 3,0
anim = F591
ID = 591
pos = -200+random%400,0-random%20
vel = -1+random%3,-7
accel = 0,0.2
angle = random
postype = p1
bindtime = 1
removetime = -2
supermovetime = 9999
pausemovetime = 9999
scale = 1,1
sprpriority = 28+random%5
ontop = 0

[State 0, Kamienie]
type = Explod
trigger1 = timemod = 3,0
anim = F591
ID = 591
pos = -250+random%100,0-random%20
vel = -3+random%2,-7
accel = 0,0.2
angle = random
postype = p1
bindtime = 1
removetime = -2
supermovetime = 9999
pausemovetime = 9999
scale = 1,1
sprpriority = 28+random%5
ontop = 0

[State 0, Kamienie]
type = Explod
trigger1 = timemod = 3,0
anim = F591
ID = 591
pos = 150+random%100,0-random%20
vel = 1+random%2,-7
accel = 0,0.2
angle = random
postype = p1
bindtime = 1
removetime = -2
supermovetime = 9999
pausemovetime = 9999
scale = 1,1
sprpriority = 28+random%5
ontop = 0

[State 1520]
type = Explod
ownpal = 1
trigger1 = time = 0
anim = 1058
ID = 1058
pos = 0,-90
postype = p1  ;p2,front,back,left,right
facing = 1
name = "ig³y"
vfacing = 1
bindtime = 1
removetime = -1
scale = 0.3,0.4
removeongethit = 0
sprpriority= -2+random%5
supermovetime = 9999
pausemovetime = 9999
angle = random

[State 1520]
type = Explod
ownpal = 1
trigger1 = time = 0
anim = 1058
ID = 1058
pos = 0,-90
postype = p1  ;p2,front,back,left,right
facing = -1
name = "ig³y"
vfacing = 1
bindtime = 1
removetime = -1
scale = 0.3,0.4
removeongethit = 0
sprpriority= -2+random%5
supermovetime = 9999
pausemovetime = 9999
angle = random

[State 1520]
type = Explod
ownpal = 1
trigger1 = time = 0
anim = 1058
ID = 1058
pos = 0,-90
postype = p1  ;p2,front,back,left,right
facing = -1
name = "ig³y"
vfacing = 1
bindtime = 1
removetime = -1
scale = 0.15,0.25
removeongethit = 0
sprpriority= -2+random%5
supermovetime = 9999
pausemovetime = 9999
angle = random

[State 1520]
type = Explod
ownpal = 1
trigger1 = time = 0
anim = 90116
ID = 1058
pos = 0,-90
postype = p1  ;p2,front,back,left,right
facing = 1
name = "ig³y"
vfacing = 1
bindtime = 1
removetime = -1
scale = 0.15,0.25
removeongethit = 0
sprpriority= -2+random%5
supermovetime = 9999
pausemovetime = 9999
angle = random

[State 0, PosSet]
type = PosSet
trigger1 = time = 0
y = -15

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = timemod = 3,0
triggerall = target, stateno = 109995 || target, stateno = 109996
anim = F10+random%2
angle = random
pos = -10+random%20,-15-random%40
postype = p2  ;p2,front,back,left,right
facing = 1
bindtime = 15
removetime = -2
sprpriority = -2+random%4
scale = 1,1
ownpal = 1
ontop = 0
supermovetime = 9999
pausemovetime = 9999

[State 0, TargetBind]
type = TargetBind
trigger1 = timemod = 3,0
time = 1
pos = 0,-70

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = target, ishelper = 0
flag = unguardable

[State 811, 1]
type = HitDef
givepower = 0
getpower = 0
fall.yvelocity = -6
trigger1 = 1
attr = S,NT
damage = cond(parent,var(0) = 1,7,6),cond(parent,var(0) = 1,7,6)
kill = 1
getpower = 0
givepower = 0
animtype = Light
guardflag = MA
hitflag = MAF
priority = cond(var(0) < 2, 3, 1)
pausetime = 0, 10
sparkno = S1234
sparkxy = -15, -40
hitsound = S36,33
guardsound = S36,33
ground.type = High
ground.slidetime = 5
ground.hittime  = 50
ground.velocity = 0,0
airguard.velocity = 0,0
air.type = High
air.velocity = 0,0
air.hittime = 50
envshake.time = 60
envshake.ampl = 6
envshake.freq = 60
fall = 1
p2stateno = 109995
p1sprpriority = 29

[State 0, Helper]
type = Helper
trigger1 = time = 0
triggerall = numhelper(1056) = 0
helpertype = normal;player
name = "allydmg"
ID = 1056
stateno = 1056
pos = 0,0
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1
size.xscale = 1
size.yscale = 1
supermovetime = 999999
pausemovetime = 999999

[State 0, ChangeState]
type = ChangeState
trigger1 = time = 300
value = 1055

;-----------------
;Wybuch Koniec
[StateDef 1055]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 1055
poweradd = 0
sprpriority = 29

[State 0, SprPriority]
type = SprPriority
trigger1 = 1
value = 29

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = target, ishelper = 0
flag = unguardable

[State 0, EnvShake]
type = EnvShake
trigger1 = timemod = 5,0
time = 5
freq = 50
ampl = -5
phase = 50

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = time = 1
id = 1056

[State 0,Wybuch]
type = Explod
ownpal = 1
trigger1 = time = 5
anim = 1067
id = 1067
pos = 0,0
scale = 0.9,0.8
postype = p1
facing = 1
bindtime = -2
removetime = -2
sprpriority = 31
supermovetime = 9999
pausemovetime = 9999

[State 0, Wybuch]
type = Explod
ownpal = 1
trigger1 = time = 0
anim = 1057
id = 1057
pos = 0,0
scale = 0.85,0.85
postype = p1
facing = 1
bindtime = -2
removetime = -2
sprpriority = 30
supermovetime = 9999
pausemovetime = 9999

[State 1520]
type = modifyExplod
trigger1 = time > 30
ID = 1058
trans = addalpha
alpha = 256-(time-30)*8.53,256

[State 1520]
type = removeExplod
trigger1 = time = 60
ID = 1058

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S6,2

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = timemod = 3,0
triggerall = time <= 40
triggerall = target, stateno = 109995 || target, stateno = 109996
anim = F10+random%2
angle = random
pos = -10+random%20,-15-random%40
postype = p2  ;p2,front,back,left,right
facing = 1
bindtime = 15
removetime = -2
sprpriority = -2+random%4
scale = 1,1
ownpal = 1
ontop = 0
supermovetime = 9999
pausemovetime = 9999

[State 0, TargetBind]
type = TargetBind
trigger1 = time <= 35
trigger1 = timemod = 3,0
time = 1
pos = 0,-70

[State 0, TargetBind]
type = TargetBind
trigger1 = time = [35,55]
time = 1
pos = 0,-70

[State 0, DestroySelf]
type = DestroySelf
trigger1 = time = 60
;-----------------
;Odrzucenie P1
[StateDef 1056]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 1054
poweradd = 0
sprpriority = 29

[State 0, BindToParent]
type = BindToParent
trigger1 = 1 
time = 1
facing = 0
pos = 0,0

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = invisible

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = target, ishelper = 0
flag = unguardable

[State 0, PosSet]
type = PosSet
trigger1 = time = 0
y = -15

[State 811, 1]
type = HitDef
givepower = 0
getpower = 0
fall.yvelocity = -6
trigger1 = timemod = 30,0
affectteam = F
attr = S, NT
damage = 50,50
kill = 0
getpower = 0
animtype = Light
guardflag = MA
hitflag = MAF
priority = cond(var(0) < 2, 3, 1)
pausetime = 0, 10
sparkno = S1234
sparkxy = -15, -40
hitsound = S36,33
guardsound = S36,33
ground.type = High
ground.slidetime = 5
ground.hittime  = 50
ground.velocity = 0,0
airguard.velocity = 0,0
air.type = High
air.velocity = 0,0
air.hittime = 50
envshake.time = 60
envshake.ampl = 6
envshake.freq = 60
fall = 1
p2stateno = 105021

[State 0, ChangeState]
type = Destroyself
trigger1 = time = 300
;------------------
;RS Kula Lot Sage
[StateDef 1057]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 1050
poweradd = 0
sprpriority = 2

[State 0, ScreenBound]
type = ScreenBound
trigger1 = 1
value = 1

[State 0, VarSet]
type = VarSet
trigger1 = time > 35 && time <= 50
fv = 18
value = time-35

[State 0, Turn]
type = Turn
trigger1 = facing = 1
trigger1 = parent, facing = -1
trigger1 = time%5

[State 0, Turn]
type = Turn
trigger1 = facing = -1
trigger1 = parent, facing = 1
trigger1 = time%5

[State 0, EnvShake]
type = EnvShake
trigger1 = timemod = 5,0
time = 1+var(6)/15
freq = 30+var(6)/10
ampl = -3-var(6)/20
phase = 30+var(6)/10

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = F32,3

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = F32,3

[State 0, PlaySnd]
type = PlaySnd
trigger1 = timemod = 25,0
value = F32,1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S6,2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = timemod = 20,0
value = S6,1

[State 0, VarSet]
type = VarSet
trigger1 = 1
v = 4
value = time

[State 0, Kola]
type = ModifyExplod
trigger1 = 1
ID = 90000
scale = (0.1+var(6)*0.0035)*(1+fvar(18)/20),(0.1+var(6)*0.0035)*(1+fvar(18)/20)
trans = add

[State 0, Smugi]
type = ModifyExplod
trigger1 = 1
ID = 90001
scale = (0.15+var(6)*0.005)*(1+fvar(18)/20),(0.15+var(6)*0.005)*(1+fvar(18)/20)
trans = add
angle = -time*3

[State 0, Explod Kolo]
type = ModifyExplod
trigger1 = 1
ID = 90004
scale = (0.04+var(6)*0.005)*(1+fvar(18)/20),(0.04+var(6)*0.005)*(1+fvar(18)/20)
trans = addalpha
alpha = 150,256
angle = -time*3

[State 0, Fale]
type = Explod
ownpal = 1
trigger1 = 0;time = 0
anim = F644
id = 90006
pos = 5,0
scale = 0.2+var(6)*0.008,(0.2+var(6)*0.008)*0.7
postype = p1
facing = 1
bindtime = 10
removetime = -2
sprpriority = 7
vel = -var(6)*0.03,-var(6)*0.01
removeongethit = 1
trans = add
supermovetime = 9999
pausemovetime = 9999

[State 0, Wiatr]
type = Explod
ownpal = 1
trigger1 = timemod = 10,0
anim = F461
id = 90008
pos = 0,vel y
scale = (0.3+var(6)*0.003)*(1+fvar(18)/20),(0.3+var(6)*0.003)*(1+fvar(18)/20)
postype = p1
facing = 1
bindtime = 1
removetime = -2
sprpriority = 7
removeongethit = 1
vel = -vel x/5,-vel y/5
angle = -atan(vel y/vel x)*180/PI 
trans = add
supermovetime = 9999
pausemovetime = 9999

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = time = 6
id = 90010

[State 0, Shuriken]
type = Explod
ownpal = 1
trigger1 = time = 5 && numexplod(90013) = 0
anim = 1052
id = 90013
pos = 0,0
scale = (0.09+var(17)*0.003)*(1+fvar(18)/20),(0.09+var(17)*0.003)*(1+fvar(18)/20)
postype = p1
facing = 1
bindtime = -1
removetime = -1
sprpriority = 3
removeongethit = 1
trans = add
supermovetime = 9999
pausemovetime = 9999

[State 0, ModifyExplod]
type = ModifyExplod
trigger1 = 1
ID = 90013
scale = (0.09+var(17)*0.003*1.3)*(1+fvar(18)/20),(0.09+var(17)*0.003*1.3)*(1+fvar(18)/20)
angle = -atan(vel y/vel x)*180/PI 
trans = add

[State 0, TargetBind]
type = TargetBind
trigger1 = 1
time = 5
pos = 0,30

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = unguardable

[State 0, HitDef]
type = HitDef
givepower = 0
getpower = 0
fall.yvelocity = -6
trigger1 = time > 10 && timemod = 5,0
hitonce = 1
attr = S, NT
damage = 3,3
animtype = Light
guardflag = MA
hitflag = MAF
priority = cond(var(0) < 2, 3, 1)
pausetime = 0, 0
sparkno = 2546636
sparkxy = -15, -41*0.85
hitsound = 32, 3536
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = 0,0
airguard.velocity = 0,0
air.type = High
air.velocity = 0,0
air.hittime = 12
envshake.time = 30
envshake.freq = 30
envshake.ampl = -7
envshake.phase = 10

[State 0, VelSet]
type = VelSet
trigger1 = time = [10,40]
x = 8+(time-10)/5

[State 0, VelSet]
type = VelSet
trigger1 = time = [40,50]
x = 14-(time-40)

[State 0, VelAdd]
type = VelAdd
trigger1 = time > 10 && movecontact
y = -0.2

;Rasenshuriken

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 1000
time = 1
pos = -21*0.85,-39*0.85

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 1001 && parent, time > 0 && parent, time <= 5
time = 1
pos = -11*0.85,-55*0.85

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 1001 && parent, time > 5 && parent, time <= 70
time = 1
pos = -12*0.85,-75*0.85

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 1001 && parent, time > 70
trigger1 = parent, var(0) != 1
time = 1
pos = 2*0.85,-63*0.85

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 1001 && parent, time > 70
trigger1 = parent, var(0) = 1
time = 1
pos = -22*0.85,-65*0.85

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 1002
time = 1
pos = -18*0.85,-26*0.85

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 1003
triggerall = parent, time > 0 && parent, time <= 3
time = 1
pos = -15*0.85,-32*0.85

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 1003
triggerall = parent, time > 3
time = 1
pos = -15*0.85,-44*0.85

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 1004 && parent, time > 0 && parent, time <= 3
time = 1
pos = -15*0.85,-32*0.85

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 1004 && parent, time > 3 && parent, time <= 9
time = 1
pos = 42*0.85,-38*0.85

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 1004 && parent, time = 10
time = 1
pos = 42*0.85,-38*0.85

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 1006 && parent, time > 0 && parent, time <= 5
time = 1
pos = -12*0.85,-65*0.85

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 1006 && parent, time > 5 && parent, time <= 10
time = 1
pos = 45*0.85,-38*0.85

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 1007 && parent, time > 0 && parent, time <= 3
time = 1
pos = -15*0.85,2000*0.85

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 1007 && parent, time > 3 && parent, time <= 6
time = 1
pos = -15*0.85,-32*0.85

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 1007 && parent, time > 6 && parent, time <= 12
time = 1
pos = 42*0.85,-38*0.85

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 1007 && parent, time > 12 && parent, time <= 17
time = 1
pos = 48*0.85,-38*0.85

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 1007 && parent, time > 17 && parent, time <= 22
time = 1
pos = 70*0.85,-38*0.85

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 1007 && parent, time > 22
time = 1
pos = 100*0.85,-38*0.85

;--------------------

[State 0, End]
type = Changestate
trigger1 = parent, stateno != [1000,1009]
trigger2 = parent, stateno = 1005
triggerall = time = 30 && !movecontact
value = 1052

[State 0, Helper]
type = Helper
trigger1 = time = 45
helpertype = normal ;player
name = "White Flash"
ID = 9999
stateno = 9999
pos = 0,0
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1
size.xscale = 10
size.yscale = 10
supermovetime = 9999
pausemovetime = 9999
persistent = 0

[State 0, End]
type = Changestate
trigger1 = time = 50
value = 1054
;------------------
;Mini Rasenshuriken Lot
[StateDef 1058]
type = S
movetype= A
physics = N
juggle  = 1
velset = 0,0
ctrl = 0
anim = 21012
poweradd = 0
sprpriority = 2

[State 0, PosSet]
type = velSet
trigger1 = time = 0
x = (Parent,Fvar(13))/(Parent,fvar(15))*15
y = (Parent,FVar(14))/(Parent,fvar(15))*15

[State 0, VelAdd]
type = VelAdd
trigger1 = time > 1
x = -0.05
y = -0.05

[State 0, EnvShake]
type = EnvShake
trigger1 = timemod = 5,0
time = 1+var(6)/15
freq = 30+var(6)/10
ampl = -3-var(6)/20
phase = 30+var(6)/10

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = F32,3

[State 0, PlaySnd]
type = PlaySnd
trigger1 = timemod = 25,0
value = F32,1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S6,2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = timemod = 20,0
value = S6,1

[State 0, VarSet]
type = VarSet
trigger1 = 1
v = 4
value = time

[State 0, Kola]
type = ModifyExplod
trigger1 = 1
ID = 90000
scale = (0.1+var(6)*0.0035)*(1+fvar(18)/20),(0.1+var(6)*0.0035)*(1+fvar(18)/20)
trans = add

[State 0, Smugi]
type = ModifyExplod
trigger1 = 1
ID = 90001
scale = (0.15+var(6)*0.005)*(1+fvar(18)/20),(0.15+var(6)*0.005)*(1+fvar(18)/20)
trans = add
angle = -time*3

[State 0, Explod Kolo]
type = ModifyExplod
trigger1 = 1
ID = 90004
scale = (0.04+var(6)*0.005)*(1+fvar(18)/20),(0.04+var(6)*0.005)*(1+fvar(18)/20)
trans = addalpha
alpha = 150,256
angle = -time*3

[State 0, Fale]
type = Explod
ownpal = 1
trigger1 = 0;time = 0
anim = F644
id = 90006
pos = 5,0
scale = 0.2+var(6)*0.008,(0.2+var(6)*0.008)*0.7
postype = p1
facing = 1
bindtime = 10
removetime = -2
sprpriority = 7
vel = -var(6)*0.03,-var(6)*0.01
removeongethit = 1
trans = add
supermovetime = 9999
pausemovetime = 9999

[State 0, Wiatr]
type = Explod
ownpal = 1
trigger1 = timemod = 10,0
anim = F461
id = 90008
pos = 0,vel y
scale = (0.3+var(6)*0.003)*(1+fvar(18)/20),(0.3+var(6)*0.003)*(1+fvar(18)/20)
postype = p1
facing = 1
bindtime = 1
removetime = -2
sprpriority = 7
removeongethit = 1
vel = -vel x/5,-vel y/5
angle = -atan(vel y/vel x)*180/PI 
trans = add
supermovetime = 9999
pausemovetime = 9999

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = time = 6
id = 90010

[State 0, Shuriken]
type = Explod
ownpal = 1
trigger1 = time = 5 && numexplod(90013) = 0
anim = 1052
id = 90013
pos = 0,0
scale = (0.09+var(17)*0.003)*(1+fvar(18)/20),(0.09+var(17)*0.003)*(1+fvar(18)/20)
postype = p1
facing = 1
bindtime = -1
removetime = -1
sprpriority = 3
removeongethit = 1
trans = add
supermovetime = 9999
pausemovetime = 9999

[State 0, ModifyExplod]
type = ModifyExplod
trigger1 = 1
ID = 90013
scale = (0.09+var(17)*0.003*1.3)*(1+fvar(18)/20),(0.09+var(17)*0.003*1.3)*(1+fvar(18)/20)
angle = -atan(vel y/vel x)*180/PI 
trans = add

[State 0, TargetBind]
type = TargetBind
trigger1 = hitcount < 4
time = 5
pos = 0,30

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = unguardable

[State 0, HitDef]
type = HitDef
givepower = 0
getpower = 0
fall.yvelocity = -6
trigger1 = timemod = 5,0
triggerall = hitcount < 4
hitonce = 1
attr = S, NT
damage = 100,20
animtype = Light
guardflag = MA
hitflag = MAF
priority = cond(var(0) < 2, 3, 1)
pausetime = 0, 5
sparkno = 2546636
sparkxy = -15, -41*0.85
hitsound = 14,5
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = 0,0
airguard.velocity = 0,0
air.type = High
air.velocity = 0,0
air.hittime = 12
envshake.time = 30
envshake.freq = 30
envshake.ampl = -7
envshake.phase = 10
fall = 1

[State 0, Explod]
type = Explod
trigger1 = movehit = 1 && p2movetype = H
anim = F10+random%2
angle = -25+random%50
pos = -10,10-random%20
postype = p1  ;p2,front,back,left,right
facing = 1
bindtime = 5
removetime = -2
sprpriority = 3
scale = 1.6,1.6
ownpal = 1
ontop = 0
supermovetime = 9999
pausemovetime = 9999

[State 0, End]
type = Changestate
trigger1 = time = 100
trigger2 = pos y >= 0
trigger3 = frontedgebodydist < -50
value = 1052
;---------------------------------------------------------------------------
;HAREM NO JUTSU
[StateDef 967]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 6176
poweradd = -100
sprpriority = 0

[State 0, VarSet]
type = VarSet
trigger1 = time = 0
v = 9
value = numhelper(50000)

[State 0, ChangeState]
type = ChangeState
trigger1 = var(9)%2 = 0
value = 968

[State 0, ChangeState]
type = ChangeState
trigger1 = var(9)%2 = 1
value = 969

;---------------------------------------------------------------------------
;HAREM NO JUTSU (parzyste klony)
[StateDef 968]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
poweradd = 0
sprpriority = 0

[State 0, BGPalFX]
type = BGPalFX
trigger1 = 1
time = 1
add = -3.5*time,-10*time,-5*time
mul = 256,256,256

[State 0, Helper]
type = Helper
trigger1 = time = 10
helpertype = player
name = "bunshin"
ID = 50000
stateno = 970
pos = -25,0
postype = p1    ;p2,front,back,left,right
facing = 1
ownpal = 1
supermovetime = 80

[State 0, Helper]
type = Helper
trigger1 = time = 10
helpertype = player
name = "bunshin"
ID = 50000
stateno = 970
pos = 25,0
postype = p1    ;p2,front,back,left,right
facing = 1
ownpal = 1
supermovetime = 80

[State 0, Helper]
type = Helper
trigger1 = time = 10
triggerall = var(9) >= 4
helpertype = player
name = "bunshin"
ID = 50000
stateno = 970
pos = -40,0
postype = p1    ;p2,front,back,left,right
facing = 1
ownpal = 1
supermovetime = 80

[State 0, Helper]
type = Helper
trigger1 = time = 10
triggerall = var(9) >= 4
helpertype = player
name = "bunshin"
ID = 50000
stateno = 970
pos = 40,0
postype = p1    ;p2,front,back,left,right
facing = 1
ownpal = 1
supermovetime = 80

[State 0, SuperPause]
type = SuperPause
trigger1 = time = 10
time = 80
anim = -1
movetime = 80
darken = 0
sound = -1,0
unhittable = 0

[State 220, end]
type = ChangeState
trigger1 = time = 20
value = 972

;---------------------------------------------------------------------------
;HAREM NO JUTSU (nieparzyste klony)
[StateDef 969]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
poweradd = 0
sprpriority = 0

[State 0, BGPalFX]
type = BGPalFX
trigger1 = 1
time = 1
add = -3.5*time,-10*time,-5*time
mul = 256,256,256

[State 0, Helper]
type = Helper
trigger1 = time = 10
helpertype = player
name = "bunshin"
ID = 50000
stateno = 970
pos = 22,0
postype = p1    ;p2,front,back,left,right
facing = 1
ownpal = 1
supermovetime = 80

[State 0, Helper]
type = Helper
trigger1 = time = 10
helpertype = player
name = "bunshin"
ID = 50000
stateno = 970
pos = -25,0
postype = p1    ;p2,front,back,left,right
facing = 1
ownpal = 1
supermovetime = 80

[State 0, Helper]
type = Helper
trigger1 = time = 10
helpertype = player
name = "bunshin"
ID = 50000
stateno = 970
pos = 47,0
postype = p1    ;p2,front,back,left,right
facing = 1
ownpal = 1
supermovetime = 80

[State 0, Helper]
type = Helper
trigger1 = time = 10
triggerall = var(9) = 5
helpertype = player
name = "bunshin"
ID = 50000
stateno = 970
pos = -40,0
postype = p1    ;p2,front,back,left,right
facing = 1
ownpal = 1
supermovetime = 80

[State 0, Helper]
type = Helper
trigger1 = time = 10
triggerall = var(9) = 5
helpertype = player
name = "bunshin"
ID = 50000
stateno = 970
pos = 62,0
postype = p1    ;p2,front,back,left,right
facing = 1
ownpal = 1
supermovetime = 80

[State 0, SuperPause]
type = SuperPause
trigger1 = time = 10
time = 80
anim = -1
movetime = 80
darken = 0
sound = -1,0
unhittable = 0

[State 220, end]
type = ChangeState
trigger1 = time = 20
value = 972

;---------------------------------------------------------------------------
;Klony
[StateDef 970]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 6175
poweradd = 0
sprpriority = 0

[State 310, 2]
type = Explod
trigger1 = time = 2 && pos y < -5
anim = F350
ID = 350
pos = 0,0
postype = p1
facing = 1
bindtime = 1
removetime = -2
sprpriority = 4
scale = 2.5,2.5

[State 310, 2]
type = Explod
trigger1 = time = 2 && pos y > -5
anim = F290
ID = 290
pos = 0,0
postype = p1
facing = 1
bindtime = 1
removetime = -2
sprpriority = 4
scale = 1.5,1.5

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 2
value = F14,4

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 2
value = F3,2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 2
value = F9,1

[State 0, ChangeAnim]
type = Changestate
trigger1 = parent, stateno = 972
value = 972

;---------------------------------------------
;Destroy bunshin
[StateDef 971]
juggle  = 1
velset = 0,0
ctrl = 0
anim = cond(statetype=A,6173,6174)
poweradd = 0
sprpriority = 2

[State 310, 2]
type = Explod
trigger1 = time = 2 && pos y < -5
anim = F350
ID = 350
pos = 0,0
postype = p1
facing = 1
bindtime = 1
removetime = -2
sprpriority = 4
scale = 2.5,2.5

[State 310, 2]
type = Explod
trigger1 = time = 2 && pos y > -5
anim = F290
ID = 290
pos = 0,0
postype = p1
facing = 1
bindtime = 1
removetime = -2
sprpriority = 4
scale = 1.5,1.5

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 2
value = F14,4

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 2
value = F3,2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 2
value = F9,1

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = 1

[State 0, VelSet]
type = VelSet
trigger1 = 1
x = 0
y = 0

[State 15008, end]
type = destroyself
trigger1 = animtime = 0

;---------------------------------------------------------------------------
;HAREM NO JUTSU
[StateDef 972]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 6177
sprpriority = 0+ishelper*3
poweradd = -100

[State 0, ChangeAnim]
type = ChangeAnim
triggerall = ishelper
trigger1 = rootdist x = [23,28]
trigger2 = rootdist x = [-28,-23]
trigger3 = rootdist x = [-48,-43]
value = 6172

[State 0, AngleDraw]
type = AngleDraw
trigger1 = anim = 6177
scale = 1.15,1.15

[State 0, BGPalFX]
type = BGPalFX
trigger1 = time = 0
time = 70
add = -70,-200,-100
mul = 256,256,256
sinadd = 50,0,50,20

[State 0, SprPriority]
type = SprPriority
trigger1 = ishelper
trigger1 = rootdist x = [-24,-20]
triggerall = time = 0
value = -1

[State 0, Turn]
type = Turn
triggerall = time = 0
trigger1 = rootdist x = [23,28]
trigger2 = rootdist x = [-24,-20]


[State 0, Prawa]
type = Explod
trigger1 = time = 0
trigger2 = time = 68
anim = F696
ownpal = 1
ID = 900
pos = 10+random%10,-30-random%20
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
supermovetime = 9999
pausemovetime = 9999
vel = 0+random%2,-1-random%3
scale = 0.6,0.6
sprpriority = 5
ontop = 0

[State 0, Srodek]
type = Explod
trigger1 = time = 0
trigger2 = time = 68
anim = F696
ownpal = 1
ID = 900
pos = -5+random%10,-20-random%10
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
supermovetime = 9999
pausemovetime = 9999
vel = -1+random%3,-1-random%2
scale = 1,1
sprpriority = 5
ontop = 0

[State 0, Lewa]
type = Explod
trigger1 = time = 0
trigger2 = time = 68
anim = F696
ownpal = 1
ID = 900
pos = -10-random%10,-30-random%20
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
supermovetime = 9999
pausemovetime = 9999
vel = 0-random%2,-1-random%3
scale = 0.6,0.6
sprpriority = 5
ontop = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
trigger2 = time = 68
value = F9,0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
trigger2 = time = 68
value = F9,2

[State 1533,excplod ]
type = Explod
ownpal = 1
trigger1 = time = 1
anim = cond(anim=6177,6183,6187)
ID = 6183
postype = p1
pos = 0,cond(anim=6177,-5,5)
bindtime = 56
sprpriority = 3+ishelper*3
ownpal = 1
ontop = 0
removetime = -2
supermovetime = 70
scale = 1,1

[State 1533,excplod ]
type = Explod
ownpal = 1
trigger1 = time = 0
anim = cond(anim=6177,6182,6186)
ID = 6182
postype = p1
pos = 0,cond(anim=6177,0,18)
bindtime = -2
sprpriority = 3+ishelper*3
ownpal = 1
facing = -1
ontop = 0
supermovetime = 70
removetime = 70
scale = 1,1

[State 1533,excplod ]
type = Explod
ownpal = 1
trigger1 = time = 0
anim = cond(anim=6177,6182,6186)
ID = 6182
postype = p1
pos = 0,cond(anim=6177,0,18)
bindtime = -2
sprpriority = 3+ishelper*3
ownpal = 1
facing = -1
ontop = 0
supermovetime = 70
removetime = 70
scale = 1,1

[State 0, VarSet]
type = VarSet
trigger1 = timemod = 15,0
v = 5
value = random

[State 1533,excplod ]
type = Explod
ownpal = 1
trigger1 = timemod = 15,0
trigger1 = !ishelper
anim = 6188
ID = 6181
postype = front
pos = -20-(var(5)%33)*10,30+(var(5)%10)*10
bindtime = 24
sprpriority = 5
ownpal = 1
ontop = 0
supermovetime = 999
removetime = -2
scale = 0.3,0.3

[State 1533,excplod ]
type = Explod
ownpal = 1
trigger1 = timemod = 15,0
trigger1 = !ishelper
anim = 6185
ID = 6185
postype = front
pos = -20-(var(5)%33)*10,30+(var(5)%10)*10
bindtime = 1
vel = 0,2
sprpriority = 5
ownpal = 1
ontop = 0
supermovetime = 999
removetime = -2
scale = 0.8,0.8

[State 1533,excplod ]
type = Explod
ownpal = 1
trigger1 = timemod = 15,0
trigger1 = !ishelper
anim = 6185
ID = 6185
postype = front
pos = -20-(var(5)%33)*10,30+(var(5)%10)*10
bindtime = 1
vel = 2,2
sprpriority = 5
ownpal = 1
ontop = 0
supermovetime = 999
removetime = -2
scale = 0.8,0.8

[State 1533,excplod ]
type = Explod
ownpal = 1
trigger1 = timemod = 15,0
trigger1 = !ishelper
anim = 6185
ID = 6185
postype = front
pos = -20-(var(5)%33)*10,30+(var(5)%10)*10
bindtime = 1
vel = 2,0
sprpriority = 5
ownpal = 1
ontop = 0
supermovetime = 999
removetime = -2
scale = 0.8,0.8

[State 1533,excplod ]
type = Explod
ownpal = 1
trigger1 = timemod = 15,0
trigger1 = !ishelper
anim = 6185
ID = 6185
postype = front
pos = -20-(var(5)%33)*10,30+(var(5)%10)*10
bindtime = 1
vel = 0,-2
sprpriority = 5
ownpal = 1
ontop = 0
supermovetime = 999
removetime = -2
scale = 0.8,0.8

[State 1533,excplod ]
type = Explod
ownpal = 1
trigger1 = timemod = 15,0
trigger1 = !ishelper
anim = 6185
ID = 6185
postype = front
pos = -20-(var(5)%33)*10,30+(var(5)%10)*10
bindtime = 1
vel = -2,0
sprpriority = 5
ownpal = 1
ontop = 0
supermovetime = 999
removetime = -2
scale = 0.8,0.8

[State 1533,excplod ]
type = Explod
ownpal = 1
trigger1 = timemod = 15,0
trigger1 = !ishelper
anim = 6185
ID = 6185
postype = front
pos = -20-(var(5)%33)*10,30+(var(5)%10)*10
bindtime = 1
vel = -2,-2
sprpriority = 5
ownpal = 1
ontop = 0
supermovetime = 999
removetime = -2
scale = 0.8,0.8

[State 1533,excplod ]
type = Explod
ownpal = 1
trigger1 = timemod = 15,0
trigger1 = !ishelper
anim = 6185
ID = 6185
postype = front
pos = -20-(var(5)%33)*10,30+(var(5)%10)*10
bindtime = 1
vel = -2,2
sprpriority = 5
ownpal = 1
ontop = 0
supermovetime = 999
removetime = -2
scale = 0.8,0.8

[State 1533,excplod ]
type = Explod
ownpal = 1
trigger1 = timemod = 15,0
trigger1 = !ishelper
anim = 6185
ID = 6185
postype = front
pos = -20-(var(5)%33)*10,30+(var(5)%10)*10
bindtime = 1
vel = 2,-2
sprpriority = 5
ownpal = 1
ontop = 0
supermovetime = 999
removetime = -2
scale = 0.8,0.8

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
trigger1 = !ishelper
value = S3,22

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
trigger1 = !ishelper
value = S3,22

[State 0, PlaySnd]
type = PlaySnd
trigger1 = timemod = 25, 10
trigger1 = !ishelper
value = S3,21

[State 220, end]
type = ChangeState
trigger1 = time = 70
triggerall = !ishelper
value = 0
ctrl = 1

[State 0, BGPalFX]
type = BGPalFX
trigger1 = time>=60
time = 1
add = -70+(time-60)*7,-200+(time-60)*20,-100+(time-60)*10
mul = 256,256,256

[State 1201, 1]
type = HitDef
givepower = 0
getpower = 0
fall.yvelocity = -6
trigger1 = time= 0
trigger1 = !ishelper
attr = C,HP
damage = 10*var(9)
animtype = Light
guardflag = MA
hitflag = MAF
priority = cond(var(0) < 2, 3, 1)
pausetime = 0,250+50*var(9)
sparkno = -1
sparkxy = -10, -30
hitsound = -1, 12
guardsound = -1, 12
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = 0
airguard.velocity = -1.9,-.8
air.type = High
air.velocity = -1.4,-3
air.hittime = 12
fall = 1
fall.recover = 1
fall.recovertime = 50
p2stateno= 109997

[State 220, end]
type = destroyself
trigger1 = time = 70
triggerall = ishelper
;-----------------------------
[StateDef 4500]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 4500+var(0)*10000
poweradd = -100
sprpriority = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 1 && random = [0,99]
value = S2,16
volume = 256
channel = 2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 1 && random = [100,199]
value = S2,15
volume = 256
channel = 2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 1 && random = [200,299]
value = S2,14
volume = 256
channel = 2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 1 && random = [300,399]
value = S2,1
volume = 256
channel = 2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 1 && random = [400,499]
value = S2,8
volume = 256
channel = 2

[State 0, ScreenBound]
type = ScreenBound
trigger1 = 1
value = 0

[State 0, PosAdd]
type = PosAdd
triggerall = time = 1
trigger1 = command != "holdfwd" && command != "holdback" && command != "holdup"
trigger2 = command = "holdfwd" && command = "holdback"
x = random = [-150,150]

[State 0, PosAdd]
type = PosAdd
triggerall = time = 1
trigger1 = command = "holdfwd"
x = 150

[State 0, PosAdd]
type = PosAdd
triggerall = time = 1
trigger1 = command = "holdback"
x = -150

[State 0, PosAdd]
type = PosAdd
triggerall = time = 1
trigger1 = command = "holdup"
y = -100

[State 0, Turn]
type = Turn
trigger1 = time = 2
triggerall = p2bodydist x < -20

[State 0, PosSet]
type = PosSet
trigger1 = time = 2
y = 0
;ignorehitpause =
;persistent =


[State 0, Helper]
type = Helper
trigger1 = time = 0
helpertype = normal ;player
name = "kawarimi"
ID = 4501
stateno = 4501
pos = 0,0
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1
ontop = 0
supermove = 9999
pausemove = 9999

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 6
value = F21,2
volume = 255
channel = 9

[State 0, End]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;-----------------------------
[StateDef 4501]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 4501
poweradd = 0
sprpriority = 2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 1
trigger2 = time = 25
value = F9
channel = 9

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 1
trigger2 = time = 25
anim = F690
ID = 90000
pos = 0,0
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = -1
removetime = -2
scale = 0.8*2.25,0.8*2.25
sprpriority = 4
ontop = 0
ownpal = 1

[State 0, End]
type = destroyself
trigger1 = animtime = 0
;----------------
[Statedef 9999]
type = S
movetype = I
physics = S
velset = 0,0
sprpriority = 40
anim = 9999
ctrl = 0

[State 0, SprPriority]
type = SprPriority
trigger1 = 1
value = 40

[State 0, Trans]
type = Trans
trigger1 = time < 8
trans = addalpha
alpha = time*32,256-time*32

[State 0, Trans]
type = Trans
trigger1 = time >= 8
trans = addalpha
alpha = 256-(time-8)*32,(time-8)*32

[State 0, DestroySelf]
type = DestroySelf
trigger1 = time = 16
;--------------
;Stan postaci
[StateDef 70650]
type = S
movetype = A
physics = S
juggle = 0
poweradd = 0
anim = 70650+var(0)*1000
ctrl = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F21,4
volume = 255
channel = 8

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = S4,0+random%16
volume = 255
channel = 4

[State 0, VarAdd]
type = VarAdd
trigger1 = animelem = 2
v = 20
value = 1

[State 0, Helper]
type = Helper
trigger1 = animelem = 2
helpertype = normal;player
name = "kunai"
ID = 70700
stateno = 70700
pos = 5*0.85,-30*0.85
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1

[State 310, end]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;--------------
;Stan postaci
[StateDef 70651]
type = S
movetype = A
physics = S
juggle = 0
poweradd = 0
anim = 70650+var(0)*1000
ctrl = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F21,4
volume = 255
channel = 8

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = S4,0+random%16
volume = 255
channel = 4

[State 0, VarAdd]
type = VarAdd
trigger1 = animelem = 2
v = 22
value = 1

[State 0, Helper]
type = Helper
trigger1 = animelem = 2
helpertype = normal;player
name = "kunai"
ID = 70740
stateno = 70740
pos = 5*0.85,-30*0.85
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1

[State 310, end]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;--------------
;Stan postaci
[StateDef 70652]
type = S
movetype = A
physics = S
juggle = 0
poweradd = 0
anim = 70650+var(0)*1000
ctrl = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F21,4
volume = 255
channel = 8

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = S4,0+random%16
volume = 255
channel = 4

[State 0, VarAdd]
type = VarAdd
trigger1 = animelem = 2
v = 21
value = 1

[State 0, Helper]
type = Helper
trigger1 = animelem = 2
helpertype = normal;player
name = "kunai"
ID = 70730
stateno = 70730
pos = 5*0.85,-30*0.85
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1

[State 310, end]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;--------------
;Stan postaci
[StateDef 70653]
type = S
movetype = A
physics = A
juggle = 0
poweradd = 0
anim = 70651+var(0)*1000
ctrl = 0
velset = -4,-6

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 1 && pos y >= -10
value = F3

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 0 && pos y >= -10
anim = F370
pos = 0,-pos y
scale = 1,1
postype = p1
facing = -1
bindtime = 1
removetime = -2
sprpriority = 3
ownpal = 1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F21,4
volume = 255
channel = 8

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = S4,0+random%16
volume = 255
channel = 4

[State 0, VarAdd]
type = VarAdd
trigger1 = animelem = 2
v = 24
value = 1

[State 1640, X]
Type=VarSet
Trigger1=1
fvar(13)=(EnemyNear(0),Pos X-Pos X)*Facing

[State 1640, Y]
Type=VarSet
trigger1=1
fvar(14)=(EnemyNear(0),pos Y-Pos Y)

[State 1640, Vector Length]
Type=VarSet
trigger1=1
fvar(15)=Exp(0.5*ln((fvar(13)*fvar(13))+(fvar(14)*fvar(14))))

[State 0, Helper]
type = Helper
trigger1 = time = 0
helpertype = normal;player
name = "duzyshiruken"
ID = 70750
stateno = 70750
pos = 0*0.85,-50*0.85
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1
supermovetime = 9999
pausemovetime = 9999

[State 310, end]
type = ChangeState
trigger1 = AnimTime = 0
value = 50
ctrl = 1
;--------------
;Stan postaci
[StateDef 70655]
type = A
movetype = A
physics = A
juggle = 0
poweradd = 0
anim = 70655+var(0)*1000
ctrl = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F21,4
volume = 255
channel = 8

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = S4,0+random%16
volume = 255
channel = 4

[State 0, VarAdd]
type = VarAdd
trigger1 = animelem = 2
v = 20
value = 1

[State 0, Helper]
type = Helper
trigger1 = animelem = 2
helpertype = normal;player
name = "kunai"
ID = 70701
stateno = 70701
pos = 7*0.85,-42*0.85
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1

[State 310, end]
type = ChangeState
trigger1 = AnimTime = 0
value = 50
ctrl = 1
;--------------
;Stan postaci
[StateDef 70656]
type = A
movetype = A
physics = A
juggle = 0
poweradd = 0
anim = 70655+var(0)*1000
ctrl = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F21,4
volume = 255
channel = 8

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = S4,0+random%16
volume = 255
channel = 4

[State 0, VarAdd]
type = VarAdd
trigger1 = animelem = 2
v = 22
value = 1

[State 0, Helper]
type = Helper
trigger1 = animelem = 2
helpertype = normal;player
name = "kunai"
ID = 70741
stateno = 70741
pos = 7*0.85,-42*0.85
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1

[State 310, end]
type = ChangeState
trigger1 = AnimTime = 0
value = 50
ctrl = 1
;--------------
;Stan postaci
[StateDef 70657]
type = A
movetype = A
physics = A
juggle = 0
poweradd = 0
anim = 70655+var(0)*1000
ctrl = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F21,4
volume = 255
channel = 8

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = S4,0+random%16
volume = 255
channel = 4

[State 0, VarAdd]
type = VarAdd
trigger1 = animelem = 2
v = 21
value = 1

[State 0, Helper]
type = Helper
trigger1 = animelem = 2
helpertype = normal;player
name = "kunai"
ID = 70731
stateno = 70731
pos = 7*0.85,-42*0.85
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1

[State 310, end]
type = ChangeState
trigger1 = AnimTime = 0
value = 50
ctrl = 1
;---------------------------------------------------------------------------
;Gamabunta na przeciwniku
[Statedef 100039]
type    = L
movetype= H
physics = N
velset = 0,0
anim = 5000
sprpriority = -3

[State 0, ChangeAnim]
type = ChangeAnim
trigger1 = time = 0
trigger1 = var(0) != 0
value = 5000 + var(0)*10000

[State 0, ChangeAnim]
type = ChangeAnim
trigger1 = time > 2
trigger1 = var(0) != 0
value = 5110 + var(0)*10000

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = time > 2
flag = invisible

[State 46521, PosSet]
type = PosSet
trigger1 = time > 2
y = 3000

[State 0, VelSet]
type = VelSet
trigger1 = vel x != 0
x = 0

[State 46521, ChangeState]
type = changeState
trigger1 = enemy,numhelper(445) = 0 
value = 100040

[Statedef 100040]
type    = L
movetype= H
physics = N
velset = 0,0
anim = 5110
sprpriority = -3

[State 0, ChangeAnim]
type = ChangeAnim
trigger1 = time = 0
trigger1 = var(0) != 0
value = 5110 + var(0)*10000

[State 46521, PosSet]
type = PosSet
trigger1 = 1
y = 0

[State 0, VelSet]
type = VelSet
trigger1 = vel x != 0
x = 0

[State 46521, ChangeState]
type = SelfState
trigger1 = time = 5
value = 5110
ctrl = 1
;---------------------------------------------------------------------------
;Kagemane: Nadanie Vara
[Statedef 104099]
type = S
physics = S
sprpriority = 0

[State 0, VarSet]
type = VarSet
trigger1 = 1
v = 46  
value = 1

[State 0, 1]
type = ChangeAnim
trigger1 = Anim != 5000+var(0)*10000
value = 5000+var(0)*10000

;ANTI CLONE - CLONE DESTROY -----
[State 0, VarSet]
type = VarSet
trigger1 = !ishelper
v = 39
value = 1

[State 0, DestroySelf]
type = DestroySelf
trigger1 = var(39) = 0
triggerall = !ishelper(200)
triggerall = !ishelper(50000)
triggerall = !ishelper(60000)
triggerall = !ishelper(30000)
triggerall = !ishelper(21600)

[State 0, ChangeState]
type = ChangeState
triggerall = time = 5
trigger1 = ishelper(21600)
value = 130

[State 0, ChangeState]
type = ChangeState
triggerall = time = 5
trigger1 = !ishelper
trigger2 = ishelper(200)
trigger3 = ishelper(50000)
trigger4 = ishelper(60000)
trigger5 = ishelper(30000)
value = 104000
;---------------
;RS STAN
[Statedef 105021]
type = A
movetype= H
physics = S
anim = 5050+var(0)*10000
ctrl = 0

[State 0, LifeAdd]
type = LifeAdd
trigger1 = time = 0
value = -100
kill = 0
absolute = 0

[State 0, LifeAdd]
type = LifeAdd
trigger1 = 1
value = -5
kill = 0
absolute = 0

[State 0, Gravity]
type = Gravity
trigger1 = time > 2

[State 0, VelSet]
type = VelSet
trigger1 = time < 8
x = -7
y = -6

[State 1025, State]
type = Selfstate
trigger1 = time = 8
value = 5050
;---------------
;Rasenkyugan
[Statedef 105026]
type = A
movetype= H
physics = S
anim = 5090+var(0)*10000
ctrl = 0
sprpriority = -1

[State 1025, State]
type = Selfstate
trigger1 = time = 10
value = 5050
;---------------------------------------------------------------------------
;Lot Wakusei Rasengan
[Statedef 105027]
type    = A
movetype= H
physics = N
anim = 100022

[State 0, ChangeAnim]
type = ChangeAnim
trigger1 = time = 0
trigger1 = var(0) != 0
value = 100022 + var(0)*10000

[State 0, ScreenBound]
type = ScreenBound
trigger1 = 1
value = 1
movecamera = 0,0

[State 0, AngleDraw]
Type = AngleDraw
Trigger1 = 1
value = -time*600

[State 212, Velocity]
type = HitVelSet
trigger1 = Time = 0
x = 1
y = -1

[State 212, Gravity]
type = VelAdd
trigger1 = 1
y = .3

[State 0, AfterImage]
type = AfterImage
trigger1 = time = 0
time = 17
length = 10
palcolor = 256
palinvertall = 0
palbright = 0,0,0
palcontrast = 160,150,150
palpostbright = 0,0,0
paladd = 5,0,0
palmul = .65,.65,.75
timegap = 1
framegap = 1
trans = add

[State 213, Spark]
type = Explod
trigger1 = Timemod = 10,0
anim = F643
scale = 1,1
pos = 0,0
angle = random
postype = p1
bindtime = -1
removetime = -2
sprpriority = 3

[State 213, Spark]
type = Explod
trigger1 = Timemod = 10,2
anim = F643
scale = 1.2,1.2
pos = 0,0
angle = random
postype = p1
bindtime = -1
removetime = -2
sprpriority = 3

[State 212, Hit wall]
type = ChangeState
triggerall = Pos y < -15
trigger1 = BackEdgeBodyDist <= 10
trigger2 = FrontEdgeBodyDist <= 10
value = 109992

[State 212, Hit ground]
type = SelfState
trigger1 = (Vel y > 0) && (Pos y >= 0)
value = 5050
;---------------
;Impact Control (waiting)
[Statedef 106025]
type = S
movetype= A
physics = N
velset = 0,0
anim = 106025

;pozycjonowanie (dopasowaæ dla ka¿dej postaci)
[State 0, BindToParent]
type = BindToParent
trigger1 = 1 
time = 1
pos = 45+parent,var(6)/20,200
ignorehitpause = 1

;uogólnienie warunków kontroli
[State 0, VarSet]
type = VarSet
trigger1 = time = 0 
v = 1   
value = parent, stateno

;moc 
[State 0, VarSet]
type = VarSet
trigger1 = time = 0 
v = 6  
value = 100

;time
[State 0, VarSet]
type = VarSet
trigger1 = time = 0 
v = 7  
value = 900

;wykrycie zderzenia
[State 811, 1]
type = HitDef
givepower = 0
getpower = 0
fall.yvelocity = -6
trigger1 = 1
attr = S, NA
damage = 0,0
animtype = Light
guardflag = MA
hitflag = MAF
priority = cond(var(0) < 2, 3, 1)
pausetime = 0, 0
sparkno = -1
sparkxy = -15, -60
hitsound = S1, -1
guardsound = 6, -1
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = 0,0
airguard.velocity = 0,0
air.type = High
air.velocity = 0,0
air.hittime = 12
p2stateno = 106031
p1stateno = 106031

;przerwanie ciosu
[State 0, DestroySelf]
type = DestroySelf
trigger1 = parent, stateno != var(1)
trigger1 = parent, stateno != var(1)+1
trigger1 = parent, stateno != var(1)*10+5

;---------------
;Impact Control (hit)
[Statedef 106026]
type = S
movetype= A
physics = N

;time
[State 0, VarSet]
type = VarAdd
trigger1 = 1 
v = 7  
value = -1

[State 0, BindToParent]
type = BindToParent
trigger1 = 1 
time = 1
pos = 36+parent,var(6)/30,250
ignorehitpause = 1

[State 0, VarAdd]
type = VarAdd
trigger1 = time =0
v = 6
value = -5

[State 0, SelfState]
type = SelfState
trigger1 = 1
value = 106028

;---------------
;Impact Control (trafienie)
[Statedef 106027]
type = S
movetype= A
physics = N

;time
[State 0, VarSet]
type = VarAdd
trigger1 = 1 
v = 7  
value = -1

[State 0, BindToParent]
type = BindToParent
trigger1 = 1 
time = 1
pos = 36+parent,var(6)/30,250
ignorehitpause = 1

[State 0, VarAdd]
type = VarAdd
trigger1 = time = 0
v = 6
value = 5

[State 0, SelfState]
type = SelfState
trigger1 = 1
value = 106028

;---------------
;Impact Control (active) 
[Statedef 106028]
type = S
movetype= A
physics = N

;time
[State 0, VarSet]
type = VarAdd
trigger1 = 1 
v = 7  
value = -1

[State 0, BindToParent]
type = BindToParent
trigger1 = 1 
time = 1
pos = 36+parent,var(6)/30,250
ignorehitpause = 1


[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = numexplod(106026)=0
anim = 106026
ID = 106026
pos = -306*facing,204
postype = front
facing = facing
vfacing = 1
bindtime = 1
removetime = -1
scale = 0.301,0.4
sprpriority = 49
removeongethit = 0

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = numexplod(106027)=0
anim = 106027
ID = 106027
pos = -306*facing,204
postype = front
facing = facing
vfacing = 1
bindtime = 1
removetime = -1
scale = 1,0.5
sprpriority = 48
removeongethit = 0

[State 0, Explod]
type = modifyExplod
trigger1 = 1
ID = 106027
scale=1.16-0.58*(100-var(6))/50,0.5

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = numexplod(106028)=0
anim = 106028
ID = 106028
pos = -190*facing,204
postype = front
facing = facing
vfacing = 1
bindtime = 1
removetime = -1
scale = 0.5,0.32
sprpriority = 52
removeongethit = 0

[State 0, Explod]
type = modifyExplod
trigger1 = 1
ID = 106028
postype = front
facing = facing
vfacing = 1
pos= (-190-116*(100-var(6))/100)*facing,204

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = numexplod(106029)=0
anim = 106029
ID = 106029
pos = -315*facing,204
postype = front
facing = -1
vfacing = 1
bindtime = 1
removetime = -1
scale = 0.36,0.36
sprpriority = 51
removeongethit = 0

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = numexplod(106030)=0
anim = 106030
ID = 106030
pos = -315*facing,204
postype = front
facing = facing
vfacing = 1
bindtime = 1
removetime = -1
scale = 0.36,0.36
sprpriority = 51
removeongethit = 0

;hit
[State 811, 1]
type = HitDef
givepower = 0
getpower = 0
fall.yvelocity = -6
trigger1 = parent,command = "x" || parent,command = "z"
trigger1 = parent,var(50) = 0
trigger2 = parent,var(50) = 1
trigger2 = random = [0,40+parent,var(49)*parent,var(49)/10]
;trigger1 = parent,Ailevel = 0
;trigger2 = parent,Ailevel != 0
;trigger2 = time%(14-parent,Ailevel)=(13-parent,Ailevel) || parent,Ailevel <=4
;trigger2 = time%10=9 || parent,Ailevel >4
triggerall = var(6) >= 10
triggerall = var(7) > 0
attr = S, NA
damage = 0,0
animtype = Light
guardflag = MA
hitflag = MAF
priority = cond(var(0) < 2, 3, 1)
pausetime = 0, 0
sparkno = -1
sparkxy = -15, -60
hitsound = S1, -1
guardsound = 6, -1
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = 0,0
airguard.velocity = 0,0
air.type = High
air.velocity = 0,0
air.hittime = 12
p2stateno = 106026
p1stateno = 106027

;hit
[State 811, 1]
type = HitDef
givepower = 0
getpower = 0
fall.yvelocity = -6
trigger1 = time = 10
trigger1 = var(6) >= 10
triggerall = var(7) > 0
attr = S, NA
damage = 0,0
animtype = Light
guardflag = MA
hitflag = MAF
priority = cond(var(0) < 2, 3, 1)
pausetime = 0, 0
sparkno = -1
sparkxy = -15, -60
hitsound = S1, -1
guardsound = 6, -1
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = 0,0
airguard.velocity = 0,0
air.type = High
air.velocity = 0,0
air.hittime = 12
p2stateno = 106031
p1stateno = 106031

[State 0, Explod]
type = removeExplod
trigger1 = parent, stateno != var(1)
trigger1 = parent, stateno != var(1)+1
trigger1 = parent, stateno != var(1)*10+5
ID = 106029

[State 0, Explod]
type = removeExplod
trigger1 = parent, stateno != var(1)
trigger1 = parent, stateno != var(1)+1
trigger1 = parent, stateno != var(1)*10+5
ID = 106030

[State 0, Explod]
type = removeExplod
trigger1 = parent, stateno != var(1)
trigger1 = parent, stateno != var(1)+1
trigger1 = parent, stateno != var(1)*10+5
ID = 106028

[State 0, Explod]
type = removeExplod
trigger1 = parent, stateno != var(1)
trigger1 = parent, stateno != var(1)+1
trigger1 = parent, stateno != var(1)*10+5
ID = 106027

[State 0, Explod]
type = removeExplod
trigger1 = parent, stateno != var(1)
trigger1 = parent, stateno != var(1)+1
trigger1 = parent, stateno != var(1)*10+5
ID = 106026

;przerwanie
[State 0, DestroySelf]
type = DestroySelf
trigger1 = parent, stateno != var(1)
trigger1 = parent, stateno != var(1)+1
trigger1 = parent, stateno != var(1)*10+5

;lose
[State 0, NotHitBy]
type = NotHitBy
trigger1 = var(6) < 10
trigger2 = var(7) <= 0 
value = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
time = 1

[State 0, ChangeState]
type = ChangeState
trigger1 = time = 11
trigger1 = var(6) < 10
trigger2 = var(7) <= 0 
trigger2 = var(6) < 100
value = 106029

;win
[State 0, ChangeState]
type = ChangeState
trigger1 = time = 11
trigger1 = var(6) >= 10
trigger2 = var(7) <= 0 
trigger2 = var(6) >= 100
value = 106030

;---------------
;Impact Control (lose) 
[Statedef 106029]
type = S
movetype= A
physics = N

[State 0, Explod]
type = removeExplod
trigger1 = time = 0
ID = 106029

[State 0, Explod]
type = removeExplod
trigger1 = time = 0
ID = 106030

[State 0, Explod]
type = removeExplod
trigger1 = time = 0
ID = 106028

[State 0, Explod]
type = removeExplod
trigger1 = time = 0
ID = 106027

[State 0, Explod]
type = removeExplod
trigger1 = time = 0
ID = 106026

[State 0, NotHitBy]
type = NotHitBy
trigger1 = time >= 0
value = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
time = 1

[State 0, DestroySelf]
type = DestroySelf
trigger1 = time = 10

;---------------
;Impact Control (win) 
[Statedef 106030]
type = S
movetype= A
physics = N

[State 0, Explod]
type = removeExplod
trigger1 = time = 0
ID = 106029

[State 0, Explod]
type = removeExplod
trigger1 = time = 0
ID = 106030

[State 0, Explod]
type = removeExplod
trigger1 = time = 0
ID = 106028

[State 0, Explod]
type = removeExplod
trigger1 = time = 0
ID = 106027

[State 0, Explod]
type = removeExplod
trigger1 = time = 0
ID = 106026

[State 0, NotHitBy]
type = NotHitBy
trigger1 = time >= 0
value = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
time = 1

[State 0, DestroySelf]
type = DestroySelf
trigger1 = time = 10

;---------------
;Impact Control (help state)
[Statedef 106031]
type = S
movetype= A
physics = N

[State 0, SelfState]
type = SelfState
trigger1 = 1
value = 106028


;---------------------------------------------------------------------------
[Statedef 109989]
type = A
movetype= H
physics = N
anim = 100022+var(0)*10000

[State 0, AngleDraw]
type = AngleDraw
trigger1 = time > 5 && vel y < 0
value = time*20

[State 0, AngleDraw]
type = AngleDraw
trigger1 = time > 5 && vel y > 0
value = 180

[State 0, ScreenBound]
type = ScreenBound
trigger1 = 1 
value = 1

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 0
trigger2 = timemod = 6,0
trigger2 = vel y < 0
anim = F1391
ID = 380
pos = 0,-25
postype = p1  ;p2,front,back,left,right
facing = -1
vfacing = 1
bindtime = 1
removetime = -2
scale = 0.7,0.7
sprpriority = 3
ontop = 0
angle = 70

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = timemod = 6,0
triggerall = vel y > 0
anim = F1391
ID = 380
pos = 0,-25
postype = p1  ;p2,front,back,left,right
facing = -1
vfacing = 1
bindtime = 1
removetime = -2
scale = 0.7,0.7
sprpriority = 3
ontop = 0
angle = 250

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = F8,9

[State 1027, Sound]
type = PlaySnd
trigger1 = Time = 0
value = F14,6

[State 0, 1]
type = ChangeAnim
trigger1 = var(0) != 0
trigger1 = Anim = 5000
value = 100022+var(0)*10000

[State 210, 2]
type = AfterImage
trigger1 = (!time)
time = 14
length = 15
palcontrast = 160,150,150
paladd = 5,0,0
palmul = 1,1,1
trans = add1

[State 1026, Velocity]
type = HitVelSet
trigger1 = Time = 0
x = 1
y = 1

[State 1026, Gravity]
type = VelAdd
trigger1 = 1
y = .45

[State 1026, Hit wall]
type = ChangeState
triggerall = 0;Pos y < -15
trigger1 = 0;BackEdgeBodyDist <= 10
trigger2 = 0;FrontEdgeBodyDist <= 10
value = 109992

[State 1026, Hit ground]
type = SelfState
trigger1 = (Vel y > 0) && (Pos y >= 0)
value = 5100
;---------------
[Statedef 109990]
type = A
movetype= H
physics = N
velset = 0,0
anim = 5030

[State 0, ScreenBound]
type = ScreenBound
trigger1 = 1 
value = 0


[State 0, 1]
type = ChangeAnim
trigger1 = var(0) != 0
trigger1 = Anim = 5030
value = 5030+var(0)*10000

[State 210, 2]
type = AfterImage
trigger1 = (!time)
time = 14
length = 15
palcontrast = 160,150,150
paladd = 5,0,0
palmul = 1,1,1
trans = add1

[State 1025, State]
type = ChangeState
trigger1 = HitShakeOver = 1
value = 109991


;---------------------------------------------------------------------------
[Statedef 109991]
type = A
movetype= H
physics = N
anim = 5000

[State 0, ScreenBound]
type = ScreenBound
trigger1 = 1 
value = 0


[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 0
trigger2 = timemod = 6,0
anim = F1391
ID = 380
pos = -20,-25
postype = p1  ;p2,front,back,left,right
facing = -1
vfacing = 1
bindtime = 1
removetime = -2
scale = 0.7,0.7
sprpriority = 3
ontop = 0
angle = atan(vel y/vel x)*180/PI -30

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = F8,9

[State 1027, Sound]
type = PlaySnd
trigger1 = Time = 0
value = F14,6

[State 0, 1]
type = ChangeAnim
trigger1 = var(0) != 0
trigger1 = Anim = 5000
value = 5000+var(0)*10000

[State 210, 2]
type = AfterImage
trigger1 = (!time)
time = 14
length = 15
palcontrast = 160,150,150
paladd = 5,0,0
palmul = 1,1,1
trans = add1

[State 1026, Velocity]
type = HitVelSet
trigger1 = Time = 0
x = 1
y = 1

[State 1026, Gravity]
type = VelAdd
trigger1 = 1
y = .45

[State 1026, Hit wall]
type = ChangeState
triggerall = Pos y < -15
trigger1 = BackEdgeBodyDist <= 10
trigger2 = FrontEdgeBodyDist <= 10
value = 109992

[State 1026, Hit ground]
type = SelfState
trigger1 = (Vel y > 0) && (Pos y >= 0)
value = 5100
;---------------------------------------------------------------------------
[Statedef 109992]
type = A
movetype= H
physics = N
anim = 5030

[State 0, ScreenBound]
type = ScreenBound
trigger1 = 1 
value = 0

[State 0, 1]
type = ChangeAnim
trigger1 = var(0) != 0
trigger1 = Anim = 5030
value = 5030+var(0)*10000

[State 210, 2]
type = AfterImage
trigger1 = (!time)
time = 14
length = 15
palcontrast = 160,150,150
paladd = 5,0,0
palmul = 1,1,1
trans = add1

[State 1027, Stop moving]
type = PosFreeze
trigger1 = 1
x = 1
y = 1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time= 1
value = F7,1

[State 1027, Sound]
type = PlaySnd
trigger1 = Time = 1
value = F7,0

[State 1027, Sound]
type = PlaySnd
trigger1 = Time = 1
value = F7,2

[State 1027, Sound]
type = PlaySnd
trigger1 = Time = 1
value = F15,2

[State 1027, Sound]
type = PlaySnd
trigger1 = Time = 1
value = F15,4

[State 0, Turn]
type = Turn
trigger1 = frontedgedist<backedgedist
trigger1 = time = 0

[State 1027, Spark]
type = Explod
ownpal = 1
trigger1 = Time = 1
anim = F1190
pos = -15,-25
postype = p1
facing = 1
scale = 1,1
sprpriority = 4
angle = 90

[State 1027, Spark]
type = Explod
ownpal = 1
trigger1 = Time = 1
anim = F1080
pos = -15,-25
postype = p1
facing = 1
sprpriority = -1
angle = 270
scale = 0.7,0.7

[State 1027, Spark]
type = Explod
ownpal = 1
trigger1 = Time = 1
anim = F1200
pos = -15,-25
postype = p1
facing = -1
sprpriority = -1
scale = 1.1,1.1

[State 1027, State]
type = ChangeState
trigger1 = AnimTime = 0
value = 109993

;---------------------------------------------------------------------------
[Statedef 109993]
type = A
movetype= H
physics = N
anim = 5060

[State 0, AngleDraw]
Type = AngleDraw
Trigger1 = 1
Value = -((ATan(vel y/vel x))*(180.0/PI))

[State 0, ScreenBound]
type = ScreenBound
trigger1 = 1 
value = 0

[State 0, 1]
type = ChangeAnim
trigger1 = var(0) != 0
trigger1 = Anim = 5060
value = 5060+var(0)*10000


[State 210, 2]
type = AfterImage
trigger1 = (!time)
time = 14
length = 15
palcontrast = 160,150,150
paladd = 5,0,0
palmul = 1,1,1
trans = add1

[State 1028, Vel Y]
type = VelSet
trigger1 = Time = 0
y = -6

[State 1028, Vel X]
type = VelSet
trigger1 = Time = 0
x = 1.6

[State 1028, Turn]
type = Turn
trigger1 = (Time = 0) && (BackEdgeDist < 30)

[State 1028, Gravity]
type = VelAdd
trigger1 = 1
y = .35

[State 1028, Anim 5050]
type = ChangeAnim
trigger1 = Time = 0
trigger1 = !SelfAnimExist(5052)
value = 5050

[State 1028, Anim 5050]
type = ChangeAnim
trigger1 = Time = 0
trigger1 = !SelfAnimExist(5052)
trigger1 = var(0) != 0
value = 5050+var(0)*10000

[State 1028, Anim 5052]
type = ChangeAnim
trigger1 = Time = 0
trigger1 = SelfAnimExist(5052)
value = 5052

[State 1028, Anim 5052]
type = ChangeAnim
trigger1 = Time = 0
trigger1 = SelfAnimExist(5052)
trigger1 = var(0) != 0
value = 5052+var(0)*10000

[State 1028, Anim 5060]
type = ChangeAnim
trigger1 = Vel Y > -2
trigger1 = Anim = 5050
trigger1 = SelfAnimExist(5060)
persistent = 0
value = 5060

[State 1028, Anim 5060]
type = ChangeAnim
trigger1 = Vel Y > -2
trigger1 = Anim = 5050
trigger1 = SelfAnimExist(5060)
persistent = 0
trigger1 = var(0) != 0
value = 5060+var(0)*10000

[State 1028, Anim 5062]
type = ChangeAnim
trigger1 = Vel Y > -2
trigger1 = Anim = 5052
trigger1 = SelfAnimExist(5062)
persistent = 0
value = 5062

[State 1028, Anim 5062]
type = ChangeAnim
trigger1 = Vel Y > -2
trigger1 = Anim = 5052
trigger1 = SelfAnimExist(5062)
persistent = 0
trigger1 = var(0) != 0
value = 5062+var(0)*10000

[State 1028, Hit ground]
type = SelfState
trigger1 = (Vel y > 0) && (Pos y >= 0)
value = 5100
;---------------------------------------------------------------------------
[Statedef 109994 ]
type    = A
movetype= H
physics = N
anim = 100022

[State 0, ScreenBound]
type = ScreenBound
trigger1 = 1 
value = 0

[State 0, ChangeAnim]
type = ChangeAnim
trigger1 = time = 0
trigger1 = var(0) != 0
value = 100022 + var(0)*10000

[State 0, AngleDraw]
Type = AngleDraw
Trigger1 = 1
value = time*20

[State 212, Velocity]
type = HitVelSet
trigger1 = Time = 1
x = 1
y = -1

[State 212, Gravity]
type = VelAdd
trigger1 = time > 1 && 1
y = .3

[State 0, PosAdd]
type = PosAdd
trigger1 = time = 0
y = -20

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 0
trigger2 = timemod = 6,0
anim = F1391
ID = 380
pos = -20,-25
postype = p1  ;p2,front,back,left,right
facing = -1
vfacing = 1
bindtime = 1
removetime = -2
scale = 0.7,0.7
sprpriority = 3
ontop = 0
angle = atan(vel y/vel x)*180/PI -30

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = F8,9

[State 1027, Sound]
type = PlaySnd
trigger1 = Time = 0
value = F14,6

[State 1026, Hit wall]
type = ChangeState
triggerall = Pos y < -15
trigger1 = BackEdgeBodyDist <= 10
trigger2 = FrontEdgeBodyDist <= 10
value = 109992

[State 212, Hit ground]
type = SelfState
trigger1 = (Vel y > 0) && (Pos y >= 0)
value = 5050


;---------------------------------------------------------------------------
;Rasenshuriken
[Statedef 109995]
type = A
movetype= H
physics = N
anim = 5090+var(0)*10000
SprPriority = 0

[State 0, VarSet]
type = VarSet
trigger1 = time = 50
v = 54
value = 300

[State 0, VelSet]
type = VelSet
trigger1 = 1 
x = -3+random%7
y = -3+random%7

[State 0, PlayerPush]
type = PlayerPush
trigger1 = 1
value = 0

[State 0, ChangeAnim]
type = ChangeAnim
trigger1 = !animexist(5090+var(0)*10000) && time = 0
value = 5090

[State 0, ChangeAnim]
type = ChangeAnim
trigger1 = anim != anim*var(0)*10000
value = anim+var(0)*10000

[State 0, ChangeAnim]
type = selfstate
trigger1 = time = 50
value = 5050


;---------------------------------------------------------------------------
;Rasenshuriken
[Statedef 109996]
type = A
movetype= H
physics = A
anim = 5050+var(0)*10000
SprPriority=0

[State 0, VarSet]
type = VarSet
trigger1 = time = 50
v = 54
value = 300

[State 0, VelSet]
type = VelSet
trigger1 = 1 
x = -3+random%7
y = -3+random%7

[State 0, PlayerPush]
type = PlayerPush
trigger1 = 1
value = 0

[State 0, ChangeAnim]
type = ChangeAnim
trigger1 = !animexist(5050+var(0)*10000) && time = 0
value = 5050

[State 0, ChangeAnim]
type = ChangeAnim
trigger1 = anim != anim*var(0)*10000
value = anim+var(0)*10000

[State 0, SelfState]
type = SelfState
trigger1 = time = 50
value = 5050

;---------------------------------------------------------------------------
[Statedef 109997]
type = A
movetype= H
physics = N
velset = 0,0
anim = 5000+var(0)*10000
SprPriority=1
ctrl = 1

[State 0, PalFX]
type = PalFX
triggerall = time = 0
trigger1 = Name != "Tenten"
trigger1 = Name != "Hinata"
trigger1 = Name != "Ino"
trigger1 = Name != "Tsunade"
trigger1 = Name != "Karin"
trigger1 = Name != "Konan"
trigger1 = Name != "Sakura"
trigger1 = Name != "Chiyo"
trigger1 = Name != "Temari"
time = 250+enemy,var(9)*50+30
add = 200,0,50
mul = 256,256,256
sinadd = 100,0,100,10
invertall = 0
color = 256

[State 0, SelfState]
type = SelfState
triggerall = time = 0
trigger1 = Name = "Tenten"
trigger2 = Name = "Hinata"
trigger3 = Name = "Ino"
trigger4 = Name = "Tsunade"
trigger5 = Name = "Karin"
trigger6 = Name = "Konan"
trigger7 = Name = "Sakura"
trigger8 = Name = "Chiyo"
trigger9 = Name = "Temari"
value = 5050

[State 0, SelfState]
type = SelfState
triggerall = time = 0
trigger1 = Name != "Tenten"
trigger1 = Name != "Hinata"
trigger1 = Name != "Ino"
trigger1 = Name != "Tsunade"
trigger1 = Name != "Karin"
trigger1 = Name != "Konan"
trigger1 = Name != "Sakura"
trigger1 = Name != "Chiyo"
trigger1 = Name != "Temari"
value = prevstateno

;---------------------------------------------------------------------------
;Lot Rasengan
[Statedef 109998]
type    = A
movetype= H
physics = N
anim = 100022

[State 0, ChangeAnim]
type = ChangeAnim
trigger1 = time = 0
trigger1 = var(0) != 0
value = 100022 + var(0)*10000

[State 0, ScreenBound]
type = ScreenBound
trigger1 = 1
value = 1
movecamera = 0,0

[State 0, AngleDraw]
Type = AngleDraw
Trigger1 = 1
value = -time*300

[State 212, Velocity]
type = HitVelSet
trigger1 = Time = 0
x = 1
y = -1

[State 212, Gravity]
type = VelAdd
trigger1 = 1
y = .1

[State 0, AfterImage]
type = AfterImage
trigger1 = time = 0
time = 17
length = 10
palcolor = 256
palinvertall = 0
palbright = 0,0,0
palcontrast = 160,150,150
palpostbright = 0,0,0
paladd = 5,0,0
palmul = .65,.65,.75
timegap = 1
framegap = 1
trans = add

[State 213, Spark]
type = Explod
trigger1 = Timemod = 10,0
anim = F643
scale = 1,1
pos = 0,0
angle = random
postype = p1
bindtime = -1
removetime = -2
sprpriority = 3

[State 212, Hit wall]
type = ChangeState
triggerall = Pos y < -15
trigger1 = BackEdgeBodyDist <= 10
trigger2 = FrontEdgeBodyDist <= 10
value = 109992

[State 212, Hit ground]
type = SelfState
trigger1 = (Vel y > 0) && (Pos y >= 0)
value = 5050

;---------------------------------------------------------------------------
;Opponent state (rasenshuriken hit)
[StateDef 106032]
movetype= H
anim = 5000+var(0)*10000

[State 0, VarSet]
type = ParentVarset
trigger1 = time = 0
trigger1 = ishelper(50130)
v = 10
value = 1000

[State 1210, end]
type = SelfState
trigger1 = time = 0
trigger1 = !ishelper(50130)
value = 5000

[State 1210, end]
type = destroyself
trigger1 = time = 1
trigger1 = ishelper(50130)


;---------------
[Statedef 103004]
type = A
movetype= I
physics = S
anim = 5090+var(0)*10000

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 5 && pos y = [-10,10]
anim = F62
ID = 24
pos = 20,2
postype = p1  ;p2,front,back,left,right
scale = 1.2,1.2
sprpriority = 2
vel = 0,0
bindtime = 1
ownpal = 1
ontop = 0

[State 5100, 10]
type = PlaySnd
trigger1 = Time = 5
value = F7,2

[State 210, 2]
type = AfterImage
trigger1 = (!time)
time = 14
length = 15
palcontrast = 160,150,150
paladd = 5,0,0
palmul = 1,1,1
trans = add1

[State 0, VelSet]
type = VelSet
trigger1 = time < 5
x = -12
y = 3

[State 0, VelSet]
type = VelSet
trigger1 = time >= 5
x = -12
y = -10

[State 1025, State]
type = ChangeState
trigger1 = time = 8
value = 109990


;---------------------- Integer variable list ----------------------

; var(0):= 170, 190, 321, 322, 351, 356, 361, 366, 371, 481, 501, 506, 513, 518, 920, 921, 922, 923, 924, 925, -2, 1982, 1991, 1998, 10207, 10214, 10218, 10222, 10227, 10229, 10244, 10246, 10252, 10263, 10267, 10281, 10284, 10484, 10610, 2000, 2005, 2015, 20222, 20227, 20228, 20244, 20246, 20247, 20252, 20263, 20265, 20267, 20268, 20281, 20282, 50000, 52221, 60000, 62221, 30000, 32221
; var(1):= 106025, 10610
; var(2):= 190, -2, 1981, 1982, 1990, 1991, 1998
; var(4):= 508, 951, 1051, 1053, 1057, 1058, -2, 10481, 10621, 2012, 20986, 20996
; var(5):= 509, 952, 956, 1052, 972, 10482, 10622, 2012, 20987, 20997
; var(6):= 274, 290, 501, 507, 509, 513, 930, 940, 950, 952, 955, 956, 963, 1000, 1010, 1050, 1052, 1054, 106025, 106026, 106027, 10284, 10290, 10480, 10482, 10485, 10970, 10601, 10610, 10620, 10622, 20249, 20258, 20259, 20970, 20980, 20981, 20985, 20987, 20990, 20995, 20997
; var(7):= 661, 662, 663, 106025, 106026, 106027, 106028
; var(8):= 20980, 20986
; var(9):= 967
;var(10):= 455, 506, 518, 920, 921, 922, 106032, 1992, 1993, 10484, 2015, 77000, 78000, 77003
;var(11):= 455, 2015
;var(12):= 888
;var(13):= 10971
;var(14):= 77000, 78000, 77001, 78001, 77003
;var(15):= 1998
;var(16):= 501, 513, 1052
;var(17):= 930, 933, 1000, 1005, 1010, 1050, 1052
;var(18):= 1998, 70500
;var(19):= -2, 21615
;var(20):= 70650, 70651, 70652, 70655, 70656, 70657, 570650, 570655, 670650, 670655, 104097, 104098
;var(23):= 60
;var(24):= 70653
;var(30):= -2
;var(35):= -2
;var(36):= -2
;var(39):= -2, 0, 5000, 5001, 5010, 5011, 5020, 5030, 5035, 5040, 5050, 5070, 5071, 5080, 5081, 5100, 5101, 5110, 104099
;var(40):= 105251, 105252, 105253, 105254, -2
;var(46):= -2, 104099, 104000, 104001
;var(48):= -3, -1
;var(49):= -3, -1
;var(50):= -2, -1

;---------------------- Float variable list ----------------------

; fvar(1):= 10610, 10611, 10612, 10613
; fvar(2):= 1992, 1993, 10610, 10612
; fvar(4):= 2012
;fvar(10):= 750, 930, 940, 1000, 10750, 20750, 77000, 78000
;fvar(11):= 77000, 78000
;fvar(12):= 77003
;fvar(13):= 401, 486, 1010, 70653, 60, 10218, 10611, 2012, 20415
;fvar(14):= 401, 486, 1010, 70653, 60, 10218, 10611, 2012, 20415
;fvar(15):= 401, 486, 1010, 70653, 60, 10218, 10611, 2012, 20415
;fvar(16):= 10611
;fvar(17):= 10612
;fvar(18):= 1057



;---------------------------------------------------------------------------
; States that are always executed (use statedef -2)
;---------------------------------------------------------------------------
;vary:
;0 - transformacja
;2 3 - limit sennin
;4 - zycie klona
;5 - kierunek skoku klona
;6 - na³adowanie rasengana
;7 - orioke jutsu nie dla kobiet ;P
;8 - naliczanie dmg rasenrangan
;9 - ilosc klonów do Haren no Jutsu
;10 - mass clone attack - random
;11 - mass clone attack - random
;12 - pozycja klony - random
;13,14,15,16- namierzanie przeciwnika
;17 - Rasenshuriken
;---------------------------------------------------------------------------
; States that are executed when in self's state file (use statedef -3)
;---------------------------------------------------------------------------

[Statedef -2]

;------------------

[State 0, PlaySnd]
type = PlaySnd
trigger1 = random = 999
triggerall = Alive
triggerall = life > 0
triggerall = !matchover
triggerall = !win
triggerall = !lose
triggerall = !drawgame
triggerall = stateno != [170,199]
triggerall = stateno != [5000,5300]
triggerall = stateno != [100000,109999]
value = S2,21+random%25
volume = 256
channel = 2

;SMIERC OSTATECZNA
[State 0, SMIERC OSTATECZNA]
type = ChangeState
triggerall = prevstateno = 5150
triggerall = stateno != 5150
trigger1 = alive = 0
trigger2 = life = 0
value = 5150
ctrl = 0

[State 0, STANIE W POWIETRZU]
type = SelfState
trigger1 = stateno = [0,39]
trigger2 = stateno = 100
triggerall = pos y < 0
value = 50

[State 0, STANIE POD ZIEMIA]
type = PosSet
trigger1 = stateno = [0,39]
trigger2 = stateno = 100
triggerall = pos y > 0
y = 0

[State 0, OGRANICZENIE WYSOKOSCI]
type = PosSet
trigger1 = pos y < -500
y = -500

;----Arena Uchiha-----------

[State 0, PosSet]
type = PosSet
trigger1 = pos y < -300
triggerall = helper(70003), var(10) = 0
triggerall = StageVar(info.name) = "U"
y = -300

;---COMBO KLONY------------

[State 0, ChangeState]
type = ChangeState
triggerall = ishelper(200)
trigger1 = stateno = 0
trigger2 = stateno = [50000,59999]
trigger3 = stateno = [60000,69999]
trigger4 = stateno = [30000,39999]
value = 199

[State 0, VarSet]
type = VarSet
trigger1 = ishelper(200)
v = 50
value = 1

[State 15008, end]
type = changestate
trigger1 = win
trigger2 = lose
trigger3 = root,life = 0
trigger4 = p2life = 0
trigger5 = !root,alive 
triggerall = ishelper(200)
triggerall = stateno != 199
value = 199
ctrl = 1

;---NORMAL KLONY------------

[State 0, ChangeState]
type = ChangeState
triggerall = ishelper(50000)
trigger1 = stateno = 0
trigger2 = stateno = [60000,69999]
trigger3 = stateno = [30000,39999]
value = 50000

[State 0, VarSet]
type = VarSet
trigger1 = ishelper(50000)
v = 0
value = 0

[State 0, VarSet]
type = VarSet
trigger1 = ishelper(50000)
v = 50
value = 1

[State -2, VarAdd]
type = VarAdd
trigger1 = ishelper(50000)
v = 4
value = gethitvar(damage)

[State 15008, end]
type = changestate
trigger1 = win
trigger2 = lose
trigger3 = root,life = 0
trigger4 = p2life = 0
trigger5 = !root,alive 
trigger6 = var(4) >= 50
triggerall = ishelper(50000)
triggerall = stateno != 52223
triggerall = helper(50000), stateno != 52223
value = 52223
ctrl = 1

;---SAGE KLONY------------

[State 0, ChangeState]
type = ChangeState
triggerall = ishelper(60000)
trigger1 = stateno = 0
trigger2 = stateno = [50000,59999]
trigger3 = stateno = [30000,39999]
value = 60000

[State 0, VarSet]
type = VarSet
trigger1 = ishelper(60000)
v = 0
value = 1

[State 0, VarSet]
type = VarSet
trigger1 = ishelper(60000)
v = 50
value = 1

[State -2, VarAdd]
type = VarAdd
trigger1 = ishelper(60000)
v = 4
value = gethitvar(damage)

[State 15008, end]
type = changestate
trigger1 = win
trigger2 = lose
trigger3 = root,life = 0
trigger4 = p2life = 0
trigger5 = !root,alive 
trigger6 = var(4) >= 100
triggerall = ishelper(60000)
triggerall = stateno != 62223
triggerall = helper(60000), stateno != 62223
value = 62223
ctrl = 1

;---KCM KLONY------------

[State 0, ChangeState]
type = ChangeState
triggerall = ishelper(30000)
trigger1 = stateno = 0
trigger2 = stateno = [50000,59999]
trigger3 = stateno = [60000,69999]
value = 30000

[State 0, VarSet]
type = VarSet
trigger1 = ishelper(30000)
v = 0
value = 2

[State 0, VarSet]
type = VarSet
trigger1 = ishelper(30000)
v = 50
value = 1

[State -2, VarAdd]
type = VarAdd
trigger1 = ishelper(30000)
v = 4
value = gethitvar(damage)

[State 15008, end]
type = changestate
trigger1 = win
trigger2 = lose
trigger3 = root,life = 0
trigger4 = p2life = 0
trigger5 = !root,alive 
trigger6 = var(4) >= 50
triggerall = ishelper(30000)
triggerall = stateno != 32223
triggerall = helper(30000), stateno != 32223
value = 32223
ctrl = 1

;ANTI CLONE - CLONE DESTROY -----
[State 0, VarSet]
type = VarSet
trigger1 = !ishelper
v = 39
value = 1

[State 0, DestroySelf]
type = DestroySelf
triggerall = var(39) = 0
trigger1 = stateno = [0,99]
trigger2 = stateno = [5000,5100]
trigger3 = stateno = [100000,199999]
triggerall = !ishelper(200)
triggerall = !ishelper(50000)
triggerall = !ishelper(60000)
triggerall = !ishelper(30000)
;--------------------------------

;Rasengan Pasek

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = stateno != 930
trigger1 = stateno != 940
trigger1 = stateno != 1000
id = 930

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = stateno != 930
trigger1 = stateno != 940
trigger1 = stateno != 1000
id = 931

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = stateno != 1000
id = 932

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = stateno != 930
trigger1 = stateno != 940
id = 20900

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = stateno != 1000
id = 20902

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = stateno != 1010
id = 21011
;--------------------------------



[State 0, Explod]
type = RemoveExplod
trigger1 = stateno != [9335,9337]
trigger2 = stateno != [6015,6017]
triggerall = time = 0
ID = 675

;<<<<<<KYUBI CONTROL>>>>>>>

[State 0, ---KCM---]
type = Helper
trigger1 = var(0) = 2
triggerall = numhelper(2010) = 0
helpertype = normal;player
name = "Aura"
ID =  2010
stateno = 2010
pos = 0,0
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1
size.xscale = 0.85
size.yscale = 0.85
supermovetime = 999999
;pausemovetime = 999999

[State 0, Explod Plomyki]
type = Explod
trigger1 = var(0) = 2 && timemod = 10,0
triggerall = stateno != [20600,20699]
anim = 2003
id = 2003
pos = cond((stateno = 5100 || stateno = 5110 || stateno = 5150), -20+random%35, -18+random%36),cond((stateno = 5100 || stateno = 5110 || stateno = 5150), 5-random%10,cond(statetype = C, -5-random%20, -10-random%30))
postype = p1
accel = 0,-0.05
facing = 1
bindtime = 5
removetime = -2
sprpriority = -1+random%4
scale = 0.5,0.5
ownpal = 1
supermovetime = 9999
pausemovetime = 9999

[State 0, Helper]
type = Helper
trigger1 = var(0) = 2
triggerall = stateno != [20600,20699]
triggerall = numhelper(2011) = 0
helpertype = normal ;player
name = "Tail Create"
ID = 2011
stateno = 2011
pos = 0,0
postype = p1    ;p2,front,back,left,right
facing = 1
ownpal = 1
supermovetime = 9999
pausemovetime = 9999

[State 0, SprPriority]
type = SprPriority
trigger1 = var(0) = 2
value = 1

[State 0, VarSet]
type = VarSet
trigger1 = power <= 5 
triggerall = stateno != [0,169]
triggerall = stateno != [200,1009]
triggerall = stateno != [10200,10999]
triggerall = stateno != [20200,20999]
triggerall = stateno != [20600,20699]
triggerall = var(0) = 2
v = 0
value = 0

[State 0, VarSet]
type = Changestate
trigger1 = power <= 5 
triggerall = stateno = [0,169]
triggerall = stateno != [200,1009]
triggerall = stateno != [10200,10999]
triggerall = stateno != [20200,20999]
triggerall = stateno != [20600,20699]
triggerall = var(0) = 2
value = 2005

;Kurama Mode

[State -2, ParentVarAdd]
type = ParentVarAdd
trigger1 = ishelper(21600)
v = 19
value = gethitvar(damage)

[State 0, LifeSet]
type = LifeSet
trigger1 = stateno = [20600,20699]
value = var(14)-var(19)*0.2;*0.5

;<<<<<<SENNIN MODO>>>>>>>

[State 0, ---SENNIN---]
type = Helper
trigger1 = var(2) > 0
trigger1 = numhelper(1992) = 0
helpertype = normal
name = "Pasek"
ID = 1992         
stateno = 1992
pos = 0,0
postype = p1
facing = 1
keyctrl = 0
ownpal = 1
sprpriority = 0
size.xscale = 1
size.yscale = 1
supermovetime = 9999
pausemovetime = 9999

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = numhelper(1992) = 0
id = 1993

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = numhelper(1992) = 0
id = 1994

;----
;Klon
[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = numhelper(1980) = 0 || helper(1980), stateno != [1981,1982]
id = 1983

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = numhelper(1980) = 0 || helper(1980), stateno != [1981,1982]
id = 1984

;Ladowanie
[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = stateno != [1990,1991]
id = 1991

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = stateno != [1990,1991]
id = 1997

;-----------

[State 0, DefenceMulSet]
type = DefenceMulSet
trigger1 = var(0) = 1
value = 0.75

[State 0, LifeAdd]
type = LifeAdd
trigger1 = timemod = 5,0
triggerall = stateno != [5000,5300]
triggerall = stateno != [100000,109999]
triggerall = var(0) = 1
triggerall = !ishelper
value = 2

[State 0, VarSet]
type = VarSet
trigger1 = var(0) = 1 && var(2) = 0
trigger2 = lose
trigger3 = life = 0
triggerall = stateno != 170
triggerall = stateno != [180,190]
triggerall = stateno != 190
triggerall = stateno != 5900
triggerall = !ishelper
triggerall = var(0) = 1
v = 0
value = 0

[State 0, VarSet]
type = VarSet
trigger1 = var(0) = 0 && var(2) = 600
triggerall = !ishelper
v = 0
value = 1

[State 0, Obnizanie gdy nieaktywny]
type = VarAdd
trigger1 = var(2) > 0
triggerall = timemod = 5,0
triggerall = var(0) != 1
triggerall = stateno != [100000,109999]
triggerall = stateno != 170
triggerall = stateno != [180,190]
triggerall = stateno != 190
triggerall = stateno != 5900
triggerall = var(0) < 2
triggerall = !ishelper
v = 2
value = -1

[State 0, Obnizanie gdy aktywny]
type = VarAdd
trigger1 = var(2) > 0
triggerall = timemod = 3,0
triggerall = var(0) = 1
triggerall = stateno != [100000,109999]
triggerall = stateno != 170
triggerall = stateno != [180,190]
triggerall = stateno != 190
triggerall = stateno != 5900
triggerall = var(0) < 2
triggerall = !ishelper
v = 2
value = -1

[State 0, VarSet]
type = VarSet
trigger1 = var(2) <= 0
trigger2 = lose
trigger3 = life = 0
trigger4 = !ALive
triggerall = !ishelper
v = 2
value = 0

[State 0, VarSet]
type = VarSet
trigger1 = var(2) >= 600
trigger2 = stateno = 0 && prevstateno = 190 && var(0) = 1
triggerall = !ishelper
v = 2
value = 600

;---------------------------

;Pasek klony
[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = stateno != 750
trigger1 = stateno != 10750
trigger1 = stateno != 20750
id = 75501

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = stateno != 750
trigger1 = stateno != 10750
trigger1 = stateno != 20750
id = 75502

;-------------

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = numhelper(823) = 0
id = 824

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = stateno != 851
id = 853

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = stateno != 851
id = 854

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = numhelper(886) = 0
trigger2 = stateno != 884
trigger3 = stateno != 885
id = 891




;>>>>>>>>>>>>Klony<<<<<<<<<<<<<<<<<

[State 0, Zabezpieczenie dla klonów]
type = ChangeState
trigger1 = ishelper(50000) && stateno =0
value = 50000

[State 0, Massive Clone Rasengan Attack]
type = ChangeState
trigger1 = ishelper(50000) && parent,stateno =960
triggerall = stateno != 50843
triggerall = stateno != 50825
value = cond(pos y!=0,20843,20825)

[State 0, harem no Jutsu]
type = ChangeState
trigger1 = ishelper(50000) && parent,stateno =968
trigger2 = ishelper(50000) && parent,stateno =969
triggerall = stateno != 52223
triggerall = stateno != 971
triggerall = stateno != 970
value = 971

[State 0, Rasen Cho Tarengan]
type = ChangeState
trigger1 = ishelper(50000) 
trigger1 = parent,stateno =980
trigger1 = parent,time < 4
triggerall = stateno != 50350
value = 50348


;-------------------

[State -2, Button X]
type = Explod
triggerall = var(50) = 0
triggerall = stateno = 1000 || stateno = 930
trigger1 = command = "x"
trigger2 = (stateno = 1000 || stateno = 930) && time = 5 
triggerall = numexplod(1610) = 0
anim = F1610
ID = 1610
pos = 25,-50
postype = p1
facing = facing
vfacing = 1
;vel = 0,2 
;accel = 0,-0.1
bindtime = -1
removetime = -1
scale = 0.7,0.7
sprpriority = 4
ontop = 0
ownpal = 1
removeongethit = 0
supermovetime = 9999
pausemovetime = 9999

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = stateno != 1000 && stateno != 930
id = 1610

[State -2, Button Y]
type = Explod
triggerall = var(50) = 0
trigger1 = stateno = 482 && p2bodydist x < -20
trigger1 = var(0) = 0
trigger2 = stateno = 483 && time < 28 && p2bodydist x < -20
triggerall = numexplod(1612) = 0
triggerall = power >= cond(var(0) = 0, 1500, 2000)
anim = F1612
ID = 1612
pos = -30,-40
postype = p1
facing = facing
vfacing = 1
;vel = 0,2 
;accel = 0,-0.1
bindtime = -1
removetime = -1
scale = 0.7,0.7
sprpriority = 4
ontop = 0
ownpal = 1
removeongethit = 0
supermovetime = 9999
pausemovetime = 9999

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = stateno != 482 && stateno != 483
id = 1612

;-------------------------------------------------------------------------
;===================[ Liczniki, Okr¹g i Fatality ]========================
;-------------------------------------------------------------------------
[State -2, Arrow Down]
type = Explod
ownpal = 1
trigger1 = stateno = 70850
trigger2 = prevstateno = 70850 && time < 2
triggerall = command = "holddown"
triggerall = numexplod(1600) = 0
anim = F1600
ID = 1600
pos = cond(pos y = 0,12*0.85,7*0.85),cond(pos y = 0,-31*0.85,-36*0.85)
postype = p1
facing = 1
vfacing = 1
vel = 0,2 
accel = 0,-0.1
bindtime = 1
removetime = -2
scale = 0.5,0.5
sprpriority = 4
ontop = 0
ownpal = 1
removeongethit = 0
supermovetime = 9999
pausemovetime = 9999

[State -2, Arrow Up]
type = Explod
ownpal = 1
trigger1 = stateno = 70850
trigger2 = prevstateno = 70850 && time < 2
triggerall = command = "holdup"
triggerall = numexplod(1601) = 0
anim = F1601
ID = 1601
pos = cond(pos y = 0,12*0.85,7*0.85),cond(pos y = 0,-51*0.85,-56*0.85)
postype = p1
facing = 1
vfacing = 1
vel = 0,-2 
accel = 0,0.1
bindtime = 1
removetime = -2
scale = 0.5,0.5
sprpriority = 4
ontop = 0
ownpal = 1
removeongethit = 0
supermovetime = 9999
pausemovetime = 9999

[State -2, Arrow Forward]
type = Explod
ownpal = 1
trigger1 = stateno = 70850
trigger2 = prevstateno = 70850 && time < 2
triggerall = command = "holdfwd"
triggerall = numexplod(1602) = 0
anim = F1602
ID = 1602
pos = cond(pos y = 0,22*0.85,17*0.85),cond(pos y = 0,-41*0.85,-46*0.85)
postype = p1
facing = 1
vfacing = 1
vel = 2,0
accel = -0.1,0
bindtime = 1
removetime = -2
scale = 0.5,0.5
sprpriority = 4
ontop = 0
ownpal = 1
removeongethit = 0
supermovetime = 9999
pausemovetime = 9999

[State -2, Arrow Back]
type = Explod
ownpal = 1
trigger1 = stateno = 70850
trigger2 = prevstateno = 70850 && time < 2
triggerall = command = "holdback"
triggerall = numexplod(1603) = 0
anim = F1603
ID = 1603
pos = cond(pos y = 0,2*0.85,-3*0.85),cond(pos y = 0,-41*0.85,-46*0.85)
postype = p1
facing = 1
vfacing = 1
vel = -2,0
accel = 0.1,0
bindtime = 1
removetime = -2
scale = 0.5,0.5
sprpriority = 4
ontop = 0
ownpal = 1
removeongethit = 0
supermovetime = 9999
pausemovetime = 9999

[State -2, Okr¹g]
type = Helper
trigger1 = numhelper(70300) = 0
trigger1 = alive
helpertype = normal
name = "Okr¹g"
ID = 70300
stateno = 70300
pos = 0,0
postype = p1
facing = 1
ownpal = 1
size.yscale = 0.4

[State -2, Fatality Hit]
type = Helper
trigger1 = !alive && numhelper(70400) = 0
helpertype = normal
name = "Fatality Hit"
ID = 70400
stateno = 70400
pos = 0, 0
postype = p1 ;P2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1
sprpriority = -20
size.xscale = 1
size.yscale = 1
supermovetime = 9999
pausemovetime = 9999

[State -2, Efekty do aren]
type = Helper
triggerall = teamside = 1 || teamside = 2 && numenemy = 0
triggerall = numhelper(70003) = 0
trigger1 = numpartner = 0
trigger2 = partner, ID > ID
trigger3 = teammode = turns && numpartner = 0
helpertype = normal
name = "Efekty do aren"
ID = 70003
stateno = 77003
pos = 0,30
postype = p1
facing = 1
ownpal = 1

[State -2, Licznik Lewa strona]
type = Helper
triggerall = stateno!=5500
triggerall = numenemy != 0
triggerall = teamside = 1
triggerall = numhelper(70000) = 0
trigger1 = numpartner = 0
trigger2 = partner, ID > ID
trigger3 = teammode = turns && numpartner = 0
helpertype = normal
name = "P1 Licznik Lewa strona"
ID = 70000
stateno = 77000
pos = 0,30
postype = p1
facing = 1
ownpal = 1

[State -2, Licznik Lewa strona 2]
type = Helper
triggerall = numenemy != 0
triggerall = teamside = 1
triggerall = numhelper(70001) = 0
trigger1 = numpartner = 1
trigger1 = partner, ID < ID
helpertype = normal
name = "P3 Licznik Lewa strona"
ID = 70001
stateno = 77001
pos = 0,30
postype = p1
facing = 1
ownpal = 1

[State -2, Licznik Prawa strona]
type = Helper
triggerall = stateno!=5500
triggerall = numenemy != 0
triggerall = teamside = 2
triggerall = numhelper(70000) = 0
trigger1 = numpartner = 0
trigger2 = partner, ID > ID
trigger3 = teammode = turns && numpartner = 0
helpertype = normal
name = "P2 Licznik Prawa strona"
ID = 70000
stateno = 78000
pos = 0,30
postype = p1
facing = 1
ownpal = 1

[State -2, Licznik Prawa strona]
type = Helper
triggerall = numenemy != 0
triggerall = teamside = 2
triggerall = numhelper(70001) = 0
trigger1 = numpartner = 1
trigger1 = partner, ID < ID
helpertype = normal
name = "P4 Licznik Prawa strona"
ID = 70001
stateno = 78001
pos = 0,30
postype = p1
facing = 1
ownpal = 1

;-------------------------------------------------------------------------
;==========================[ Vary Wspólne ]===============================
;-------------------------------------------------------------------------

;>>>>>>>>>>>> Byakugan <<<<<<<<<<<<<<<<<
[State 0, PowerSet]
type = PowerSet
trigger1 = power > (PowerMax - enemy, var(34))
value = PowerMax - enemy, var(34)

;>>>>>>>>>>>>>>> Kakashi - Mangekyou Sharingan <<<<<<<<<<<<<<<
[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = alive = 0 && var(36) != 0
flag = invisible

[State 0, VarSet]
type = VarSet
trigger1 = stateno != 100051 && alive = 1
v = 36
value = 0

[State -3]
type = AfterImage
trigger1 = alive = 0 && var(36) != 0
time = 1
length = 1
trans = add


;>>>>>>>>>>>>>>> Kl¹twa Hidana <<<<<<<<<<<<<<<
[State -2, Varset]
type = VarSet
trigger1 = stateno = 5150
var(35) = 0

[State -2, LifeAdd]
type = LifeAdd
trigger1 = var(35) != 0
trigger1 = PlayerID(var(35)),var(0)=1
triggerall = !ishelper
value = -PlayerID(var(35)),var(1)
kill = cond(PlayerID(var(35)),stateno=421 || PlayerID(var(35)),stateno=422 || PlayerID(var(35)),stateno=423 || PlayerID(var(35)),stateno=424 || PlayerID(var(35)),stateno=431 || PlayerID(var(35)),stateno=432 || PlayerID(var(35)),stateno=433 ,1,0)

[State 0, ChangeState]
type = ChangeState
triggerall = var(35) != 0
triggerall = PlayerID(var(35)),var(0)=1
triggerall = !ishelper
trigger1 = PlayerID(var(35)),stateno = [422,429]
trigger1 = PlayerID(var(35)),time < 12
trigger2 = PlayerID(var(35)),stateno = 424
triggerall = PlayerID(var(35)),var(1) != 0
triggerall = stateno != 5050
value = 5050

[State 0, explode]
type = Explod
ownpal = 1
triggerall = var(35) != 0
triggerall = PlayerID(var(35)),stateno = 421
trigger1 = PlayerID(var(35)),time = 5
trigger2 = PlayerID(var(35)),time = 7
anim = F10+random%1
angle = -25+random%50
ID = 4004
pos = cond(statetype != L,10,8),cond(statetype != L,-28,5)
postype = p1
bindtime = 1
removetime = -2
supermovetime = 9999
pausemovetime = 9999
scale = 0.5,0.5
sprpriority = 3
ownpal = 1
ontop = 0

[State 0, explode]
type = Explod
ownpal = 1
triggerall = var(35) != 0
triggerall = PlayerID(var(35)),stateno = 422
trigger1 = PlayerID(var(35)),time = 5
trigger2 = PlayerID(var(35)),time = 7
anim = F10+random%2
angle = -25+random%50
ID = 4004
pos = cond(statetype != L,7,15),cond(statetype != L,-15,-10)
postype = p1
bindtime = 1
removetime = -2
supermovetime = 9999
pausemovetime = 9999
scale = 0.7,0.7
sprpriority = 3
ownpal = 1
ontop = 0

[State 0, explode]
type = Explod
ownpal = 1
triggerall = var(35) != 0
triggerall = PlayerID(var(35)),stateno = 423
trigger1 = PlayerID(var(35)),time = 5
trigger2 = PlayerID(var(35)),time = 7
anim = F11+random%1
angle = -25+random%50
ID = 4004
pos = cond(statetype != L,5,0),cond(statetype != L,-32,-10)
postype = p1
bindtime = 1
removetime = -2
supermovetime = 9999
pausemovetime = 9999
scale = 1,1
sprpriority = 3
ownpal = 1
ontop = 0

[State 0, explode]
type = Explod
ownpal = 1
triggerall = var(35) != 0
triggerall = PlayerID(var(35)),stateno = 431
trigger1 = PlayerID(var(35)),time = 6
anim = F10+random%1
angle = -25+random%50
ID = 4004
pos = cond(statetype != L,10,8),cond(statetype != L,-28,5)
postype = p1
bindtime = 1
removetime = -2
supermovetime = 9999
pausemovetime = 9999
scale = 0.4,0.4
sprpriority = 3
ownpal = 1
ontop = 0

[State 0, explode]
type = Explod
ownpal = 1
triggerall = var(35) != 0
triggerall = PlayerID(var(35)),stateno = 432
trigger1 = PlayerID(var(35)),time = 6
anim = F10+random%2
angle = -25+random%50
ID = 4004
pos = cond(statetype != L,7,15),cond(statetype != L,-15,-10)
postype = p1
bindtime = 1
removetime = -2
supermovetime = 9999
pausemovetime = 9999
scale = 0.5,0.5
sprpriority = 3
ownpal = 1
ontop = 0

[State 0, explode]
type = Explod
ownpal = 1
triggerall = var(35) != 0
triggerall = PlayerID(var(35)),stateno = 433
trigger1 = PlayerID(var(35)),time = 6
anim = F11+random%1
angle = -25+random%50
ID = 4004
pos = cond(statetype != L,5,0),cond(statetype != L,-32,-10)
postype = p1
bindtime = 1
removetime = -2
supermovetime = 9999
pausemovetime = 9999
scale = 0.6,0.6
sprpriority = 3
ownpal = 1
ontop = 0

[State 0, explode]
type = Explod
ownpal = 1
triggerall = var(35) != 0
trigger1 = PlayerID(var(35)),stateno = 424
trigger1 = PlayerID(var(35)),time = 125
anim = F1500
ID = 4004
pos = 0,-30
postype = p1
bindtime = 1
removetime = 25
supermovetime = 9999
pausemovetime = 9999
scale = 0.5,0.5
sprpriority = 6
ownpal = 1
ontop = 0

;>>>>>>>>>>>>>>> Koto Amatsukami <<<<<<<<<<<<<<<
[State 0, CtrlSet]
type = CtrlSet
trigger1 = enemy, var(45) != 0
value = 0

;>>>>>>>>>>>>>>> Pieczec Danzo <<<<<<<<<<<<<<<
[State -2, Varset]
type = VarSet
trigger1 = stateno = 5150
var(40) = 0

[State 0, ChangeState]
type = ChangeState
triggerall = var(40) != 0
triggerall = !ishelper
trigger1 = PlayerID(var(40)),stateno = 630
triggerall = PlayerID(var(40)),var(3) = 2
triggerall = stateno != 5050
value = 105250

;>>>>>>>>>>>>>>> Kagemane Shikamaru <<<<<<<<<<<<<<<
[State 0, CtrlSet]
type = CtrlSet
trigger1 = var(46) = 1
value = 0

[State 0, VarSet]
type = VarSet
trigger1 = enemy, name = "Shikamaru"
trigger1 = enemy, var(10) = 0
trigger1 = var(46) = 1
v = 46
value = 0

[State 0, Changestate]
type = Changestate
trigger1 = var(46) = 1 && (stateno = 0|| stateno = 12 || stateno = 20 || stateno = 52 || stateno = [98,104])
value = 104000

[State 0, Changestate]
type = Changestate
trigger1 = var(46) = 1 && stateno = [10,11]
trigger2 = var(46) = 1 && stateno = 5120
value = 104002

[State 0, Changestate]
type = Changestate
trigger1 = var(46) = 1 && stateno = [40,59]
value = 104008

[State 0, Selfstate]
type = Selfstate
trigger1 = var(46) = 0 && stateno = [104000,104099]
trigger1 = enemy, name = "Shikamaru"
trigger1 = enemy, var(10) = 0
value = cond(pos y = 0,0,50)
ctrl = 1

;>>>>>>>>>>>>>>> Kankuro, Sasori Poison <<<<<<<<<<<<<<<
[State 0, VarAdd]
type = VarAdd
trigger1 = var(30) !=0 && gametime%4 = 0
v = 30
value = -1

[State 0, PalFXWiz]
type = PalFX
trigger1 = var(30) != 0
trigger1 = gametime%18 = 0
trigger1 = !ishelper
time = 18
add = 100,0,100
mul = 220,120,224
sinadd = 80,50,80,18
invertall = 0
color = 256

[State 0, LifeAdd]
type = LifeAdd
trigger1 = gametime%4 = 0
trigger1 = var(30) != 0
trigger1 = !ishelper
value = -1
kill = 0

[State 0, Trucizna]
type = Explod
trigger1 = var(30) > 0
triggerall = stateno != 5500
triggerall = numenemy != 0
triggerall = numexplod(1916) = 0
trigger1 = !ishelper
anim = F1916
ID = 1916
pos = 0*facing,cond(stateno = 5110,-25,cond(statetype = C,-50,-70))
postype = p1
facing = cond(facing = 1,1,-1)
bindtime = -1
removetime = -1
sprpriority = 4
scale = 0.6,0.6
ownpal = 1
ontop = 1
supermovetime = 9999
pausemovetime = 9999

[State 0, Trucizna]
type = ModifyExplod
trigger1 = var(30) > 0
triggerall = numexplod(1916) = 1
trigger1 = !ishelper
ID = 1916
pos = 0*facing,cond(stateno = 5110,-25,cond(statetype = C,-50,-70))
postype = p1
facing = cond(facing = 1,1,-1)
bindtime = -1
removetime = -1
sprpriority = 4
scale = 0.6,0.6
ownpal = 1
ontop = 1
supermovetime = 9999
pausemovetime = 9999

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = var(30) = 0
trigger1 = !ishelper
ID = 1916

;>>>>>>>>>>>>>>> Var Katon <<<<<<<<<<<<<<<

[State 0, - Katon - ]
type = VarAdd
triggerall = var(51) > 0
trigger1 = stateno = [0,199]
trigger2 = stateno = [5000,5299]
v = 51
value = -1

[State 0, VarSet]
type = VarSet
trigger1 = var(51) <= 0
trigger2 = var(53) != 0
trigger3 = ishelper
trigger4 = stateno = [170,194]
trigger5 = stateno = 5150
triggerall = stateno != [109910,109919]
v = 51
value = 0

;~~ Debuff ~~

[State 0, LifeAdd]
type = LifeAdd
trigger1 = timemod = 3,0
triggerall = var(51) > 0
triggerall = var(53) = 0
triggerall = var(54) = 0
value = -1
kill = 1


;~~ Efekty ~~

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time > 0 && timemod = 30,0
triggerall = var(51) > 0
triggerall = var(53) = 0
value = F10,4

[State 0, PalFX]
type = PalFX
trigger1 = time > 0 && timemod = 5,0
triggerall = var(51) > 0
triggerall = var(53) = 0
triggerall = var(0) < 2
time = 10
add = 240,50,0
mul = 250,224,120
sinadd = 110,55,85,10
invertall = 0
color = 256

[State 0, Explod]
type = Explod
trigger1 = time > 0 && timemod = 5,0
triggerall = var(51) > 0
triggerall = var(53) = 0
triggerall = var(54) = 0
anim = F1402
pos = cond((statetype = L || stateno = 5110 || stateno = 5150),-20+random%40,-10+random%20),cond((statetype = L || stateno = 5110 || stateno = 5150),5-random%15,cond(statetype = C,-10-random%20,-20-random%30))
postype = p1
facing = 1
bindtime = 10
removetime = -2
sprpriority = cond(var(0) >= 2, 3+random%2,-2+random%5)
scale = 1,1
ownpal = 1
ontop = 0
supermovetime = 9999
pausemovetime = 9999

;~~ Ikonka ~~

[State 0, Ikonka]
type = Explod
trigger1 = numexplod(1901) = 0
triggerall = stateno != 5500
triggerall = numenemy != 0
triggerall = var(51) > 0
triggerall = var(53) = 0
anim = F1901
ID = 1901
pos = 0,cond(stateno = 5110,0,cond(statetype = C,-15,-30))
postype = p1
facing = 1
bindtime = 2
removetime = -2
sprpriority = 10
accel = 0*facing,-0.04
scale = 0.4,0.4
ownpal = 1
ontop = 1
supermovetime = 9999
pausemovetime = 9999

;Polaczony z Futonem
[State 0, Katon + Futon]
type = LifeAdd
trigger1 = timemod = 4,0
triggerall = var(51) > 0
triggerall = var(54) != 0
value = -3
kill = 1

[State 0, Explod]
type = Explod
trigger1 = time > 0 && timemod = 5,0
triggerall = var(51) > 0
triggerall = var(54) != 0
anim = F1402
pos = cond((statetype = L || stateno = 5110 || stateno = 5150),-20+random%40,-10+random%20),cond((statetype = L || stateno = 5110 || stateno = 5150),5-random%15,cond(statetype = C,-10-random%20,-20-random%30))
postype = p1
facing = 1
bindtime = 10
removetime = -2
sprpriority = cond(var(0) >= 2, 3+random%2,-2+random%5)
scale = 1.6,1.6
ownpal = 1
ontop = 0
supermovetime = 9999
pausemovetime = 9999

;>>>>>>>>>>>>>>> Var Raiton <<<<<<<<<<<<<<<

[State 0, - Raiton - ]
type = VarAdd
triggerall = var(52) > 0
trigger1 = stateno = [0,199]
trigger2 = stateno = [5000,5299]
v = 52
value = -1

[State 0, VarSet]
type = VarSet
trigger1 = var(52) <= 0
trigger2 = var(54) != 0
trigger3 = ishelper
trigger4 = stateno = [170,194]
trigger5 = stateno = 5150
triggerall = stateno != [109920,109929]
v = 52
value = 0

;~~ Debuff ~~

[State 0, ChangeState]
type = ChangeState
triggerall = var(52) = 100 || var(52) = 200 || var(52) = 300 || var(52) = 400 || var(52) = 500
triggerall = var(52) != 0
triggerall = !ishelper
trigger1 = stateno = [0,199]
trigger2 = stateno = 70500+var(0)*1000 
triggerall = stateno != [10000,199999]
triggerall = stateno != [170,194]
value = 109929

;~~ Efekty ~~

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time > 0 && timemod = 30,0
triggerall = var(52) > 0
triggerall = var(54) = 0
value = F11,3

[State 0, Explod]
type = Explod
trigger1 = time > 0 && timemod = 5,0
triggerall = var(52) > 0
triggerall = var(53) = 0
triggerall = var(54) = 0
anim = F1300+random%3
angle = random
pos = cond((statetype = L || stateno = 5110 || stateno = 5150),-20+random%40,-10+random%20),cond((statetype = L || stateno = 5110 || stateno = 5150),5-random%15,cond(statetype = C,-10-random%20,-20-random%30))
postype = p1
facing = 1
bindtime = 5
removetime = -2
sprpriority = cond(var(0) >= 2, 3+random%2,-2+random%5)
scale = 0.25,0.25
ownpal = 1
ontop = 0
supermovetime = 9999
pausemovetime = 9999

;~~ Ikonka ~~

[State 0, Ikonka]
type = Explod
trigger1 = numexplod(1902) = 0
triggerall = stateno != 5500
triggerall = numenemy != 0
triggerall = var(52) > 0
triggerall = var(54) = 0
anim = F1902
ID = 1902
pos = 0,cond(stateno = 5110,0,cond(statetype = C,-15,-30))
postype = p1
facing = 1
bindtime = 2
removetime = -2
sprpriority = 10
accel = 0.02*facing,0.03
scale = 0.4,0.4
ownpal = 1
ontop = 1
supermovetime = 9999
pausemovetime = 9999

;Polaczony z Suitonem
[State 0, Raiton + Suiton]
type = LifeAdd
trigger1 = timemod = 3,0
triggerall = var(52) > 0
triggerall = var(53) != 0
value = -1
kill = 1

[State 0, PalFX]
type = PalFX
trigger1 = timemod = 5,0
triggerall = var(52) > 0
triggerall = var(53) != 0
triggerall = var(0) < 2
time = 10
add = 50,50,200
mul = 100,200,200
sinadd = 150,150,300,4
invertall = 0
color = 256

[State 0, Explod]
type = Explod
trigger1 = time > 0 && timemod = 3,0
triggerall = var(52) > 0
triggerall = var(53) != 0
anim = F1300+random%3
angle = random
pos = cond((statetype = L || stateno = 5110 || stateno = 5150),-20+random%40,-10+random%20),cond((statetype = L || stateno = 5110 || stateno = 5150),5-random%15,cond(statetype = C,-10-random%20,-20-random%30))
postype = p1
facing = 1
bindtime = 5
removetime = -2
sprpriority = cond(var(0) >= 2, 3+random%2,-2+random%5)
scale = 0.4,0.4
ownpal = 1
ontop = 0
supermovetime = 9999
pausemovetime = 9999

;>>>>>>>>>>>>>>> Var Suiton <<<<<<<<<<<<<<<

[State 0, - Suiton - ]
type = VarAdd
triggerall = var(53) > 0
trigger1 = stateno = [0,199]
trigger2 = stateno = [5000,5299]
v = 53
value = -1

[State 0, VarSet]
type = VarSet
trigger1 = var(53) <= 0
trigger2 = var(55) != 0
trigger3 = ishelper
trigger4 = stateno = [170,194]
trigger5 = stateno = 5150
triggerall = stateno != [109930,109939]
v = 53
value = 0

;~~ Debuff ~~

[State 0, Atk Break]
type = Explod
trigger1 = var(53) > 0
triggerall = stateno != 5500
triggerall = numenemy != 0
triggerall = numexplod(1910) = 0
anim = F1910
ID = 1910
pos = -10*facing,10
postype = p1
facing = cond(facing = 1,1,-1)
bindtime = -1
removetime = -1
sprpriority = 4
scale = 0.6,0.6
ownpal = 1
ontop = 1
supermovetime = 9999
pausemovetime = 9999

[State 0, Atk Break]
type = ModifyExplod
trigger1 = var(53) > 0
triggerall = numexplod(1910) = 1
ID = 1910
pos = -10*facing,10
postype = p1
facing = cond(facing = 1,1,-1)
bindtime = -1
removetime = -1
sprpriority = 4
scale = 0.6,0.6
ownpal = 1
ontop = 1
supermovetime = 9999
pausemovetime = 9999

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = var(53) = 0
ID = 1910

[State 0, AttackMulSet]
type = AttackMulSet
trigger1 = var(53) = 0
value = 1

[State 0, AttackMulSet]
type = AttackMulSet
trigger1 = var(53) > 0
value = 0.6


;~~ Efekty ~~

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time > 0 && timemod = 30,0
triggerall = var(53) > 0
triggerall = var(55) = 0
value = F12,0

[State 0, Explod]
type = Explod
trigger1 = time > 0 && timemod = 10,0
triggerall = var(53) > 0
triggerall = var(55) = 0
anim = F1550
angle = random
pos = cond((statetype = L || stateno = 5110 || stateno = 5150),-20+random%40,-10+random%20),cond((statetype = L || stateno = 5110 || stateno = 5150),5-random%15,cond(statetype = C,-10-random%20,-20-random%30))
postype = p1
facing = 1
bindtime = 10
removetime = -2
sprpriority = cond(var(0) >= 2, 3+random%2,-2+random%5)
scale = 0.4,0.4
ownpal = 1
ontop = 0
supermovetime = 9999
pausemovetime = 9999

;~~ Ikonka ~~

[State 0, Ikonka]
type = Explod
trigger1 = numexplod(1903) = 0
triggerall = stateno != 5500
triggerall = numenemy != 0
triggerall = var(53) > 0
triggerall = var(55) = 0
anim = F1903
ID = 1903
pos = 0,cond(stateno = 5110,0,cond(statetype = C,-15,-30))
postype = p1
facing = 1
bindtime = 2
removetime = -2
sprpriority = 10
accel = -0.03*facing,-0.02
scale = 0.4,0.4
ownpal = 1
ontop = 1
supermovetime = 9999
pausemovetime = 9999

;>>>>>>>>>>>>>>> Var Fuuton <<<<<<<<<<<<<<<

[State 0, - Fuuton - ]
type = VarAdd
triggerall = var(54) > 0
trigger1 = stateno = [0,199]
trigger2 = stateno = [5000,5299]
v = 54
value = -1

[State 0, VarSet]
type = VarSet
trigger1 = var(54) <= 0
;trigger2 = var(51) != 0
trigger2 = ishelper
trigger3 = stateno = [170,194]
trigger4 = stateno = 5150
triggerall = stateno != [109940,109949]
v = 54
value = 0

;~~ Debuff ~~

[State 0, Def Break]
type = Explod
trigger1 = var(54) > 0
triggerall = stateno != 5500
triggerall = numenemy != 0
triggerall = numexplod(1912) = 0
anim = F1912
ID = 1912
pos = 10*facing,10
postype = p1
facing = cond(facing = 1,1,-1)
bindtime = -1
removetime = -1
sprpriority = 4
scale = 0.6,0.6
ownpal = 1
ontop = 1
supermovetime = 9999
pausemovetime = 9999

[State 0, Def Break]
type = ModifyExplod
trigger1 = var(54) > 0
triggerall = numexplod(1912) = 1
ID = 1912
pos = 10*facing,10
postype = p1
facing = cond(facing = 1,1,-1)
bindtime = -1
removetime = -1
sprpriority = 4
scale = 0.6,0.6
ownpal = 1
ontop = 1
supermovetime = 9999
pausemovetime = 9999

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = var(54) = 0
ID = 1912

[State 0, DefenceMulSet]
type = DefenceMulSet
trigger1 = var(54) = 0
value = 1

[State 0, DefenceMulSet]
type = DefenceMulSet
trigger1 = var(54) > 0
value = 1.25

;~~ Efekty ~~

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time > 0 && timemod = 40,0
triggerall = var(54) > 0
;triggerall = var(51) = 0
value = F14,6

[State 0, Explod]
type = Explod
trigger1 = time > 0 &&  timemod = 10,0
triggerall = var(54) > 0
;triggerall = var(51) = 0
anim = F643
angle = random
pos = cond((statetype = L || stateno = 5110 || stateno = 5150),-20+random%40,-10+random%20),cond((statetype = L || stateno = 5110 || stateno = 5150),5-random%15,cond(statetype = C,-10-random%20,-20-random%30))
postype = p1
facing = 1
bindtime = 10
removetime = -2
sprpriority = cond(var(0) >= 2, 3+random%2,-2+random%5)
scale = 0.4,0.4
ownpal = 1
ontop = 0
supermovetime = 9999
pausemovetime = 9999

;~~ Ikonka ~~

[State 0, Ikonka]
type = Explod
trigger1 = numexplod(1904) = 0
triggerall = stateno != 5500
triggerall = numenemy != 0
triggerall = var(54) > 0
;triggerall = var(51) = 0
anim = F1904
ID = 1904
pos = 0,cond(stateno = 5110,0,cond(statetype = C,-15,-30))
postype = p1
facing = 1
bindtime = 2
removetime = -2
sprpriority = 10
accel = 0.03*facing,-0.02
scale = 0.4,0.4
ownpal = 1
ontop = 1
supermovetime = 9999
pausemovetime = 9999

;>>>>>>>>>>>>>>> Var Doton <<<<<<<<<<<<<<<
[State 0, - Doton - ]
type = VarAdd
triggerall = var(55) > 0
trigger1 = stateno = [0,199]
trigger2 = stateno = [5000,5299]
v = 55
value = -1

[State 0, VarSet]
type = VarSet
trigger1 = var(55) <= 0
trigger2 = var(52) != 0
trigger3 = ishelper
trigger4 = stateno = [170,194]
trigger5 = stateno = 5150
triggerall = stateno != [109950,109959]
v = 55
value = 0

;~~ Debuff ~~

[State 0, Slow]
type = Explod
trigger1 = var(55) > 0
triggerall = stateno != 5500
triggerall = numenemy != 0
triggerall = numexplod(1914) = 0
anim = F1914
ID = 1914
pos = -10*facing,10
postype = p1
facing = cond(facing = 1,1,-1)
bindtime = -1
removetime = -1
sprpriority = 4
scale = 0.6,0.6
ownpal = 1
ontop = 1
supermovetime = 9999
pausemovetime = 9999

[State 0, Slow]
type = ModifyExplod
trigger1 = var(55) > 0
triggerall = numexplod(1910) = 1
ID = 1910
pos = -10*facing,10
postype = p1
facing = cond(facing = 1,1,-1)
bindtime = -1
removetime = -1
sprpriority = 4
scale = 0.6,0.6
ownpal = 1
ontop = 1
supermovetime = 9999
pausemovetime = 9999

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = var(55) = 0
ID = 1914

[State 0, SelfState]
type = SelfState
trigger1 = var(55) != 0
trigger1 = stateno = 45 || stateno = 60
value = 50
ctrl = 1

[State 0, VelAdd]
type = VelAdd
trigger1 = var(55) != 0
trigger1 = stateno = 50
y = -(const(velocity.jump.y))/20

[State 0, SelfState]
type = SelfState
trigger1 = var(55) != 0
trigger1 = stateno = 100 || stateno = 101
value = 20
ctrl = 1

[State 0, SelfState]
type = SelfState
trigger1 = var(55) != 0
trigger1 = stateno = 102 || stateno = 103
value = 11
ctrl = 1

[State 0, SelfState]
type = SelfState
trigger1 = var(55) != 0
trigger1 = stateno = 105
value = 0
ctrl = 1

[State 0, SelfState]
type = SelfState
trigger1 = var(55) != 0
trigger1 = stateno = 70600
value = 0
ctrl = 1

;~~ Efekty ~~

[State 0, PalFX]
type = PalFX
trigger1 = timemod = 5,0
triggerall = var(55) > 0
triggerall = var(52) = 0
triggerall = var(0) < 2
time = 10
add = 25,20,5
mul = 196,186,166
sinadd = 0,0,0,1
invertall = 0
color = 256

;~~ Ikonka ~~

[State 0, Ikonka]
type = Explod
trigger1 = numexplod(1905) = 0
triggerall = stateno != 5500
triggerall = numenemy != 0
triggerall = var(55) > 0
triggerall = var(52) = 0
anim = F1905
ID = 1905
pos = 0,cond(stateno = 5110,0,cond(statetype = C,-15,-30))
postype = p1
facing = 1
bindtime = 2
removetime = -2
sprpriority = 10
accel = -0.02*facing,0.03
scale = 0.4,0.4
ownpal = 1
ontop = 1
supermovetime = 9999
pausemovetime = 9999

;>>>>>>>>>>>>>>> Var Czarne Plomienie <<<<<<<<<<<<<<<
[State 0, - Amaterasu - ]
type = VarAdd
triggerall = var(56) > 0
trigger1 = stateno = [0,199]
trigger2 = stateno = [5000,5299]
v = 56
value = -1

[State 0, VarSet]
type = VarSet
trigger1 = var(56) <= 0
trigger2 = ishelper
trigger3 = stateno = [170,194]
trigger4 = stateno = 5150
triggerall = stateno != [109960,109969]
v = 56
value = 0

;~~ Debuff ~~

[State 0, LifeAdd]
type = LifeAdd
trigger1 = timemod = 3,0
triggerall = var(56) > 0
value = -2
kill = 1

;~~ Efekty ~~

[State 0, PlaySnd]
type = PlaySnd
trigger1 = timemod = 20,0
triggerall = var(56) > 0
value = F10,2

[State 0, PalFX]
type = PalFX
trigger1 = timemod = 5,0
triggerall = var(56) > 0
triggerall = var(0) < 2
time = 10
add = -60,-80,-50
mul = 90,20,120
sinadd = 40,20,50,5
invertall = 0
color = 256

[State 0, Explod]
type = Explod
trigger1 = timemod = 3,0
triggerall = var(56) > 0
anim = F1700
pos = cond((statetype = L || stateno = 5110 || stateno = 5150),-20+random%40,-10+random%20),cond((statetype = L || stateno = 5110 || stateno = 5150),5-random%15,cond(statetype = C,-10-random%20,-10-random%40))
postype = p1
facing = 1
angle = -20+random%40
bindtime = 10
removetime = -2
sprpriority = cond(var(0) >= 2, 3+random%2,-2+random%5)
scale = 1,1;0.35,0.35
vel = 0,-1-random%2
accel = 0,0.05
ownpal = 1
ontop = 0
supermovetime = 9999
pausemovetime = 9999

;>>>>>>>>>>>>>>> Var Kuroi Kaminari <<<<<<<<<<<<<<<
[State 0, - Kuroi Kaminari - ]
type = VarAdd
triggerall = var(57) > 0
trigger1 = stateno = [0,199]
trigger2 = stateno = [5000,5299]
v = 57
value = -1

[State 0, VarSet]
type = VarSet
trigger1 = var(57) <= 0
trigger2 = ishelper
trigger3 = stateno = [170,194]
trigger4 = stateno = 5150
triggerall = stateno != [109970,109979]
v = 57
value = 0

;~~ Debuff ~~

[State 0, ChangeState]
type = ChangeState
triggerall = timemod = 100,0
triggerall = var(57) != 0
triggerall = !ishelper
trigger1 = stateno = [0,199]
trigger2 = stateno = 70500+var(0)*1000 
;trigger3 = stateno = [5000,5299]
triggerall = stateno != [10000,199999]
triggerall = stateno != [170,194]
value = 109979

;~~ Efekty ~~

[State 0, PlaySnd]
type = PlaySnd
trigger1 = timemod = 30,0
triggerall = var(57) > 0
value = F11,3

[State 0, Explod]
type = Explod
trigger1 = timemod = 5,0
triggerall = var(57) > 0
anim = F1701+random%3
angle = random
pos = cond((statetype = L || stateno = 5110 || stateno = 5150),-20+random%40,-10+random%20),cond((statetype = L || stateno = 5110 || stateno = 5150),5-random%15,cond(statetype = C,-10-random%20,-20-random%30))
postype = p1
facing = 1
bindtime = 5
removetime = -2
sprpriority = cond(var(0) >= 2, 3+random%2,-2+random%5)
scale = 0.6,0.6
ownpal = 1
ontop = 0
supermovetime = 9999
pausemovetime = 9999

;-------------------------

;--------------------------------------------------
[Statedef -3]

;BUNSHIN

[State -1, BUNSHIN AI]
type = VarSet
trigger1 = ishelper(200) || ishelper(50000) || ishelper(60000) || ishelper(30000)
v = 49
value = ((Root,Life/100)+(Root,Power/100)+30+MatchNo)/5

[State -1, Exhaust +]
type = VarAdd
trigger1 = 1
triggerall = stateno = [50200,50299]
trigger1 = movecontact
triggerall = ishelper(50000)
v = 48
value = 20

[State -1, Exhaust -]
type = VarAdd
trigger1 = 1
triggerall = stateno != [50200,50299]
triggerall = var(48) > 0
triggerall = ishelper(50000)
v = 48
value = -5-var(48)/100

[State -1, Exhaust]
type = VarSet
triggerall = var(48) > 500
trigger1 = stateno = [50200,50299]
trigger2 = prevstateno = [50200,50299]
triggerall = ishelper(50000)
v = 48   
value = 500

[State -1, Exhaust +]
type = VarAdd
trigger1 = 1
triggerall = stateno = [60200,60299]
trigger1 = movecontact
triggerall = ishelper(60000)
v = 48
value = 20

[State -1, Exhaust -]
type = VarAdd
trigger1 = 1
triggerall = stateno != [60200,60299]
triggerall = var(48) > 0
triggerall = ishelper(60000)
v = 48
value = -5-var(48)/100

[State -1, Exhaust]
type = VarSet
triggerall = var(48) > 500
trigger1 = stateno = [60200,60299]
trigger2 = prevstateno = [60200,60299]
triggerall = ishelper(60000)
v = 48   
value = 500

[State -1, Exhaust +]
type = VarAdd
trigger1 = 1
triggerall = stateno = [30200,30299]
trigger1 = movecontact
triggerall = ishelper(30000)
v = 48
value = 20

[State -1, Exhaust -]
type = VarAdd
trigger1 = 1
triggerall = stateno != [30200,30299]
triggerall = var(48) > 0
triggerall = ishelper(30000)
v = 48
value = -5-var(48)/100

[State -1, Exhaust]
type = VarSet
triggerall = var(48) > 500
trigger1 = stateno = [30200,30299]
trigger2 = prevstateno = [30200,30299]
triggerall = ishelper(30000)
v = 48   
value = 500

;--------------------------------

[State -3, PowerAdd]
type = PowerAdd
triggerall = prevstateno != 190+var(0)*10000 
triggerall = stateno = [0,199]
triggerall = stateno != 70500+var(0)*1000 
triggerall = stateno != [5000,5299]
triggerall = stateno != [10000,199999]
triggerall = timemod = 20,0
trigger1 = !ishelper
value = 6

;KCM
[State -3, PowerAdd]
type = PowerAdd
trigger1 = var(0) = 2
trigger1 = timemod = 5,0
triggerall = stateno != [2000,2009]
triggerall = stateno != [10000,199999]
triggerall = stateno != 70850
triggerall = stateno != [20600,20699]
triggerall = prevstateno != [190,194]
triggerall = prevstateno != 5900
value = -3

[State -3, Afterimage normal]
type = AfterImage
triggerall = var(0) = 0
trigger1 = time = 0
time = 1

[State -3, Sennin]
type = AfterImage
triggerall = var(0) = 1
trigger1 = time = 0
time = -1
length = 7
palcolor = 256
palinvertall = 0
palbright = 0,0,0
palcontrast = 140,160,50
palpostbright = 0,0,0
paladd = 4,5,2
palmul = .55,.65,.15
timegap = 1
framegap = 1
trans = add

[State -3, KCM]
type = AfterImage
triggerall = var(0) = 2
trigger1 = time = 0
time = -1
length = 10
palcolor = 256
palinvertall = 0
palbright = 0,0,0
palcontrast = 256,230,200
palpostbright = 0,0,0
paladd = 5,4,3
palmul = .60,.50,.40
timegap = 1
framegap = 1
trans = add
